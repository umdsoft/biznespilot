import{r as B}from"./chunk-BVrjkT6E.js";import{_ as A}from"./chunk-CBVhF47S.js";import{r as F}from"./chunk-qku2UxUN.js";import{r as h}from"./chunk-D59q4lxq.js";import{r as K}from"./chunk-CmNfLjGq.js";import{r as $}from"./chunk-D5sR6A8B.js";import{v as p,x as z,z as t,C as i,F as s,G as g,I as c,B as l,H as a,D as m,M as H,E as u,S}from"./chunk-KPSVwAyv.js";import"./chunk-DMP3tXW5.js";import"./app-Bx12lrZQ.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-Dfha1x8d.js";import"./chunk-BgOPVSvg.js";import"./chunk-CYw1XsNK.js";import"./chunk-Dems4pAU.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-CYZ54WJE.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";const V={class:"mb-8"},I={class:"flex items-center justify-between flex-wrap gap-4"},T={class:"flex gap-3"},P=["onClick"],L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},O={class:"flex items-center justify-between mb-4"},R={class:l(["w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"])},D={class:"flex items-baseline gap-1"},N={class:"text-3xl font-bold"},G={class:"text-lg opacity-75"},E={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},J={class:"lg:col-span-2 space-y-6"},U={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},q={class:"flex items-end justify-between gap-4"},Y={class:"relative"},Z={class:"absolute inset-0 flex items-center justify-center"},Q={key:0,class:"absolute -right-2 top-1/2 transform -translate-y-1/2 text-gray-400"},W={class:"mt-3 text-sm font-medium text-gray-600 dark:text-gray-400"},X={key:0,class:"text-xs text-gray-500"},tt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},et={class:"grid grid-cols-2 gap-6"},rt={class:"text-2xl font-bold text-gray-900 dark:text-white"},ot={class:"text-2xl font-bold text-green-600 dark:text-green-400"},at={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},st={class:"flex items-center justify-between"},nt={class:"space-y-6"},it={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},lt={class:"divide-y divide-gray-100 dark:divide-gray-700"},dt={class:"flex items-center justify-between mb-2"},gt={class:"font-medium text-gray-900 dark:text-white text-sm truncate max-w-[180px]"},ct={class:"flex items-center justify-between text-xs text-gray-500"},mt={key:0,class:"px-6 py-8 text-center text-gray-500"},xt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},ut={class:"p-4 space-y-3"},bt={class:"flex-1 min-w-0"},yt={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},ht={class:"flex items-center gap-2 text-xs text-gray-500"},pt={class:"text-right"},kt={key:0,class:"py-4 text-center text-gray-500 text-sm"},Nt={__name:"Dashboard",props:{kpiCards:Array,overview:Object,funnel:Array,topCampaigns:Array,channelPerformance:Array,snapshots:Array,periodType:String,panelType:String},setup(n){const x=n,k=[{key:"daily",label:"Kunlik"},{key:"weekly",label:"Haftalik"},{key:"monthly",label:"Oylik"}],f=o=>{B.get("/marketing/kpi",{period:o},{preserveState:!0,preserveScroll:!0})},v=o=>({CPL:$,ROAS:K,ROI:h,CAC:F})[o]||h,y=o=>o?o>=1e6?(o/1e6).toFixed(1)+"M":o>=1e3?(o/1e3).toFixed(1)+"K":o.toString():"0",b=o=>o?o>=1e6?(o/1e6).toFixed(1)+" mln":new Intl.NumberFormat("uz-UZ").format(o)+" so'm":"0 so'm",w=o=>{const r=Math.max(...x.funnel.map(M=>M.count),1);return Math.max(60,o/r*180)},_=o=>o===0||!x.funnel[o-1]?.count?0:(x.funnel[o].count/x.funnel[o-1].count*100).toFixed(1),C=o=>{const r={instagram:"bg-gradient-to-br from-pink-500 to-purple-600",telegram:"bg-gradient-to-br from-blue-400 to-blue-600",facebook:"bg-gradient-to-br from-blue-600 to-blue-800",google:"bg-gradient-to-br from-red-500 to-yellow-500",youtube:"bg-gradient-to-br from-red-600 to-red-700",tiktok:"bg-gradient-to-br from-gray-900 to-gray-700",other:"bg-gradient-to-br from-gray-500 to-gray-600"};return r[o]||r.other},j=o=>({instagram:"IG",telegram:"TG",facebook:"FB",google:"G",youtube:"YT",tiktok:"TT"})[o]||o?.charAt(0)?.toUpperCase()||"?";return(o,r)=>(s(),p(A,{title:"Marketing KPI"},{default:z(()=>[t("div",V,[t("div",I,[r[0]||(r[0]=t("div",null,[t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100"}," Marketing KPI Dashboard "),t("p",{class:"mt-2 text-gray-600 dark:text-gray-400"}," Marketing samaradorligi va ROI ko'rsatkichlari ")],-1)),t("div",T,[(s(),i(g,null,c(k,e=>t("button",{key:e.key,onClick:d=>f(e.key),class:l(["px-4 py-2 rounded-lg font-medium transition-all",n.periodType===e.key?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])},a(e.label),11,P)),64))])])]),t("div",L,[(s(!0),i(g,null,c(n.kpiCards,e=>(s(),i("div",{key:e.title,class:l(["rounded-xl shadow-lg p-6 text-white",`bg-gradient-to-br from-${e.color}-500 to-${e.color}-600`])},[t("div",O,[t("div",R,[(s(),p(H(v(e.title)),{class:"h-6 w-6"}))]),e.trend?(s(),i("div",{key:0,class:l(["flex items-center gap-1 text-sm",e.trend.positive?"text-green-200":"text-red-200"])},[t("span",null,a(e.trend.direction==="up"?"↑":"↓"),1),t("span",null,a(e.trend.value)+"%",1)],2)):m("",!0)]),t("p",{class:l([`text-${e.color}-100`,"text-sm font-medium mb-1"])},a(e.title),3),t("div",D,[t("span",N,a(e.value),1),t("span",G,a(e.suffix),1)]),t("p",{class:l([`text-${e.color}-200`,"text-xs mt-1"])},a(e.description),3)],2))),128))]),t("div",E,[t("div",J,[t("div",U,[r[1]||(r[1]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),u(" Lead Funnel ")],-1)),t("div",q,[(s(!0),i(g,null,c(n.funnel,(e,d)=>(s(),i("div",{key:e.stage,class:"flex-1 text-center"},[t("div",Y,[t("div",{class:l(["mx-auto rounded-lg transition-all",[`bg-${e.color}-100 dark:bg-${e.color}-900/30`]]),style:S({height:w(e.count)+"px",minHeight:"60px"})},[t("div",Z,[t("span",{class:l([`text-${e.color}-700 dark:text-${e.color}-400`,"text-2xl font-bold"])},a(y(e.count)),3)])],6),d<n.funnel.length-1?(s(),i("div",Q," → ")):m("",!0)]),t("p",W,a(e.stage),1),d>0?(s(),i("p",X,a(_(d))+"% konversiya ",1)):m("",!0)]))),128))])]),t("div",tt,[r[5]||(r[5]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),u(" Moliyaviy Ko'rsatkichlar ")],-1)),t("div",et,[t("div",null,[r[2]||(r[2]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Jami sarflangan",-1)),t("p",rt,a(b(n.overview.total_spend)),1)]),t("div",null,[r[3]||(r[3]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Jami daromad",-1)),t("p",ot,a(b(n.overview.total_revenue)),1)])]),t("div",at,[t("div",st,[r[4]||(r[4]=t("span",{class:"text-sm text-gray-500"},"Foyda",-1)),t("span",{class:l(["text-lg font-bold",n.overview.total_revenue-n.overview.total_spend>=0?"text-green-600":"text-red-600"])},a(b(n.overview.total_revenue-n.overview.total_spend)),3)])])])]),t("div",nt,[t("div",it,[r[6]||(r[6]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},[t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]),u(" Top Kampaniyalar ")]),t("a",{href:"/marketing/campaigns",class:"text-sm text-indigo-600 hover:text-indigo-700"}," Barchasi → ")],-1)),t("div",lt,[(s(!0),i(g,null,c(n.topCampaigns,e=>(s(),i("div",{key:e.campaign_id,class:"px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("div",dt,[t("p",gt,a(e.campaign_name),1),t("span",{class:l(["px-2 py-0.5 rounded text-xs font-medium",e.campaign_status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},a(e.campaign_status==="active"?"Faol":"Tugallangan"),3)]),t("div",ct,[t("span",null,a(e.leads)+" lid",1),t("span",null,"ROAS: "+a(e.roas.toFixed(2))+"x",1)])]))),128)),n.topCampaigns.length===0?(s(),i("div",mt," Kampaniyalar topilmadi ")):m("",!0)])]),t("div",xt,[r[9]||(r[9]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},[t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),u(" Kanal Samaradorligi ")]),t("a",{href:"/marketing/kpi/leaderboard",class:"text-sm text-indigo-600 hover:text-indigo-700"}," Leaderboard → ")],-1)),t("div",ut,[(s(!0),i(g,null,c(n.channelPerformance.slice(0,5),(e,d)=>(s(),i("div",{key:e.channel_id,class:"flex items-center gap-3"},[t("div",{class:l(["w-8 h-8 rounded-lg flex items-center justify-center text-white text-sm font-bold",C(e.channel_type)])},a(j(e.channel_type)),3),t("div",bt,[t("p",yt,a(e.channel_name),1),t("div",ht,[t("span",null,a(e.leads)+" lid",1),r[7]||(r[7]=t("span",null,"•",-1)),t("span",null,"CPL: "+a(y(e.cpl)),1)])]),t("div",pt,[t("p",{class:l(["text-sm font-bold",e.roi>=0?"text-green-600":"text-red-600"])},a(e.roi>=0?"+":"")+a(e.roi.toFixed(0))+"% ",3),r[8]||(r[8]=t("p",{class:"text-xs text-gray-500"},"ROI",-1))])]))),128)),n.channelPerformance.length===0?(s(),i("div",kt," Ma'lumot yo'q ")):m("",!0)])])])]),r[10]||(r[10]=t("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-4"},[t("a",{href:"/marketing/kpi/leaderboard",class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow group"},[t("div",{class:"w-12 h-12 rounded-lg bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"},[t("svg",{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})])]),t("h4",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Leaderboard"),t("p",{class:"text-sm text-gray-500"},"Kanal va kampaniya reytingi")]),t("a",{href:"/marketing/campaigns",class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow group"},[t("div",{class:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"},[t("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})])]),t("h4",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Kampaniyalar"),t("p",{class:"text-sm text-gray-500"},"Barcha kampaniyalar")]),t("a",{href:"/marketing/channels",class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow group"},[t("div",{class:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"},[t("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])]),t("h4",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Kanallar"),t("p",{class:"text-sm text-gray-500"},"Kanal statistikasi")]),t("a",{href:"/marketing/analytics",class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow group"},[t("div",{class:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"},[t("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),t("h4",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Analitika"),t("p",{class:"text-sm text-gray-500"},"Batafsil hisobot")])],-1))]),_:1}))}};export{Nt as default};

import{r as e,v as a,x as t,y as r,C as l,I as o,B as s,E as n,D as i,J as d,K as u,z as p,N as g,F as c,G as m,H as y,P as b}from"./chunk-CpmtkKLp.js";import{r as x}from"./chunk-BhZp3z4u.js";import{_ as v}from"./chunk-BHCorYK2.js";import"./chunk-D7SyfRoT.js";import"./app-C-ZlocOh.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-Bsc1JRL5.js";import"./chunk-BuJDoypK.js";import"./chunk-3cs9K1fB.js";import"./chunk-BG5DB3cD.js";import"./chunk-CdKrFGoA.js";import"./chunk-DvBKKKMs.js";const k={class:"mb-8"},h={class:"flex items-center justify-between flex-wrap gap-4"},f={class:"border-b border-gray-200 dark:border-gray-700 mb-6"},_={class:"flex gap-8"},w={key:0,class:"space-y-6"},j={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},q={class:"overflow-x-auto"},C={class:"w-full"},V={class:"divide-y divide-gray-200 dark:divide-gray-700"},S={class:"px-6 py-4"},z={class:"font-medium text-gray-900 dark:text-white"},U={class:"text-sm text-gray-500"},B={class:"px-6 py-4"},M={class:"px-6 py-4 text-center font-medium"},K={class:"px-6 py-4 text-center"},H={class:"text-emerald-600 font-medium"},I={class:"px-6 py-4 text-center"},P={class:"px-6 py-4 text-center"},A={class:"flex items-center justify-center gap-2"},N=["onClick"],F=["onClick"],J={key:0},L={key:1,class:"space-y-6"},D={class:"flex justify-end mb-4"},O={class:"grid gap-4"},T={class:"flex items-start justify-between"},Y={class:"font-bold text-gray-900 dark:text-white"},$={class:"text-sm text-gray-500 mt-1"},R={class:"mt-3 flex flex-wrap gap-2"},Q={class:"px-2 py-1 bg-emerald-100 text-emerald-700 rounded text-sm"},E={class:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm"},G={class:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-sm"},Z={class:"flex gap-2"},W=["onClick"],X=["onClick"],ee={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center text-gray-500 border border-gray-200 dark:border-gray-700"},ae={key:2,class:"space-y-6"},te={class:"flex justify-end mb-4"},re={class:"grid gap-4"},le={class:"flex items-start justify-between"},oe={class:"flex items-center gap-2"},se={class:"font-bold text-gray-900 dark:text-white"},ne={key:0,class:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs"},ie={key:1,class:"px-2 py-0.5 bg-gray-100 text-gray-500 rounded text-xs"},de={class:"text-sm text-gray-500 mt-1"},ue={class:"mt-3 flex flex-wrap gap-2"},pe={class:"px-2 py-1 bg-red-100 text-red-700 rounded text-sm"},ge={class:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm"},ce={key:0,class:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-sm"},me={key:1,class:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm"},ye={class:"flex gap-2"},be=["onClick"],xe=["onClick"],ve={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center text-gray-500 border border-gray-200 dark:border-gray-700"},ke={key:3,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},he={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto"},fe={class:"text-xl font-bold text-gray-900 dark:text-white mb-4"},_e={class:"grid grid-cols-2 gap-4"},we={class:"grid grid-cols-3 gap-4"},je={class:"flex items-center gap-2"},qe={class:"flex justify-end gap-3 pt-4"},Ce={key:4,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Ve={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto"},Se={class:"text-xl font-bold text-gray-900 dark:text-white mb-4"},ze={class:"grid grid-cols-2 gap-4"},Ue={class:"grid grid-cols-2 gap-4"},Be={class:"grid grid-cols-2 gap-4"},Me={class:"flex items-end gap-4"},Ke={class:"flex items-center gap-2"},He={class:"flex items-center gap-2"},Ie={class:"flex justify-end gap-3 pt-4"},Pe={key:5,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Ae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto"},Ne={class:"text-xl font-bold text-gray-900 dark:text-white mb-4"},Fe={class:"grid grid-cols-2 gap-4"},Je={class:"grid grid-cols-2 gap-4"},Le={key:0},De={key:1},Oe={class:"grid grid-cols-2 gap-4"},Te={class:"flex items-center gap-2"},Ye={key:0},$e={class:"flex items-center gap-4"},Re={class:"flex items-center gap-2"},Qe={class:"flex items-center gap-2"},Ee={class:"flex justify-end gap-3 pt-4"},Ge={key:6,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Ze={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-sm w-full p-6"},We={class:"text-gray-600 dark:text-gray-400 mb-6"},Xe={class:"flex justify-end gap-3"},ea={__name:"Settings",props:{kpiSettings:Array,bonusSettings:Array,penaltyRules:Array,panelType:String},setup(ea){const aa=e("kpi"),ta=e(!1),ra=e(!1),la=e(!1),oa=e(!1),sa=e(null),na=e(null),ia=e(null),da=e(null),ua=e(""),pa=e({name:"",description:"",kpi_type:"leads_converted",period_type:"monthly",target_min:0,measurement_unit:"count",weight:10,is_active:!0}),ga=e({name:"",description:"",bonus_type:"fixed",base_amount:0,calculation_period:"monthly",min_kpi_score:80,min_working_days:20,requires_approval:!0,is_active:!0}),ca=e({name:"",description:"",category:"performance",penalty_type:"fixed",penalty_amount:0,penalty_percentage:0,trigger_event:"",warning_before_penalty:!1,warnings_before_penalty:1,is_active:!0,allow_appeal:!0}),ma=e=>e?new Intl.NumberFormat("uz-UZ").format(e)+" so'm":"0 so'm",ya=e=>({leads_converted:"Konversiya",revenue:"Sotuv",deals_count:"Deallar",calls_made:"Qo'ng'iroqlar",tasks_completed:"Vazifalar",conversion_rate:"Konversiya %",response_time:"Javob vaqti"}[e]||e),ba=e=>"fixed"===e.penalty_type?ma(e.penalty_amount):"percentage_of_bonus"===e.penalty_type?e.penalty_percentage+"% (bonus)":"Ogohlantirish",xa=e=>{"kpi"===e?(sa.value=null,pa.value={name:"",description:"",kpi_type:"leads_converted",period_type:"monthly",target_min:0,measurement_unit:"count",weight:10,is_active:!0},ta.value=!0):"bonus"===e?(na.value=null,ga.value={name:"",description:"",bonus_type:"fixed",base_amount:0,calculation_period:"monthly",min_kpi_score:80,min_working_days:20,requires_approval:!0,is_active:!0},ra.value=!0):"penalty"===e&&(ia.value=null,ca.value={name:"",description:"",category:"performance",penalty_type:"fixed",penalty_amount:0,penalty_percentage:0,trigger_event:"",warning_before_penalty:!1,warnings_before_penalty:1,is_active:!0,allow_appeal:!0},la.value=!0)},va=()=>{sa.value?x.put(`/sales-head/sales-kpi/settings/${sa.value.id}`,pa.value,{onSuccess:()=>{ta.value=!1}}):x.post("/sales-head/sales-kpi/settings/kpi",pa.value,{onSuccess:()=>{ta.value=!1}})},ka=(e,a)=>{ua.value=e,da.value=a,oa.value=!0},ha=()=>{const e={kpi:`/sales-head/sales-kpi/settings/${da.value.id}`,bonus:`/sales-head/sales-kpi/bonus-settings/${da.value.id}`,penalty:`/sales-head/sales-kpi/penalty-rules/${da.value.id}`};x.delete(e[ua.value],{onSuccess:()=>{oa.value=!1}})},fa=()=>{na.value?x.put(`/sales-head/sales-kpi/bonus-settings/${na.value.id}`,ga.value,{onSuccess:()=>{ra.value=!1}}):x.post("/sales-head/sales-kpi/bonus-settings",ga.value,{onSuccess:()=>{ra.value=!1}})},_a=()=>{ia.value?x.put(`/sales-head/sales-kpi/penalty-rules/${ia.value.id}`,ca.value,{onSuccess:()=>{la.value=!1}}):x.post("/sales-head/sales-kpi/penalty-rules",ca.value,{onSuccess:()=>{la.value=!1}})};return(e,x)=>(i(),a(v,{title:"KPI Sozlamalari"},{default:t(()=>[r("div",k,[r("div",h,[x[39]||(x[39]=r("div",null,[r("h2",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},"KPI Sozlamalari"),r("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"KPI, Bonus va Jarima qoidalarini sozlash")],-1)),r("button",{onClick:x[0]||(x[0]=e=>xa("kpi")),class:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 flex items-center gap-2"},[...x[38]||(x[38]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),s(" Yangi KPI qo'shish ",-1)])])])]),r("div",f,[r("nav",_,[r("button",{onClick:x[1]||(x[1]=e=>aa.value="kpi"),class:n(["pb-4 px-1 font-medium text-sm border-b-2 transition-colors","kpi"===aa.value?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"])}," KPI Sozlamalari ",2),r("button",{onClick:x[2]||(x[2]=e=>aa.value="bonus"),class:n(["pb-4 px-1 font-medium text-sm border-b-2 transition-colors","bonus"===aa.value?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"])}," Bonus Sozlamalari ",2),r("button",{onClick:x[3]||(x[3]=e=>aa.value="penalty"),class:n(["pb-4 px-1 font-medium text-sm border-b-2 transition-colors","penalty"===aa.value?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"])}," Jarima Qoidalari ",2)])]),"kpi"===aa.value?(i(),l("div",w,[r("div",j,[r("div",q,[r("table",C,[x[43]||(x[43]=r("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[r("tr",null,[r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Nomi"),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Turi"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Maqsad"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Vazn"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Holat"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Amal")])],-1)),r("tbody",V,[(i(!0),l(d,null,u(ea.kpiSettings,e=>{return i(),l("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[r("td",S,[r("div",z,p(e.name),1),r("div",U,p(e.description),1)]),r("td",B,[r("span",{class:n((a=e.kpi_type,{leads_converted:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-700",revenue:"px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-700",deals_count:"px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-700",calls_made:"px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-700",tasks_completed:"px-2 py-1 rounded text-xs font-medium bg-indigo-100 text-indigo-700",conversion_rate:"px-2 py-1 rounded text-xs font-medium bg-teal-100 text-teal-700",response_time:"px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-700"}[a]||"px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-700"))},p(ya(e.kpi_type)),3)]),r("td",M,p(e.target_min)+" "+p(e.measurement_unit),1),r("td",K,[r("span",H,p(e.weight)+"%",1)]),r("td",I,[r("span",{class:n(e.is_active?"text-green-600":"text-gray-400")},p(e.is_active?"Faol":"Nofaol"),3)]),r("td",P,[r("div",A,[r("button",{onClick:a=>(e=>{sa.value=e,pa.value={...e},ta.value=!0})(e),class:"p-1 text-blue-600 hover:bg-blue-50 rounded"},[...x[40]||(x[40]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,N),r("button",{onClick:a=>ka("kpi",e),class:"p-1 text-red-600 hover:bg-red-50 rounded"},[...x[41]||(x[41]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,F)])])]);var a}),128)),0===ea.kpiSettings.length?(i(),l("tr",J,[...x[42]||(x[42]=[r("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500"}," KPI sozlamalari topilmadi. Yangi KPI qo'shing yoki shablon tanlang. ",-1)])])):o("",!0)])])])])])):o("",!0),"bonus"===aa.value?(i(),l("div",L,[r("div",D,[r("button",{onClick:x[4]||(x[4]=e=>xa("bonus")),class:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 flex items-center gap-2"},[...x[44]||(x[44]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),s(" Yangi bonus qoidasi ",-1)])])]),r("div",O,[(i(!0),l(d,null,u(ea.bonusSettings,e=>(i(),l("div",{key:e.id,class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},[r("div",T,[r("div",null,[r("h3",Y,p(e.name),1),r("p",$,p(e.description),1),r("div",R,[r("span",Q," Min KPI: "+p(e.min_kpi_score)+"% ",1),r("span",E," Summa: "+p(ma(e.base_amount)),1),r("span",G," Multiplier: "+p(e.multiplier)+"x ",1)])]),r("div",Z,[r("button",{onClick:a=>(e=>{na.value=e,ga.value={...e},ra.value=!0})(e),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg"},[...x[45]||(x[45]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,W),r("button",{onClick:a=>ka("bonus",e),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg"},[...x[46]||(x[46]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,X)])])]))),128)),0===ea.bonusSettings.length?(i(),l("div",ee," Bonus qoidalari topilmadi. ")):o("",!0)])])):o("",!0),"penalty"===aa.value?(i(),l("div",ae,[r("div",te,[r("button",{onClick:x[5]||(x[5]=e=>xa("penalty")),class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2"},[...x[47]||(x[47]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),s(" Yangi jarima qoidasi ",-1)])])]),r("div",re,[(i(!0),l(d,null,u(ea.penaltyRules,e=>{return i(),l("div",{key:e.id,class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},[r("div",le,[r("div",null,[r("div",oe,[r("h3",se,p(e.name),1),"auto"===e.trigger_type?(i(),l("span",ne,"Avtomatik")):o("",!0),e.is_active?o("",!0):(i(),l("span",ie,"Nofaol"))]),r("p",de,p(e.description),1),r("div",ue,[r("span",pe,p(ba(e)),1),r("span",ge,p((a=e.category,{crm_discipline:"CRM intizomi",performance:"Samaradorlik",attendance:"Davomat",customer_service:"Mijozlarga xizmat"}[a]||a)),1),e.warning_before_penalty?(i(),l("span",ce,p(e.warnings_before_penalty)+" marta ogohlantirish ",1)):o("",!0),e.allow_appeal?(i(),l("span",me," Shikoyat mumkin ")):o("",!0)])]),r("div",ye,[r("button",{onClick:a=>(e=>{ia.value=e,ca.value={...e},la.value=!0})(e),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg"},[...x[48]||(x[48]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,be),r("button",{onClick:a=>ka("penalty",e),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg"},[...x[49]||(x[49]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,xe)])])]);var a}),128)),0===ea.penaltyRules.length?(i(),l("div",ve," Jarima qoidalari topilmadi. ")):o("",!0)])])):o("",!0),ta.value?(i(),l("div",ke,[r("div",he,[r("h3",fe,p(sa.value?"KPI tahrirlash":"Yangi KPI qo'shish"),1),r("form",{onSubmit:g(va,["prevent"]),class:"space-y-4"},[r("div",null,[x[50]||(x[50]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Nomi",-1)),c(r("input",{"onUpdate:modelValue":x[6]||(x[6]=e=>pa.value.name=e),type:"text",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,pa.value.name]])]),r("div",null,[x[51]||(x[51]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Tavsif",-1)),c(r("textarea",{"onUpdate:modelValue":x[7]||(x[7]=e=>pa.value.description=e),rows:"2",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,pa.value.description]])]),r("div",_e,[r("div",null,[x[53]||(x[53]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"KPI turi",-1)),c(r("select",{"onUpdate:modelValue":x[8]||(x[8]=e=>pa.value.kpi_type=e),required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},[...x[52]||(x[52]=[r("option",{value:"leads_converted"},"Sotuvga o'tgan lidlar",-1),r("option",{value:"revenue"},"Umumiy sotuv",-1),r("option",{value:"deals_count"},"Deallar soni",-1),r("option",{value:"calls_made"},"Qo'ng'iroqlar",-1),r("option",{value:"tasks_completed"},"Vazifalar",-1),r("option",{value:"conversion_rate"},"Konversiya %",-1),r("option",{value:"response_time"},"Javob vaqti",-1)])],512),[[y,pa.value.kpi_type]])]),r("div",null,[x[55]||(x[55]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Davr",-1)),c(r("select",{"onUpdate:modelValue":x[9]||(x[9]=e=>pa.value.period_type=e),required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},[...x[54]||(x[54]=[r("option",{value:"daily"},"Kunlik",-1),r("option",{value:"weekly"},"Haftalik",-1),r("option",{value:"monthly"},"Oylik",-1)])],512),[[y,pa.value.period_type]])])]),r("div",we,[r("div",null,[x[56]||(x[56]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Maqsad",-1)),c(r("input",{"onUpdate:modelValue":x[10]||(x[10]=e=>pa.value.target_min=e),type:"number",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,pa.value.target_min,void 0,{number:!0}]])]),r("div",null,[x[57]||(x[57]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Birlik",-1)),c(r("input",{"onUpdate:modelValue":x[11]||(x[11]=e=>pa.value.measurement_unit=e),type:"text",placeholder:"ta, so'm, %",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,pa.value.measurement_unit]])]),r("div",null,[x[58]||(x[58]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Vazn (%)",-1)),c(r("input",{"onUpdate:modelValue":x[12]||(x[12]=e=>pa.value.weight=e),type:"number",min:"1",max:"100",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,pa.value.weight,void 0,{number:!0}]])])]),r("div",je,[c(r("input",{"onUpdate:modelValue":x[13]||(x[13]=e=>pa.value.is_active=e),type:"checkbox",id:"is_active",class:"rounded"},null,512),[[b,pa.value.is_active]]),x[59]||(x[59]=r("label",{for:"is_active",class:"text-sm text-gray-700 dark:text-gray-300"},"Faol",-1))]),r("div",qe,[r("button",{type:"button",onClick:x[14]||(x[14]=e=>ta.value=!1),class:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}," Bekor qilish "),x[60]||(x[60]=r("button",{type:"submit",class:"px-4 py-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-700"}," Saqlash ",-1))])],32)])])):o("",!0),ra.value?(i(),l("div",Ce,[r("div",Ve,[r("h3",Se,p(na.value?"Bonus tahrirlash":"Yangi bonus qoidasi"),1),r("form",{onSubmit:g(fa,["prevent"]),class:"space-y-4"},[r("div",null,[x[61]||(x[61]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Nomi",-1)),c(r("input",{"onUpdate:modelValue":x[15]||(x[15]=e=>ga.value.name=e),type:"text",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ga.value.name]])]),r("div",null,[x[62]||(x[62]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Tavsif",-1)),c(r("textarea",{"onUpdate:modelValue":x[16]||(x[16]=e=>ga.value.description=e),rows:"2",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ga.value.description]])]),r("div",ze,[r("div",null,[x[64]||(x[64]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Bonus turi",-1)),c(r("select",{"onUpdate:modelValue":x[17]||(x[17]=e=>ga.value.bonus_type=e),required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},[...x[63]||(x[63]=[r("option",{value:"fixed"},"Belgilangan summa",-1),r("option",{value:"revenue_percentage"},"Daromad foizi",-1),r("option",{value:"kpi_based"},"KPI asosida",-1),r("option",{value:"tiered"},"Bosqichli",-1)])],512),[[y,ga.value.bonus_type]])]),r("div",null,[x[66]||(x[66]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Hisoblash davri",-1)),c(r("select",{"onUpdate:modelValue":x[18]||(x[18]=e=>ga.value.calculation_period=e),required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},[...x[65]||(x[65]=[r("option",{value:"monthly"},"Oylik",-1),r("option",{value:"quarterly"},"Choraklik",-1)])],512),[[y,ga.value.calculation_period]])])]),r("div",Ue,[r("div",null,[x[67]||(x[67]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Asosiy summa",-1)),c(r("input",{"onUpdate:modelValue":x[19]||(x[19]=e=>ga.value.base_amount=e),type:"number",min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ga.value.base_amount,void 0,{number:!0}]])]),r("div",null,[x[68]||(x[68]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Minimal KPI (%)",-1)),c(r("input",{"onUpdate:modelValue":x[20]||(x[20]=e=>ga.value.min_kpi_score=e),type:"number",min:"0",max:"100",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ga.value.min_kpi_score,void 0,{number:!0}]])])]),r("div",Be,[r("div",null,[x[69]||(x[69]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Minimal ish kunlari",-1)),c(r("input",{"onUpdate:modelValue":x[21]||(x[21]=e=>ga.value.min_working_days=e),type:"number",min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ga.value.min_working_days,void 0,{number:!0}]])]),r("div",Me,[r("label",Ke,[c(r("input",{"onUpdate:modelValue":x[22]||(x[22]=e=>ga.value.requires_approval=e),type:"checkbox",class:"rounded"},null,512),[[b,ga.value.requires_approval]]),x[70]||(x[70]=r("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Tasdiqlash kerak",-1))])])]),r("div",He,[c(r("input",{"onUpdate:modelValue":x[23]||(x[23]=e=>ga.value.is_active=e),type:"checkbox",id:"bonus_is_active",class:"rounded"},null,512),[[b,ga.value.is_active]]),x[71]||(x[71]=r("label",{for:"bonus_is_active",class:"text-sm text-gray-700 dark:text-gray-300"},"Faol",-1))]),r("div",Ie,[r("button",{type:"button",onClick:x[24]||(x[24]=e=>ra.value=!1),class:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}," Bekor qilish "),x[72]||(x[72]=r("button",{type:"submit",class:"px-4 py-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-700"}," Saqlash ",-1))])],32)])])):o("",!0),la.value?(i(),l("div",Pe,[r("div",Ae,[r("h3",Ne,p(ia.value?"Jarima tahrirlash":"Yangi jarima qoidasi"),1),r("form",{onSubmit:g(_a,["prevent"]),class:"space-y-4"},[r("div",null,[x[73]||(x[73]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Nomi",-1)),c(r("input",{"onUpdate:modelValue":x[25]||(x[25]=e=>ca.value.name=e),type:"text",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ca.value.name]])]),r("div",null,[x[74]||(x[74]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Tavsif",-1)),c(r("textarea",{"onUpdate:modelValue":x[26]||(x[26]=e=>ca.value.description=e),rows:"2",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ca.value.description]])]),r("div",Fe,[r("div",null,[x[76]||(x[76]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Kategoriya",-1)),c(r("select",{"onUpdate:modelValue":x[27]||(x[27]=e=>ca.value.category=e),required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},[...x[75]||(x[75]=[r("option",{value:"crm_discipline"},"CRM intizomi",-1),r("option",{value:"performance"},"Samaradorlik",-1),r("option",{value:"attendance"},"Davomat",-1),r("option",{value:"customer_service"},"Mijozlarga xizmat",-1)])],512),[[y,ca.value.category]])]),r("div",null,[x[78]||(x[78]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Jarima turi",-1)),c(r("select",{"onUpdate:modelValue":x[28]||(x[28]=e=>ca.value.penalty_type=e),required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},[...x[77]||(x[77]=[r("option",{value:"fixed"},"Belgilangan summa",-1),r("option",{value:"percentage_of_bonus"},"Bonus foizi",-1),r("option",{value:"warning_only"},"Faqat ogohlantirish",-1)])],512),[[y,ca.value.penalty_type]])])]),r("div",Je,["fixed"===ca.value.penalty_type?(i(),l("div",Le,[x[79]||(x[79]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Summa",-1)),c(r("input",{"onUpdate:modelValue":x[29]||(x[29]=e=>ca.value.penalty_amount=e),type:"number",min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ca.value.penalty_amount,void 0,{number:!0}]])])):o("",!0),"percentage_of_bonus"===ca.value.penalty_type?(i(),l("div",De,[x[80]||(x[80]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Foiz (%)",-1)),c(r("input",{"onUpdate:modelValue":x[30]||(x[30]=e=>ca.value.penalty_percentage=e),type:"number",min:"0",max:"100",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ca.value.penalty_percentage,void 0,{number:!0}]])])):o("",!0),r("div",null,[x[82]||(x[82]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Trigger hodisa",-1)),c(r("select",{"onUpdate:modelValue":x[31]||(x[31]=e=>ca.value.trigger_event=e),class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},[...x[81]||(x[81]=[r("option",{value:""},"Qo'lda",-1),r("option",{value:"lead_not_contacted_24h"},"Lid 24 soat ichida kontakt qilinmadi",-1),r("option",{value:"lead_not_contacted_48h"},"Lid 48 soat ichida kontakt qilinmadi",-1),r("option",{value:"crm_not_filled"},"CRM to'ldirilmagan",-1),r("option",{value:"task_overdue"},"Vazifa muddati o'tdi",-1),r("option",{value:"task_overdue_3_days"},"Vazifa 3 kundan ortiq kechiktirildi",-1),r("option",{value:"low_kpi_3_days"},"KPI 3 kun ketma-ket past",-1),r("option",{value:"missed_call"},"O'tkazib yuborilgan qo'ng'iroq",-1),r("option",{value:"no_activity_24h"},"24 soat faoliyat yo'q",-1)])],512),[[y,ca.value.trigger_event]])])]),r("div",Oe,[r("div",Te,[c(r("input",{"onUpdate:modelValue":x[32]||(x[32]=e=>ca.value.warning_before_penalty=e),type:"checkbox",id:"warning_before_penalty",class:"rounded"},null,512),[[b,ca.value.warning_before_penalty]]),x[83]||(x[83]=r("label",{for:"warning_before_penalty",class:"text-sm text-gray-700 dark:text-gray-300"},"Avval ogohlantirish",-1))]),ca.value.warning_before_penalty?(i(),l("div",Ye,[x[84]||(x[84]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Ogohlantirish soni",-1)),c(r("input",{"onUpdate:modelValue":x[33]||(x[33]=e=>ca.value.warnings_before_penalty=e),type:"number",min:"1",max:"5",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"},null,512),[[m,ca.value.warnings_before_penalty,void 0,{number:!0}]])])):o("",!0)]),r("div",$e,[r("label",Re,[c(r("input",{"onUpdate:modelValue":x[34]||(x[34]=e=>ca.value.is_active=e),type:"checkbox",class:"rounded"},null,512),[[b,ca.value.is_active]]),x[85]||(x[85]=r("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Faol",-1))]),r("label",Qe,[c(r("input",{"onUpdate:modelValue":x[35]||(x[35]=e=>ca.value.allow_appeal=e),type:"checkbox",class:"rounded"},null,512),[[b,ca.value.allow_appeal]]),x[86]||(x[86]=r("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Shikoyat qilish mumkin",-1))])]),r("div",Ee,[r("button",{type:"button",onClick:x[36]||(x[36]=e=>la.value=!1),class:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}," Bekor qilish "),x[87]||(x[87]=r("button",{type:"submit",class:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700"}," Saqlash ",-1))])],32)])])):o("",!0),oa.value?(i(),l("div",Ge,[r("div",Ze,[x[88]||(x[88]=r("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-4"},"O'chirishni tasdiqlang",-1)),r("p",We,' "'+p(da.value?.name)+"\" ni o'chirishni xohlaysizmi? ",1),r("div",Xe,[r("button",{onClick:x[37]||(x[37]=e=>oa.value=!1),class:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}," Bekor qilish "),r("button",{onClick:ha,class:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700"}," O'chirish ")])])])):o("",!0)]),_:1}))}};export{ea as default};

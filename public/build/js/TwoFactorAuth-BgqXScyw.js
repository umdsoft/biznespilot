import{r as e,S as s,v as t,x as o,y as r,C as i,I as a,z as l,A as n,D as d,B as c,N as m,F as u,E as f,G as g}from"./chunk-CpmtkKLp.js";import{u as x,r as b}from"./chunk-BhZp3z4u.js";import{u as p}from"./app-C-ZlocOh.js";import"./chunk-BWiubfpN.js";const w={class:"py-12"},v={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},y={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},h={class:"p-6"},k={class:"flex items-center justify-between mb-6"},_={class:"text-2xl font-bold text-gray-900"},j={class:"mt-1 text-sm text-gray-600"},z={key:0,class:"space-y-6"},C={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},B={class:"flex"},q={class:"ml-3"},D={class:"text-sm font-medium text-blue-800"},F={class:"mt-2 text-sm text-blue-700"},L={class:"space-y-4"},M={class:"text-lg font-medium text-gray-900"},S={class:"space-y-3"},A={class:"flex items-start"},U={class:"ml-3 text-sm text-gray-600"},V={class:"flex items-start"},E={class:"ml-3 text-sm text-gray-600"},H={class:"flex items-start"},O={class:"ml-3 text-sm text-gray-600"},P={class:"flex items-start"},Y={class:"ml-3 text-sm text-gray-600"},G={class:"pt-4"},I={key:1,class:"space-y-6"},N={class:"bg-green-50 border border-green-200 rounded-lg p-6"},R={class:"flex"},T={class:"ml-3 flex-1"},Z={class:"text-sm font-medium text-green-800"},J={class:"mt-2 text-sm text-green-700"},K={class:"bg-white border border-gray-200 rounded-lg divide-y divide-gray-200"},Q={class:"p-4 sm:p-6"},W={class:"flex items-center justify-between"},X={class:"text-base font-medium text-gray-900"},$={class:"mt-1 text-sm text-gray-500"},ee={class:"p-4 sm:p-6"},se={class:"flex items-center justify-between"},te={class:"text-base font-medium text-gray-900"},oe={class:"mt-1 text-sm text-gray-500"},re={class:"p-4 sm:p-6"},ie={class:"flex items-center justify-between"},ae={class:"text-base font-medium text-gray-900"},le={class:"mt-1 text-sm text-gray-500"},ne={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},de={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ce={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},me={key:0,class:"mt-1 text-sm text-red-600"},ue={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},fe=["disabled"],ge={key:1,class:"fixed z-10 inset-0 overflow-y-auto"},xe={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},be={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},pe={key:0,class:"mt-1 text-sm text-red-600"},we={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},ve=["disabled"],ye={__name:"TwoFactorAuth",props:{twoFactorData:Object},setup(ye){const{t:he}=p(),ke=e(!1),_e=e(!1),je=x({password:""}),ze=x({password:""}),Ce=()=>{b.visit(route("business.settings.two-factor.setup"))},Be=()=>{je.post(route("business.settings.two-factor.disable"),{onSuccess:()=>{ke.value=!1,je.reset()}})},qe=()=>{b.visit(route("business.settings.two-factor.recovery-codes"))},De=()=>{ze.post(route("business.settings.two-factor.recovery-codes.regenerate"),{onSuccess:()=>{_e.value=!1,ze.reset()}})};return(e,x)=>{const b=s("BusinessLayout");return d(),t(b,{title:n(he)("two_factor.title")},{default:o(()=>[r("div",w,[r("div",v,[r("div",y,[r("div",h,[r("div",k,[r("div",null,[r("h2",_,l(n(he)("two_factor.header")),1),r("p",j,l(n(he)("two_factor.subtitle")),1)])]),ye.twoFactorData&&ye.twoFactorData.enabled?(d(),i("div",I,[r("div",N,[r("div",R,[x[14]||(x[14]=r("div",{class:"flex-shrink-0"},[r("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),r("div",T,[r("h3",Z,l(n(he)("two_factor.enabled")),1),r("div",J,[r("p",null,l(n(he)("two_factor.enabled_desc"))+" "+l(n(he)("two_factor.enabled_date"))+": "+l(new Date(ye.twoFactorData.enabled_at).toLocaleDateString("uz-UZ")),1)])])])]),r("div",K,[r("div",Q,[r("div",W,[r("div",null,[r("h3",X,l(n(he)("two_factor.recovery_codes")),1),r("p",$,l(ye.twoFactorData.recovery_codes_count)+" "+l(n(he)("two_factor.codes_available")),1)]),r("button",{onClick:qe,class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},l(n(he)("common.view")),1)])]),r("div",ee,[r("div",se,[r("div",null,[r("h3",te,l(n(he)("two_factor.new_recovery_codes")),1),r("p",oe,l(n(he)("two_factor.regenerate_desc")),1)]),r("button",{onClick:x[0]||(x[0]=e=>_e.value=!0),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},l(n(he)("two_factor.regenerate")),1)])]),r("div",re,[r("div",ie,[r("div",null,[r("h3",ae,l(n(he)("two_factor.disable")),1),r("p",le,l(n(he)("two_factor.disable_desc")),1)]),r("button",{onClick:x[1]||(x[1]=e=>ke.value=!0),class:"inline-flex items-center px-4 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},l(n(he)("common.delete")),1)])])])])):(d(),i("div",z,[r("div",C,[r("div",B,[x[8]||(x[8]=r("div",{class:"flex-shrink-0"},[r("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),r("div",q,[r("h3",D,l(n(he)("two_factor.not_enabled")),1),r("div",F,[r("p",null,l(n(he)("two_factor.not_enabled_desc")),1)])])])]),r("div",L,[r("h3",M,l(n(he)("two_factor.how_it_works")),1),r("div",S,[r("div",A,[x[9]||(x[9]=r("div",{class:"flex-shrink-0"},[r("div",{class:"flex items-center justify-center h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold"}," 1 ")],-1)),r("p",U,l(n(he)("two_factor.step1")),1)]),r("div",V,[x[10]||(x[10]=r("div",{class:"flex-shrink-0"},[r("div",{class:"flex items-center justify-center h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold"}," 2 ")],-1)),r("p",E,l(n(he)("two_factor.step2")),1)]),r("div",H,[x[11]||(x[11]=r("div",{class:"flex-shrink-0"},[r("div",{class:"flex items-center justify-center h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold"}," 3 ")],-1)),r("p",O,l(n(he)("two_factor.step3")),1)]),r("div",P,[x[12]||(x[12]=r("div",{class:"flex-shrink-0"},[r("div",{class:"flex items-center justify-center h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold"}," 4 ")],-1)),r("p",Y,l(n(he)("two_factor.step4")),1)])])]),r("div",G,[r("button",{onClick:Ce,class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[x[13]||(x[13]=r("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),c(" "+l(n(he)("two_factor.enable")),1)])])]))])])])]),ke.value?(d(),i("div",ne,[r("div",de,[r("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:x[2]||(x[2]=e=>ke.value=!1)}),r("div",ce,[x[16]||(x[16]=r("div",null,[r("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[r("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),r("div",{class:"mt-3 text-center sm:mt-5"},[r("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," 2FA ni o'chirish "),r("div",{class:"mt-2"},[r("p",{class:"text-sm text-gray-500"}," Hisobingizdan ikki faktorli autentifikatsiyani olib tashlashni xohlaysizmi? Bu hisobingiz xavfsizligini kamaytiradi. ")])])],-1)),r("form",{onSubmit:m(Be,["prevent"]),class:"mt-5"},[r("div",null,[x[15]||(x[15]=r("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Parolni tasdiqlang ",-1)),u(r("input",{id:"password","onUpdate:modelValue":x[3]||(x[3]=e=>n(je).password=e),type:"password",required:"",class:f(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":n(je).errors.password}])},null,2),[[g,n(je).password]]),n(je).errors.password?(d(),i("p",me,l(n(je).errors.password),1)):a("",!0)]),r("div",ue,[r("button",{type:"submit",disabled:n(je).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm disabled:opacity-50"}," O'chirish ",8,fe),r("button",{type:"button",onClick:x[4]||(x[4]=e=>{ke.value=!1,n(je).reset()}),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm"}," Bekor qilish ")])],32)])])])):a("",!0),_e.value?(d(),i("div",ge,[r("div",xe,[r("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:x[5]||(x[5]=e=>_e.value=!1)}),r("div",be,[x[18]||(x[18]=r("div",null,[r("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100"},[r("svg",{class:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),r("div",{class:"mt-3 text-center sm:mt-5"},[r("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Recovery codelarni yangilash "),r("div",{class:"mt-2"},[r("p",{class:"text-sm text-gray-500"}," Eski recovery codelar bekor qilinadi va ular bilan login qilish imkonsiz bo'ladi. Yangi codelarni xavfsiz joyda saqlang. ")])])],-1)),r("form",{onSubmit:m(De,["prevent"]),class:"mt-5"},[r("div",null,[x[17]||(x[17]=r("label",{for:"regen-password",class:"block text-sm font-medium text-gray-700"}," Parolni tasdiqlang ",-1)),u(r("input",{id:"regen-password","onUpdate:modelValue":x[6]||(x[6]=e=>n(ze).password=e),type:"password",required:"",class:f(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":n(ze).errors.password}])},null,2),[[g,n(ze).password]]),n(ze).errors.password?(d(),i("p",pe,l(n(ze).errors.password),1)):a("",!0)]),r("div",we,[r("button",{type:"submit",disabled:n(ze).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm disabled:opacity-50"}," Yangilash ",8,ve),r("button",{type:"button",onClick:x[7]||(x[7]=e=>{_e.value=!1,n(ze).reset()}),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm"}," Bekor qilish ")])],32)])])])):a("",!0)]),_:1},8,["title"])}}};export{ye as default};

import{_ as e}from"./chunk-BB8-4400.js";import{_ as t}from"./chunk-H0hMJnms.js";import{r as a,b as s,v as l,E as r,x as i,D as o,L as n,z as d,y as c,A as u,C as x,H as v,T as h,P as m,Q as g,F as p,G as b,B as f,S as w,o as y}from"./chunk-7Urb0kxg.js";import{b as k,l as _,a as j}from"./chunk-DKkye6wf.js";import{u as M}from"./app-DFslr8vl.js";import{f as C,a as B,b as z}from"./chunk-i83483Sm.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-Di7Oc7TS.js";const A={key:0,class:"relative overflow-hidden mb-6 bg-gradient-to-r from-red-600 to-red-700 rounded-2xl shadow-lg"},S={class:"relative p-5 flex items-center justify-between flex-wrap gap-4"},I={key:1,class:"relative overflow-hidden mb-6 bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl shadow-lg"},H={class:"relative p-5 flex items-center justify-between flex-wrap gap-4"},L={class:"flex items-center gap-4"},T={class:"text-white"},D={class:"text-lg font-bold"},Z={key:2,class:"relative overflow-hidden mb-6 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl shadow-lg"},O={class:"relative p-5 flex items-center justify-between flex-wrap gap-4"},U={class:"flex items-center gap-4"},V={class:"text-white"},N={class:"text-base font-bold flex items-center gap-2"},G={class:"flex items-center gap-3"},R={__name:"TrialBanner",setup(e){const t=k(),m=a(!1),g=s(()=>t.props.subscription?.subscription),p=s(()=>!0===g.value?.is_trial),b=s(()=>Math.round(g.value?.days_remaining??0));s(()=>g.value?.trial_ends_at);const f=s(()=>!!p.value&&b.value<=0),w=s(()=>!!p.value&&(b.value>0&&b.value<=3)),y=()=>{m.value=!0,localStorage.setItem("trial_banner_dismissed_at",Date.now().toString())};return(()=>{if(w.value||f.value)return void(m.value=!1);const e=localStorage.getItem("trial_banner_dismissed_at");if(e){const t=Date.now()-864e5;parseInt(e)>t?m.value=!0:localStorage.removeItem("trial_banner_dismissed_at")}})(),(e,t)=>(r(),l(h,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:i(()=>[f.value?(r(),o("div",A,[t[2]||(t[2]=d("div",{class:"absolute inset-0 opacity-10"},[d("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[d("pattern",{id:"trial-expired-pattern",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[d("circle",{cx:"10",cy:"10",r:"2",fill:"currentColor"})]),d("rect",{x:"0",y:"0",width:"100",height:"100",fill:"url(#trial-expired-pattern)"})])],-1)),d("div",S,[t[1]||(t[1]=d("div",{class:"flex items-center gap-4"},[d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0"},[d("svg",{class:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])]),d("div",{class:"text-white"},[d("h3",{class:"text-lg font-bold"},"Sinov davri tugadi!"),d("p",{class:"text-white/80 text-sm"}," Ma'lumotlaringiz saqlanadi, lekin tizimdan foydalanish uchun tarifni tanlang. ")])],-1)),c(u(_),{href:"/business/subscription",class:"inline-flex items-center px-6 py-2.5 bg-white text-red-600 rounded-xl font-semibold text-sm hover:bg-white/90 transition-all duration-200 shadow-lg hover:shadow-xl"},{default:i(()=>[...t[0]||(t[0]=[d("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1),x(" Hozir sotib olish ",-1)])]),_:1})])])):w.value&&!m.value?(r(),o("div",I,[t[6]||(t[6]=d("div",{class:"absolute inset-0 opacity-10"},[d("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[d("pattern",{id:"trial-urgent-pattern",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[d("circle",{cx:"10",cy:"10",r:"2",fill:"currentColor"})]),d("rect",{x:"0",y:"0",width:"100",height:"100",fill:"url(#trial-urgent-pattern)"})])],-1)),d("div",H,[d("div",L,[t[4]||(t[4]=d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0"},[d("svg",{class:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),d("div",T,[d("h3",D," Sinov tugashiga "+v(b.value)+" kun qoldi! ",1),t[3]||(t[3]=d("p",{class:"text-white/80 text-sm"}," Ma'lumotlaringiz o'chib ketmasligi uchun tarifni tanlang. ",-1))])]),c(u(_),{href:"/business/subscription",class:"inline-flex items-center px-6 py-2.5 bg-white text-red-600 rounded-xl font-semibold text-sm hover:bg-white/90 transition-all duration-200 shadow-lg hover:shadow-xl"},{default:i(()=>[...t[5]||(t[5]=[d("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1),x(" Tarif tanlash ",-1)])]),_:1})])])):p.value&&!m.value?(r(),o("div",Z,[t[12]||(t[12]=d("div",{class:"absolute inset-0 opacity-10"},[d("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[d("pattern",{id:"trial-normal-pattern",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[d("circle",{cx:"10",cy:"10",r:"2",fill:"currentColor"})]),d("rect",{x:"0",y:"0",width:"100",height:"100",fill:"url(#trial-normal-pattern)"})])],-1)),d("div",O,[d("div",U,[t[9]||(t[9]=d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0"},[d("svg",{class:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),d("div",V,[d("h3",N,[x(" Sinov davri: "+v(b.value)+" kun qoldi ",1),t[7]||(t[7]=d("span",{class:"px-2 py-0.5 bg-white/20 rounded-full text-xs font-medium"},"Bepul",-1))]),t[8]||(t[8]=d("p",{class:"text-white/80 text-sm"}," Barcha imkoniyatlardan foydalaning va o'zingizga mos tarifni tanlang. ",-1))])]),d("div",G,[c(u(_),{href:"/business/subscription",class:"inline-flex items-center px-5 py-2.5 bg-white text-indigo-600 rounded-xl font-semibold text-sm hover:bg-white/90 transition-all duration-200 shadow-lg hover:shadow-xl"},{default:i(()=>[...t[10]||(t[10]=[x(" Tarif tanlash ",-1)])]),_:1}),d("button",{onClick:y,class:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Yashirish"},[...t[11]||(t[11]=[d("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])])):n("",!0)]),_:1}))}},P={key:0,class:"relative overflow-hidden mb-6 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-2xl shadow-lg"},F={class:"relative p-4 flex items-center justify-between flex-wrap gap-4"},E={class:"flex items-center gap-3"},W={class:"text-white"},q={class:"text-base font-semibold flex items-center gap-2"},Y={class:"text-white/80 text-sm"},J=["disabled"],Q={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24"},K={key:1,class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},X={key:1,class:"relative overflow-hidden mb-6 bg-gradient-to-r from-[#0088cc] to-[#00a8e6] rounded-2xl shadow-lg"},$={class:"relative p-6 flex items-center justify-between flex-wrap gap-4"},ee={class:"flex items-center gap-4"},te={class:"text-white"},ae={class:"text-lg font-bold mb-1"},se={class:"text-white/80 text-sm max-w-md"},le={class:"flex items-center gap-3"},re=["disabled"],ie={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24"},oe={key:1,class:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor"},ne=["title"],de={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-6"},ce={class:"flex items-center justify-between mb-6"},ue={class:"text-xl font-bold text-gray-900 dark:text-white"},xe={class:"space-y-4 mb-6"},ve={class:"w-6 h-6 bg-[#0088cc] rounded-full flex items-center justify-center flex-shrink-0 text-white text-sm font-bold"},he={class:"text-gray-600 dark:text-gray-300 text-sm"},me=["href"],ge={key:0,class:"mt-4 text-center text-xs text-gray-400"},pe={__name:"TelegramConnectBanner",setup(e){const{t:t}=M(),f=k(),w=a(!1),y=a(!1),_=a(!1),C=a(!1),B=a(""),z=a(null),A=a([]),S=s(()=>f.props.auth?.user?.has_telegram_linked??!1),I=()=>{w.value=!0,localStorage.setItem("telegram_banner_dismissed","true")},H=async()=>{if(!y.value){y.value=!0;try{const e=await j.post("/business/settings/telegram/connect");e.data.success&&(B.value=e.data.link,z.value=e.data.expires_at,A.value=e.data.instructions||[],C.value=!0)}catch(e){400===e.response?.status&&e.response?.data?.connected&&window.location.reload()}finally{y.value=!1}}},L=e=>{if(!e)return"";return new Date(e).toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})},T=async()=>{if(!_.value&&confirm(t("telegram.disconnect_confirm"))){_.value=!0;try{(await j.delete("/business/settings/telegram/disconnect")).data.success&&window.location.reload()}catch(e){400===e.response?.status&&window.location.reload()}finally{_.value=!1}}};return(()=>{const e=localStorage.getItem("telegram_banner_dismissed_at");if(e){const t=Date.now()-864e5;parseInt(e)>t?w.value=!0:(localStorage.removeItem("telegram_banner_dismissed"),localStorage.removeItem("telegram_banner_dismissed_at"))}})(),(e,a)=>(r(),l(h,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:i(()=>[S.value?(r(),o("div",P,[a[7]||(a[7]=d("div",{class:"absolute inset-0 opacity-10"},[d("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[d("pattern",{id:"telegram-connected-pattern",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[d("circle",{cx:"10",cy:"10",r:"2",fill:"currentColor"})]),d("rect",{x:"0",y:"0",width:"100",height:"100",fill:"url(#telegram-connected-pattern)"})])],-1)),d("div",F,[d("div",E,[a[4]||(a[4]=d("div",{class:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),d("div",W,[d("h3",q,[a[3]||(a[3]=d("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})],-1)),x(" "+v(u(t)("telegram.connected_title")),1)]),d("p",Y,v(u(t)("telegram.connected_desc")),1)])]),d("button",{onClick:T,disabled:_.value,class:"inline-flex items-center px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-xl text-sm font-medium transition-all duration-200 disabled:opacity-75 disabled:cursor-wait"},[_.value?(r(),o("svg",Q,[...a[5]||(a[5]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(r(),o("svg",K,[...a[6]||(a[6]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])),x(" "+v(u(t)("telegram.disconnect_button")),1)],8,J)])])):w.value?n("",!0):(r(),o("div",X,[a[14]||(a[14]=d("div",{class:"absolute inset-0 opacity-10"},[d("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[d("pattern",{id:"telegram-pattern",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[d("circle",{cx:"10",cy:"10",r:"2",fill:"currentColor"})]),d("rect",{x:"0",y:"0",width:"100",height:"100",fill:"url(#telegram-pattern)"})])],-1)),d("div",$,[d("div",ee,[a[8]||(a[8]=d("div",{class:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0"},[d("svg",{class:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})])],-1)),d("div",te,[d("h3",ae,v(u(t)("telegram.connect_banner_title")),1),d("p",se,v(u(t)("telegram.connect_banner_desc")),1)])]),d("div",le,[d("button",{onClick:H,disabled:y.value,class:"inline-flex items-center px-5 py-2.5 bg-white text-[#0088cc] rounded-xl font-semibold text-sm hover:bg-white/90 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-75 disabled:cursor-wait"},[y.value?(r(),o("svg",ie,[...a[9]||(a[9]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(r(),o("svg",oe,[...a[10]||(a[10]=[d("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"},null,-1)])])),x(" "+v(u(t)("telegram.connect_button")),1)],8,re),d("button",{onClick:I,class:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:u(t)("common.dismiss")},[...a[11]||(a[11]=[d("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ne)])]),(r(),l(m,{to:"body"},[c(h,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[C.value?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:a[2]||(a[2]=g(e=>C.value=!1,["self"]))},[d("div",de,[d("div",ce,[d("h3",ue,v(u(t)("telegram.connect_modal_title")),1),d("button",{onClick:a[0]||(a[0]=e=>C.value=!1),class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...a[12]||(a[12]=[d("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),d("div",xe,[(r(!0),o(p,null,b(A.value,(e,t)=>(r(),o("div",{key:t,class:"flex items-start gap-3"},[d("div",ve,v(t+1),1),d("p",he,v(e),1)]))),128))]),d("a",{href:B.value,target:"_blank",rel:"noopener noreferrer",class:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-[#0088cc] to-[#00a8e6] text-white rounded-xl font-semibold text-base hover:from-[#0077b3] hover:to-[#0097cc] transition-all duration-200 shadow-lg hover:shadow-xl",onClick:a[1]||(a[1]=e=>C.value=!1)},[a[13]||(a[13]=d("svg",{class:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})],-1)),x(" "+v(u(t)("telegram.open_telegram")),1)],8,me),z.value?(r(),o("p",ge,v(u(t)("telegram.link_expires"))+": "+v(L(z.value)),1)):n("",!0)])])):n("",!0)]),_:1})]))]))]),_:1}))}},be={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden"},fe={class:"relative overflow-hidden"},we={class:"relative px-5 py-4"},ye={class:"flex items-center justify-between"},ke={class:"flex items-center gap-2"},_e={class:"text-lg font-bold text-white"},je={key:0,class:"px-2 py-0.5 text-xs font-medium bg-white/20 text-white rounded-full"},Me={key:0,class:"text-blue-100 text-sm mt-0.5"},Ce={class:"px-5 py-3 bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700"},Be={class:"flex items-center justify-between"},ze={class:"flex items-center gap-2"},Ae={class:"relative flex h-2.5 w-2.5"},Se={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ie={key:0,class:"text-right"},He={class:"px-5 py-4 space-y-4"},Le={class:"flex items-center justify-between text-sm"},Te={class:"text-gray-600 dark:text-gray-400"},De={class:"font-medium text-gray-900 dark:text-gray-100"},Ze={class:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden"},Oe={key:1,class:"text-center py-2 text-gray-500 dark:text-gray-400 text-sm"},Ue={key:2,class:"text-center py-4"},Ve={key:0,class:"px-5 py-3 bg-red-50 dark:bg-red-900/20 border-t border-red-100 dark:border-red-800"},Ne={class:"flex items-center justify-between"},Ge={__name:"SubscriptionWidget",props:{subscriptionStatus:{type:Object,default:()=>null}},setup(e){M();const t=e,a=s(()=>t.subscriptionStatus?.has_subscription??!1),h=s(()=>t.subscriptionStatus?.plan_name||"Bepul"),m=s(()=>t.subscriptionStatus?.plan_slug||"free"),g=s(()=>t.subscriptionStatus?.price||0);s(()=>t.subscriptionStatus?.status||"no_subscription");const y=s(()=>t.subscriptionStatus?.status_label||"Obuna yo'q"),k=s(()=>t.subscriptionStatus?.status_color||"gray"),j=s(()=>t.subscriptionStatus?.is_trial||!1),C=s(()=>t.subscriptionStatus?.days_remaining||0),B=s(()=>t.subscriptionStatus?.renews_at||null),z=s(()=>t.subscriptionStatus?.usage||{}),A=s(()=>{const e=m.value?.toLowerCase();return"free"!==e&&"starter"!==e&&"bepul"!==e}),S=s(()=>C.value<=3?"text-red-600 dark:text-red-400":C.value<=7?"text-amber-600 dark:text-amber-400":"text-green-600 dark:text-green-400"),I=e=>null==e?"Cheksiz":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),H=s(()=>Object.values(z.value).some(e=>e.percent>=90&&!e.is_unlimited)),L=s(()=>Object.entries(z.value).filter(([e,t])=>!t.is_unlimited).sort((e,t)=>t[1].percent-e[1].percent).slice(0,4));return(e,t)=>{return r(),o("div",be,[d("div",fe,[t[1]||(t[1]=d("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600"},null,-1)),t[2]||(t[2]=d("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-30"},null,-1)),d("div",we,[d("div",ye,[d("div",null,[d("div",ke,[d("h3",_e,v(h.value),1),j.value?(r(),o("span",je," Sinov ")):n("",!0)]),g.value?(r(),o("p",Me,v((s=g.value,s?new Intl.NumberFormat("uz-UZ").format(s):"0"))+" so'm/oy ",1)):n("",!0)]),A.value?n("",!0):(r(),l(u(_),{key:0,href:"/business/billing/plans",class:"flex items-center gap-1.5 px-4 py-2 bg-white text-indigo-600 text-sm font-semibold rounded-xl hover:bg-gray-50 transition-all shadow-lg"},{default:i(()=>[...t[0]||(t[0]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1),x(" Upgrade ",-1)])]),_:1}))])])]),d("div",Ce,[d("div",Be,[d("div",ze,[d("span",Ae,[d("span",{class:f(["animate-ping absolute inline-flex h-full w-full rounded-full opacity-75","green"===k.value?"bg-green-400":"","blue"===k.value?"bg-blue-400":"","red"===k.value?"bg-red-400":"","gray"===k.value?"bg-gray-400":""])},null,2),d("span",{class:f(["relative inline-flex rounded-full h-2.5 w-2.5","green"===k.value?"bg-green-500":"","blue"===k.value?"bg-blue-500":"","red"===k.value?"bg-red-500":"","gray"===k.value?"bg-gray-500":""])},null,2)]),d("span",Se,v(y.value),1)]),a.value&&B.value?(r(),o("div",Ie,[t[3]||(t[3]=d("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Keyingi to'lov",-1)),d("p",{class:f(["text-sm font-semibold",S.value])},v(C.value)+" kundan keyin ",3)])):n("",!0)])]),d("div",He,[L.value.length>0?(r(!0),o(p,{key:0},b(L.value,([e,t])=>{return r(),o("div",{key:e,class:"space-y-1.5"},[d("div",Le,[d("span",Te,v(t.label),1),d("span",De,v(I(t.used))+" / "+v(I(t.limit)),1)]),d("div",Ze,[d("div",{class:f(["h-full rounded-full transition-all duration-500",(a=t.percent,s=t.is_exceeded,l=t.is_warning,s||l||a>=90?"bg-red-500":a>=70?"bg-amber-500":"bg-blue-500")]),style:w({width:Math.min(t.percent,100)+"%"})},null,6)])]);var a,s,l}),128)):a.value?(r(),o("div",Oe,[...t[4]||(t[4]=[d("svg",{class:"w-8 h-8 mx-auto mb-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),x(" Barcha limitlar cheksiz ",-1)])])):(r(),o("div",Ue,[t[6]||(t[6]=d("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[7]||(t[7]=d("p",{class:"text-gray-500 dark:text-gray-400 text-sm mb-3"},"Obuna mavjud emas",-1)),c(u(_),{href:"/business/billing/plans",class:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all"},{default:i(()=>[...t[5]||(t[5]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),x(" Tariflarni ko'rish ",-1)])]),_:1})]))]),H.value&&a.value?(r(),o("div",Ve,[d("div",Ne,[t[9]||(t[9]=d("div",{class:"flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),d("span",{class:"text-sm font-medium text-red-700 dark:text-red-300"},"Limit tugamoqda!")],-1)),c(u(_),{href:"/business/billing/plans",class:"px-3 py-1.5 text-xs font-semibold text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 border border-red-200 dark:border-red-700 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors"},{default:i(()=>[...t[8]||(t[8]=[x(" Limitni oshirish ",-1)])]),_:1})])])):n("",!0)]);var s}}},Re={class:"flex items-center justify-between flex-wrap gap-4"},Pe={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},Fe={class:"mt-2 text-gray-600 dark:text-gray-400 flex items-center"},Ee={class:"font-medium"},We={class:"flex gap-3"},qe={key:0,class:"lg:col-span-1"},Ye={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Je={class:"relative overflow-hidden bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"},Qe={class:"relative p-6"},Ke={class:"text-purple-100 text-sm font-medium mb-1"},Xe={key:0,class:"text-white text-3xl font-bold animate-pulse"},$e={key:1,class:"text-white text-3xl font-bold"},et={class:"relative overflow-hidden bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"},tt={class:"relative p-6"},at={class:"text-green-100 text-sm font-medium mb-1"},st={key:0,class:"text-white text-3xl font-bold animate-pulse"},lt={key:1,class:"text-white text-3xl font-bold"},rt={class:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"},it={class:"relative p-6"},ot={class:"text-blue-100 text-sm font-medium mb-1"},nt={key:0,class:"text-white text-3xl font-bold animate-pulse"},dt={key:1,class:"text-white text-3xl font-bold"},ct={class:"relative overflow-hidden bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"},ut={class:"relative p-6"},xt={class:"text-orange-100 text-sm font-medium mb-1"},vt={key:0,class:"text-white text-3xl font-bold animate-pulse"},ht={key:1,class:"text-white text-3xl font-bold"},mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6"},gt={class:"flex flex-col"},pt={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},bt={class:"text-sm text-gray-500 dark:text-gray-400"},ft={class:"mt-3 text-xs text-gray-600 dark:text-gray-400"},wt={class:"font-medium"},yt={class:"flex flex-col"},kt={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},_t={class:"text-sm text-gray-500 dark:text-gray-400"},jt={class:"mt-3 flex items-center"},Mt={class:"flex flex-col"},Ct={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},Bt={class:"text-sm text-gray-500 dark:text-gray-400"},zt={class:"mt-3 flex items-center"},At={class:"flex flex-col"},St={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},It={class:"text-sm text-gray-500 dark:text-gray-400"},Ht={class:"mt-3 text-xs text-gray-600 dark:text-gray-400"},Lt={class:"flex flex-col"},Tt={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},Dt={class:"text-sm text-gray-500 dark:text-gray-400"},Zt={class:"mt-3 text-xs text-gray-600 dark:text-gray-400"},Ot={class:"font-medium"},Ut={class:"space-y-3"},Vt={class:"flex justify-between items-center"},Nt={class:"text-sm text-gray-600 dark:text-gray-400"},Gt={class:"font-semibold text-gray-900 dark:text-gray-100"},Rt={class:"flex justify-between items-center"},Pt={class:"text-sm text-gray-600 dark:text-gray-400"},Ft={class:"font-semibold text-gray-900 dark:text-gray-100"},Et={class:"flex justify-between items-center"},Wt={class:"text-sm text-gray-600 dark:text-gray-400"},qt={class:"font-semibold text-gray-900 dark:text-gray-100"},Yt={key:0,class:"overflow-x-auto"},Jt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Qt={class:"bg-gray-50 dark:bg-gray-700"},Kt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},Xt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},$t={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},ea={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ta={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},aa={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},sa={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},la={key:1,class:"text-center py-12 text-gray-400"},ra={__name:"Dashboard",props:{stats:Object,kpis:Object,roasBenchmark:Object,ltvCacBenchmark:Object,salesTrend:Array,moduleStats:Object,currentBusiness:Object,lazyLoad:{type:Boolean,default:!1},revenueForecast:Array,aiInsights:Array,recentActivities:Array,activeAlertsCount:{type:Number,default:0},subscriptionStatus:{type:Object,default:null}},setup(h){const{t:m}=M(),g=h,w=a(!1),k=a({stats:null,kpis:null,roasBenchmark:null,ltvCacBenchmark:null,salesTrend:null,moduleStats:null,revenueForecast:null,aiInsights:null,recentActivities:null}),A={color:"blue",label:"Yuklanmoqda..."},S={color:"blue",label:"Yuklanmoqda..."},I={cac:0,clv:0,ltv_cac_ratio:0,roas:0,roi:0,payback_period:0,churn_rate:0,nps:0,mrr:0,arr:0},H={dream_buyers:0,marketing_channels:0,active_offers:0},L=s(()=>!0===g.subscriptionStatus?.is_trial),T=s(()=>k.value.stats||g.stats||{total_leads:0,total_customers:0,total_revenue:0,conversion_rate:0}),D=s(()=>k.value.kpis||g.kpis||I),Z=s(()=>k.value.roasBenchmark||g.roasBenchmark||A),O=s(()=>k.value.ltvCacBenchmark||g.ltvCacBenchmark||S),U=s(()=>k.value.salesTrend||g.salesTrend||[]),V=s(()=>k.value.moduleStats||g.moduleStats||H);s(()=>k.value.revenueForecast||g.revenueForecast||[]),s(()=>k.value.aiInsights||g.aiInsights||[]),s(()=>k.value.recentActivities||g.recentActivities||[]);y(()=>{g.lazyLoad&&(async()=>{if(g.lazyLoad){w.value=!0;try{const e=await j.get("/business/api/dashboard/initial");e.data&&(k.value={stats:e.data.stats,kpis:e.data.kpis,roasBenchmark:e.data.roasBenchmark,ltvCacBenchmark:e.data.ltvCacBenchmark,salesTrend:e.data.salesTrend,moduleStats:e.data.moduleStats,revenueForecast:e.data.revenueForecast,aiInsights:e.data.aiInsights,recentActivities:e.data.recentActivities})}catch(e){}finally{w.value=!1}}})()});const N=e=>e?B(e,m("common.currency")):"0 "+m("common.currency");return(a,s)=>(r(),l(e,{title:u(m)("nav.dashboard")},{default:i(()=>[c(R),c(pe),d("div",{class:f(["grid grid-cols-1 gap-6 mb-8",L.value?"":"lg:grid-cols-4"])},[d("div",{class:f(L.value?"":"lg:col-span-3")},[d("div",Re,[d("div",null,[d("h2",Pe,v(u(m)("dashboard.welcome"))+", "+v(a.$page.props.auth?.user?.name)+"! ",1),d("p",Fe,[s[0]||(s[0]=d("svg",{class:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),d("span",Ee,v(h.currentBusiness?.name),1)])]),d("div",We,[c(u(_),{href:a.route("business.sales.index"),class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-lg text-sm font-medium text-white hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 hover:shadow-xl"},{default:i(()=>[s[1]||(s[1]=d("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),x(" "+v(u(m)("common.leads")),1)]),_:1},8,["href"])])])],2),L.value?n("",!0):(r(),o("div",qe,[c(Ge,{"subscription-status":h.subscriptionStatus},null,8,["subscription-status"])]))],2),d("div",Ye,[d("div",Je,[s[3]||(s[3]=d("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"},null,-1)),d("div",Qe,[s[2]||(s[2]=d("div",{class:"flex items-center justify-between mb-4"},[d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),d("p",Ke,v(u(m)("dashboard.total_leads")),1),w.value?(r(),o("p",Xe,"---")):(r(),o("p",$e,v(u(C)(T.value.total_leads)),1))])]),d("div",et,[s[5]||(s[5]=d("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"},null,-1)),d("div",tt,[s[4]||(s[4]=d("div",{class:"flex items-center justify-between mb-4"},[d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])])],-1)),d("p",at,v(u(m)("dashboard.customers")),1),w.value?(r(),o("p",st,"---")):(r(),o("p",lt,v(u(C)(T.value.total_customers)),1))])]),d("div",rt,[s[7]||(s[7]=d("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"},null,-1)),d("div",it,[s[6]||(s[6]=d("div",{class:"flex items-center justify-between mb-4"},[d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),d("p",ot,v(u(m)("dashboard.revenue_30d")),1),w.value?(r(),o("p",nt,"---")):(r(),o("p",dt,v(N(T.value.total_revenue)),1))])]),d("div",ct,[s[9]||(s[9]=d("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"},null,-1)),d("div",ut,[s[8]||(s[8]=d("div",{class:"flex items-center justify-between mb-4"},[d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),d("p",xt,v(u(m)("dashboard.conversion")),1),w.value?(r(),o("p",vt,"---")):(r(),o("p",ht,v(T.value.conversion_rate)+"%",1))])])]),d("div",mt,[c(t,{title:u(m)("dashboard.cac")},{default:i(()=>[d("div",gt,[d("div",pt,v(N(D.value.cac)),1),d("p",bt,v(u(m)("dashboard.cac_desc")),1),d("div",ft,[d("span",wt,v(u(m)("dashboard.benchmark"))+":",1),x(" "+v(u(m)("dashboard.cac_benchmark")),1)])])]),_:1},8,["title"]),c(t,{title:u(m)("dashboard.clv")},{default:i(()=>[d("div",yt,[d("div",kt,v(N(D.value.clv)),1),d("p",_t,v(u(m)("dashboard.clv_desc")),1),d("div",jt,[s[10]||(s[10]=d("span",{class:"text-xs font-medium mr-2 text-gray-600 dark:text-gray-400"},"LTV/CAC Ratio:",-1)),d("span",{class:f(["px-2 py-1 rounded text-xs font-medium",{"bg-blue-100 text-blue-700":"blue"===O.value.color,"bg-green-100 text-green-700":"green"===O.value.color,"bg-yellow-100 text-yellow-700":"yellow"===O.value.color,"bg-red-100 text-red-700":"red"===O.value.color}])},v(D.value.ltv_cac_ratio)+"x - "+v(O.value.label),3)])])]),_:1},8,["title"]),c(t,{title:u(m)("dashboard.roas")},{default:i(()=>[d("div",Mt,[d("div",Ct,v(D.value.roas)+"x",1),d("p",Bt,v(u(m)("dashboard.roas_desc")),1),d("div",zt,[d("span",{class:f(["px-2 py-1 rounded text-xs font-medium",{"bg-blue-100 text-blue-700":"blue"===Z.value.color,"bg-green-100 text-green-700":"green"===Z.value.color,"bg-yellow-100 text-yellow-700":"yellow"===Z.value.color,"bg-orange-100 text-orange-700":"orange"===Z.value.color,"bg-red-100 text-red-700":"red"===Z.value.color}])},v(Z.value.label),3)])])]),_:1},8,["title"]),c(t,{title:u(m)("dashboard.roi")},{default:i(()=>[d("div",At,[d("div",St,v(D.value.roi)+"%",1),d("p",It,v(u(m)("dashboard.roi_desc")),1),d("div",Ht,[s[11]||(s[11]=d("span",{class:"font-medium"},"Target:",-1)),d("span",{class:f(D.value.roi>=100?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},v(D.value.roi>=100?"✓":"✗")+" > 100% ",3)])])]),_:1},8,["title"]),c(t,{title:u(m)("dashboard.churn_rate")},{default:i(()=>[d("div",Lt,[d("div",Tt,v(D.value.churn_rate)+"%",1),d("p",Dt,v(u(m)("dashboard.churn_desc")),1),d("div",Zt,[d("span",Ot,v(u(m)("dashboard.benchmark"))+":",1),d("span",{class:f(D.value.churn_rate<5?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},v(D.value.churn_rate<5?"✓ "+u(m)("dashboard.good"):"✗ "+u(m)("dashboard.high"))+" (< 5%) ",3)])])]),_:1},8,["title"]),c(t,{title:u(m)("dashboard.module_stats")},{default:i(()=>[d("div",Ut,[d("div",Vt,[d("span",Nt,v(u(m)("dashboard.ideal_customers"))+":",1),d("span",Gt,v(V.value.dream_buyers),1)]),d("div",Rt,[d("span",Pt,v(u(m)("dashboard.marketing_channels"))+":",1),d("span",Ft,v(V.value.marketing_channels),1)]),d("div",Et,[d("span",Wt,v(u(m)("dashboard.active_offers"))+":",1),d("span",qt,v(V.value.active_offers),1)])])]),_:1},8,["title"])]),c(t,{title:u(m)("dashboard.sales_trend")},{default:i(()=>[U.value?.length>0?(r(),o("div",Yt,[d("table",Jt,[d("thead",Qt,[d("tr",null,[d("th",Kt,v(u(m)("dashboard.date")),1),d("th",Xt,v(u(m)("dashboard.sales")),1),d("th",$t,v(u(m)("dashboard.revenue")),1)])]),d("tbody",ea,[(r(!0),o(p,null,b(U.value,e=>{return r(),o("tr",{key:e.date},[d("td",ta,v((t=e.date,z(t))),1),d("td",aa,v(e.count),1),d("td",sa,v(N(e.revenue)),1)]);var t}),128))])])])):(r(),o("div",la,[s[12]||(s[12]=d("svg",{class:"w-12 h-12 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),d("p",null,v(u(m)("dashboard.no_sales")),1)]))]),_:1},8,["title"])]),_:1},8,["title"]))}};export{ra as default};

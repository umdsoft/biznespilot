import{h as e,a as t}from"./chunk-BhZp3z4u.js";import{_ as a}from"./chunk-BDBDdGhv.js";import{a as s,n as r,w as l}from"./chunk-D7SyfRoT.js";import{r as d}from"./chunk-Bsc1JRL5.js";import{r as i}from"./chunk-DCXiFUg-.js";import{r as n}from"./chunk-BEiyPHRW.js";import{a as g}from"./chunk-eMHYSAeQ.js";import{r as o,o as c,v as x,x as u,L as p,y as m,A as v,C as b,B as h,E as k,D as y,I as f,z as w}from"./chunk-CpmtkKLp.js";import"./app-C-ZlocOh.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-BuJDoypK.js";const j={class:"space-y-6"},_={class:"flex items-center justify-between"},B=["disabled"],q={key:0,class:"flex items-center justify-center py-12"},z={key:1,class:"space-y-6"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},K={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},M={class:"flex items-center gap-3"},Q={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center"},$={class:"text-2xl font-bold text-gray-900 dark:text-white"},I={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},O={class:"flex items-center gap-3"},R={class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center"},T={class:"text-2xl font-bold text-green-600"},X={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},Y={class:"flex items-center gap-3"},A={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center"},C={class:"text-2xl font-bold text-blue-600"},D={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},P={class:"flex items-center gap-3"},S={class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl flex items-center justify-center"},E={class:"text-2xl font-bold text-yellow-600"},F={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},J={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},L={class:"flex items-center gap-3 mb-4"},N={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"},W={key:0,class:"space-y-4"},G={class:"flex items-center justify-between"},U={class:"text-2xl font-bold text-purple-600"},V={class:"grid grid-cols-2 gap-3 text-sm"},Z={class:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg"},ee={class:"text-lg font-bold text-green-700 dark:text-green-300"},te={class:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},ae={class:"text-lg font-bold text-red-700 dark:text-red-300"},se={key:1,class:"text-gray-500 dark:text-gray-400 text-center py-4"},re={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},le={class:"flex items-center gap-3 mb-4"},de={class:"w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"},ie={key:0,class:"space-y-4"},ne={class:"grid grid-cols-2 gap-3 text-sm"},ge={class:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},oe={class:"text-lg font-bold text-red-700 dark:text-red-300"},ce={class:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-lg"},xe={class:"text-lg font-bold text-orange-700 dark:text-orange-300"},ue={class:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg"},pe={class:"text-lg font-bold text-yellow-700 dark:text-yellow-300"},me={class:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg"},ve={class:"text-lg font-bold text-green-700 dark:text-green-300"},be={key:1,class:"text-gray-500 dark:text-gray-400 text-center py-4"},he={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},ke={class:"flex items-center gap-3 mb-4"},ye={class:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},fe={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},we={class:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},je={class:"text-2xl font-bold text-gray-900 dark:text-white"},_e={class:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},Be={class:"text-2xl font-bold text-gray-900 dark:text-white"},qe={class:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},ze={class:"text-2xl font-bold text-gray-900 dark:text-white"},He={class:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},Ke={class:"text-2xl font-bold text-gray-900 dark:text-white"},Me={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},Qe={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},$e={href:"/hr/engagement",class:"flex items-center gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors"},Ie={href:"/hr/flight-risk",class:"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors"},Oe={href:"/hr/surveys",class:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors"},Re={href:"/hr/attendance",class:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors"},Te={__name:"Index",props:{currentBusiness:Object},setup(Te){const Xe=Te,Ye=o(!0),Ae=o(null),Ce=o(null),De=o(null),Pe=o(null),Se=o(null),Ee=async()=>{if(Xe.currentBusiness?.id){Ye.value=!0;try{const[e,a,s]=await Promise.all([t.get(`/api/v1/businesses/${Xe.currentBusiness.id}/hr/dashboard`).catch(()=>null),t.get(`/api/v1/businesses/${Xe.currentBusiness.id}/hr/engagement/statistics`).catch(()=>null),t.get(`/api/v1/businesses/${Xe.currentBusiness.id}/hr/flight-risk/statistics`).catch(()=>null)]);e?.data&&(Ae.value=e.data.data?.stats||e.data.stats,Ce.value=e.data.data?.attendance||e.data.attendance,De.value=e.data.data?.leave||e.data.leave),a?.data&&(Pe.value=a.data.data),s?.data&&(Se.value=s.data.data)}catch(e){}finally{Ye.value=!1}}};return c(Ee),(t,o)=>(y(),x(a,{title:"Hisobotlar"},{default:u(()=>[p(v(e),{title:"HR Hisobotlar"}),m("div",j,[m("div",_,[o[1]||(o[1]=m("div",null,[m("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," HR Hisobotlar "),m("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Kadrlar bo'limi uchun umumiy hisobotlar va statistika ")],-1)),m("button",{onClick:Ee,disabled:Ye.value,class:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50"},[p(v(s),{class:k(["w-5 h-5",Ye.value?"animate-spin":""])},null,8,["class"]),o[0]||(o[0]=h(" Yangilash ",-1))],8,B)]),Ye.value?(y(),b("div",q,[p(v(s),{class:"w-8 h-8 animate-spin text-purple-600"}),o[2]||(o[2]=m("span",{class:"ml-3 text-gray-500"},"Yuklanmoqda...",-1))])):(y(),b("div",z,[m("div",H,[m("div",K,[m("div",M,[m("div",Q,[p(v(r),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),m("div",null,[o[3]||(o[3]=m("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jami xodimlar",-1)),m("p",$,w(Ae.value?.total_employees||0),1)])])]),m("div",I,[m("div",O,[m("div",R,[p(v(d),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),m("div",null,[o[4]||(o[4]=m("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Bugun kelganlar",-1)),m("p",T,w(Ce.value?.today_present||0),1)])])]),m("div",X,[m("div",Y,[m("div",A,[p(v(i),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),m("div",null,[o[5]||(o[5]=m("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Ta'tilda",-1)),m("p",C,w(De.value?.on_leave||0),1)])])]),m("div",D,[m("div",P,[m("div",S,[p(v(i),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),m("div",null,[o[6]||(o[6]=m("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Kutilayotgan so'rovlar",-1)),m("p",E,w(De.value?.pending_requests||0),1)])])])]),m("div",F,[m("div",J,[m("div",L,[m("div",N,[p(v(n),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})]),o[7]||(o[7]=m("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Xodimlar Qiziqishi ",-1))]),Pe.value?(y(),b("div",W,[m("div",G,[o[8]||(o[8]=m("span",{class:"text-gray-600 dark:text-gray-400"},"O'rtacha ball",-1)),m("span",U,w(Pe.value.overview?.avg_score?.toFixed(1)||"N/A"),1)]),m("div",V,[m("div",Z,[o[9]||(o[9]=m("div",{class:"text-green-600 dark:text-green-400 font-medium"},"Qiziqgan",-1)),m("div",ee,w((Pe.value.distribution?.highly_engaged?.count||0)+(Pe.value.distribution?.engaged?.count||0)),1)]),m("div",te,[o[10]||(o[10]=m("div",{class:"text-red-600 dark:text-red-400 font-medium"},"Qiziqmagan",-1)),m("div",ae,w(Pe.value.distribution?.disengaged?.count||0),1)])])])):(y(),b("div",se," Ma'lumot mavjud emas ")),o[11]||(o[11]=m("a",{href:"/hr/engagement",class:"mt-4 inline-flex items-center text-sm text-purple-600 hover:text-purple-800 dark:text-purple-400"}," Batafsil ko'rish → ",-1))]),m("div",re,[m("div",le,[m("div",de,[p(v(g),{class:"w-5 h-5 text-orange-600 dark:text-orange-400"})]),o[12]||(o[12]=m("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Ketish Xavfi Tahlili ",-1))]),Se.value?(y(),b("div",ie,[m("div",ne,[m("div",ge,[o[13]||(o[13]=m("div",{class:"text-red-600 dark:text-red-400 font-medium"},"Kritik",-1)),m("div",oe,w(Se.value.by_level?.critical||0),1)]),m("div",ce,[o[14]||(o[14]=m("div",{class:"text-orange-600 dark:text-orange-400 font-medium"},"Yuqori",-1)),m("div",xe,w(Se.value.by_level?.high||0),1)]),m("div",ue,[o[15]||(o[15]=m("div",{class:"text-yellow-600 dark:text-yellow-400 font-medium"},"O'rtacha",-1)),m("div",pe,w(Se.value.by_level?.medium||0),1)]),m("div",me,[o[16]||(o[16]=m("div",{class:"text-green-600 dark:text-green-400 font-medium"},"Past",-1)),m("div",ve,w(Se.value.by_level?.low||0),1)])])])):(y(),b("div",be," Ma'lumot mavjud emas ")),o[17]||(o[17]=m("a",{href:"/hr/flight-risk",class:"mt-4 inline-flex items-center text-sm text-orange-600 hover:text-orange-800 dark:text-orange-400"}," Batafsil ko'rish → ",-1))])]),Ae.value?.departments?(y(),b("div",he,[m("div",ke,[m("div",ye,[p(v(l),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),o[18]||(o[18]=m("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Bo'limlar bo'yicha taqsimot ",-1))]),m("div",fe,[m("div",we,[m("div",je,w(Ae.value.departments?.sales||0),1),o[19]||(o[19]=m("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Sotuv",-1))]),m("div",_e,[m("div",Be,w(Ae.value.departments?.marketing||0),1),o[20]||(o[20]=m("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Marketing",-1))]),m("div",qe,[m("div",ze,w(Ae.value.departments?.finance||0),1),o[21]||(o[21]=m("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Moliya",-1))]),m("div",He,[m("div",Ke,w(Ae.value.departments?.hr||0),1),o[22]||(o[22]=m("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"HR",-1))])])])):f("",!0),m("div",Me,[o[27]||(o[27]=m("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Tezkor havolalar ",-1)),m("div",Qe,[m("a",$e,[p(v(n),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"}),o[23]||(o[23]=m("span",{class:"font-medium text-purple-700 dark:text-purple-300"},"Ishga Qiziqish",-1))]),m("a",Ie,[p(v(g),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"}),o[24]||(o[24]=m("span",{class:"font-medium text-orange-700 dark:text-orange-300"},"Ketish Xavfi",-1))]),m("a",Oe,[p(v(l),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"}),o[25]||(o[25]=m("span",{class:"font-medium text-blue-700 dark:text-blue-300"},"So'rovnomalar",-1))]),m("a",Re,[p(v(d),{class:"w-6 h-6 text-green-600 dark:text-green-400"}),o[26]||(o[26]=m("span",{class:"font-medium text-green-700 dark:text-green-300"},"Davomat",-1))])])])]))])]),_:1}))}};export{Te as default};

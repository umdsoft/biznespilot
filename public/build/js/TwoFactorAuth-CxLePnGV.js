import{r as g,U as z,v as B,x as D,z as t,D as a,L as f,H as o,A as s,E as l,C as F,Q as x,I as b,B as p,J as v}from"./chunk-BcTZxe-J.js";import{u as w,r as h}from"./chunk-BYRtWSr0.js";import{u as M}from"./app-CncQRLgv.js";import"./chunk-C1xeNfMu.js";const q={class:"py-12"},L={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},V={class:"p-6"},$={class:"flex items-center justify-between mb-6"},A={class:"text-2xl font-bold text-gray-900"},R={class:"mt-1 text-sm text-gray-600"},U={key:0,class:"space-y-6"},E={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},H={class:"flex"},N={class:"ml-3"},T={class:"text-sm font-medium text-blue-800"},I={class:"mt-2 text-sm text-blue-700"},O={class:"space-y-4"},P={class:"text-lg font-medium text-gray-900"},Y={class:"space-y-3"},J={class:"flex items-start"},Q={class:"ml-3 text-sm text-gray-600"},Z={class:"flex items-start"},G={class:"ml-3 text-sm text-gray-600"},K={class:"flex items-start"},W={class:"ml-3 text-sm text-gray-600"},X={class:"flex items-start"},tt={class:"ml-3 text-sm text-gray-600"},et={class:"pt-4"},st={key:1,class:"space-y-6"},ot={class:"bg-green-50 border border-green-200 rounded-lg p-6"},it={class:"flex"},rt={class:"ml-3 flex-1"},nt={class:"text-sm font-medium text-green-800"},dt={class:"mt-2 text-sm text-green-700"},lt={class:"bg-white border border-gray-200 rounded-lg divide-y divide-gray-200"},at={class:"p-4 sm:p-6"},ct={class:"flex items-center justify-between"},mt={class:"text-base font-medium text-gray-900"},ut={class:"mt-1 text-sm text-gray-500"},ft={class:"p-4 sm:p-6"},gt={class:"flex items-center justify-between"},xt={class:"text-base font-medium text-gray-900"},bt={class:"mt-1 text-sm text-gray-500"},pt={class:"p-4 sm:p-6"},vt={class:"flex items-center justify-between"},wt={class:"text-base font-medium text-gray-900"},ht={class:"mt-1 text-sm text-gray-500"},_t={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},yt={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},kt={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},jt={key:0,class:"mt-1 text-sm text-red-600"},Ct={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},zt=["disabled"],Bt={key:1,class:"fixed z-10 inset-0 overflow-y-auto"},Dt={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ft={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},Mt={key:0,class:"mt-1 text-sm text-red-600"},qt={class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},Lt=["disabled"],Ut={__name:"TwoFactorAuth",props:{twoFactorData:Object},setup(u){const{t:i}=M(),c=g(!1),m=g(!1),r=w({password:""}),n=w({password:""}),_=()=>{h.visit(route("business.settings.two-factor.setup"))},y=()=>{r.post(route("business.settings.two-factor.disable"),{onSuccess:()=>{c.value=!1,r.reset()}})},k=()=>{h.visit(route("business.settings.two-factor.recovery-codes"))},j=()=>{n.post(route("business.settings.two-factor.recovery-codes.regenerate"),{onSuccess:()=>{m.value=!1,n.reset()}})};return(St,e)=>{const C=z("BusinessLayout");return l(),B(C,{title:s(i)("two_factor.title")},{default:D(()=>[t("div",q,[t("div",L,[t("div",S,[t("div",V,[t("div",$,[t("div",null,[t("h2",A,o(s(i)("two_factor.header")),1),t("p",R,o(s(i)("two_factor.subtitle")),1)])]),!u.twoFactorData||!u.twoFactorData.enabled?(l(),a("div",U,[t("div",E,[t("div",H,[e[8]||(e[8]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",N,[t("h3",T,o(s(i)("two_factor.not_enabled")),1),t("div",I,[t("p",null,o(s(i)("two_factor.not_enabled_desc")),1)])])])]),t("div",O,[t("h3",P,o(s(i)("two_factor.how_it_works")),1),t("div",Y,[t("div",J,[e[9]||(e[9]=t("div",{class:"flex-shrink-0"},[t("div",{class:"flex items-center justify-center h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold"}," 1 ")],-1)),t("p",Q,o(s(i)("two_factor.step1")),1)]),t("div",Z,[e[10]||(e[10]=t("div",{class:"flex-shrink-0"},[t("div",{class:"flex items-center justify-center h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold"}," 2 ")],-1)),t("p",G,o(s(i)("two_factor.step2")),1)]),t("div",K,[e[11]||(e[11]=t("div",{class:"flex-shrink-0"},[t("div",{class:"flex items-center justify-center h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold"}," 3 ")],-1)),t("p",W,o(s(i)("two_factor.step3")),1)]),t("div",X,[e[12]||(e[12]=t("div",{class:"flex-shrink-0"},[t("div",{class:"flex items-center justify-center h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold"}," 4 ")],-1)),t("p",tt,o(s(i)("two_factor.step4")),1)])])]),t("div",et,[t("button",{onClick:_,class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[e[13]||(e[13]=t("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),F(" "+o(s(i)("two_factor.enable")),1)])])])):(l(),a("div",st,[t("div",ot,[t("div",it,[e[14]||(e[14]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",rt,[t("h3",nt,o(s(i)("two_factor.enabled")),1),t("div",dt,[t("p",null,o(s(i)("two_factor.enabled_desc"))+" "+o(s(i)("two_factor.enabled_date"))+": "+o(new Date(u.twoFactorData.enabled_at).toLocaleDateString("uz-UZ")),1)])])])]),t("div",lt,[t("div",at,[t("div",ct,[t("div",null,[t("h3",mt,o(s(i)("two_factor.recovery_codes")),1),t("p",ut,o(u.twoFactorData.recovery_codes_count)+" "+o(s(i)("two_factor.codes_available")),1)]),t("button",{onClick:k,class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},o(s(i)("common.view")),1)])]),t("div",ft,[t("div",gt,[t("div",null,[t("h3",xt,o(s(i)("two_factor.new_recovery_codes")),1),t("p",bt,o(s(i)("two_factor.regenerate_desc")),1)]),t("button",{onClick:e[0]||(e[0]=d=>m.value=!0),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},o(s(i)("two_factor.regenerate")),1)])]),t("div",pt,[t("div",vt,[t("div",null,[t("h3",wt,o(s(i)("two_factor.disable")),1),t("p",ht,o(s(i)("two_factor.disable_desc")),1)]),t("button",{onClick:e[1]||(e[1]=d=>c.value=!0),class:"inline-flex items-center px-4 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},o(s(i)("common.delete")),1)])])])]))])])])]),c.value?(l(),a("div",_t,[t("div",yt,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e[2]||(e[2]=d=>c.value=!1)}),t("div",kt,[e[16]||(e[16]=t("div",null,[t("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[t("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),t("div",{class:"mt-3 text-center sm:mt-5"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," 2FA ni o'chirish "),t("div",{class:"mt-2"},[t("p",{class:"text-sm text-gray-500"}," Hisobingizdan ikki faktorli autentifikatsiyani olib tashlashni xohlaysizmi? Bu hisobingiz xavfsizligini kamaytiradi. ")])])],-1)),t("form",{onSubmit:x(y,["prevent"]),class:"mt-5"},[t("div",null,[e[15]||(e[15]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Parolni tasdiqlang ",-1)),b(t("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=d=>s(r).password=d),type:"password",required:"",class:p(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":s(r).errors.password}])},null,2),[[v,s(r).password]]),s(r).errors.password?(l(),a("p",jt,o(s(r).errors.password),1)):f("",!0)]),t("div",Ct,[t("button",{type:"submit",disabled:s(r).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:col-start-2 sm:text-sm disabled:opacity-50"}," O'chirish ",8,zt),t("button",{type:"button",onClick:e[4]||(e[4]=d=>{c.value=!1,s(r).reset()}),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm"}," Bekor qilish ")])],32)])])])):f("",!0),m.value?(l(),a("div",Bt,[t("div",Dt,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e[5]||(e[5]=d=>m.value=!1)}),t("div",Ft,[e[18]||(e[18]=t("div",null,[t("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100"},[t("svg",{class:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),t("div",{class:"mt-3 text-center sm:mt-5"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Recovery codelarni yangilash "),t("div",{class:"mt-2"},[t("p",{class:"text-sm text-gray-500"}," Eski recovery codelar bekor qilinadi va ular bilan login qilish imkonsiz bo'ladi. Yangi codelarni xavfsiz joyda saqlang. ")])])],-1)),t("form",{onSubmit:x(j,["prevent"]),class:"mt-5"},[t("div",null,[e[17]||(e[17]=t("label",{for:"regen-password",class:"block text-sm font-medium text-gray-700"}," Parolni tasdiqlang ",-1)),b(t("input",{id:"regen-password","onUpdate:modelValue":e[6]||(e[6]=d=>s(n).password=d),type:"password",required:"",class:p(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":s(n).errors.password}])},null,2),[[v,s(n).password]]),s(n).errors.password?(l(),a("p",Mt,o(s(n).errors.password),1)):f("",!0)]),t("div",qt,[t("button",{type:"submit",disabled:s(n).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm disabled:opacity-50"}," Yangilash ",8,Lt),t("button",{type:"button",onClick:e[7]||(e[7]=d=>{m.value=!1,s(n).reset()}),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm"}," Bekor qilish ")])],32)])])])):f("",!0)]),_:1},8,["title"])}}};export{Ut as default};

import{r as a,v as e,x as t,z as r,C as s,Q as l,D as n,E as i,F as o,G as c,B as d,I as u,L as g,_ as m,H as k,y as p,A as b}from"./chunk-7Urb0kxg.js";import{l as y,r as x}from"./chunk-DKkye6wf.js";import{_ as h}from"./chunk-BB8-4400.js";import"./chunk-Dm-LAqtr.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";const v={class:"max-w-4xl mx-auto py-8 px-4"},f={class:"mb-8"},w={key:0,class:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6 text-center"},j={key:1,class:"space-y-3"},A={class:"flex items-center gap-4"},_=["value"],z={class:"flex-1"},B={class:"font-medium text-gray-900 dark:text-white"},C={class:"text-sm text-gray-500 dark:text-gray-400"},S={key:0,class:"text-right"},q={class:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded"},H={class:"block cursor-pointer"},M={class:"flex items-center gap-4"},T={class:"mb-8"},U={key:0,class:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6 text-center"},F={key:1,class:"space-y-3"},I={class:"flex items-center gap-4"},V=["value"],K=["src","alt"],O={key:1,class:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center"},L={class:"text-lg font-bold text-gray-500"},P={class:"flex-1"},Q={class:"font-medium text-gray-900 dark:text-white"},D={class:"text-sm text-gray-500 dark:text-gray-400"},E={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},N={class:"block cursor-pointer"},X={class:"flex items-center gap-4"},G={class:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700"},J=["disabled"],R={key:0,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},W={__name:"SelectSocialAccounts",props:{adAccounts:{type:Array,default:()=>[]},instagramAccounts:{type:Array,default:()=>[]},facebookPages:{type:Array,default:()=>[]},currentBusiness:{type:Object,required:!0}},setup(W){const Y=W,Z=a(Y.adAccounts[0]?.id||null),$=a(Y.instagramAccounts[0]?.id||null),aa=a(!1),ea=a=>a?a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":a.toString():"0",ta=async()=>{if(Z.value||$.value){aa.value=!0;try{const a=await fetch(route("business.settings.social.save-accounts"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")},body:JSON.stringify({selected_ad_account_id:Z.value,selected_instagram_id:$.value})}),e=await a.json();a.ok&&e.success?x.visit(route("business.settings.index"),{preserveState:!1,onSuccess:()=>{}}):alert(e.error||"Xatolik yuz berdi")}catch(a){alert("Tarmoq xatoligi. Qayta urinib ko'ring.")}finally{aa.value=!1}}else alert("Kamida bitta akkaunt tanlashingiz kerak")};return(a,x)=>(i(),e(h,{title:"Akkaunt Tanlash"},{default:t(()=>[r("div",v,[x[12]||(x[12]=r("div",{class:"text-center mb-8"},[r("div",{class:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4"},[r("svg",{class:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})])]),r("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Akkaunt Tanlang "),r("p",{class:"text-gray-600 dark:text-gray-400"},[s(" Quyidagi akkauntlardan "),r("strong",null,"faqat bittasini"),s(" tanlang. Keyinchalik o'zgartirish uchun avval mavjud akkauntni uzishingiz kerak bo'ladi. ")])],-1)),x[13]||(x[13]=r("div",{class:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4 mb-8"},[r("div",{class:"flex items-start gap-3"},[r("svg",{class:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),r("div",null,[r("h3",{class:"font-medium text-amber-800 dark:text-amber-300"},"Muhim!"),r("p",{class:"text-sm text-amber-700 dark:text-amber-400"},[s(" Har bir kategoriyadan faqat "),r("strong",null,"1 ta"),s(" akkaunt ulash mumkin. Tanlangan akkauntning "),r("strong",null,"oxirgi 6 oylik"),s(" ma'lumotlari avtomatik yuklanadi. ")])])])],-1)),r("form",{onSubmit:l(ta,["prevent"])},[r("div",f,[x[6]||(x[6]=r("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[r("span",{class:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},[r("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 24 24"},[r("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})])]),s(" Facebook Ads Account ")],-1)),0===W.adAccounts.length?(i(),n("div",w,[...x[4]||(x[4]=[r("p",{class:"text-gray-500 dark:text-gray-400"},"Hech qanday Ad Account topilmadi",-1)])])):(i(),n("div",j,[(i(!0),n(o,null,c(W.adAccounts,a=>(i(),n("label",{key:a.id,class:"block cursor-pointer"},[r("div",{class:d(["border rounded-xl p-4 transition-all",Z.value===a.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 ring-2 ring-blue-500":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"])},[r("div",A,[u(r("input",{type:"radio",name:"ad_account",value:a.id,"onUpdate:modelValue":x[0]||(x[0]=a=>Z.value=a),class:"w-4 h-4 text-blue-600"},null,8,_),[[m,Z.value]]),r("div",z,[r("p",B,k(a.name),1),r("p",C," ID: "+k(a.id)+" · "+k(a.currency),1)]),a.business_name?(i(),n("div",S,[r("span",q,k(a.business_name),1)])):g("",!0)])],2)]))),128)),r("label",H,[r("div",{class:d(["border rounded-xl p-4 transition-all",null===Z.value?"border-gray-500 bg-gray-50 dark:bg-gray-800 ring-2 ring-gray-400":"border-gray-200 dark:border-gray-700 hover:border-gray-300"])},[r("div",M,[u(r("input",{type:"radio",name:"ad_account",value:null,"onUpdate:modelValue":x[1]||(x[1]=a=>Z.value=a),class:"w-4 h-4 text-gray-600"},null,512),[[m,Z.value]]),x[5]||(x[5]=r("p",{class:"text-gray-600 dark:text-gray-400"},"Ad Account ulamaslik",-1))])],2)])]))]),r("div",T,[x[9]||(x[9]=r("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[r("span",{class:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center"},[r("svg",{class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[r("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})])]),s(" Instagram Business Account ")],-1)),0===W.instagramAccounts.length?(i(),n("div",U,[...x[7]||(x[7]=[r("p",{class:"text-gray-500 dark:text-gray-400"},"Hech qanday Instagram Business Account topilmadi",-1),r("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1"}," Instagram Business Account ulash uchun Facebook Page bilan bog'langan bo'lishi kerak. ",-1)])])):(i(),n("div",F,[(i(!0),n(o,null,c(W.instagramAccounts,a=>(i(),n("label",{key:a.id,class:"block cursor-pointer"},[r("div",{class:d(["border rounded-xl p-4 transition-all",$.value===a.id?"border-pink-500 bg-pink-50 dark:bg-pink-900/20 ring-2 ring-pink-500":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"])},[r("div",I,[u(r("input",{type:"radio",name:"instagram",value:a.id,"onUpdate:modelValue":x[2]||(x[2]=a=>$.value=a),class:"w-4 h-4 text-pink-600"},null,8,V),[[m,$.value]]),a.profile_picture_url?(i(),n("img",{key:0,src:a.profile_picture_url,alt:a.username,class:"w-12 h-12 rounded-full object-cover"},null,8,K)):(i(),n("div",O,[r("span",L,k(a.username?.charAt(0)?.toUpperCase()),1)])),r("div",P,[r("p",Q,"@"+k(a.username),1),r("p",D,k(ea(a.followers_count))+" followers · "+k(ea(a.media_count))+" posts ",1),a.linked_page_name?(i(),n("p",E," Ulangan: "+k(a.linked_page_name),1)):g("",!0)])])],2)]))),128)),r("label",N,[r("div",{class:d(["border rounded-xl p-4 transition-all",null===$.value?"border-gray-500 bg-gray-50 dark:bg-gray-800 ring-2 ring-gray-400":"border-gray-200 dark:border-gray-700 hover:border-gray-300"])},[r("div",X,[u(r("input",{type:"radio",name:"instagram",value:null,"onUpdate:modelValue":x[3]||(x[3]=a=>$.value=a),class:"w-4 h-4 text-gray-600"},null,512),[[m,$.value]]),x[8]||(x[8]=r("p",{class:"text-gray-600 dark:text-gray-400"},"Instagram ulamaslik",-1))])],2)])]))]),r("div",G,[p(b(y),{href:a.route("business.settings.index"),class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"},{default:t(()=>[...x[10]||(x[10]=[s(" Bekor qilish ",-1)])]),_:1},8,["href"]),r("button",{type:"submit",disabled:aa.value||!Z.value&&!$.value,class:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[aa.value?(i(),n("svg",R,[...x[11]||(x[11]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):g("",!0),r("span",null,k(aa.value?"Saqlanmoqda...":"Ulash va Sinxronlash"),1)],8,J)])],32)])]),_:1}))}};export{W as default};

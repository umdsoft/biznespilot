import{r as b,v as B,x as F,y as n,z as e,C as l,D as y,A as r,H as a,F as d,G as M,I as T,Q as p,J as v,K as _}from"./chunk-KPSVwAyv.js";import{u as k,h as V}from"./chunk-BVrjkT6E.js";import{_ as q}from"./chunk-BUfiL3-y.js";import{u as A}from"./app-906_W7J6.js";import{g as N,a as h}from"./chunk-S7b6IQvx.js";import{a as Q}from"./chunk-D-7B8ZCD.js";import{r as w}from"./chunk-CYw1XsNK.js";import{r as D}from"./chunk-CYZ54WJE.js";import{r as j}from"./chunk-Dfha1x8d.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-BgOPVSvg.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-J14gS6og.js";const E={class:"space-y-6"},I={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},K={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},U={class:"text-sm text-gray-500 dark:text-gray-400"},X={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},Y={key:0,class:"divide-y divide-gray-200 dark:divide-gray-700"},G={class:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4"},H={class:"flex-1 space-y-4"},J={class:"flex items-center gap-4"},L={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center"},O={class:"font-semibold text-gray-900 dark:text-gray-100"},P={class:"text-sm text-gray-500 dark:text-gray-400"},W={class:"flex items-center gap-6 text-sm"},Z={class:"flex items-center gap-2"},ee={class:"text-gray-600 dark:text-gray-300"},te={class:"flex items-center gap-2"},se={class:"font-medium text-gray-900 dark:text-gray-100"},re={class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4"},ae={class:"flex items-start gap-2"},oe={class:"flex-1"},de={class:"text-sm text-gray-600 dark:text-gray-400"},le={key:0,class:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400"},ne={key:0},ie={key:1},ge={class:"text-xs text-gray-400"},ye={class:"flex lg:flex-col gap-3"},ce=["onClick"],me=["onClick"],ue={key:1,class:"p-12 text-center text-gray-500 dark:text-gray-400"},xe={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full"},pe={class:"p-6 border-b border-gray-200 dark:border-gray-700"},fe={class:"flex items-center gap-3"},be={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center"},ve={key:0,class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 space-y-2 text-sm"},_e={class:"flex justify-between"},ke={class:"font-medium text-gray-900 dark:text-gray-100"},he={class:"flex justify-between"},we={class:"font-medium text-gray-900 dark:text-gray-100"},je={class:"flex justify-between"},$e={class:"font-medium text-gray-900 dark:text-gray-100"},Ce={class:"flex justify-end gap-3 pt-4"},Se=["disabled"],ze={key:0},Re={key:1},Be={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full"},Fe={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Me={class:"flex items-center gap-3"},Te={class:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center"},Ve={key:0,class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 space-y-2 text-sm"},qe={class:"flex justify-between"},Ae={class:"font-medium text-gray-900 dark:text-gray-100"},Ne={class:"flex justify-between"},Qe={class:"font-medium text-gray-900 dark:text-gray-100"},De={class:"flex justify-end gap-3 pt-4"},Ee=["disabled"],Ie={key:0},Ke={key:1},yt={__name:"Approvals",props:{requests:{type:Array,default:()=>[]}},setup(f){const{t:u}=A(),c=b(!1),m=b(!1),o=b(null),g=k({comments:""}),i=k({reason:"",comments:""}),$=x=>{o.value=x,c.value=!0,g.reset()},C=x=>{o.value=x,m.value=!0,i.reset()},S=()=>{o.value&&g.post(route("hr.leave.approve",o.value.id),{preserveScroll:!0,onSuccess:()=>{c.value=!1,o.value=null,g.reset()}})},z=()=>{o.value&&i.post(route("hr.leave.reject",o.value.id),{preserveScroll:!0,onSuccess:()=>{m.value=!1,o.value=null,i.reset()}})};return(x,t)=>(d(),B(q,{title:r(u)("hr.leave_approvals")},{default:F(()=>[n(r(V),{title:r(u)("hr.leave_approvals")},null,8,["title"]),e("div",E,[e("div",I,[e("div",null,[e("h1",K,a(r(u)("hr.leave_approvals")),1),e("p",U,a(r(u)("hr.leave_requests"))+" ("+a(f.requests.length)+") ",1)])]),e("div",X,[f.requests.length>0?(d(),l("div",Y,[(d(!0),l(M,null,T(f.requests,s=>(d(),l("div",{key:s.id,class:"p-6 hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors"},[e("div",G,[e("div",H,[e("div",J,[e("div",L,[n(r(N),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})]),e("div",null,[e("h3",O,a(s.user.name),1),e("p",P,a(s.leave_type.name),1)])]),e("div",W,[e("div",Z,[n(r(Q),{class:"w-4 h-4 text-gray-400"}),e("span",ee,a(s.start_date_formatted)+" - "+a(s.end_date_formatted),1)]),e("div",te,[n(r(w),{class:"w-4 h-4 text-gray-400"}),e("span",se,a(s.total_days)+" kun ",1)])]),e("div",re,[e("div",ae,[n(r(D),{class:"w-5 h-5 text-gray-400 mt-0.5"}),e("div",oe,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Sababi:",-1)),e("p",de,a(s.reason),1)])])]),s.emergency_contact||s.emergency_phone?(d(),l("div",le,[t[8]||(t[8]=e("span",{class:"font-medium"},"Favqulodda aloqa:",-1)),s.emergency_contact?(d(),l("span",ne,a(s.emergency_contact),1)):y("",!0),s.emergency_phone?(d(),l("span",ie,a(s.emergency_phone),1)):y("",!0)])):y("",!0),e("div",ge," So'rov yuborilgan: "+a(s.created_at),1)]),e("div",ye,[e("button",{onClick:R=>$(s),class:"flex-1 lg:flex-none px-6 py-2.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2"},[n(r(j),{class:"w-5 h-5"}),t[9]||(t[9]=e("span",null,"Tasdiqlash",-1))],8,ce),e("button",{onClick:R=>C(s),class:"flex-1 lg:flex-none px-6 py-2.5 bg-white dark:bg-gray-700 text-red-600 dark:text-red-400 text-sm font-medium rounded-lg border border-red-300 dark:border-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center justify-center gap-2"},[n(r(h),{class:"w-5 h-5"}),t[10]||(t[10]=e("span",null,"Rad etish",-1))],8,me)])])]))),128))])):(d(),l("div",ue,[n(r(w),{class:"w-12 h-12 mx-auto mb-4 opacity-50"}),t[11]||(t[11]=e("p",{class:"text-lg font-medium mb-2"},"Kutilayotgan so'rovlar yo'q",-1)),t[12]||(t[12]=e("p",{class:"text-sm"},"Barcha ta'til so'rovlari ko'rib chiqilgan",-1))]))])]),c.value?(d(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t[2]||(t[2]=p(s=>c.value=!1,["self"]))},[e("div",xe,[e("div",pe,[e("div",fe,[e("div",be,[n(r(j),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),t[13]||(t[13]=e("h3",{class:"text-xl font-bold text-gray-900 dark:text-gray-100"},"Ta'tilni Tasdiqlash",-1))])]),e("form",{onSubmit:p(S,["prevent"]),class:"p-6 space-y-4"},[o.value?(d(),l("div",ve,[e("div",_e,[t[14]||(t[14]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Xodim:",-1)),e("span",ke,a(o.value.user.name),1)]),e("div",he,[t[15]||(t[15]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Sana:",-1)),e("span",we,a(o.value.start_date_formatted)+" - "+a(o.value.end_date_formatted),1)]),e("div",je,[t[16]||(t[16]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Kunlar:",-1)),e("span",$e,a(o.value.total_days)+" kun",1)])])):y("",!0),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Izoh (ixtiyoriy) ",-1)),v(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=s=>r(g).comments=s),rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500",placeholder:"Qo'shimcha izoh yozing..."},null,512),[[_,r(g).comments]])]),e("div",Ce,[e("button",{type:"button",onClick:t[1]||(t[1]=s=>c.value=!1),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600"}," Bekor qilish "),e("button",{type:"submit",disabled:r(g).processing,class:"px-6 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[r(g).processing?(d(),l("span",ze,"Yuklanmoqda...")):(d(),l("span",Re,"Tasdiqlash"))],8,Se)])],32)])])):y("",!0),m.value?(d(),l("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t[6]||(t[6]=p(s=>m.value=!1,["self"]))},[e("div",Be,[e("div",Fe,[e("div",Me,[e("div",Te,[n(r(h),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),t[18]||(t[18]=e("h3",{class:"text-xl font-bold text-gray-900 dark:text-gray-100"},"Ta'tilni Rad Etish",-1))])]),e("form",{onSubmit:p(z,["prevent"]),class:"p-6 space-y-4"},[o.value?(d(),l("div",Ve,[e("div",qe,[t[19]||(t[19]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Xodim:",-1)),e("span",Ae,a(o.value.user.name),1)]),e("div",Ne,[t[20]||(t[20]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Sana:",-1)),e("span",Qe,a(o.value.start_date_formatted)+" - "+a(o.value.end_date_formatted),1)])])):y("",!0),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Rad etish sababi * ",-1)),v(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>r(i).reason=s),required:"",rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-red-500",placeholder:"Nima uchun rad etyapsiz..."},null,512),[[_,r(i).reason]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Qo'shimcha izoh (ixtiyoriy) ",-1)),v(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>r(i).comments=s),rows:"2",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-red-500",placeholder:"Qo'shimcha izoh..."},null,512),[[_,r(i).comments]])]),e("div",De,[e("button",{type:"button",onClick:t[5]||(t[5]=s=>m.value=!1),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600"}," Bekor qilish "),e("button",{type:"submit",disabled:r(i).processing,class:"px-6 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},[r(i).processing?(d(),l("span",Ie,"Yuklanmoqda...")):(d(),l("span",Ke,"Rad Etish"))],8,Ee)])],32)])])):y("",!0)]),_:1},8,["title"]))}};export{yt as default};

import{r as u,b as w,v as C,x as j,z as t,H as e,A as a,C as c,D as g,E as n,B as m,I as y,J as h,K as z,L as B,F as L,G as M}from"./chunk-BcTZxe-J.js";import{_ as V}from"./chunk-DUZ-0JU5.js";import{u as H}from"./app-CPufef6f.js";import"./chunk-D6nU8-nU.js";import"./chunk-BYRtWSr0.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CJsSO8V8.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";import"./chunk-C1xeNfMu.js";const A={class:"py-6"},T={class:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8"},U={class:"mb-6 flex items-center justify-between"},D={class:"text-xl font-semibold text-gray-900 dark:text-white"},I={class:"text-sm text-gray-500 dark:text-gray-400 mt-0.5"},N={class:"flex items-center gap-2"},E=["disabled"],F={class:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},K={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},O={class:"flex items-center gap-3"},S={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Y={class:"text-xs text-gray-500 dark:text-gray-400"},q={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},G={class:"flex items-center gap-3"},J={class:"text-2xl font-semibold text-gray-900 dark:text-white"},X={class:"text-xs text-gray-500 dark:text-gray-400"},$={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},P={class:"flex items-center gap-3"},Q={class:"text-2xl font-semibold text-red-600 dark:text-red-400"},R={class:"text-xs text-gray-500 dark:text-gray-400"},W={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},Z={class:"flex items-center gap-3"},tt={class:"text-2xl font-semibold text-gray-900 dark:text-white"},et={class:"text-xs text-gray-500 dark:text-gray-400"},rt={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},st={class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700"},at={class:"flex flex-wrap items-center gap-3"},ot={class:"flex-1 min-w-[200px]"},dt={class:"relative"},it=["placeholder"],lt={value:""},nt={value:"login"},ct={value:"logout"},gt={value:"create"},pt={value:"update"},xt={value:"delete"},yt={value:"error"},ut={class:"overflow-x-auto"},mt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ht={class:"bg-gray-50 dark:bg-gray-700/50"},_t={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},vt={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},bt={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},kt={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},ft={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},wt={class:"divide-y divide-gray-100 dark:divide-gray-700"},Ct={class:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap"},jt={class:"px-4 py-3 whitespace-nowrap"},zt={class:"flex items-center gap-2"},Bt={class:"w-7 h-7 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"},Lt={class:"text-xs font-medium text-gray-600 dark:text-gray-300"},Mt={class:"text-sm font-medium text-gray-900 dark:text-white"},Vt={class:"text-xs text-gray-500 dark:text-gray-400"},Ht={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},At={class:"px-4 py-3 whitespace-nowrap"},Tt={class:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap"},Ut={key:0},Dt={colspan:"5",class:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400"},It={class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 text-sm text-gray-500 dark:text-gray-400"},Nt={class:"font-medium"},de={__name:"Index",props:{logs:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({today:0,this_week:0,errors:0,active_users:0})}},setup(l){const{t:s}=H(),_=l,p=u(!1),i=u({search:"",type:"",date:""}),x=w(()=>{let d=[..._.logs];if(i.value.search){const r=i.value.search.toLowerCase();d=d.filter(o=>o.description?.toLowerCase().includes(r)||o.user?.name?.toLowerCase().includes(r)||o.user?.email?.toLowerCase().includes(r))}return i.value.type&&(d=d.filter(r=>r.event===i.value.type)),d}),v=d=>({login:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",logout:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300",create:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",update:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",delete:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",error:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"})[d]||"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300",b=d=>({login:"Kirish",logout:"Chiqish",create:"Yaratish",update:"Yangilash",delete:"O'chirish",error:"Xato"})[d]||d,k=()=>{p.value=!0,window.location.reload()},f=()=>{window.location.href="/dashboard/activity-logs/export"};return(d,r)=>(n(),C(V,{title:a(s)("admin.activity_logs.title")},{default:j(()=>[t("div",A,[t("div",T,[t("div",U,[t("div",null,[t("h1",D,e(a(s)("admin.activity_logs.title")),1),t("p",I,e(a(s)("admin.activity_logs.subtitle")),1)]),t("div",N,[t("button",{onClick:f,class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[r[3]||(r[3]=t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),c(" "+e(a(s)("admin.common.export")),1)]),t("button",{onClick:k,disabled:p.value,class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors disabled:opacity-50"},[(n(),g("svg",{class:m(["w-4 h-4",p.value?"animate-spin":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...r[4]||(r[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),c(" "+e(a(s)("admin.analytics.refresh")),1)],8,E)])]),t("div",F,[t("div",K,[t("div",O,[r[5]||(r[5]=t("div",{class:"w-10 h-10 bg-blue-50 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",null,[t("p",S,e(l.stats.today),1),t("p",Y,e(a(s)("admin.activity_logs.today")),1)])])]),t("div",q,[t("div",G,[r[6]||(r[6]=t("div",{class:"w-10 h-10 bg-green-50 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",null,[t("p",J,e(l.stats.this_week),1),t("p",X,e(a(s)("admin.activity_logs.this_week")),1)])])]),t("div",$,[t("div",P,[r[7]||(r[7]=t("div",{class:"w-10 h-10 bg-red-50 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),t("div",null,[t("p",Q,e(l.stats.errors),1),t("p",R,e(a(s)("admin.activity_logs.errors")),1)])])]),t("div",W,[t("div",Z,[r[8]||(r[8]=t("div",{class:"w-10 h-10 bg-purple-50 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})])],-1)),t("div",null,[t("p",tt,e(l.stats.active_users),1),t("p",et,e(a(s)("admin.activity_logs.active_users")),1)])])])]),t("div",rt,[t("div",st,[t("div",at,[t("div",ot,[t("div",dt,[y(t("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>i.value.search=o),type:"text",placeholder:a(s)("admin.activity_logs.search_placeholder"),class:"w-full pl-9 pr-3 py-2 text-sm border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},null,8,it),[[h,i.value.search]]),r[9]||(r[9]=t("svg",{class:"w-4 h-4 text-gray-400 absolute left-3 top-2.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),y(t("select",{"onUpdate:modelValue":r[1]||(r[1]=o=>i.value.type=o),class:"px-3 py-2 text-sm border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},[t("option",lt,e(a(s)("admin.activity_logs.all_types")),1),t("option",nt,e(a(s)("admin.activity_logs.type_login")),1),t("option",ct,e(a(s)("admin.activity_logs.type_logout")),1),t("option",gt,e(a(s)("admin.activity_logs.type_create")),1),t("option",pt,e(a(s)("admin.activity_logs.type_update")),1),t("option",xt,e(a(s)("admin.activity_logs.type_delete")),1),t("option",yt,e(a(s)("admin.activity_logs.type_error")),1)],512),[[z,i.value.type]]),y(t("input",{"onUpdate:modelValue":r[2]||(r[2]=o=>i.value.date=o),type:"date",class:"px-3 py-2 text-sm border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},null,512),[[h,i.value.date]])])]),t("div",ut,[t("table",mt,[t("thead",ht,[t("tr",null,[t("th",_t,e(a(s)("admin.activity_logs.time")),1),t("th",vt,e(a(s)("admin.activity_logs.user")),1),t("th",bt,e(a(s)("admin.activity_logs.activity")),1),t("th",kt,e(a(s)("admin.activity_logs.type")),1),t("th",ft,e(a(s)("admin.activity_logs.ip")),1)])]),t("tbody",wt,[(n(!0),g(L,null,M(x.value,o=>(n(),g("tr",{key:o.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[t("td",Ct,e(o.created_at),1),t("td",jt,[t("div",zt,[t("div",Bt,[t("span",Lt,e(o.user?.name?.charAt(0).toUpperCase()||"?"),1)]),t("div",null,[t("p",Mt,e(o.user?.name||"Tizim"),1),t("p",Vt,e(o.user?.email||""),1)])])]),t("td",Ht,e(o.description),1),t("td",At,[t("span",{class:m(["px-2 py-0.5 text-xs font-medium rounded",v(o.event)])},e(b(o.event)),3)]),t("td",Tt,e(o.properties?.ip||"-"),1)]))),128)),x.value.length===0?(n(),g("tr",Ut,[t("td",Dt,e(a(s)("admin.activity_logs.not_found")),1)])):B("",!0)])])]),t("div",It,[c(e(a(s)("admin.common.showing"))+": ",1),t("span",Nt,e(x.value.length),1),c(" "+e(a(s)("admin.activity_logs.records")),1)])])])])]),_:1},8,["title"]))}};export{de as default};

import{r as e,v as t,x as a,y as r,z as s,D as l,L as d,A as o,H as n,C as g,E as i,F as p,G as y,B as u,Q as c,I as x,K as m,J as b}from"./chunk-7Urb0kxg.js";import{u as k,h,l as f,r as v}from"./chunk-DKkye6wf.js";import{_ as w}from"./chunk-L0R09JI1.js";import{u as _}from"./app-DFslr8vl.js";import{a as j,r as q}from"./chunk-YGW1Cp7-.js";import{r as T}from"./chunk-ujXbNZhL.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-Di7Oc7TS.js";const S={class:"space-y-6"},U={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},A={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},C={class:"text-sm text-gray-500 dark:text-gray-400"},V={class:"flex items-center gap-3"},B={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},I={class:"flex items-start justify-between mb-3"},z={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Y={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mt-1"},F={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"},K={class:"space-y-1 text-xs text-gray-500 dark:text-gray-400"},D={class:"flex justify-between"},H={class:"font-medium"},J={class:"flex justify-between"},E={class:"font-medium text-red-600 dark:text-red-400"},G={class:"flex justify-between"},L={class:"font-medium text-yellow-600 dark:text-yellow-400"},N={key:0,class:"col-span-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl p-8 text-center"},Q={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},R={key:0,class:"overflow-x-auto"},M={class:"w-full"},O={class:"divide-y divide-gray-200 dark:divide-gray-700"},P={class:"px-6 py-4 whitespace-nowrap"},W={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},X={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},$={class:"px-6 py-4 whitespace-nowrap"},ee={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},te={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate"},ae={class:"px-6 py-4 whitespace-nowrap"},re={class:"px-6 py-4 whitespace-nowrap text-sm"},se=["onClick"],le={key:1,class:"text-gray-400"},de={key:1,class:"p-12 text-center text-gray-500 dark:text-gray-400"},oe={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},ne=["value"],ge={class:"grid grid-cols-2 gap-4"},ie={class:"grid grid-cols-2 gap-4"},pe={class:"flex justify-end gap-3 pt-4"},ye=["disabled"],ue={key:0},ce={key:1},xe={__name:"Index",props:{requests:{type:Array,default:()=>[]},balances:{type:Array,default:()=>[]},leaveTypes:{type:Array,default:()=>[]},selectedUserId:{type:String,default:null},selectedStatus:{type:String,default:null},selectedYear:{type:Number,default:(new Date).getFullYear()}},setup(xe){const{t:me}=_(),be=e(!1);e(!1),e(null);const ke=k({leave_type_id:"",start_date:"",end_date:"",reason:"",notes:"",emergency_contact:"",emergency_phone:""}),he=()=>{ke.post(route("hr.leave.store"),{preserveScroll:!0,onSuccess:()=>{be.value=!1,ke.reset()}})};return(e,k)=>(i(),t(w,{title:o(me)("hr.leave")},{default:a(()=>[r(o(h),{title:o(me)("hr.leave_management")},null,8,["title"]),s("div",S,[s("div",U,[s("div",null,[s("h1",A,n(o(me)("hr.leave_management")),1),s("p",C,n(o(me)("hr.leave_subtitle")),1)]),s("div",V,[r(o(f),{href:e.route("hr.leave.calendar"),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},{default:a(()=>[r(o(j),{class:"w-5 h-5 inline mr-2"}),g(" "+n(o(me)("hr.leave_calendar")),1)]),_:1},8,["href"]),s("button",{onClick:k[0]||(k[0]=e=>be.value=!0),class:"px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2"},[r(o(T),{class:"w-5 h-5"}),g(" "+n(o(me)("hr.request_leave")),1)])])]),s("div",B,[(i(!0),l(p,null,y(xe.balances,e=>(i(),l("div",{key:e.id,class:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700"},[s("div",I,[s("div",null,[s("p",z,n(e.leave_type.name),1),s("p",Y,n(e.available_days),1)]),s("div",F,[r(o(q),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])]),s("div",K,[s("div",D,[k[9]||(k[9]=s("span",null,"Jami:",-1)),s("span",H,n(e.total_days)+" kun",1)]),s("div",J,[k[10]||(k[10]=s("span",null,"Ishlatilgan:",-1)),s("span",E,n(e.used_days)+" kun",1)]),s("div",G,[k[11]||(k[11]=s("span",null,"Kutilmoqda:",-1)),s("span",L,n(e.pending_days)+" kun",1)])])]))),128)),0===xe.balances.length?(i(),l("div",N,[r(o(q),{class:"w-12 h-12 mx-auto text-gray-400 mb-3"}),k[12]||(k[12]=s("p",{class:"text-gray-500 dark:text-gray-400"},"Ta'til balanslari topilmadi",-1))])):d("",!0)]),s("div",Q,[k[15]||(k[15]=s("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[s("h2",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Ta'til So'rovlari")],-1)),xe.requests.length>0?(i(),l("div",R,[s("table",M,[k[13]||(k[13]=s("thead",{class:"bg-gray-50 dark:bg-gray-900/50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Turi"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Boshlanish"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Tugash"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Kunlar"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sabab"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Holat"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Amallar")])],-1)),s("tbody",O,[(i(!0),l(p,null,y(xe.requests,e=>{return i(),l("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-900/50"},[s("td",P,[s("span",W,n(e.leave_type.name),1)]),s("td",X,n(e.start_date_formatted),1),s("td",Z,n(e.end_date_formatted),1),s("td",$,[s("span",ee,n(e.total_days)+" kun ",1)]),s("td",te,n(e.reason),1),s("td",ae,[s("span",{class:u(["px-2 py-1 text-xs font-medium rounded-full",(t=e.status,{pending:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400",approved:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",rejected:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400",cancelled:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}[t]||"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300")])},n(e.status_label),3)]),s("td",re,["pending"===e.status?(i(),l("button",{key:0,onClick:t=>(e=>{confirm("Ta'til so'rovini bekor qilmoqchimisiz?")&&v.post(route("hr.leave.cancel",e.id),{},{preserveScroll:!0})})(e),class:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300"}," Bekor qilish ",8,se)):(i(),l("span",le,"-"))])]);var t}),128))])])])):(i(),l("div",de,[r(o(j),{class:"w-12 h-12 mx-auto mb-4 opacity-50"}),k[14]||(k[14]=s("p",null,"Ta'til so'rovlari topilmadi",-1))]))])]),be.value?(i(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:k[8]||(k[8]=c(e=>be.value=!1,["self"]))},[s("div",oe,[k[23]||(k[23]=s("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[s("h3",{class:"text-xl font-bold text-gray-900 dark:text-gray-100"},"Ta'til So'rash")],-1)),s("form",{onSubmit:c(he,["prevent"]),class:"p-6 space-y-4"},[s("div",null,[k[17]||(k[17]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Ta'til Turi * ",-1)),x(s("select",{"onUpdate:modelValue":k[1]||(k[1]=e=>o(ke).leave_type_id=e),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500"},[k[16]||(k[16]=s("option",{value:""},"Tanlang",-1)),(i(!0),l(p,null,y(xe.leaveTypes,e=>(i(),l("option",{key:e.id,value:e.id},n(e.name),9,ne))),128))],512),[[m,o(ke).leave_type_id]])]),s("div",ge,[s("div",null,[k[18]||(k[18]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Boshlanish Sanasi * ",-1)),x(s("input",{"onUpdate:modelValue":k[2]||(k[2]=e=>o(ke).start_date=e),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500"},null,512),[[b,o(ke).start_date]])]),s("div",null,[k[19]||(k[19]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Tugash Sanasi * ",-1)),x(s("input",{"onUpdate:modelValue":k[3]||(k[3]=e=>o(ke).end_date=e),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500"},null,512),[[b,o(ke).end_date]])])]),s("div",null,[k[20]||(k[20]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Sababi * ",-1)),x(s("textarea",{"onUpdate:modelValue":k[4]||(k[4]=e=>o(ke).reason=e),required:"",rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500",placeholder:"Ta'til sababini yozing..."},null,512),[[b,o(ke).reason]])]),s("div",ie,[s("div",null,[k[21]||(k[21]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Favqulodda Aloqa ",-1)),x(s("input",{"onUpdate:modelValue":k[5]||(k[5]=e=>o(ke).emergency_contact=e),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500",placeholder:"Ism"},null,512),[[b,o(ke).emergency_contact]])]),s("div",null,[k[22]||(k[22]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Telefon Raqami ",-1)),x(s("input",{"onUpdate:modelValue":k[6]||(k[6]=e=>o(ke).emergency_phone=e),type:"tel",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500",placeholder:"+998"},null,512),[[b,o(ke).emergency_phone]])])]),s("div",pe,[s("button",{type:"button",onClick:k[7]||(k[7]=e=>be.value=!1),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600"}," Bekor qilish "),s("button",{type:"submit",disabled:o(ke).processing,class:"px-6 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed"},[o(ke).processing?(i(),l("span",ue,"Yuklanmoqda...")):(i(),l("span",ce,"Yuborish"))],8,ye)])],32)])])):d("",!0)]),_:1},8,["title"]))}};export{xe as default};

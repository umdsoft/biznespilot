import{r as e}from"./chunk-DKkye6wf.js";import{_ as r}from"./chunk-k4W8urQJ.js";import{r as t,v as a,x as s,z as l,D as o,L as n,E as i,H as d,S as u,F as c,G as g,B as m,C as h}from"./chunk-7Urb0kxg.js";import"./chunk-Dm-LAqtr.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-DmCyVuil.js";import"./chunk-Be6I8nOg.js";import"./chunk-DpGbuIFK.js";import"./chunk-78n7fhob.js";const p={class:"max-w-4xl mx-auto"},b={key:0,class:"mb-8"},k={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},x={class:"flex items-center justify-between mb-4"},y={class:"text-sm text-emerald-600 font-medium"},v={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4"},f={class:"flex flex-wrap gap-2"},w={class:"mb-8"},j={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z=["onClick"],_={key:0,class:"absolute -top-2 -right-2"},C={key:1,class:"absolute top-4 right-4"},B={class:"text-lg font-bold text-gray-900 dark:text-white mb-2"},S={class:"text-sm text-gray-600 dark:text-gray-400 mb-4"},M={class:"flex flex-wrap gap-3"},q={class:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},I={class:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400"},K={class:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"},L={class:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700"},P={class:"text-xs text-gray-500 dark:text-gray-400"},T={key:0,class:"text-xs text-gray-400 ml-2"},V={class:"flex justify-center"},H=["disabled"],A={key:0,class:"flex items-center"},O={key:1,class:"flex items-center"},F={__name:"Setup",props:{progress:Object,templates:Array,steps:Object,industries:Object,panelType:String},setup(F){const D=t(null),E=t(!1),G=e=>{const r={it_services:"bg-blue-100 dark:bg-blue-900/30",retail:"bg-emerald-100 dark:bg-emerald-900/30",wholesale:"bg-purple-100 dark:bg-purple-900/30",education:"bg-yellow-100 dark:bg-yellow-900/30",real_estate:"bg-orange-100 dark:bg-orange-900/30",finance:"bg-green-100 dark:bg-green-900/30",healthcare:"bg-red-100 dark:bg-red-900/30",manufacturing:"bg-gray-100 dark:bg-gray-900/30",hospitality:"bg-pink-100 dark:bg-pink-900/30",other:"bg-indigo-100 dark:bg-indigo-900/30"};return r[e]||r.other},J=e=>{const r={it_services:"ðŸ’»",retail:"ðŸ›’",wholesale:"ðŸ“¦",education:"ðŸŽ“",real_estate:"ðŸ ",finance:"ðŸ’°",healthcare:"ðŸ¥",manufacturing:"ðŸ­",hospitality:"ðŸ¨",other:"ðŸ“Š"};return r[e]||r.other},Q=()=>{D.value&&(E.value=!0,e.post("/sales-head/sales-kpi/apply-template",{template_id:D.value},{onFinish:()=>{E.value=!1}}))};return(e,t)=>(i(),a(r,{title:"KPI Sozlash"},{default:s(()=>[l("div",p,[t[9]||(t[9]=l("div",{class:"text-center mb-12"},[l("div",{class:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-6"},[l("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),l("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-3"}," KPI Tizimini Sozlash "),l("p",{class:"text-gray-600 dark:text-gray-400 max-w-xl mx-auto"}," Sotuv jamoangiz uchun professional KPI, Bonus va Jarima tizimini bir necha daqiqada sozlang. Tayyor shablonlardan birini tanlang yoki o'zingizning sozlamalaringizni yarating. ")],-1)),F.progress&&"in_progress"===F.progress.status?(i(),o("div",b,[l("div",k,[l("div",x,[t[0]||(t[0]=l("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Sozlash jarayoni",-1)),l("span",y,d(F.progress.progress_percent)+"%",1)]),l("div",v,[l("div",{class:"bg-emerald-500 h-2 rounded-full transition-all",style:u({width:F.progress.progress_percent+"%"})},null,4)]),l("div",f,[(i(!0),o(c,null,g(F.steps,(e,r)=>(i(),o("span",{key:r,class:m(["px-3 py-1 rounded-full text-xs font-medium",F.progress.completed_steps?.includes(r)?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":F.progress.current_step===r?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400"])},d(e.name),3))),128))])])])):n("",!0),l("div",w,[t[6]||(t[6]=l("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6"}," Shablonni tanlang ",-1)),l("div",j,[(i(!0),o(c,null,g(F.templates,e=>(i(),o("div",{key:e.id,onClick:r=>D.value=e.id,class:m(["relative bg-white dark:bg-gray-800 rounded-xl border-2 p-6 cursor-pointer transition-all hover:shadow-lg",D.value===e.id?"border-emerald-500 ring-2 ring-emerald-500/20":"border-gray-200 dark:border-gray-700 hover:border-emerald-300"])},[e.is_featured?(i(),o("div",_,[...t[1]||(t[1]=[l("span",{class:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg"}," Tavsiya ",-1)])])):n("",!0),D.value===e.id?(i(),o("div",C,[...t[2]||(t[2]=[l("div",{class:"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center"},[l("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):n("",!0),l("div",{class:m(["w-14 h-14 rounded-xl flex items-center justify-center mb-4 text-2xl",G(e.industry)])},d(e.icon||J(e.industry)),3),l("h3",B,d(e.name),1),l("p",S,d(e.description),1),l("div",M,[l("span",q,[t[3]||(t[3]=l("svg",{class:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),h(" "+d(e.kpi_count)+" KPI ",1)]),l("span",I,[t[4]||(t[4]=l("svg",{class:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),h(" "+d(e.bonus_count)+" Bonus ",1)]),l("span",K,[t[5]||(t[5]=l("svg",{class:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),h(" "+d(e.penalty_rules_count)+" Qoida ",1)])]),l("div",L,[l("span",P,d(e.industry_label),1),e.usage_count>0?(i(),o("span",T," â€¢ "+d(e.usage_count)+" marta ishlatilgan ",1)):n("",!0)])],10,z))),128))])]),l("div",V,[l("button",{onClick:Q,disabled:!D.value||E.value,class:m(["px-8 py-4 rounded-xl font-semibold text-lg transition-all transform",D.value&&!E.value?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white hover:from-emerald-600 hover:to-teal-700 hover:scale-105 shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-500 cursor-not-allowed dark:bg-gray-700 dark:text-gray-400"])},[E.value?(i(),o("span",A,[...t[7]||(t[7]=[l("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),h(" Sozlanmoqda... ",-1)])])):(i(),o("span",O,[...t[8]||(t[8]=[h(" Shablonni qo'llash ",-1),l("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])]))],10,H)]),t[10]||(t[10]=l("div",{class:"mt-8 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-6"},[l("div",{class:"flex"},[l("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),l("div",{class:"ml-4"},[l("h4",{class:"font-semibold text-blue-900 dark:text-blue-100 mb-1"},"Shablonni keyinroq o'zgartirish mumkin"),l("p",{class:"text-sm text-blue-700 dark:text-blue-300"}," Tanlangan shablon sizning biznesingiz uchun boshlang'ich nuqta bo'ladi. Barcha KPI sozlamalari, bonus va jarima qoidalarini keyinroq \"Sozlamalar\" bo'limida o'zgartirishingiz mumkin. ")])])],-1))])]),_:1}))}};export{F as default};

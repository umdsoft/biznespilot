import{b as q,r as x,v as z,x as T,z as e,C as d,D as v,y as u,A as g,E as m,J as l,L as k,R as A,K as p,F as n,G as V,I as U,B as w,H as i,Q as D,M as N}from"./chunk-KPSVwAyv.js";import{l as P,r as M}from"./chunk-BVrjkT6E.js";import{_ as H}from"./chunk-DMP3tXW5.js";import{_ as Q}from"./chunk-C_LZBpOn.js";import{_ as X}from"./chunk-CBVhF47S.js";import{r as G}from"./chunk-J14gS6og.js";import{r as J}from"./chunk-Tj_a7zxz.js";import{a as O}from"./chunk-Dfha1x8d.js";import{r as Y}from"./chunk-BlCINui_.js";import{r as W}from"./chunk-D_ekjwSj.js";import{r as Z}from"./chunk-BTvmXBoH.js";import{r as ee}from"./chunk-CYZ54WJE.js";import"./app-Bx12lrZQ.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-BgOPVSvg.js";import"./chunk-CYw1XsNK.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-D-7B8ZCD.js";const te={class:"mb-8"},re={class:"flex items-center justify-between flex-wrap gap-4"},ae={class:"flex items-center gap-3"},oe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 mb-6"},se={class:"flex flex-wrap gap-4"},le={class:"flex items-center gap-2 cursor-pointer"},ne={class:"flex-1 min-w-[200px]"},ie={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},de={class:"p-4 border-b border-gray-200 dark:border-gray-700"},ue={class:"flex items-center justify-between"},ge={class:"flex items-center gap-2"},pe={key:0,class:"flex items-center gap-1 text-amber-500"},ye={class:"p-4"},me={class:"text-sm text-gray-700 dark:text-gray-300 line-clamp-4"},be={key:0,class:"mt-3 flex flex-wrap gap-1"},xe={key:0,class:"text-xs text-gray-500"},ce={class:"px-4 py-3 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700"},ve={class:"flex items-center justify-between text-sm"},ke={class:"flex items-center gap-4"},fe={class:"flex items-center gap-1 text-gray-600 dark:text-gray-400"},he={class:"flex items-center gap-1 text-gray-600 dark:text-gray-400"},_e={class:"flex items-center gap-1 text-gray-600 dark:text-gray-400"},we={class:"flex items-center gap-1"},Ce={class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex justify-between"},Se=["onClick"],qe=["onClick"],Te={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-12 text-center"},Ve={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},Ue={class:"flex items-center justify-center min-h-screen px-4"},Me={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl p-6"},$e={class:"text-xl font-bold text-gray-900 dark:text-white mb-6"},Be={class:"grid grid-cols-2 gap-4"},Fe={class:"grid grid-cols-4 gap-4"},je={class:"flex justify-end gap-3 pt-4"},Ke=["disabled"],dt={__name:"Templates",props:{templates:{type:Array,default:()=>[]},panelType:{type:String,default:"business"}},setup($){const C=$,B=q(()=>({business:Q,marketing:X})[C.panelType]||H),b=x(!1),f=x(null),c=x(!1),s=x({content_type:"",purpose:"",top_only:!1,search:""}),o=x({content:"",content_type:"post",purpose:"engage",source_url:"",likes_count:0,comments_count:0,shares_count:0,saves_count:0,engagement_rate:0}),F={post:"Post",story:"Story",reel:"Reel",ad:"Reklama",carousel:"Carousel",article:"Maqola"},j={post:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",story:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400",reel:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",ad:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",carousel:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",article:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400"},K={engage:"Faollashtirish",sell:"Sotish",educate:"Ta'lim",inspire:"Ilhomlantirish",announce:"E'lon",entertain:"Ko'ngil ochar"},L={engage:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",sell:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",educate:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",inspire:"bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400",announce:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",entertain:"bg-fuchsia-100 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-400"},S=q(()=>{let a=[...C.templates];if(s.value.content_type&&(a=a.filter(t=>t.content_type===s.value.content_type)),s.value.purpose&&(a=a.filter(t=>t.purpose===s.value.purpose)),s.value.top_only&&(a=a.filter(t=>t.is_top_performer)),s.value.search){const t=s.value.search.toLowerCase();a=a.filter(r=>r.content.toLowerCase().includes(t)||r.hashtags?.some(y=>y.toLowerCase().includes(t)))}return a.sort((t,r)=>(r.performance_score||0)-(t.performance_score||0))}),h=a=>a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":a?.toString()||"0",R=a=>{f.value=a,o.value={content:a.content,content_type:a.content_type,purpose:a.purpose,source_url:a.source_url||"",likes_count:a.likes_count||0,comments_count:a.comments_count||0,shares_count:a.shares_count||0,saves_count:a.saves_count||0,engagement_rate:a.engagement_rate||0},b.value=!0},_=()=>{b.value=!1,f.value=null,o.value={content:"",content_type:"post",purpose:"engage",source_url:"",likes_count:0,comments_count:0,shares_count:0,saves_count:0,engagement_rate:0}},E=async()=>{c.value=!0;try{await axios.post(route("business.marketing.content-ai.templates.store"),o.value),_(),M.reload({only:["templates"]})}catch(a){console.error("Save failed:",a),alert("Xatolik: "+(a.response?.data?.message||a.message))}finally{c.value=!1}},I=async a=>{if(confirm("Bu shablonni o'chirmoqchimisiz?"))try{await axios.delete(route("business.marketing.content-ai.templates.destroy",a.id)),M.reload({only:["templates"]})}catch(t){console.error("Delete failed:",t),alert("Xatolik: "+(t.response?.data?.message||t.message))}};return(a,t)=>(n(),z(N(B.value),{title:"Kontent Shablonlari"},{default:T(()=>[e("div",te,[e("div",re,[e("div",null,[e("div",ae,[u(g(P),{href:a.route("business.marketing.content-ai.index"),class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all"},{default:T(()=>[u(g(G),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})]),_:1},8,["href"]),t[15]||(t[15]=e("div",null,[e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100"}," Kontent Shablonlari "),e("p",{class:"mt-1 text-gray-600 dark:text-gray-400"}," AI uchun namuna kontentlar - ko'proq shablon = yaxshiroq natija ")],-1))])]),e("button",{onClick:t[0]||(t[0]=r=>b.value=!0),class:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all flex items-center gap-2"},[u(g(J),{class:"w-5 h-5"}),t[16]||(t[16]=m(" Shablon qo'shish ",-1))])])]),e("div",oe,[e("div",se,[e("div",null,[l(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.value.content_type=r),class:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"},[...t[17]||(t[17]=[e("option",{value:""},"Barcha turlar",-1),e("option",{value:"post"},"Post",-1),e("option",{value:"story"},"Story",-1),e("option",{value:"reel"},"Reel",-1),e("option",{value:"ad"},"Reklama",-1),e("option",{value:"carousel"},"Carousel",-1),e("option",{value:"article"},"Maqola",-1)])],512),[[k,s.value.content_type]])]),e("div",null,[l(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>s.value.purpose=r),class:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"},[...t[18]||(t[18]=[e("option",{value:""},"Barcha maqsadlar",-1),e("option",{value:"engage"},"Faollashtirish",-1),e("option",{value:"sell"},"Sotish",-1),e("option",{value:"educate"},"Ta'lim",-1),e("option",{value:"inspire"},"Ilhomlantirish",-1),e("option",{value:"announce"},"E'lon",-1),e("option",{value:"entertain"},"Ko'ngil ochar",-1)])],512),[[k,s.value.purpose]])]),e("label",le,[l(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=r=>s.value.top_only=r),class:"w-4 h-4 text-purple-600 rounded border-gray-300 focus:ring-purple-500"},null,512),[[A,s.value.top_only]]),t[19]||(t[19]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Faqat top natijalar",-1))]),e("div",ne,[l(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=r=>s.value.search=r),placeholder:"Qidirish...",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"},null,512),[[p,s.value.search]])])])]),S.value.length?(n(),d("div",ie,[(n(!0),d(V,null,U(S.value,r=>(n(),d("div",{key:r.id,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all"},[e("div",de,[e("div",ue,[e("div",ge,[e("span",{class:w(["px-2 py-1 text-xs rounded-full font-medium",j[r.content_type]])},i(F[r.content_type]),3),e("span",{class:w(["px-2 py-1 text-xs rounded-full font-medium",L[r.purpose]])},i(K[r.purpose]),3)]),r.is_top_performer?(n(),d("div",pe,[u(g(O),{class:"w-4 h-4"}),t[20]||(t[20]=e("span",{class:"text-xs font-medium"},"Top",-1))])):v("",!0)])]),e("div",ye,[e("p",me,i(r.content),1),r.hashtags?.length?(n(),d("div",be,[(n(!0),d(V,null,U(r.hashtags.slice(0,3),y=>(n(),d("span",{key:y,class:"px-1.5 py-0.5 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded"}," #"+i(y),1))),128)),r.hashtags.length>3?(n(),d("span",xe," +"+i(r.hashtags.length-3),1)):v("",!0)])):v("",!0)]),e("div",ce,[e("div",ve,[e("div",ke,[e("span",fe,[u(g(Y),{class:"w-4 h-4"}),m(" "+i(h(r.likes_count)),1)]),e("span",he,[u(g(W),{class:"w-4 h-4"}),m(" "+i(h(r.comments_count)),1)]),e("span",_e,[u(g(Z),{class:"w-4 h-4"}),m(" "+i(h(r.shares_count)),1)])]),e("div",we,[t[21]||(t[21]=e("span",{class:"text-xs text-gray-500"},"Score:",-1)),e("span",{class:w(["font-medium",r.performance_score>=50?"text-green-600":r.performance_score>=25?"text-amber-600":"text-gray-600"])},i(r.performance_score?.toFixed(0)||0),3)])])]),e("div",Ce,[e("button",{onClick:y=>R(r),class:"text-sm text-gray-600 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors"}," Tahrirlash ",8,Se),e("button",{onClick:y=>I(r),class:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors"}," O'chirish ",8,qe)])]))),128))])):(n(),d("div",Te,[u(g(ee),{class:"w-16 h-16 mx-auto text-gray-400 mb-4"}),t[22]||(t[22]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Hali shablon yo'q",-1)),t[23]||(t[23]=e("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},[m(" Eng yaxshi natijaga erishgan postlaringizni shablon sifatida qo'shing."),e("br"),m(" AI shu namunalar asosida yangi kontentlar yaratadi. ")],-1)),e("button",{onClick:t[5]||(t[5]=r=>b.value=!0),class:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all"}," Birinchi shablonni qo'shish ")])),b.value?(n(),d("div",Ve,[e("div",Ue,[e("div",{class:"fixed inset-0 bg-black/50",onClick:_}),e("div",Me,[e("h3",$e,i(f.value?"Shablonni tahrirlash":"Yangi shablon qo'shish"),1),e("form",{onSubmit:D(E,["prevent"]),class:"space-y-4"},[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Kontent * ",-1)),l(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=r=>o.value.content=r),rows:"5",class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500",placeholder:"Post matnini kiriting...",required:""},null,512),[[p,o.value.content]])]),e("div",Be,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Kontent turi ",-1)),l(e("select",{"onUpdate:modelValue":t[7]||(t[7]=r=>o.value.content_type=r),class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[...t[25]||(t[25]=[e("option",{value:"post"},"Post",-1),e("option",{value:"story"},"Story",-1),e("option",{value:"reel"},"Reel",-1),e("option",{value:"ad"},"Reklama",-1),e("option",{value:"carousel"},"Carousel",-1),e("option",{value:"article"},"Maqola",-1)])],512),[[k,o.value.content_type]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Maqsad ",-1)),l(e("select",{"onUpdate:modelValue":t[8]||(t[8]=r=>o.value.purpose=r),class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[...t[27]||(t[27]=[e("option",{value:"engage"},"Faollashtirish",-1),e("option",{value:"sell"},"Sotish",-1),e("option",{value:"educate"},"Ta'lim",-1),e("option",{value:"inspire"},"Ilhomlantirish",-1),e("option",{value:"announce"},"E'lon",-1),e("option",{value:"entertain"},"Ko'ngil ochar",-1)])],512),[[k,o.value.purpose]])])]),e("div",Fe,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Likes",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>o.value.likes_count=r),min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.likes_count,void 0,{number:!0}]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Comments",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=r=>o.value.comments_count=r),min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.comments_count,void 0,{number:!0}]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Shares",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=r=>o.value.shares_count=r),min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.shares_count,void 0,{number:!0}]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Saves",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=r=>o.value.saves_count=r),min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.saves_count,void 0,{number:!0}]])])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Engagement Rate (%) ",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=r=>o.value.engagement_rate=r),min:"0",max:"100",step:"0.1",class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.engagement_rate,void 0,{number:!0}]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Manba URL (ixtiyoriy) ",-1)),l(e("input",{type:"url","onUpdate:modelValue":t[14]||(t[14]=r=>o.value.source_url=r),class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"https://instagram.com/p/..."},null,512),[[p,o.value.source_url]])]),e("div",je,[e("button",{type:"button",onClick:_,class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all"}," Bekor qilish "),e("button",{type:"submit",disabled:c.value,class:"px-6 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-indigo-700 disabled:opacity-50 transition-all"},i(c.value?"Saqlanmoqda...":"Saqlash"),9,Ke)])],32)])])])):v("",!0)]),_:1}))}};export{dt as default};

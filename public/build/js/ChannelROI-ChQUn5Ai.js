import{r as x,o as b,v as w,x as k,y as M,z as t,A as z,D as l,L as u,I as h,J as v,E as i,F as _,H as a,B as g,G as I,C as O}from"./chunk-BcTZxe-J.js";import{h as R,a as V}from"./chunk-BYRtWSr0.js";import{_ as B}from"./chunk-RRYrF3wy.js";import"./chunk-D6nU8-nU.js";import"./app-CPufef6f.js";import"./chunk-C1xeNfMu.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CJsSO8V8.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";const K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},C={class:"mb-6 flex gap-4 items-end"},j={key:0,class:"flex justify-center py-12"},L={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},D={class:"bg-white rounded-lg shadow p-6"},N={class:"text-2xl font-bold text-gray-900"},q={class:"bg-white rounded-lg shadow p-6"},F={class:"text-2xl font-bold text-green-600"},T={class:"bg-white rounded-lg shadow p-6"},U={key:0,class:"bg-white rounded-lg shadow p-6"},E={class:"text-lg font-bold text-indigo-600"},H={class:"text-sm text-gray-500"},J={class:"bg-white rounded-lg shadow overflow-hidden"},S={class:"overflow-x-auto"},A={class:"min-w-full divide-y divide-gray-200"},X={class:"divide-y divide-gray-200"},Y={class:"px-6 py-4 whitespace-nowrap"},G={class:"text-sm font-medium text-gray-900"},Z={class:"text-xs text-gray-500"},$={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900"},P={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-green-600 font-medium"},Q={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900"},W={class:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900"},tt={class:"px-6 py-4 whitespace-nowrap text-right text-sm text-green-600 font-medium"},et={class:"px-6 py-4 whitespace-nowrap text-center"},st={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium text-indigo-600"},at={class:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900"},ot={class:"px-6 py-4 whitespace-nowrap text-center"},rt={class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},it=["d"],lt={key:0,class:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Kt={__name:"ChannelROI",props:{lazyLoad:Boolean},setup(nt){const p=x(!0),r=x(null),d=x(""),m=x(""),y=async()=>{p.value=!0;try{const o={};d.value&&(o.date_from=d.value),m.value&&(o.date_to=m.value);const e=await V.get(route("business.analytics.api.channel-roi"),{params:o});r.value=e.data}catch(o){console.error("Failed to fetch channel ROI:",o)}finally{p.value=!1}};b(()=>{y()});const n=o=>o?new Intl.NumberFormat("uz-UZ").format(o):"0",f=o=>o>200?"text-green-600 bg-green-100":o>100?"text-green-500 bg-green-50":o>0?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",c=o=>{const e={scale_up:{text:"Byudjetni oshiring",color:"bg-green-100 text-green-800",icon:"M5 10l7-7m0 0l7 7m-7-7v18"},maintain:{text:"Davom eting",color:"bg-blue-100 text-blue-800",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},optimize:{text:"Optimizatsiya qiling",color:"bg-yellow-100 text-yellow-800",icon:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"},test_more:{text:"Ko'proq test qiling",color:"bg-gray-100 text-gray-800",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},reduce:{text:"Kamaytiring",color:"bg-red-100 text-red-800",icon:"M19 14l-7 7m0 0l-7-7m7 7V3"}};return e[o]||e.maintain};return(o,e)=>(i(),w(B,{title:"Marketing Kanallar ROI"},{default:k(()=>[M(z(R),{title:"Marketing Kanallar ROI"}),t("div",K,[e[12]||(e[12]=t("div",{class:"mb-8"},[t("h1",{class:"text-2xl font-bold text-gray-900"},"Marketing Kanallar ROI"),t("p",{class:"mt-1 text-sm text-gray-500"},"Har bir marketing kanalingizning qaytimi va samaradorligini kuzating")],-1)),t("div",C,[t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-gray-700"},"Boshlanish",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[v,d.value]])]),t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700"},"Tugash",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>m.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[v,m.value]])]),t("button",{onClick:y,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"}," Yangilash ")]),p.value?(i(),l("div",j,[...e[4]||(e[4]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},null,-1)])])):r.value?(i(),l(_,{key:1},[t("div",L,[t("div",D,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-500"},"Jami xarajat",-1)),t("p",N,a(n(r.value.summary?.total_spend))+" so'm",1)]),t("div",q,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-500"},"Jami daromad",-1)),t("p",F,a(n(r.value.summary?.total_revenue))+" so'm",1)]),t("div",T,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-500"},"Umumiy ROI",-1)),t("p",{class:g(["text-2xl font-bold",r.value.summary?.overall_roi>0?"text-green-600":"text-red-600"])},a(r.value.summary?.overall_roi)+"% ",3)]),r.value.summary?.best_channel?(i(),l("div",U,[e[8]||(e[8]=t("p",{class:"text-sm text-gray-500"},"Eng yaxshi kanal",-1)),t("p",E,a(r.value.summary?.best_channel?.channel_name),1),t("p",H,"ROI: "+a(r.value.summary?.best_channel?.roi)+"%",1)])):u("",!0)]),t("div",J,[e[10]||(e[10]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Kanallar bo'yicha tahlil")],-1)),t("div",S,[t("table",A,[e[9]||(e[9]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kanal"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"Lidlar"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"Yutilgan"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"Konversiya"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Xarajat"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Daromad"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"ROI"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"ROAS"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Lid narxi"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"Tavsiya")])],-1)),t("tbody",X,[(i(!0),l(_,null,I(r.value.channels,s=>(i(),l("tr",{key:s.channel_id,class:"hover:bg-gray-50"},[t("td",Y,[t("div",null,[t("div",G,a(s.channel_name),1),t("div",Z,a(s.channel_type),1)])]),t("td",$,a(s.total_leads),1),t("td",P,a(s.won_leads),1),t("td",Q,a(s.conversion_rate)+"%",1),t("td",W,a(n(s.spend)),1),t("td",tt,a(n(s.revenue)),1),t("td",et,[t("span",{class:g(["px-2 py-1 text-sm font-bold rounded",f(s.roi)])},a(s.roi)+"% ",3)]),t("td",st,a(s.roas)+"x",1),t("td",at,a(n(s.cost_per_lead)),1),t("td",ot,[t("span",{class:g(["inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full",c(s.recommendation).color])},[(i(),l("svg",rt,[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:c(s.recommendation).icon},null,8,it)])),O(" "+a(c(s.recommendation).text),1)],2)])]))),128))])])])]),r.value.summary?.total_spend===0?(i(),l("div",lt,[...e[11]||(e[11]=[t("div",{class:"flex items-start gap-3"},[t("svg",{class:"h-5 w-5 text-yellow-600 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),t("div",null,[t("h4",{class:"font-medium text-yellow-800"},"Xarajat ma'lumotlari yo'q"),t("p",{class:"text-sm text-yellow-700 mt-1"}," ROI ni to'g'ri hisoblash uchun Marketing Kanallar sozlamalarida oylik byudjetni kiriting. Sozlamalar > Marketing Kanallar bo'limiga o'ting. ")])],-1)])])):u("",!0)],64)):u("",!0)])]),_:1}))}};export{Kt as default};

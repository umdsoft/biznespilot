import{_ as e}from"./chunk-DNwbmffR.js";import{b as t,r,C as a,y as s,E as l,L as d,B as o,A as i,z as n,F as g,H as u,J as c,K as x,I as p,D as b,v as m,x as k}from"./chunk-CpmtkKLp.js";import{r as y,h as f}from"./chunk-BhZp3z4u.js";import{r as v}from"./chunk-BiBvtcLb.js";import{r as h}from"./chunk-DCXiFUg-.js";import{r as w}from"./chunk-Bsc1JRL5.js";import{r as j}from"./chunk-eMHYSAeQ.js";import{r as C}from"./chunk-beXL1A--.js";import{d as _}from"./chunk-D7SyfRoT.js";import{u as z}from"./app-C-ZlocOh.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-CAoK8Mdm.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-BuJDoypK.js";import"./chunk-BWiubfpN.js";const P={class:"space-y-6"},q={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},B={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},$={class:"flex items-center gap-3"},J={class:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center"},O={class:"text-2xl font-bold text-gray-900 dark:text-white"},S={class:"flex items-center gap-3"},K={class:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center"},T={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},A={class:"flex items-center gap-3"},V={class:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},H={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},I={class:"flex items-center gap-3"},M={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},Y={class:"text-2xl font-bold text-green-600 dark:text-green-400"},D={class:"flex items-center gap-3"},E={class:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},F={class:"text-2xl font-bold text-red-600 dark:text-red-400"},L={class:"flex items-center gap-4"},R=["value"],U={class:"divide-y divide-gray-100 dark:divide-gray-700"},G={class:"flex items-start justify-between"},N={class:"flex-1"},Q={class:"flex items-center gap-3 flex-wrap"},W={class:"text-lg font-semibold text-gray-900 dark:text-white"},X={key:1,class:"px-2.5 py-1 text-xs font-medium rounded-full bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 animate-pulse"},Z={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},ee={class:"flex items-center gap-4 mt-3 text-sm text-gray-500 dark:text-gray-400"},te={key:0,class:"flex items-center gap-1"},re={key:1,class:"flex items-center gap-1"},ae={class:"flex items-center gap-2"},se=["onClick"],le=["onClick"],de={key:0,class:"p-12 text-center"},oe={__name:"SimpleTasks",props:{tasks:Array,stats:Object,filters:Object,panelType:{type:String,default:"business",validator:e=>["business","marketing","finance","operator"].includes(e)}},setup(e){const m=e,k=t(()=>({business:{routePrefix:"business",primaryColor:"blue",buttonClass:"bg-blue-600 hover:bg-blue-700",borderClass:"border-blue-100 dark:border-blue-900/30"},marketing:{routePrefix:"marketing",primaryColor:"purple",buttonClass:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",borderClass:"border-purple-100 dark:border-purple-900/30"},finance:{routePrefix:"finance",primaryColor:"green",buttonClass:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700",borderClass:"border-green-100 dark:border-green-900/30"},operator:{routePrefix:"operator",primaryColor:"blue",buttonClass:"bg-blue-600 hover:bg-blue-700",borderClass:"border-blue-100 dark:border-blue-900/30"}}[m.panelType])),f=r(m.filters?.status||"all"),z=[{value:"all",label:"Barchasi"},{value:"pending",label:"Kutilmoqda"},{value:"in_progress",label:"Jarayonda"},{value:"completed",label:"Bajarildi"}],oe=()=>{y.get(`/${k.value.routePrefix}/tasks`,{status:"all"!==f.value?f.value:null},{preserveState:!0})},ie=e=>({pending:"Kutilmoqda",in_progress:"Jarayonda",completed:"Bajarildi"}[e]||e),ne=e=>({high:"Yuqori",medium:"O'rta",low:"Past"}[e]||e),ge=r(!1);return(t,r)=>(b(),a("div",P,[s("div",q,[r[3]||(r[3]=s("div",null,[s("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Vazifalar"),s("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Barcha vazifalarni boshqaring")],-1)),s("button",{onClick:r[0]||(r[0]=e=>ge.value=!0),class:l(["inline-flex items-center gap-2 px-4 py-2 text-white rounded-xl transition-all",k.value.buttonClass])},[d(i(v),{class:"w-5 h-5"}),r[2]||(r[2]=o(" Yangi vazifa ",-1))],2)]),s("div",B,[s("div",{class:l(["bg-white dark:bg-gray-800 rounded-xl p-4 border",k.value.borderClass])},[s("div",$,[s("div",J,[d(i(h),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})]),s("div",null,[s("p",O,n(e.stats?.total||0),1),r[4]||(r[4]=s("p",{class:"text-xs text-gray-500"},"Jami",-1))])])],2),s("div",{class:l(["bg-white dark:bg-gray-800 rounded-xl p-4 border",k.value.borderClass])},[s("div",S,[s("div",K,[d(i(w),{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})]),s("div",null,[s("p",T,n(e.stats?.pending||0),1),r[5]||(r[5]=s("p",{class:"text-xs text-gray-500"},"Kutilmoqda",-1))])])],2),s("div",{class:l(["bg-white dark:bg-gray-800 rounded-xl p-4 border",k.value.borderClass])},[s("div",A,[s("div",V,[d(i(w),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),s("div",null,[s("p",H,n(e.stats?.in_progress||0),1),r[6]||(r[6]=s("p",{class:"text-xs text-gray-500"},"Jarayonda",-1))])])],2),s("div",{class:l(["bg-white dark:bg-gray-800 rounded-xl p-4 border",k.value.borderClass])},[s("div",I,[s("div",M,[d(i(j),{class:"w-5 h-5 text-green-600 dark:text-green-400"})]),s("div",null,[s("p",Y,n(e.stats?.completed||0),1),r[7]||(r[7]=s("p",{class:"text-xs text-gray-500"},"Bajarildi",-1))])])],2),s("div",{class:l(["bg-white dark:bg-gray-800 rounded-xl p-4 border",k.value.borderClass])},[s("div",D,[s("div",E,[d(i(C),{class:"w-5 h-5 text-red-600 dark:text-red-400"})]),s("div",null,[s("p",F,n(e.stats?.overdue||0),1),r[8]||(r[8]=s("p",{class:"text-xs text-gray-500"},"Muddati o'tgan",-1))])])],2)]),s("div",{class:l(["bg-white dark:bg-gray-800 rounded-2xl p-4 border",k.value.borderClass])},[s("div",L,[g(s("select",{"onUpdate:modelValue":r[1]||(r[1]=e=>f.value=e),class:"px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",onChange:oe},[(b(),a(c,null,x(z,e=>s("option",{key:e.value,value:e.value},n(e.label),9,R)),64))],544),[[u,f.value]])])],2),s("div",{class:l(["bg-white dark:bg-gray-800 rounded-2xl border overflow-hidden",k.value.borderClass])},[s("div",U,[(b(!0),a(c,null,x(e.tasks,e=>{return b(),a("div",{key:e.id,class:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[s("div",G,[s("div",N,[s("div",Q,[s("h3",W,n(e.title),1),s("span",{class:l(["px-2.5 py-1 text-xs font-medium rounded-full",(r=e.status,{pending:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",in_progress:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",completed:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"}[r]||"bg-gray-100 text-gray-700")])},n(ie(e.status)),3),e.priority?(b(),a("span",{key:0,class:l(["px-2.5 py-1 text-xs font-medium rounded-full",(t=e.priority,{high:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",medium:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",low:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}[t]||"bg-gray-100 text-gray-700")])},n(ne(e.priority)),3)):p("",!0),e.is_overdue?(b(),a("span",X," Muddati o'tgan ")):p("",!0)]),e.description?(b(),a("p",Z,n(e.description),1)):p("",!0),s("div",ee,[e.due_date?(b(),a("span",te,[d(i(h),{class:"w-4 h-4"}),o(" "+n(e.due_date),1)])):p("",!0),e.assignee?(b(),a("span",re," Tayinlangan: "+n(e.assignee.name),1)):p("",!0)])]),s("div",ae,["completed"!==e.status?(b(),a("button",{key:0,onClick:t=>(e=>{y.post(`/${k.value.routePrefix}/tasks/${e.id}/complete`,{},{preserveScroll:!0})})(e),class:"px-3 py-1.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors"}," Bajarildi ",8,se)):p("",!0),s("button",{onClick:t=>(e=>{confirm("Vazifani o'chirmoqchimisiz?")&&y.delete(`/${k.value.routePrefix}/tasks/${e.id}`,{preserveScroll:!0})})(e),class:"p-1.5 text-gray-400 hover:text-red-600 transition-colors"},[d(i(_),{class:"w-5 h-5"})],8,le)])])]);var t,r}),128))]),e.tasks?.length?p("",!0):(b(),a("div",de,[d(i(h),{class:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto"}),r[9]||(r[9]=s("p",{class:"text-gray-500 dark:text-gray-400 mt-4"},"Hozircha vazifalar yo'q",-1))]))],2)]))}},ie={__name:"Index",props:{tasks:Array,stats:Object,filters:Object},setup(t){const{t:r}=z();return(a,s)=>(b(),m(e,{title:i(r)("nav.tasks")},{default:k(()=>[d(i(f),{title:i(r)("nav.tasks")},null,8,["title"]),d(oe,{tasks:t.tasks,stats:t.stats,filters:t.filters,"panel-type":"finance"},null,8,["tasks","stats","filters"])]),_:1},8,["title"]))}};export{ie as default};

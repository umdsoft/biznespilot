import{r as m,b as K,w as dt,v as w,x as Vt,y as n,z as t,A as u,E as C,H as s,J as g,K as y,C as i,F as o,G as f,I as h,L as _,D as b,B as R,Q as z,P as $,M as Lt}from"./chunk-KPSVwAyv.js";import{h as Bt,r as H}from"./chunk-BVrjkT6E.js";import{_ as Mt}from"./chunk-Dm1vntEs.js";import{u as Xt}from"./app-BtfI-58n.js";import{r as it}from"./chunk-Tj_a7zxz.js";import{o as W,h as nt,g as Nt,t as ut}from"./chunk-Qa9RIO0M.js";import{r as gt}from"./chunk-Cwn-ie4q.js";import{a as U}from"./chunk-D-7B8ZCD.js";import{r as pt}from"./chunk-CYw1XsNK.js";import{r as L}from"./chunk-CYZ54WJE.js";import{r as Et}from"./chunk-uNG5YCqx.js";import{a as bt}from"./chunk-DN454CZt.js";import{r as Pt}from"./chunk-BeK6HK_O.js";import{r as xt}from"./chunk-BL-22xYA.js";import{r as mt}from"./chunk-Dl69Jh1K.js";import{r as yt}from"./chunk-Qe-_4ASA.js";import{r as Dt}from"./chunk-NnvhqDud.js";import{r as Ft}from"./chunk-cX3qDKmH.js";import{r as It}from"./chunk-BgOPVSvg.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-Dfha1x8d.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-J14gS6og.js";const At={class:"space-y-6"},Kt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Rt={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3"},Jt={class:"relative overflow-hidden bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-4 shadow-lg shadow-purple-500/20"},Yt={class:"relative"},Qt={class:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-3"},Zt={class:"text-2xl font-bold text-white mt-1"},Gt={class:"relative overflow-hidden bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-4 shadow-lg shadow-green-500/20"},Ht={class:"relative"},Wt={class:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-3"},te={class:"text-2xl font-bold text-white mt-1"},ee={class:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 shadow-lg shadow-blue-500/20"},re={class:"relative"},ae={class:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-3"},se={class:"text-2xl font-bold text-white mt-1"},oe={class:"relative overflow-hidden bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-4 shadow-lg shadow-amber-500/20"},le={class:"relative"},de={class:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-3"},ie={class:"text-2xl font-bold text-white mt-1"},ne={class:"relative overflow-hidden bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl p-4 shadow-lg shadow-emerald-500/20"},ue={class:"relative"},ge={class:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-3"},pe={class:"text-2xl font-bold text-white mt-1"},be={class:"relative overflow-hidden bg-gradient-to-br from-indigo-500 to-violet-600 rounded-2xl p-4 shadow-lg shadow-indigo-500/20"},xe={class:"relative"},me={class:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-3"},ye={class:"text-2xl font-bold text-white mt-1"},ce={class:"relative overflow-hidden bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl p-4 shadow-lg shadow-orange-500/20"},ve={class:"relative"},fe={class:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-3"},he={class:"text-2xl font-bold text-white mt-1"},ke={class:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700"},we={class:"flex flex-wrap items-center gap-4"},_e={class:"flex-1 min-w-[300px]"},je={class:"relative"},Ce=["value"],Te={class:"text-sm text-gray-500 dark:text-gray-400"},qe={class:"font-medium text-gray-700 dark:text-gray-300"},Se={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},ze={class:"overflow-x-auto"},$e={class:"min-w-full"},Ue={class:"divide-y divide-gray-100 dark:divide-gray-700/50"},Oe=["onClick"],Ve={class:"px-6 py-4"},Le={class:"flex items-center gap-3"},Be={class:"relative"},Me={class:"w-11 h-11 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center text-white font-semibold shadow-lg shadow-purple-500/20 group-hover:shadow-xl group-hover:shadow-purple-500/30 transition-all"},Xe={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full border-2 border-white dark:border-gray-800 flex items-center justify-center"},Ne={class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-purple-700 dark:group-hover:text-purple-400 transition-colors"},Ee={key:0,class:"text-xs font-medium text-purple-600 dark:text-purple-400"},Pe={key:1,class:"text-xs text-gray-400"},De={class:"px-6 py-4"},Fe={class:"flex items-center gap-2"},Ie={class:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center"},Ae={class:"text-sm text-gray-700 dark:text-gray-300 font-medium"},Ke={class:"px-6 py-4"},Re={class:"space-y-1"},Je={class:"inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 dark:from-blue-900/30 dark:to-indigo-900/30 dark:text-blue-400 border border-blue-100 dark:border-blue-800"},Ye={key:0,class:"text-xs text-gray-500 dark:text-gray-400 pl-1"},Qe={class:"px-6 py-4"},Ze={class:"px-6 py-4"},Ge={class:"flex items-center gap-2"},He={class:"text-sm text-gray-500 dark:text-gray-400"},We={key:0,class:"flex items-center justify-end gap-1"},tr=["onClick"],er=["onClick"],rr=["onClick"],ar=["onClick"],sr=["onClick"],or={key:1,class:"text-gray-400"},lr={key:0,class:"p-16 text-center"},dr={class:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-2xl mb-6"},ir={key:0,class:"fixed inset-0 z-50 overflow-hidden"},nr={class:"absolute inset-y-0 right-0 max-w-2xl w-full"},ur={class:"h-full bg-white dark:bg-gray-800 shadow-2xl flex flex-col"},gr={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between bg-gradient-to-r from-purple-600 to-pink-600"},pr={class:"flex items-center gap-4"},br={class:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center text-white text-xl font-bold"},xr={class:"text-white"},mr={class:"text-xl font-bold"},yr={class:"text-white/80 text-sm"},cr={class:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50"},vr={class:"flex px-6 gap-1"},fr=["onClick"],hr={class:"flex-1 overflow-y-auto p-6"},kr={key:0,class:"space-y-6"},wr={class:"grid grid-cols-2 gap-4"},_r={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4"},jr={class:"flex items-center gap-3 text-gray-500 dark:text-gray-400 mb-1"},Cr={class:"text-gray-900 dark:text-white font-medium"},Tr={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4"},qr={class:"flex items-center gap-3 text-gray-500 dark:text-gray-400 mb-1"},Sr={class:"text-gray-900 dark:text-white font-medium"},zr={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4"},$r={class:"flex items-center gap-3 text-gray-500 dark:text-gray-400 mb-1"},Ur={class:"text-gray-900 dark:text-white font-medium"},Or={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4"},Vr={class:"flex items-center gap-3 text-gray-500 dark:text-gray-400 mb-1"},Lr={class:"text-gray-900 dark:text-white font-medium"},Br={key:0,class:"space-y-3"},Mr={class:"grid grid-cols-2 gap-3"},Xr={key:1,class:"space-y-6"},Nr={class:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-100 dark:border-purple-800"},Er={class:"flex items-center justify-between mb-6"},Pr={class:"grid grid-cols-2 gap-4"},Dr={class:"text-gray-900 dark:text-white font-medium mt-1"},Fr={class:"text-gray-900 dark:text-white font-medium mt-1"},Ir={class:"text-gray-900 dark:text-white font-medium mt-1"},Ar={class:"col-span-2"},Kr={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Rr={class:"flex gap-3"},Jr={class:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},Yr={key:2,class:"space-y-6"},Qr={class:"flex items-center justify-between"},Zr={key:0,class:"space-y-3"},Gr={class:"flex items-center justify-between mb-2"},Hr={class:"font-medium text-gray-900 dark:text-white"},Wr={class:"text-sm text-gray-500 dark:text-gray-400"},ta={key:0,class:"text-sm text-gray-600 dark:text-gray-300 mt-2"},ea={key:1,class:"flex gap-2 mt-3"},ra=["onClick"],aa=["onClick"],sa={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},oa={key:3,class:"space-y-6"},la={class:"space-y-4"},da={class:"flex gap-4"},ia={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center flex-shrink-0"},na={class:"text-sm text-gray-500 dark:text-gray-400"},ua={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4"},ga={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-lg w-full shadow-2xl max-h-[90vh] overflow-y-auto"},pa={class:"grid grid-cols-2 gap-4"},ba={class:"col-span-2"},xa={class:"col-span-2"},ma=["value"],ya=["disabled"],ca={value:""},va=["value"],fa={key:0,class:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 space-y-3"},ha={class:"flex items-center gap-2 text-purple-700 dark:text-purple-300 text-sm font-medium"},ka={class:"grid grid-cols-2 gap-4"},wa={key:0,class:"text-xs text-gray-500 mt-1"},_a=["value"],ja={class:"grid grid-cols-2 gap-4"},Ca={class:"flex justify-end gap-3 pt-4"},Ta=["disabled"],qa={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4"},Sa={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl"},za=["value"],$a={class:"flex justify-end gap-3 pt-4"},Ua=["disabled"],Oa={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4"},Va={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl"},La={class:"flex justify-end gap-3 pt-4"},Ba=["disabled"],Ma={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4"},Xa={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-lg w-full shadow-2xl"},Na={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Ea={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Pa={class:"grid grid-cols-2 gap-4"},Da=["value"],Fa=["value"],Ia={class:"grid grid-cols-2 gap-4"},Aa=["disabled"],Ka={class:"flex justify-end gap-3 pt-4"},Ra=["disabled"],Ja={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4"},Ya={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl"},Qa={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Za={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Ga=["value"],Ha={class:"grid grid-cols-2 gap-4"},Wa={class:"flex justify-end gap-3 pt-4"},ts=["disabled"],es={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4"},rs={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl"},as={class:"p-6 border-b border-gray-200 dark:border-gray-700 bg-red-50 dark:bg-red-900/20 rounded-t-2xl"},ss={class:"flex items-center gap-3"},os={class:"w-10 h-10 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center"},ls={class:"text-sm text-gray-600 dark:text-gray-400"},ds=["value"],is={class:"flex justify-end gap-3 pt-4"},ns=["disabled"],Ps={__name:"Index",props:{employees:{type:Array,default:()=>[]},departments:{type:Object,default:()=>({})},roles:{type:Object,default:()=>({})},leaveRequests:{type:Array,default:()=>[]},terminatedEmployees:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},jobDescriptions:{type:Array,default:()=>[]},employmentTypes:{type:Object,default:()=>({})},contractTypes:{type:Object,default:()=>({})},positionLevels:{type:Object,default:()=>({})},currentBusiness:{type:Object,default:null}},setup(B){Xt();const v=B,O=m(""),E=m(""),l=m(null),J=m(!1),T=m("info"),x=m(!1),M=m(!1),P=m(!1),D=m(!1),F=m(!1),I=m(!1),A=m(!1),d=m({name:"",phone:"",password:"",password_confirmation:"",department:"",position_id:"",salary:"",employment_type:"full_time"}),X=K(()=>d.value.department?v.jobDescriptions.filter(a=>a.department===d.value.department):[]);dt(()=>d.value.department,()=>{d.value.position_id="",d.value.salary="",d.value.employment_type="full_time"}),dt(()=>d.value.position_id,a=>{if(!a){d.value.salary="",d.value.employment_type="full_time";return}const e=v.jobDescriptions.find(r=>r.id===a);e&&(e.salary_range_min&&e.salary_range_max?d.value.salary=Math.round((Number(e.salary_range_min)+Number(e.salary_range_max))/2):e.salary_range_min?d.value.salary=Number(e.salary_range_min):e.salary_range_max&&(d.value.salary=Number(e.salary_range_max)),d.value.employment_type=e.employment_type||"full_time")});const V=m({department:"",role:"",position:"",contract_type:"unlimited",contract_start_date:"",contract_end_date:"",salary:""}),q=m({password:"",password_confirmation:""}),c=m({contract_type:"unlimited",contract_start_date:"",contract_end_date:"",salary:"",work_schedule:"full_time"}),k=m({leave_type:"annual",start_date:"",end_date:"",reason:""}),j=m({termination_type:"voluntary",termination_date:new Date().toISOString().split("T")[0],reason:""}),tt=[{value:"unlimited",label:"Muddatsiz"},{value:"fixed",label:"Muddatli"},{value:"probation",label:"Sinov muddati"},{value:"part_time",label:"Yarim stavka"}],ct=[{value:"annual",label:"Yillik ta'til"},{value:"sick",label:"Kasallik ta'tili"},{value:"family",label:"Oilaviy ta'til"},{value:"unpaid",label:"To'lamasdan ta'til"}],vt=[{value:"voluntary",label:"O'z xohishi bilan"},{value:"involuntary",label:"Ish beruvchi qarori"},{value:"retirement",label:"Pensiyaga chiqish"},{value:"contract_end",label:"Shartnoma tugashi"}],ft=[{value:"full_time",label:"To'liq stavka"},{value:"part_time",label:"Yarim stavka"}],Y=K(()=>v.employees.filter(a=>{const e=!O.value||a.name?.toLowerCase().includes(O.value.toLowerCase())||a.phone?.includes(O.value)||a.position?.toLowerCase().includes(O.value.toLowerCase()),r=!E.value||a.department===E.value;return e&&r})),et=K(()=>l.value?v.leaveRequests.filter(a=>a.user_id===l.value.user_id):[]),S=K(()=>({total:v.employees.length,active:v.employees.filter(a=>!a.terminated_at).length,onLeave:v.stats?.on_leave_today||0,pendingLeave:v.leaveRequests.filter(a=>a.status==="pending").length,unlimited:v.employees.filter(a=>a.contract_type==="unlimited").length,fixed:v.employees.filter(a=>a.contract_type==="fixed").length,probation:v.employees.filter(a=>a.contract_type==="probation").length})),N=()=>{H.reload()},rt=a=>{l.value=a,J.value=!0,T.value="info"},Q=()=>{J.value=!1,l.value=null},at=a=>tt.find(e=>e.value===a)?.label||a||"Belgilanmagan",st=a=>({unlimited:"bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 dark:from-green-900/30 dark:to-emerald-900/30 dark:text-green-400 border-green-200 dark:border-green-800",fixed:"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 dark:from-blue-900/30 dark:to-indigo-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-800",fixed_term:"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 dark:from-blue-900/30 dark:to-indigo-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-800",probation:"bg-gradient-to-r from-amber-50 to-orange-50 text-amber-700 dark:from-amber-900/30 dark:to-orange-900/30 dark:text-amber-400 border-amber-200 dark:border-amber-800",part_time:"bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 dark:from-purple-900/30 dark:to-pink-900/30 dark:text-purple-400 border-purple-200 dark:border-purple-800"})[a]||"bg-gray-100 text-gray-700 dark:bg-gray-700/50 dark:text-gray-300 border-gray-200 dark:border-gray-600",ht=a=>({pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"})[a]||"bg-gray-100 text-gray-800",kt=a=>({pending:"Kutilmoqda",approved:"Tasdiqlangan",rejected:"Rad etilgan"})[a]||a,wt=async()=>{try{x.value=!0;const a=d.value.position_id?v.jobDescriptions.find(Ot=>Ot.id===d.value.position_id):null,e={name:d.value.name,phone:d.value.phone,password:d.value.password,password_confirmation:d.value.password_confirmation,department:d.value.department,job_description_id:d.value.position_id||null,salary:d.value.salary||null,employment_type:d.value.employment_type,position:a?.title||null},p=await(await fetch(route("hr.team.invite"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content},body:JSON.stringify(e)})).json();p.success?(M.value=!1,d.value={name:"",phone:"",password:"",password_confirmation:"",department:"",position_id:"",salary:"",employment_type:"full_time"},N()):alert(p.error||"Xatolik yuz berdi")}catch(a){console.error("Error:",a),alert("Xatolik yuz berdi")}finally{x.value=!1}},_t=async()=>{if(l.value)try{x.value=!0;const e=await(await fetch(route("hr.team.update",l.value.id),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content},body:JSON.stringify(V.value)})).json();e.success?(P.value=!1,N()):alert(e.error||"Xatolik yuz berdi")}catch(a){console.error("Error:",a),alert("Xatolik yuz berdi")}finally{x.value=!1}},jt=async()=>{if(l.value)try{x.value=!0;const e=await(await fetch(route("hr.team.reset-password",l.value.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content},body:JSON.stringify(q.value)})).json();e.success?(D.value=!1,q.value={password:"",password_confirmation:""},alert("Parol muvaffaqiyatli o'zgartirildi")):alert(e.error||"Xatolik yuz berdi")}catch(a){console.error("Error:",a),alert("Xatolik yuz berdi")}finally{x.value=!1}},Ct=async()=>{if(l.value)try{x.value=!0;const e=await(await fetch(route("hr.employees.contract.update",l.value.id),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content},body:JSON.stringify(c.value)})).json();e.success?(F.value=!1,N()):alert(e.error||"Xatolik yuz berdi")}catch(a){console.error("Error:",a),alert("Xatolik yuz berdi")}finally{x.value=!1}},Tt=async()=>{if(l.value)try{x.value=!0;const e=await(await fetch(route("hr.employees.leave-request.store"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content},body:JSON.stringify({user_id:l.value.user_id,...k.value})})).json();e.success?(I.value=!1,k.value={leave_type:"annual",start_date:"",end_date:"",reason:""},N()):alert(e.error||"Xatolik yuz berdi")}catch(a){console.error("Error:",a),alert("Xatolik yuz berdi")}finally{x.value=!1}},qt=async a=>{confirm("Ushbu ta'til so'rovini tasdiqlaysizmi?")&&H.post(`/hr/leave/${a}/approve`)},St=async a=>{confirm("Ushbu ta'til so'rovini rad etasizmi?")&&H.post(`/hr/leave/${a}/reject`)},zt=async()=>{if(l.value&&confirm(`${l.value.name} ni ishdan bo'shatishni tasdiqlaysizmi?`))try{x.value=!0;const e=await(await fetch(route("hr.employees.terminate",l.value.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content},body:JSON.stringify(j.value)})).json();e.success?(A.value=!1,Q(),N()):alert(e.error||"Xatolik yuz berdi")}catch(a){console.error("Error:",a),alert("Xatolik yuz berdi")}finally{x.value=!1}},ot=a=>{l.value=a,V.value={department:a.department||"",role:a.role||"",position:a.position||"",contract_type:a.contract_type||"unlimited",contract_start_date:a.contract_start_date||"",contract_end_date:a.contract_end_date||"",salary:a.salary||""},P.value=!0},Z=a=>{l.value=a,c.value={contract_type:a.contract_type||"unlimited",contract_start_date:a.contract_start_date||"",contract_end_date:a.contract_end_date||"",salary:a.salary||"",work_schedule:a.work_schedule||"full_time"},F.value=!0},G=a=>{l.value=a,k.value={leave_type:"annual",start_date:"",end_date:"",reason:""},I.value=!0},lt=a=>{l.value=a,j.value={termination_type:"voluntary",termination_date:new Date().toISOString().split("T")[0],reason:""},A.value=!0},$t=a=>{l.value=a,q.value={password:"",password_confirmation:""},D.value=!0},Ut=[{id:"info",label:"Ma'lumotlar",icon:Nt},{id:"contract",label:"Shartnoma",icon:L},{id:"leave",label:"Ta'tillar",icon:U},{id:"history",label:"Tarix",icon:pt}];return(a,e)=>(o(),w(Mt,{title:"Xodimlar boshqaruvi"},{default:Vt(()=>[n(u(Bt),{title:"Xodimlar boshqaruvi"}),t("div",At,[t("div",Kt,[e[43]||(e[43]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Xodimlar"),t("p",{class:"text-gray-500 dark:text-gray-400 mt-1"},"Jamoa a'zolarini boshqarish")],-1)),t("button",{onClick:e[0]||(e[0]=r=>M.value=!0),class:"inline-flex items-center gap-2 px-4 py-2.5 bg-purple-600 text-white text-sm font-medium rounded-xl hover:bg-purple-700 transition-all shadow-lg shadow-purple-600/20"},[n(u(it),{class:"w-5 h-5"}),e[42]||(e[42]=C(" Xodim qo'shish ",-1))])]),t("div",Rt,[t("div",Jt,[e[45]||(e[45]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),t("div",Yt,[t("div",Qt,[n(u(W),{class:"w-5 h-5 text-white"})]),e[44]||(e[44]=t("p",{class:"text-purple-100 text-xs font-medium"},"Jami",-1)),t("p",Zt,s(S.value.total),1)])]),t("div",Gt,[e[47]||(e[47]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),t("div",Ht,[t("div",Wt,[n(u(gt),{class:"w-5 h-5 text-white"})]),e[46]||(e[46]=t("p",{class:"text-green-100 text-xs font-medium"},"Faol",-1)),t("p",te,s(S.value.active),1)])]),t("div",ee,[e[49]||(e[49]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),t("div",re,[t("div",ae,[n(u(U),{class:"w-5 h-5 text-white"})]),e[48]||(e[48]=t("p",{class:"text-blue-100 text-xs font-medium"},"Ta'tilda",-1)),t("p",se,s(S.value.onLeave),1)])]),t("div",oe,[e[51]||(e[51]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),t("div",le,[t("div",de,[n(u(pt),{class:"w-5 h-5 text-white"})]),e[50]||(e[50]=t("p",{class:"text-amber-100 text-xs font-medium"},"Kutilmoqda",-1)),t("p",ie,s(S.value.pendingLeave),1)])]),t("div",ne,[e[53]||(e[53]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),t("div",ue,[t("div",ge,[n(u(L),{class:"w-5 h-5 text-white"})]),e[52]||(e[52]=t("p",{class:"text-emerald-100 text-xs font-medium"},"Muddatsiz",-1)),t("p",pe,s(S.value.unlimited),1)])]),t("div",be,[e[55]||(e[55]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),t("div",xe,[t("div",me,[n(u(L),{class:"w-5 h-5 text-white"})]),e[54]||(e[54]=t("p",{class:"text-indigo-100 text-xs font-medium"},"Muddatli",-1)),t("p",ye,s(S.value.fixed),1)])]),t("div",ce,[e[57]||(e[57]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),t("div",ve,[t("div",fe,[n(u(L),{class:"w-5 h-5 text-white"})]),e[56]||(e[56]=t("p",{class:"text-orange-100 text-xs font-medium"},"Sinov",-1)),t("p",he,s(S.value.probation),1)])])]),t("div",ke,[t("div",we,[t("div",_e,[t("div",je,[n(u(Et),{class:"w-5 h-5 absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>O.value=r),type:"text",placeholder:"Xodim qidirish (ism, telefon, lavozim)...",class:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-700/50 border-0 rounded-xl focus:ring-2 focus:ring-purple-500 focus:bg-white dark:focus:bg-gray-700 transition-all text-sm"},null,512),[[y,O.value]])])]),g(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>E.value=r),class:"px-4 py-3 bg-gray-50 dark:bg-gray-700/50 border-0 rounded-xl focus:ring-2 focus:ring-purple-500 text-sm min-w-[180px]"},[e[58]||(e[58]=t("option",{value:""},"Barcha bo'limlar",-1)),(o(!0),i(f,null,h(B.departments,(r,p)=>(o(),i("option",{key:p,value:p},s(r),9,Ce))),128))],512),[[_,E.value]]),t("div",Te,[t("span",qe,s(Y.value.length),1),e[59]||(e[59]=C(" xodim topildi ",-1))])])]),t("div",Se,[t("div",ze,[t("table",$e,[e[61]||(e[61]=t("thead",null,[t("tr",{class:"bg-gradient-to-r from-gray-50 to-gray-100/50 dark:from-gray-800 dark:to-gray-800/50 border-b border-gray-200 dark:border-gray-700"},[t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Xodim"),t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Telefon"),t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Bo'lim / Lavozim"),t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Shartnoma"),t("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Qo'shilgan"),t("th",{class:"px-6 py-4 text-right text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Amallar")])],-1)),t("tbody",Ue,[(o(!0),i(f,null,h(Y.value,r=>(o(),i("tr",{key:r.id,class:"group hover:bg-purple-50/50 dark:hover:bg-purple-900/10 transition-all duration-200 cursor-pointer",onClick:p=>rt(r)},[t("td",Ve,[t("div",Le,[t("div",Be,[t("div",Me,s(r.name?.charAt(0)||"?"),1),r.is_owner?(o(),i("div",Xe,[...e[60]||(e[60]=[t("svg",{class:"w-2.5 h-2.5 text-yellow-800",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)])])):b("",!0)]),t("div",null,[t("p",Ne,s(r.name),1),r.is_owner?(o(),i("p",Ee,"Biznes egasi")):r.email?(o(),i("p",Pe,s(r.email),1)):b("",!0)])])]),t("td",De,[t("div",Fe,[t("div",Ie,[n(u(bt),{class:"w-4 h-4 text-gray-500"})]),t("span",Ae,s(r.phone?"+"+r.phone:"N/A"),1)])]),t("td",Ke,[t("div",Re,[t("span",Je,[n(u(nt),{class:"w-3 h-3"}),C(" "+s(r.department_label||"N/A"),1)]),r.position?(o(),i("p",Ye,s(r.position),1)):b("",!0)])]),t("td",Qe,[t("span",{class:R(["inline-flex items-center px-2.5 py-1 text-xs font-semibold rounded-lg border",st(r.contract_type)])},s(at(r.contract_type)),3)]),t("td",Ze,[t("div",Ge,[n(u(U),{class:"w-4 h-4 text-gray-400"}),t("span",He,s(r.joined_at||r.created_at),1)])]),t("td",{class:"px-6 py-4",onClick:e[3]||(e[3]=z(()=>{},["stop"]))},[r.is_owner?(o(),i("span",or,"-")):(o(),i("div",We,[t("button",{onClick:p=>rt(r),class:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-lg transition-colors",title:"Ko'rish"},[n(u(Pt),{class:"w-5 h-5"})],8,tr),t("button",{onClick:p=>ot(r),class:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Tahrirlash"},[n(u(xt),{class:"w-5 h-5"})],8,er),t("button",{onClick:p=>Z(r),class:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Shartnoma"},[n(u(L),{class:"w-5 h-5"})],8,rr),t("button",{onClick:p=>G(r),class:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-colors",title:"Ta'tilga chiqarish"},[n(u(U),{class:"w-5 h-5"})],8,ar),t("button",{onClick:p=>lt(r),class:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Ishdan bo'shatish"},[n(u(mt),{class:"w-5 h-5"})],8,sr)]))])],8,Oe))),128))])])]),Y.value.length===0?(o(),i("div",lr,[t("div",dr,[n(u(W),{class:"w-10 h-10 text-purple-500 dark:text-purple-400"})]),e[63]||(e[63]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},"Xodimlar topilmadi",-1)),e[64]||(e[64]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-6 max-w-sm mx-auto"},"Qidiruv so'rovingizni o'zgartiring yoki yangi xodim qo'shing",-1)),t("button",{onClick:e[4]||(e[4]=r=>M.value=!0),class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-sm font-semibold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg shadow-purple-500/20 hover:shadow-xl"},[n(u(it),{class:"w-5 h-5"}),e[62]||(e[62]=C(" Yangi xodim qo'shish ",-1))])])):b("",!0)])]),(o(),w($,{to:"body"},[J.value?(o(),i("div",ir,[t("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:Q}),t("div",nr,[t("div",ur,[t("div",gr,[t("div",pr,[t("div",br,s(l.value?.name?.charAt(0)||"?"),1),t("div",xr,[t("h2",mr,s(l.value?.name),1),t("p",yr,s(l.value?.department_label)+" / "+s(l.value?.position||"Lavozim belgilanmagan"),1)])]),t("button",{onClick:Q,class:"p-2 text-white/80 hover:text-white hover:bg-white/20 rounded-lg transition-colors"},[n(u(yt),{class:"w-6 h-6"})])]),t("div",cr,[t("nav",vr,[(o(),i(f,null,h(Ut,r=>t("button",{key:r.id,onClick:p=>T.value=r.id,class:R(["flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors -mb-px",T.value===r.id?"border-purple-600 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"])},[(o(),w(Lt(r.icon),{class:"w-4 h-4"})),C(" "+s(r.label),1)],10,fr)),64))])]),t("div",hr,[T.value==="info"?(o(),i("div",kr,[t("div",wr,[t("div",_r,[t("div",jr,[n(u(bt),{class:"w-4 h-4"}),e[65]||(e[65]=t("span",{class:"text-xs uppercase tracking-wide"},"Telefon",-1))]),t("p",Cr,s(l.value?.phone||"N/A"),1)]),t("div",Tr,[t("div",qr,[n(u(nt),{class:"w-4 h-4"}),e[66]||(e[66]=t("span",{class:"text-xs uppercase tracking-wide"},"Bo'lim",-1))]),t("p",Sr,s(l.value?.department_label||"N/A"),1)]),t("div",zr,[t("div",$r,[n(u(ut),{class:"w-4 h-4"}),e[67]||(e[67]=t("span",{class:"text-xs uppercase tracking-wide"},"Lavozim",-1))]),t("p",Ur,s(l.value?.position||"Belgilanmagan"),1)]),t("div",Or,[t("div",Vr,[n(u(U),{class:"w-4 h-4"}),e[68]||(e[68]=t("span",{class:"text-xs uppercase tracking-wide"},"Qo'shilgan",-1))]),t("p",Lr,s(l.value?.joined_at||l.value?.created_at),1)])]),l.value?.is_owner?b("",!0):(o(),i("div",Br,[e[74]||(e[74]=t("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Tezkor amallar",-1)),t("div",Mr,[t("button",{onClick:e[5]||(e[5]=r=>ot(l.value)),class:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 rounded-xl hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors"},[n(u(xt),{class:"w-5 h-5"}),e[69]||(e[69]=t("span",{class:"font-medium"},"Tahrirlash",-1))]),t("button",{onClick:e[6]||(e[6]=r=>$t(l.value)),class:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-xl hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors"},[n(u(Dt),{class:"w-5 h-5"}),e[70]||(e[70]=t("span",{class:"font-medium"},"Parol o'zgartirish",-1))]),t("button",{onClick:e[7]||(e[7]=r=>Z(l.value)),class:"flex items-center gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-400 rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors"},[n(u(L),{class:"w-5 h-5"}),e[71]||(e[71]=t("span",{class:"font-medium"},"Shartnoma",-1))]),t("button",{onClick:e[8]||(e[8]=r=>G(l.value)),class:"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 rounded-xl hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors"},[n(u(U),{class:"w-5 h-5"}),e[72]||(e[72]=t("span",{class:"font-medium"},"Ta'tilga chiqarish",-1))])]),t("button",{onClick:e[9]||(e[9]=r=>lt(l.value)),class:"w-full flex items-center justify-center gap-3 p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors"},[n(u(mt),{class:"w-5 h-5"}),e[73]||(e[73]=t("span",{class:"font-medium"},"Ishdan bo'shatish",-1))])]))])):b("",!0),T.value==="contract"?(o(),i("div",Xr,[t("div",Nr,[t("div",Er,[e[75]||(e[75]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Mehnat shartnomasi",-1)),t("button",{onClick:e[10]||(e[10]=r=>Z(l.value)),class:"px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors"}," Tahrirlash ")]),t("div",Pr,[t("div",null,[e[76]||(e[76]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Shartnoma turi",-1)),t("span",{class:R(["inline-flex mt-1 px-3 py-1 text-sm font-medium rounded-lg",st(l.value?.contract_type)])},s(at(l.value?.contract_type)),3)]),t("div",null,[e[77]||(e[77]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Ish tartibi",-1)),t("p",Dr,s(l.value?.work_schedule==="full_time"?"To'liq stavka":"Yarim stavka"),1)]),t("div",null,[e[78]||(e[78]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Boshlanish sanasi",-1)),t("p",Fr,s(l.value?.contract_start_date||l.value?.joined_at||"Belgilanmagan"),1)]),t("div",null,[e[79]||(e[79]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tugash sanasi",-1)),t("p",Ir,s(l.value?.contract_end_date||"Muddatsiz"),1)]),t("div",Ar,[e[80]||(e[80]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Oylik maosh",-1)),t("p",Kr,s(l.value?.salary?Number(l.value.salary).toLocaleString()+" UZS":"Belgilanmagan"),1)])])]),t("div",Rr,[t("button",Jr,[n(u(Ft),{class:"w-5 h-5"}),e[81]||(e[81]=C(" Shartnomani chop etish ",-1))])])])):b("",!0),T.value==="leave"?(o(),i("div",Yr,[t("div",Qr,[e[82]||(e[82]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Ta'til so'rovlari",-1)),t("button",{onClick:e[11]||(e[11]=r=>G(l.value)),class:"px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors"}," + Ta'tilga chiqarish ")]),et.value.length>0?(o(),i("div",Zr,[(o(!0),i(f,null,h(et.value,r=>(o(),i("div",{key:r.id,class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 border border-gray-100 dark:border-gray-700"},[t("div",Gr,[t("span",Hr,s(r.leave_type),1),t("span",{class:R(["px-2 py-1 text-xs font-medium rounded-lg",ht(r.status)])},s(kt(r.status)),3)]),t("p",Wr,s(r.start_date)+" - "+s(r.end_date)+" ("+s(r.total_days)+" kun) ",1),r.reason?(o(),i("p",ta,s(r.reason),1)):b("",!0),r.status==="pending"?(o(),i("div",ea,[t("button",{onClick:p=>qt(r.id),class:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700"},[n(u(gt),{class:"w-4 h-4"}),e[83]||(e[83]=C(" Tasdiqlash ",-1))],8,ra),t("button",{onClick:p=>St(r.id),class:"flex items-center gap-1 px-3 py-1.5 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700"},[n(u(yt),{class:"w-4 h-4"}),e[84]||(e[84]=C(" Rad etish ",-1))],8,aa)])):b("",!0)]))),128))])):(o(),i("div",sa,[n(u(U),{class:"w-12 h-12 mx-auto opacity-30 mb-3"}),e[85]||(e[85]=t("p",null,"Ta'til so'rovlari mavjud emas",-1))]))])):b("",!0),T.value==="history"?(o(),i("div",oa,[e[87]||(e[87]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Ish tarixi",-1)),t("div",la,[t("div",da,[t("div",ia,[n(u(W),{class:"w-5 h-5 text-green-600 dark:text-green-400"})]),t("div",null,[e[86]||(e[86]=t("p",{class:"font-medium text-gray-900 dark:text-white"},"Jamoaga qo'shildi",-1)),t("p",na,s(l.value?.joined_at||l.value?.created_at),1)])])])])):b("",!0)])])])])):b("",!0)])),(o(),w($,{to:"body"},[M.value?(o(),i("div",ua,[t("div",ga,[e[98]||(e[98]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10"},[t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Yangi xodim qo'shish")],-1)),t("form",{onSubmit:z(wt,["prevent"]),class:"p-6 space-y-4"},[t("div",pa,[t("div",ba,[e[88]||(e[88]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"F.I.O *",-1)),g(t("input",{"onUpdate:modelValue":e[12]||(e[12]=r=>d.value.name=r),type:"text",required:"",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Ism Familiya"},null,512),[[y,d.value.name]])]),t("div",xa,[e[89]||(e[89]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Telefon *",-1)),g(t("input",{"onUpdate:modelValue":e[13]||(e[13]=r=>d.value.phone=r),type:"text",required:"",maxlength:"12",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"998901234567"},null,512),[[y,d.value.phone]])]),t("div",null,[e[91]||(e[91]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Bo'lim *",-1)),g(t("select",{"onUpdate:modelValue":e[14]||(e[14]=r=>d.value.department=r),required:"",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},[e[90]||(e[90]=t("option",{value:""},"Tanlang",-1)),(o(!0),i(f,null,h(B.departments,(r,p)=>(o(),i("option",{key:p,value:p},s(r),9,ma))),128))],512),[[_,d.value.department]])]),t("div",null,[e[92]||(e[92]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Lavozim",-1)),g(t("select",{"onUpdate:modelValue":e[15]||(e[15]=r=>d.value.position_id=r),disabled:!d.value.department||X.value.length===0,class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 disabled:opacity-50"},[t("option",ca,s(d.value.department?X.value.length===0?"Lavozim mavjud emas":"Tanlang":"Avval bo'lim tanlang"),1),(o(!0),i(f,null,h(X.value,r=>(o(),i("option",{key:r.id,value:r.id},s(r.title)+" "+s(r.position_level_label?`(${r.position_level_label})`:""),9,va))),128))],8,ya),[[_,d.value.position_id]])])]),d.value.position_id?(o(),i("div",fa,[t("div",ha,[n(u(ut),{class:"w-4 h-4"}),e[93]||(e[93]=t("span",null,"Lavozim ma'lumotlari (avtomatik to'ldirildi)",-1))]),t("div",ka,[t("div",null,[e[94]||(e[94]=t("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-1"},"Oylik maosh (UZS)",-1)),g(t("input",{"onUpdate:modelValue":e[16]||(e[16]=r=>d.value.salary=r),type:"number",class:"w-full px-3 py-2 border border-purple-200 dark:border-purple-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"0"},null,512),[[y,d.value.salary]]),X.value.find(r=>r.id===d.value.position_id)?.salary_range_formatted?(o(),i("p",wa," Diapazon: "+s(X.value.find(r=>r.id===d.value.position_id)?.salary_range_formatted),1)):b("",!0)]),t("div",null,[e[95]||(e[95]=t("label",{class:"block text-xs text-gray-500 dark:text-gray-400 mb-1"},"Ish tartibi",-1)),g(t("select",{"onUpdate:modelValue":e[17]||(e[17]=r=>d.value.employment_type=r),class:"w-full px-3 py-2 border border-purple-200 dark:border-purple-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 text-sm"},[(o(!0),i(f,null,h(B.employmentTypes,(r,p)=>(o(),i("option",{key:p,value:p},s(r),9,_a))),128))],512),[[_,d.value.employment_type]])])])])):b("",!0),t("div",ja,[t("div",null,[e[96]||(e[96]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Parol *",-1)),g(t("input",{"onUpdate:modelValue":e[18]||(e[18]=r=>d.value.password=r),type:"password",required:"",minlength:"6",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Kamida 6 belgi"},null,512),[[y,d.value.password]])]),t("div",null,[e[97]||(e[97]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Tasdiqlash *",-1)),g(t("input",{"onUpdate:modelValue":e[19]||(e[19]=r=>d.value.password_confirmation=r),type:"password",required:"",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Qayta kiriting"},null,512),[[y,d.value.password_confirmation]])])]),t("div",Ca,[t("button",{type:"button",onClick:e[20]||(e[20]=r=>M.value=!1),class:"px-6 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},"Bekor qilish"),t("button",{type:"submit",disabled:x.value,class:"px-6 py-2.5 bg-purple-600 text-white text-sm font-medium rounded-xl hover:bg-purple-700 transition-colors disabled:opacity-50"},s(x.value?"Saqlanmoqda...":"Qo'shish"),9,Ta)])],32)])])):b("",!0)])),(o(),w($,{to:"body"},[P.value?(o(),i("div",qa,[t("div",Sa,[e[102]||(e[102]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Xodimni tahrirlash")],-1)),t("form",{onSubmit:z(_t,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[100]||(e[100]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Bo'lim",-1)),g(t("select",{"onUpdate:modelValue":e[21]||(e[21]=r=>V.value.department=r),class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},[e[99]||(e[99]=t("option",{value:""},"Tanlang",-1)),(o(!0),i(f,null,h(B.departments,(r,p)=>(o(),i("option",{key:p,value:p},s(r),9,za))),128))],512),[[_,V.value.department]])]),t("div",null,[e[101]||(e[101]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Lavozim",-1)),g(t("input",{"onUpdate:modelValue":e[22]||(e[22]=r=>V.value.position=r),type:"text",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Lavozim nomi"},null,512),[[y,V.value.position]])]),t("div",$a,[t("button",{type:"button",onClick:e[23]||(e[23]=r=>P.value=!1),class:"px-6 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},"Bekor qilish"),t("button",{type:"submit",disabled:x.value,class:"px-6 py-2.5 bg-purple-600 text-white text-sm font-medium rounded-xl hover:bg-purple-700 transition-colors disabled:opacity-50"},"Saqlash",8,Ua)])],32)])])):b("",!0)])),(o(),w($,{to:"body"},[D.value?(o(),i("div",Oa,[t("div",Va,[e[105]||(e[105]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Parolni o'zgartirish")],-1)),t("form",{onSubmit:z(jt,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[103]||(e[103]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Yangi parol *",-1)),g(t("input",{"onUpdate:modelValue":e[24]||(e[24]=r=>q.value.password=r),type:"password",required:"",minlength:"6",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[y,q.value.password]])]),t("div",null,[e[104]||(e[104]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Parolni tasdiqlash *",-1)),g(t("input",{"onUpdate:modelValue":e[25]||(e[25]=r=>q.value.password_confirmation=r),type:"password",required:"",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[y,q.value.password_confirmation]])]),t("div",La,[t("button",{type:"button",onClick:e[26]||(e[26]=r=>D.value=!1),class:"px-6 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},"Bekor qilish"),t("button",{type:"submit",disabled:x.value,class:"px-6 py-2.5 bg-purple-600 text-white text-sm font-medium rounded-xl hover:bg-purple-700 transition-colors disabled:opacity-50"},"O'zgartirish",8,Ba)])],32)])])):b("",!0)])),(o(),w($,{to:"body"},[F.value?(o(),i("div",Ma,[t("div",Xa,[t("div",Na,[e[106]||(e[106]=t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Mehnat shartnomasi",-1)),t("p",Ea,s(l.value?.name),1)]),t("form",{onSubmit:z(Ct,["prevent"]),class:"p-6 space-y-4"},[t("div",Pa,[t("div",null,[e[107]||(e[107]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Shartnoma turi",-1)),g(t("select",{"onUpdate:modelValue":e[27]||(e[27]=r=>c.value.contract_type=r),class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},[(o(),i(f,null,h(tt,r=>t("option",{key:r.value,value:r.value},s(r.label),9,Da)),64))],512),[[_,c.value.contract_type]])]),t("div",null,[e[108]||(e[108]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Ish tartibi",-1)),g(t("select",{"onUpdate:modelValue":e[28]||(e[28]=r=>c.value.work_schedule=r),class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},[(o(),i(f,null,h(ft,r=>t("option",{key:r.value,value:r.value},s(r.label),9,Fa)),64))],512),[[_,c.value.work_schedule]])])]),t("div",Ia,[t("div",null,[e[109]||(e[109]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Boshlanish sanasi",-1)),g(t("input",{"onUpdate:modelValue":e[29]||(e[29]=r=>c.value.contract_start_date=r),type:"date",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},null,512),[[y,c.value.contract_start_date]])]),t("div",null,[e[110]||(e[110]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Tugash sanasi",-1)),g(t("input",{"onUpdate:modelValue":e[30]||(e[30]=r=>c.value.contract_end_date=r),type:"date",disabled:c.value.contract_type==="unlimited",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 disabled:opacity-50"},null,8,Aa),[[y,c.value.contract_end_date]])])]),t("div",null,[e[111]||(e[111]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Oylik maosh (UZS)",-1)),g(t("input",{"onUpdate:modelValue":e[31]||(e[31]=r=>c.value.salary=r),type:"number",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500",placeholder:"0"},null,512),[[y,c.value.salary]])]),t("div",Ka,[t("button",{type:"button",onClick:e[32]||(e[32]=r=>F.value=!1),class:"px-6 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},"Bekor qilish"),t("button",{type:"submit",disabled:x.value,class:"px-6 py-2.5 bg-purple-600 text-white text-sm font-medium rounded-xl hover:bg-purple-700 transition-colors disabled:opacity-50"},"Saqlash",8,Ra)])],32)])])):b("",!0)])),(o(),w($,{to:"body"},[I.value?(o(),i("div",Ja,[t("div",Ya,[t("div",Qa,[e[112]||(e[112]=t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Ta'tilga chiqarish",-1)),t("p",Za,s(l.value?.name),1)]),t("form",{onSubmit:z(Tt,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[113]||(e[113]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Ta'til turi",-1)),g(t("select",{"onUpdate:modelValue":e[33]||(e[33]=r=>k.value.leave_type=r),class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},[(o(),i(f,null,h(ct,r=>t("option",{key:r.value,value:r.value},s(r.label),9,Ga)),64))],512),[[_,k.value.leave_type]])]),t("div",Ha,[t("div",null,[e[114]||(e[114]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Boshlanish",-1)),g(t("input",{"onUpdate:modelValue":e[34]||(e[34]=r=>k.value.start_date=r),type:"date",required:"",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},null,512),[[y,k.value.start_date]])]),t("div",null,[e[115]||(e[115]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Tugash",-1)),g(t("input",{"onUpdate:modelValue":e[35]||(e[35]=r=>k.value.end_date=r),type:"date",required:"",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},null,512),[[y,k.value.end_date]])])]),t("div",null,[e[116]||(e[116]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Sabab",-1)),g(t("textarea",{"onUpdate:modelValue":e[36]||(e[36]=r=>k.value.reason=r),rows:"3",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500",placeholder:"Ta'til sababi..."},null,512),[[y,k.value.reason]])]),t("div",Wa,[t("button",{type:"button",onClick:e[37]||(e[37]=r=>I.value=!1),class:"px-6 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},"Bekor qilish"),t("button",{type:"submit",disabled:x.value,class:"px-6 py-2.5 bg-purple-600 text-white text-sm font-medium rounded-xl hover:bg-purple-700 transition-colors disabled:opacity-50"},"Yuborish",8,ts)])],32)])])):b("",!0)])),(o(),w($,{to:"body"},[A.value?(o(),i("div",es,[t("div",rs,[t("div",as,[t("div",ss,[t("div",os,[n(u(It),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),t("div",null,[e[117]||(e[117]=t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Ishdan bo'shatish",-1)),t("p",ls,s(l.value?.name),1)])])]),t("form",{onSubmit:z(zt,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[118]||(e[118]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Ketish turi",-1)),g(t("select",{"onUpdate:modelValue":e[38]||(e[38]=r=>j.value.termination_type=r),class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},[(o(),i(f,null,h(vt,r=>t("option",{key:r.value,value:r.value},s(r.label),9,ds)),64))],512),[[_,j.value.termination_type]])]),t("div",null,[e[119]||(e[119]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Ketish sanasi",-1)),g(t("input",{"onUpdate:modelValue":e[39]||(e[39]=r=>j.value.termination_date=r),type:"date",required:"",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500"},null,512),[[y,j.value.termination_date]])]),t("div",null,[e[120]||(e[120]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Sabab",-1)),g(t("textarea",{"onUpdate:modelValue":e[40]||(e[40]=r=>j.value.reason=r),rows:"3",class:"w-full px-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500",placeholder:"Ishdan ketish sababi..."},null,512),[[y,j.value.reason]])]),t("div",is,[t("button",{type:"button",onClick:e[41]||(e[41]=r=>A.value=!1),class:"px-6 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},"Bekor qilish"),t("button",{type:"submit",disabled:x.value,class:"px-6 py-2.5 bg-red-600 text-white text-sm font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50"},"Ishdan bo'shatish",8,ns)])],32)])])):b("",!0)]))]),_:1}))}};export{Ps as default};

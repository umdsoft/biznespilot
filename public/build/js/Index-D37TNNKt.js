import{l as e,r,h as t}from"./chunk-DKkye6wf.js";import{u as a}from"./app-DFslr8vl.js";import{e as s,_ as o}from"./chunk-Dm-LAqtr.js";import{_ as l}from"./chunk-BB8-4400.js";import{_ as d}from"./chunk-Dz-Ig_wG.js";import{_ as n}from"./chunk-qINtdIUC.js";import{_ as i}from"./chunk-By7haasb.js";import{_ as c}from"./chunk-k4W8urQJ.js";import{u}from"./chunk-h0z4RgO4.js";import{r as g}from"./chunk-D3xK5Dso.js";import{r as p}from"./chunk-ujXbNZhL.js";import{r as f}from"./chunk-DUcDuGHI.js";import{r as x}from"./chunk-BugzYCIx.js";import{r as b}from"./chunk-Sfe4u6kO.js";import{r as m}from"./chunk-ab1b1Fp4.js";import{r as k}from"./chunk-9PkX4iPz.js";import{r as y}from"./chunk-DR2SDUSg.js";import{r as h}from"./chunk-iVGhU8RF.js";import{r as v}from"./chunk-jWGe-wOn.js";import{D as w,E as j,z as _,r as C,b as M,v as T,L as A,y as B,A as F,H as S,x as q,C as z,F as H,G as I,B as O,M as Z,P as $}from"./chunk-7Urb0kxg.js";import{r as L}from"./chunk-afst19KZ.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-BAC6lhkp.js";import"./chunk-DhwSyUm1.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-D4tA7yBb.js";import"./chunk-DmCyVuil.js";import"./chunk-Be6I8nOg.js";import"./chunk-DpGbuIFK.js";import"./chunk-78n7fhob.js";function N(e,r){return j(),w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function D(e,r){return j(),w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const E={class:"p-6 space-y-6"},G={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},P={class:"flex items-center gap-4"},R={class:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"},U={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},V={class:"text-sm text-gray-500 dark:text-gray-400"},J={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},K={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},Q={class:"flex items-center gap-4"},W={class:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl"},X={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Y={class:"text-sm text-gray-500 dark:text-gray-400"},ee={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},re={class:"flex items-center gap-4"},te={class:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl"},ae={class:"text-2xl font-bold text-green-600 dark:text-green-400"},se={class:"text-sm text-gray-500 dark:text-gray-400"},oe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},le={class:"flex items-center gap-4"},de={class:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl"},ne={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},ie={class:"text-sm text-gray-500 dark:text-gray-400"},ce={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},ue={class:"flex items-center gap-4"},ge={class:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl"},pe={class:"text-lg font-bold text-blue-600 dark:text-blue-400"},fe={class:"text-sm text-gray-500 dark:text-gray-400"},xe={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-12 text-center"},be={class:"mx-auto w-20 h-20 bg-gradient-to-br from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30 rounded-full flex items-center justify-center mb-6"},me={class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2"},ke={class:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto"},ye={key:1,class:"text-gray-500 dark:text-gray-400"},he={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},ve={class:"bg-gradient-to-r from-purple-600 to-indigo-600 px-5 py-5 text-white relative overflow-hidden"},we={class:"relative"},je={class:"flex items-start justify-between gap-3 mb-2"},_e={class:"text-lg font-bold flex-1 line-clamp-1"},Ce={key:0,class:"text-purple-100 text-sm line-clamp-2"},Me={class:"p-5 space-y-4"},Te={key:0,class:"p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded-xl"},Ae={class:"text-xs font-semibold text-purple-600 dark:text-purple-400 mb-1"},Be={class:"text-sm text-gray-800 dark:text-gray-200 line-clamp-2"},Fe={class:"grid grid-cols-2 gap-3"},Se={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-3 border border-green-100 dark:border-green-800"},qe={class:"text-green-600 dark:text-green-400 font-medium text-xs mb-1"},ze={class:"text-green-800 dark:text-green-300 font-bold text-sm"},He={key:0,class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 border border-blue-100 dark:border-blue-800"},Ie={class:"text-blue-600 dark:text-blue-400 font-medium text-xs mb-1"},Oe={class:"text-blue-800 dark:text-blue-300 font-bold text-sm"},Ze={key:1,class:"p-3 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700 rounded-xl"},$e={class:"flex items-center justify-between"},Le={class:"text-xs font-semibold text-yellow-700 dark:text-yellow-400"},Ne={class:"text-2xl font-bold text-yellow-800 dark:text-yellow-300"},De={class:"flex items-center justify-between text-sm"},Ee={key:0,class:"flex items-center gap-1.5 text-green-600 dark:text-green-400"},Ge={class:"text-xs"},Pe={class:"flex items-center gap-1.5 text-gray-500 dark:text-gray-400"},Re={class:"text-xs"},Ue={class:"flex items-center gap-2 pt-4 border-t border-gray-100 dark:border-gray-700"},Ve=["onClick","title"],Je=["onClick","title"],Ke={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Qe={class:"flex min-h-full items-center justify-center p-4"},We={class:"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl"},Xe={class:"p-6"},Ye={class:"flex items-center gap-4 mb-4"},er={class:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center"},rr={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},tr={class:"text-sm text-gray-500 dark:text-gray-400"},ar={class:"text-gray-700 dark:text-gray-300 mb-6"},sr={class:"flex gap-3"},or={__name:"OffersIndex",props:{offers:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},panelType:{type:String,required:!0,validator:e=>["business","marketing","finance","operator","saleshead"].includes(e)}},emits:["delete"],setup(t,{emit:o}){const l=t,{t:d}=a(),n=C(null),{getRouteName:i}=u(l.panelType),c=e=>i(e),or=M(()=>["operator"].includes(l.panelType)),lr=e=>({draft:L,active:f,paused:D,archived:N}[e]||L),dr=e=>d(`offers.status.${e}`)||e,nr=()=>{n.value&&r.delete(route(c("destroy"),n.value.id),{preserveScroll:!0,onSuccess:()=>{n.value=null}})},ir=()=>{n.value=null},cr=e=>e?e>=1e6?(e/1e6).toFixed(1)+" mln so'm":new Intl.NumberFormat("uz-UZ").format(e)+" so'm":"0 so'm";return(a,o)=>(j(),w(H,null,[_("div",E,[_("div",G,[_("div",P,[_("div",R,[B(F(g),{class:"w-8 h-8 text-white"})]),_("div",null,[_("h1",U,S(F(d)("offers.title")),1),_("p",V,S(F(d)("offers.subtitle")),1)])]),or.value?A("",!0):(j(),T(F(e),{key:0,href:a.route(c("create")),class:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-medium rounded-xl transition-all shadow-lg shadow-purple-500/30"},{default:q(()=>[B(F(p),{class:"w-5 h-5"}),z(" "+S(F(d)("offers.new_offer")),1)]),_:1},8,["href"]))]),_("div",J,[_("div",K,[_("div",Q,[_("div",W,[B(F(g),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),_("div",null,[_("p",X,S(t.stats?.total_offers||0),1),_("p",Y,S(F(d)("offers.total_offers")),1)])])]),_("div",ee,[_("div",re,[_("div",te,[B(F(f),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),_("div",null,[_("p",ae,S(t.stats?.active_offers||0),1),_("p",se,S(F(d)("offers.active")),1)])])]),_("div",oe,[_("div",le,[_("div",de,[B(F(x),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),_("div",null,[_("p",ne,S(t.stats?.avg_conversion?.toFixed(1)||0)+"%",1),_("p",ie,S(F(d)("offers.avg_conversion")),1)])])]),_("div",ce,[_("div",ue,[_("div",ge,[B(F(b),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),_("div",null,[_("p",pe,S(cr(t.stats?.total_value||0)),1),_("p",fe,S(F(d)("offers.total_value")),1)])])])]),t.offers&&0!==t.offers.length?(j(),w("div",he,[(j(!0),w(H,null,I(t.offers,t=>{return j(),w("div",{key:t.id,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg hover:border-purple-300 dark:hover:border-purple-600 transition-all group"},[_("div",ve,[o[0]||(o[0]=_("div",{class:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity"},null,-1)),_("div",we,[_("div",je,[_("h3",_e,S(t.name),1),_("span",{class:O([(l=t.status,{draft:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600",active:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-700",paused:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-700",archived:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-700"}[l]||"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-medium border"])},[(j(),T(Z(lr(t.status)),{class:"w-3.5 h-3.5"})),z(" "+S(dr(t.status)),1)],2)]),t.description?(j(),w("p",Ce,S(t.description),1)):A("",!0)])]),_("div",Me,[t.core_offer?(j(),w("div",Te,[_("p",Ae,S(F(d)("offers.core_offer")),1),_("p",Be,S(t.core_offer),1)])):A("",!0),_("div",Fe,[_("div",Se,[_("div",qe,S(F(d)("offers.price")),1),_("div",ze,S(cr(t.pricing||0)),1)]),t.total_value?(j(),w("div",He,[_("div",Ie,S(F(d)("offers.total_value")),1),_("div",Oe,S(cr(t.total_value)),1)])):A("",!0)]),t.value_score?(j(),w("div",Ze,[_("div",$e,[_("span",Le,S(F(d)("offers.value_score")),1),_("span",Ne,S(t.value_score),1)])])):A("",!0),_("div",De,[t.guarantee_type?(j(),w("div",Ee,[B(F(k),{class:"w-4 h-4"}),_("span",Ge,S(F(d)("offers.guaranteed")),1)])):A("",!0),_("div",Pe,[B(F(g),{class:"w-4 h-4"}),_("span",Re,S(F(d)("offers.bonuses",{count:t.components_count||0})),1)])]),_("div",Ue,[B(F(e),{href:a.route(c("show"),t.id),class:O(["inline-flex items-center justify-center gap-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/30 hover:bg-purple-200 dark:hover:bg-purple-900/50 text-purple-700 dark:text-purple-400 font-medium rounded-xl transition-colors text-sm",or.value?"flex-1":""])},{default:q(()=>[B(F(y),{class:"w-4 h-4"}),z(" "+S(F(d)("offers.view")),1)]),_:1},8,["href","class"]),or.value?A("",!0):(j(),T(F(e),{key:0,href:a.route(c("edit"),t.id),class:"p-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-400 rounded-xl transition-colors",title:F(d)("offers.edit")},{default:q(()=>[B(F(h),{class:"w-4 h-4"})]),_:1},8,["href","title"])),or.value?A("",!0):(j(),w("button",{key:1,onClick:e=>(e=>{r.post(route(c("duplicate"),e.id))})(t),class:"p-2 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded-xl transition-colors",title:F(d)("offers.duplicate")},[B(F(v),{class:"w-4 h-4"})],8,Ve)),or.value?A("",!0):(j(),w("button",{key:2,onClick:e=>(e=>{n.value=e})(t),class:"p-2 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 rounded-xl transition-colors",title:F(d)("offers.delete")},[B(F(s),{class:"w-4 h-4"})],8,Je))])])]);var l}),128))])):(j(),w("div",xe,[_("div",be,[B(F(g),{class:"w-10 h-10 text-purple-600 dark:text-purple-400"})]),_("h3",me,S(F(d)("offers.no_offers")),1),_("p",ke,S(F(d)("offers.no_offers_desc")),1),or.value?(j(),w("p",ye,S(F(d)("offers.not_created")),1)):(j(),T(F(e),{key:0,href:a.route(c("create")),class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-medium rounded-xl transition-all shadow-lg shadow-purple-500/30"},{default:q(()=>[B(F(m),{class:"w-5 h-5"}),z(" "+S(F(d)("offers.create_offer")),1)]),_:1},8,["href"]))]))]),(j(),T($,{to:"body"},[n.value?(j(),w("div",Ke,[_("div",Qe,[_("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:ir}),_("div",We,[_("div",Xe,[_("div",Ye,[_("div",er,[B(F(s),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),_("div",null,[_("h3",rr,S(F(d)("offers.delete_title")),1),_("p",tr,S(F(d)("offers.delete_warning")),1)])]),_("p",ar,S(F(d)("offers.delete_confirm",{name:n.value.name})),1),_("div",sr,[_("button",{onClick:ir,class:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl transition-colors"},S(F(d)("common.cancel")),1),_("button",{onClick:nr,class:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded-xl transition-colors"},S(F(d)("offers.delete")),1)])])])])])):A("",!0)]))],64))}},lr={__name:"Index",props:{offers:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},panelType:{type:String,required:!0,validator:e=>["business","marketing","finance","operator","saleshead"].includes(e)}},setup(e){const{t:r}=a(),s=e,u=M(()=>({business:l,marketing:d,finance:n,operator:i,saleshead:c}[s.panelType]||o));return(a,s)=>(j(),T(Z(u.value),{title:F(r)("offers.title")},{default:q(()=>[B(F(t),{title:F(r)("offers.title")},null,8,["title"]),B(or,{offers:e.offers,stats:e.stats,"panel-type":e.panelType},null,8,["offers","stats","panel-type"])]),_:1},8,["title"]))}};export{lr as default};

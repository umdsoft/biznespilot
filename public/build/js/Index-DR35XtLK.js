import{r as a,o as e,D as t,y as r,A as s,x as l,z as o,v as d,L as i,E as n,F as c,G as g,B as m,H as u,S as x,C as h,P as y,Q as p}from"./chunk-7Urb0kxg.js";import{h as b,a as v}from"./chunk-DKkye6wf.js";import{_ as k}from"./chunk-BB8-4400.js";import{r as f}from"./chunk-ab1b1Fp4.js";import{b as w}from"./chunk-Dm-LAqtr.js";import{r as j}from"./chunk-DncpFozA.js";import{a as _}from"./chunk-9PkX4iPz.js";import{r as q}from"./chunk-DUcDuGHI.js";import{r as T}from"./chunk-BugzYCIx.js";import{r as z}from"./chunk-DS-Zp4Qb.js";import{r as C}from"./chunk-BbNzHEQQ.js";import{r as M}from"./chunk-BWaVMiMI.js";import{r as B}from"./chunk-CoFofPT-.js";import{r as S}from"./chunk-CaFLnw-U.js";import{r as A}from"./chunk-pKP15yhx.js";import{r as E}from"./chunk-C3XJH04c.js";import{r as O}from"./chunk-Rl16a4N0.js";import{r as H}from"./chunk-DOBCiesv.js";import{a as U}from"./chunk-YGW1Cp7-.js";import{r as I}from"./chunk-afst19KZ.js";import{a as Q}from"./chunk-C1ExV0Y3.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-D2XW56yD.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-DhwSyUm1.js";import"./chunk-D4tA7yBb.js";const J={class:"space-y-6"},L={class:"relative overflow-hidden bg-gradient-to-r from-violet-600 via-purple-600 to-indigo-600 rounded-2xl p-6 md:p-8"},R={class:"absolute top-4 right-4 opacity-20"},$={class:"relative flex flex-col md:flex-row md:items-center md:justify-between gap-4"},F={class:"flex items-center gap-4"},G={class:"p-3 bg-white/20 backdrop-blur-sm rounded-xl"},K={class:"flex items-center gap-3"},N={class:"flex bg-white/10 backdrop-blur-sm rounded-xl p-1"},P=["onClick"],X=["disabled"],Y={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4"},D={class:"flex items-center gap-3 text-red-600 dark:text-red-400"},V={class:"font-medium"},W={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Z={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},aa={class:"group bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg hover:border-blue-200 dark:hover:border-blue-800 transition-all duration-300"},ea={class:"flex items-center justify-between mb-4"},ta={class:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg shadow-blue-200 dark:shadow-blue-900/50"},ra={class:"text-3xl font-bold text-gray-900 dark:text-white"},sa={class:"flex items-center gap-2 mt-2"},la={class:"text-sm text-gray-500 dark:text-gray-400"},oa={class:"group bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg hover:border-purple-200 dark:hover:border-purple-800 transition-all duration-300"},da={class:"flex items-center justify-between mb-4"},ia={class:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg shadow-purple-200 dark:shadow-purple-900/50"},na={class:"flex items-baseline gap-1"},ca={class:"mt-3 h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden"},ga={class:"group bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg hover:border-emerald-200 dark:hover:border-emerald-800 transition-all duration-300"},ma={class:"flex items-center justify-between mb-4"},ua={class:"p-3 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg shadow-emerald-200 dark:shadow-emerald-900/50"},xa={class:"text-3xl font-bold text-gray-900 dark:text-white"},ha={class:"flex items-center gap-2 mt-2"},ya={class:"flex -space-x-2"},pa={class:"text-[10px] font-bold text-white"},ba={class:"group bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg hover:border-amber-200 dark:hover:border-amber-800 transition-all duration-300"},va={class:"flex items-center justify-between mb-4"},ka={class:"p-3 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl shadow-lg shadow-amber-200 dark:shadow-amber-900/50"},fa={class:"flex items-baseline gap-1"},wa={class:"text-3xl font-bold text-gray-900 dark:text-white"},ja={class:"flex items-center gap-2 mt-2"},_a={class:"text-sm text-gray-500 dark:text-gray-400"},qa={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Ta={class:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},za={class:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20"},Ca={class:"flex items-center gap-3"},Ma={class:"p-2 bg-gradient-to-br from-amber-400 to-amber-500 rounded-lg shadow-md"},Ba={key:0,class:"p-12 text-center"},Sa={class:"w-20 h-20 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"},Aa={key:1,class:"divide-y divide-gray-50 dark:divide-gray-700/50"},Ea=["onClick"],Oa={key:1},Ha={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-400 to-purple-500 flex items-center justify-center shadow-md"},Ua={class:"text-white font-bold"},Ia={class:"flex-1 min-w-0"},Qa={class:"font-semibold text-gray-900 dark:text-white truncate"},Ja={class:"flex items-center gap-3 mt-1"},La={class:"inline-flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400"},Ra={class:"inline-flex items-center gap-1 text-xs text-emerald-600 dark:text-emerald-400"},$a={class:"text-right"},Fa={class:"flex items-center gap-2"},Ga={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},Ka={class:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20"},Na={class:"flex items-center gap-3"},Pa={class:"p-2 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg shadow-md"},Xa={key:0,class:"p-12 text-center"},Ya={class:"w-16 h-16 mx-auto mb-4 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center"},Da={key:1,class:"p-4 space-y-3"},Va={class:"flex items-center justify-between p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-xl border border-orange-100 dark:border-orange-800/50 hover:border-orange-200 dark:hover:border-orange-700 transition-colors"},Wa={class:"flex items-center gap-3"},Za={class:"w-8 h-8 bg-orange-100 dark:bg-orange-900/50 rounded-lg flex items-center justify-center"},ae={class:"text-sm font-medium text-gray-700 dark:text-gray-200"},ee={class:"flex items-center gap-2"},te={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},re={class:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6"},se={class:"relative flex items-start gap-4"},le={class:"p-3 bg-white/20 backdrop-blur-sm rounded-xl"},oe={class:"flex min-h-full items-center justify-center p-4"},de={class:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden"},ie={class:"sticky top-0 z-10 bg-gradient-to-r from-violet-600 to-purple-600 px-6 py-4"},ne={class:"flex items-center justify-between"},ce={class:"flex items-center gap-4"},ge={class:"w-14 h-14 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center"},me={class:"text-white text-xl font-bold"},ue={class:"text-xl font-bold text-white"},xe={class:"text-purple-100"},he={class:"flex items-center gap-4"},ye={class:"text-right"},pe={class:"text-3xl font-bold text-white"},be={class:"p-6 overflow-y-auto max-h-[calc(90vh-100px)]"},ve={key:0,class:"flex items-center justify-center py-12"},ke={key:1,class:"text-center py-12"},fe={key:2,class:"space-y-4"},we=["onClick"],je={class:"flex-1 min-w-0"},_e={class:"flex items-center gap-2"},qe={class:"font-medium text-gray-900 dark:text-white"},Te={class:"text-gray-600 dark:text-gray-300"},ze={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Ce={class:"flex items-center gap-2"},Me={key:0,class:"border-t border-gray-200 dark:border-gray-700"},Be={class:"grid grid-cols-1 lg:grid-cols-2 divide-y lg:divide-y-0 lg:divide-x divide-gray-200 dark:divide-gray-700"},Se={class:"p-4"},Ae={class:"flex items-center gap-2 font-semibold text-gray-900 dark:text-white mb-3"},Ee={class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 max-h-80 overflow-y-auto text-sm"},Oe={key:0,class:"whitespace-pre-wrap text-gray-700 dark:text-gray-300"},He={key:1,class:"whitespace-pre-wrap text-gray-700 dark:text-gray-300"},Ue={key:2,class:"text-gray-400 dark:text-gray-500 italic"},Ie={class:"p-4"},Qe={class:"flex items-center gap-2 font-semibold text-gray-900 dark:text-white mb-3"},Je={key:0,class:"space-y-2 mb-4"},Le={class:"w-32 text-xs text-gray-600 dark:text-gray-400 truncate"},Re={class:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},$e={key:1,class:"mb-4"},Fe={class:"space-y-1"},Ge={key:2,class:"mb-4"},Ke={class:"space-y-1"},Ne={key:3},Pe={class:"space-y-1"},Xe={__name:"Index",setup(Xe){const Ye=a(!0),De=a(null),Ve=a([]),We=a("monthly"),Ze=a(null),at=a(!1),et=a(null),tt=a([]),rt=a(!1),st=a(null),lt=async()=>{try{const a=await v.get("/api/v1/call-center/overview",{params:{period:We.value}});De.value=a.data.data}catch(a){Ze.value="Ma'lumotlarni yuklashda xatolik"}},ot=async()=>{try{const a=await v.get("/api/v1/call-center/leaderboard",{params:{period:We.value,limit:10}});Ve.value=a.data.data}catch(a){}},dt=async()=>{Ye.value=!0,Ze.value=null,await Promise.all([lt(),ot()]),Ye.value=!1},it=()=>{at.value=!1,et.value=null,tt.value=[],st.value=null},nt=a=>null==a?"text-gray-400 dark:text-gray-500":a>=80?"text-emerald-500":a>=60?"text-amber-500":a>=40?"text-orange-500":"text-red-500",ct=a=>null==a?"from-gray-400 to-gray-500":a>=80?"from-emerald-400 to-emerald-600":a>=60?"from-amber-400 to-amber-600":a>=40?"from-orange-400 to-orange-600":"from-red-400 to-red-600",gt=a=>null==a?"bg-gray-100 dark:bg-gray-700":a>=80?"bg-emerald-100 dark:bg-emerald-900/30":a>=60?"bg-amber-100 dark:bg-amber-900/30":a>=40?"bg-orange-100 dark:bg-orange-900/30":"bg-red-100 dark:bg-red-900/30",mt=a=>1===a?{bg:"bg-gradient-to-br from-yellow-400 to-amber-500",text:"text-white",shadow:"shadow-amber-200 dark:shadow-amber-900/50"}:2===a?{bg:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-400 dark:to-gray-500",text:"text-gray-700 dark:text-gray-900",shadow:"shadow-gray-200 dark:shadow-gray-700"}:3===a?{bg:"bg-gradient-to-br from-amber-600 to-amber-700",text:"text-white",shadow:"shadow-amber-200 dark:shadow-amber-900/50"}:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-600 dark:text-gray-300",shadow:""},ut=a=>a?a.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):"?",xt={daily:"Bugun",weekly:"Bu hafta",monthly:"Bu oy"},ht={incomplete_call:"Tugallanmagan suhbat",no_greeting:"Salomsiz boshlash",no_closing:"Yakunsiz tugatish",interrupting:"Gap kesish",rushed:"Shoshilinch gapirish",no_discovery:"Ehtiyoj aniqlanmagan",no_objection_handling:"E'tirozga javob yo'q",no_cta:"Harakatga chaqiruv yo'q"},yt={greeting:"Salomlashuv",discovery:"Ehtiyoj aniqlash",presentation:"Taqdimot",objection_handling:"E'tirozlarga javob",closing:"Sotuvni yakunlash",rapport:"Munosabat",cta:"Harakatga chaqiruv"};return e(()=>{dt()}),(a,e)=>(n(),t(c,null,[r(s(b),{title:"Qo'ng'iroq Tahlili"}),r(k,{title:"Qo'ng'iroq Tahlili"},{default:l(()=>[o("div",J,[o("div",L,[e[1]||(e[1]=o("div",{class:"absolute inset-0 opacity-10"},[o("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[o("defs",null,[o("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse"},[o("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white","stroke-width":"0.5"})])]),o("rect",{width:"100",height:"100",fill:"url(#grid)"})])],-1)),o("div",R,[r(s(f),{class:"w-24 h-24 text-white"})]),o("div",$,[o("div",F,[o("div",G,[r(s(f),{class:"w-8 h-8 text-white"})]),e[0]||(e[0]=o("div",null,[o("h1",{class:"text-2xl md:text-3xl font-bold text-white"},"Qo'ng'iroq Tahlili"),o("p",{class:"text-purple-100 mt-1"},"AI yordamida operatorlar samaradorligini real vaqtda kuzating")],-1))]),o("div",K,[o("div",N,[(n(),t(c,null,g(xt,(a,e)=>o("button",{key:e,onClick:a=>(async a=>{We.value=a,await dt()})(e),class:m(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200",We.value===e?"bg-white text-purple-600 shadow-lg":"text-white/80 hover:text-white hover:bg-white/10"])},u(a),11,P)),64))]),o("button",{onClick:dt,disabled:Ye.value,class:"p-2.5 bg-white/10 backdrop-blur-sm hover:bg-white/20 text-white rounded-xl transition-all duration-200"},[r(s(w),{class:m(["w-5 h-5",{"animate-spin":Ye.value}])},null,8,["class"])],8,X)])])]),Ze.value?(n(),t("div",Y,[o("div",D,[r(s(j),{class:"w-6 h-6"}),o("span",V,u(Ze.value),1)])])):Ye.value?(n(),t("div",W,[(n(),t(c,null,g(4,a=>o("div",{key:a,class:"bg-white dark:bg-gray-800 rounded-2xl p-6 animate-pulse"},[...e[2]||(e[2]=[o("div",{class:"flex items-center gap-3 mb-4"},[o("div",{class:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-xl"}),o("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24"})],-1),o("div",{class:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-20 mb-2"},null,-1),o("div",{class:"h-3 bg-gray-100 dark:bg-gray-700 rounded w-32"},null,-1)])])),64))])):De.value?(n(),t("div",Z,[o("div",aa,[o("div",ea,[o("div",ta,[r(s(_),{class:"w-6 h-6 text-white"})]),e[3]||(e[3]=o("span",{class:"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"Jami",-1))]),o("div",ra,u(De.value.summary?.total_calls||0),1),o("div",sa,[r(s(q),{class:"w-4 h-4 text-emerald-500"}),o("span",la,u(De.value.summary?.analyzed_calls||0)+" ta tahlil qilingan",1)])]),o("div",oa,[o("div",da,[o("div",ia,[r(s(T),{class:"w-6 h-6 text-white"})]),e[4]||(e[4]=o("span",{class:"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"O'rtacha",-1))]),o("div",na,[o("span",{class:m(["text-3xl font-bold",nt(De.value.summary?.avg_score)])},u(null!==De.value.summary?.avg_score?Math.round(De.value.summary.avg_score):"-"),3),e[5]||(e[5]=o("span",{class:"text-lg text-gray-400 dark:text-gray-500"},"/100",-1))]),o("div",ca,[o("div",{class:m(["h-full rounded-full bg-gradient-to-r transition-all duration-500",ct(De.value.summary?.avg_score)]),style:x({width:`${De.value.summary?.avg_score||0}%`})},null,6)])]),o("div",ga,[o("div",ma,[o("div",ua,[r(s(z),{class:"w-6 h-6 text-white"})]),e[6]||(e[6]=o("span",{class:"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"Jamoa",-1))]),o("div",xa,u(De.value.summary?.operator_count||0),1),o("div",ha,[o("div",ya,[(n(!0),t(c,null,g(Math.min(De.value.summary?.operator_count||0,3),a=>(n(),t("div",{key:a,class:"w-6 h-6 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 border-2 border-white dark:border-gray-800 flex items-center justify-center"},[o("span",pa,u(a),1)]))),128))]),e[7]||(e[7]=o("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"faol operatorlar",-1))])]),o("div",ba,[o("div",va,[o("div",ka,[r(s(C),{class:"w-6 h-6 text-white"})]),e[8]||(e[8]=o("span",{class:"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"Muvaffaqiyat",-1))]),o("div",fa,[o("span",wa,u(De.value.summary?.total_calls>0?Math.round(De.value.summary.successful_calls/De.value.summary.total_calls*100):0),1),e[9]||(e[9]=o("span",{class:"text-lg text-gray-400 dark:text-gray-500"},"%",-1))]),o("div",ja,[r(s(q),{class:"w-4 h-4 text-emerald-500"}),o("span",_a,u(De.value.summary?.successful_calls||0)+" ta muvaffaqiyatli",1)])])])):i("",!0),o("div",qa,[o("div",Ta,[o("div",za,[o("div",Ca,[o("div",Ma,[r(s(C),{class:"w-5 h-5 text-white"})]),e[10]||(e[10]=o("div",null,[o("h2",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Operatorlar Reytingi"),o("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Batafsil ko'rish uchun bosing")],-1))])]),0===Ve.value.length?(n(),t("div",Ba,[o("div",Sa,[r(s(z),{class:"w-10 h-10 text-gray-300 dark:text-gray-500"})]),e[11]||(e[11]=o("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-1"},"Hali ma'lumot yo'q",-1)),e[12]||(e[12]=o("p",{class:"text-gray-500 dark:text-gray-400"},"Tahlil qilingan qo'ng'iroqlar paydo bo'lganda reyting ko'rsatiladi",-1))])):(n(),t("div",Aa,[(n(!0),t(c,null,g(Ve.value,(a,e)=>(n(),t("div",{key:a.operator.id,onClick:e=>(async a=>{et.value=a,at.value=!0,rt.value=!0,st.value=null;try{const e=await v.get(`/api/v1/call-center/operators/${a.operator.id}/history`,{params:{limit:50}});tt.value=e.data.data}catch(e){tt.value=[]}finally{rt.value=!1}})(a),class:m(["px-6 py-4 flex items-center gap-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer group",{"bg-gradient-to-r from-amber-50/50 to-transparent dark:from-amber-900/10":a.rank<=3}])},[o("div",{class:m(["w-10 h-10 rounded-xl flex items-center justify-center text-sm font-bold shadow-md",[mt(a.rank).bg,mt(a.rank).text,mt(a.rank).shadow]])},[1===a.rank?(n(),d(s(M),{key:0,class:"w-5 h-5"})):(n(),t("span",Oa,u(a.rank),1))],2),o("div",Ha,[o("span",Ua,u(ut(a.operator.name)),1)]),o("div",Ia,[o("div",Qa,u(a.operator.name),1),o("div",Ja,[o("span",La,[r(s(_),{class:"w-3.5 h-3.5"}),h(" "+u(a.total_calls)+" qo'ng'iroq ",1)]),o("span",Ra,[r(s(q),{class:"w-3.5 h-3.5"}),h(" "+u(a.analyzed_calls)+" tahlil ",1)])])]),o("div",$a,[o("div",Fa,[o("div",{class:m(["text-2xl font-bold",nt(a.avg_score)])},u(null!==a.avg_score?Math.round(a.avg_score):"-"),3)]),null!==a.score_change&&0!==a.score_change?(n(),t("div",{key:0,class:m(["flex items-center justify-end gap-1 text-xs font-medium mt-1",a.score_change>=0?"text-emerald-600 dark:text-emerald-400":"text-red-500"])},[a.score_change>=0?(n(),d(s(B),{key:0,class:"w-3.5 h-3.5"})):(n(),d(s(S),{key:1,class:"w-3.5 h-3.5"})),h(" "+u(a.score_change>=0?"+":"")+u(a.score_change.toFixed(1)),1)],2)):i("",!0)]),r(s(A),{class:"w-5 h-5 text-gray-300 dark:text-gray-600 group-hover:text-gray-500 dark:group-hover:text-gray-400 transition-colors"})],10,Ea))),128))]))]),o("div",Ga,[o("div",Ka,[o("div",Na,[o("div",Pa,[r(s(E),{class:"w-5 h-5 text-white"})]),e[13]||(e[13]=o("div",null,[o("h2",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Xatolar Tahlili"),o("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tez-tez uchraydigan muammolar")],-1))])]),De.value?.common_issues&&0!==Object.keys(De.value.common_issues).length?(n(),t("div",Da,[(n(!0),t(c,null,g(De.value.common_issues,(a,l)=>(n(),t("div",{key:l,class:"group relative overflow-hidden"},[o("div",Va,[o("div",Wa,[o("div",Za,[r(s(E),{class:"w-4 h-4 text-orange-600 dark:text-orange-400"})]),o("span",ae,u(ht[l]||l),1)]),o("div",ee,[o("span",te,u(a),1),e[16]||(e[16]=o("span",{class:"text-xs text-gray-400 dark:text-gray-500"},"marta",-1))])])]))),128))])):(n(),t("div",Xa,[o("div",Ya,[r(s(q),{class:"w-8 h-8 text-emerald-500"})]),e[14]||(e[14]=o("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-1"},"Ajoyib!",-1)),e[15]||(e[15]=o("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Xatolar aniqlanmagan",-1))]))])]),o("div",re,[e[18]||(e[18]=o("div",{class:"absolute inset-0 opacity-10"},[o("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[o("defs",null,[o("pattern",{id:"dots",width:"10",height:"10",patternUnits:"userSpaceOnUse"},[o("circle",{cx:"2",cy:"2",r:"1",fill:"white"})])]),o("rect",{width:"100",height:"100",fill:"url(#dots)"})])],-1)),o("div",se,[o("div",le,[r(s(f),{class:"w-6 h-6 text-white"})]),e[17]||(e[17]=o("div",null,[o("h3",{class:"font-bold text-white text-lg"},"AI qo'ng'iroq tahlili qanday ishlaydi?"),o("p",{class:"text-blue-100 mt-2 leading-relaxed"},[h(" Lead sahifalarida qo'ng'iroqlarni tanlab "),o("strong",{class:"text-white"},'"AI Tahlil"'),h(" tugmasini bosing. Tizim qo'ng'iroqni avtomatik transkript qiladi va "),o("strong",{class:"text-white"},"7 ta sotuv bosqichi"),h(" bo'yicha baholaydi: Salomlashuv, Ehtiyoj aniqlash, Taqdimot, E'tirozlarga javob, Sotuvni yakunlash, Munosabat va Harakatga chaqiruv. ")])],-1))])])]),(n(),d(y,{to:"body"},[at.value?(n(),t("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:p(it,["self"])},[o("div",oe,[o("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:it}),o("div",de,[o("div",ie,[o("div",ne,[o("div",ce,[o("div",ge,[o("span",me,u(ut(et.value?.operator?.name)),1)]),o("div",null,[o("h2",ue,u(et.value?.operator?.name),1),o("p",xe,u(et.value?.analyzed_calls)+" ta tahlil qilingan qo'ng'iroq ",1)])]),o("div",he,[o("div",ye,[o("div",pe,u(null!==et.value?.avg_score?Math.round(et.value.avg_score):"-"),1),e[19]||(e[19]=o("div",{class:"text-purple-100 text-sm"},"O'rtacha ball",-1))]),o("button",{onClick:it,class:"p-2 hover:bg-white/20 rounded-lg transition-colors"},[r(s(O),{class:"w-6 h-6 text-white"})])])])]),o("div",be,[rt.value?(n(),t("div",ve,[r(s(w),{class:"w-8 h-8 text-purple-500 animate-spin"})])):0===tt.value.length?(n(),t("div",ke,[r(s(H),{class:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e[20]||(e[20]=o("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Tahlil topilmadi",-1)),e[21]||(e[21]=o("p",{class:"text-gray-500 dark:text-gray-400 mt-1"},"Bu operator uchun hali tahlil qilingan qo'ng'iroqlar yo'q",-1))])):(n(),t("div",fe,[(n(!0),t(c,null,g(tt.value,a=>(n(),t("div",{key:a.id,class:"border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden"},[o("div",{onClick:e=>(a=>{st.value=st.value?.id===a.id?null:a})(a),class:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[o("div",{class:m(["w-12 h-12 rounded-xl flex items-center justify-center",gt(a.analysis?.overall_score)])},[o("span",{class:m(["text-lg font-bold",nt(a.analysis?.overall_score)])},u(null!==a.analysis?.overall_score?Math.round(a.analysis.overall_score):"-"),3)],2),o("div",je,[o("div",_e,[r(s(U),{class:"w-4 h-4 text-gray-400"}),o("span",qe,u(a.date),1),e[22]||(e[22]=o("span",{class:"text-gray-400 dark:text-gray-500"},"â€¢",-1)),r(s(I),{class:"w-4 h-4 text-gray-400"}),o("span",Te,u(a.duration),1)]),a.lead?(n(),t("div",ze,u(a.lead.name)+" - "+u(a.lead.phone),1)):i("",!0)]),o("div",Ce,[o("span",{class:m(["px-3 py-1 text-xs font-medium rounded-full",gt(a.analysis?.overall_score)])},[o("span",{class:m(nt(a.analysis?.overall_score))},u(a.analysis?.score_label||"Noma'lum"),3)],2),r(s(A),{class:m(["w-5 h-5 text-gray-400 transition-transform",{"rotate-90":st.value?.id===a.id}])},null,8,["class"])])],8,we),st.value?.id===a.id?(n(),t("div",Me,[o("div",Be,[o("div",Se,[o("h4",Ae,[r(s(Q),{class:"w-5 h-5 text-purple-500"}),e[23]||(e[23]=h(" Transkript ",-1))]),o("div",Ee,[a.analysis?.formatted_transcript?(n(),t("div",Oe,u(a.analysis.formatted_transcript),1)):a.analysis?.transcript?(n(),t("div",He,u(a.analysis.transcript),1)):(n(),t("div",Ue," Transkript mavjud emas "))])]),o("div",Ie,[o("h4",Qe,[r(s(T),{class:"w-5 h-5 text-purple-500"}),e[24]||(e[24]=h(" Tahlil natijalari ",-1))]),a.analysis?.stage_scores?(n(),t("div",Je,[(n(!0),t(c,null,g(a.analysis.stage_scores,(a,e)=>(n(),t("div",{key:e,class:"flex items-center gap-3"},[o("span",Le,u(yt[e]||e),1),o("div",Re,[o("div",{class:m(["h-full bg-gradient-to-r transition-all duration-300",ct(a)]),style:x({width:`${a||0}%`})},null,6)]),o("span",{class:m(["w-8 text-xs font-medium",nt(a)])},u(a||0),3)]))),128))])):i("",!0),a.analysis?.strengths?.length?(n(),t("div",$e,[e[25]||(e[25]=o("h5",{class:"text-xs font-semibold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider mb-2"},"Kuchli tomonlar",-1)),o("ul",Fe,[(n(!0),t(c,null,g(a.analysis.strengths,(a,e)=>(n(),t("li",{key:e,class:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300"},[r(s(q),{class:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),h(" "+u(a),1)]))),128))])])):i("",!0),a.analysis?.weaknesses?.length?(n(),t("div",Ge,[e[26]||(e[26]=o("h5",{class:"text-xs font-semibold text-orange-600 dark:text-orange-400 uppercase tracking-wider mb-2"},"Yaxshilash kerak",-1)),o("ul",Ke,[(n(!0),t(c,null,g(a.analysis.weaknesses,(a,e)=>(n(),t("li",{key:e,class:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300"},[r(s(E),{class:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),h(" "+u(a),1)]))),128))])])):i("",!0),a.analysis?.recommendations?.length?(n(),t("div",Ne,[e[27]||(e[27]=o("h5",{class:"text-xs font-semibold text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-2"},"Tavsiyalar",-1)),o("ul",Pe,[(n(!0),t(c,null,g(a.analysis.recommendations,(a,e)=>(n(),t("li",{key:e,class:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300"},[r(s(f),{class:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),h(" "+u(a),1)]))),128))])])):i("",!0)])])])):i("",!0)]))),128))]))])])])])):i("",!0)]))]),_:1})],64))}};export{Xe as default};

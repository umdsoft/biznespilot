import{r as e,a as r}from"./chunk-BhZp3z4u.js";import{_ as t}from"./chunk-DbFbpSR2.js";import{v as a,x as s,y as l,C as o,I as i,z as d,D as n,B as c,E as g,J as u,K as m}from"./chunk-CpmtkKLp.js";import"./chunk-D7SyfRoT.js";import"./app-C-ZlocOh.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-Bsc1JRL5.js";import"./chunk-BuJDoypK.js";const p={class:"space-y-6"},x={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},b={class:"flex items-center space-x-3"},y={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},k={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},h={class:"flex items-center space-x-3"},v=["href"],f={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},w={class:"flex flex-col md:flex-row md:items-center gap-6"},_={class:"text-3xl font-bold"},j={class:"flex-1"},C={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},M={key:0,class:"mt-4 grid grid-cols-2 md:grid-cols-5 gap-3"},z={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},A={class:"text-xs text-gray-500 dark:text-gray-400"},B={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},O={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},S={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},T={class:"space-y-3"},V={class:"text-lg"},I={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},L={class:"text-xs text-gray-500 dark:text-gray-400"},U={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Z={class:"space-y-4"},D={class:"flex items-start space-x-3"},F={class:"text-lg"},H={class:"font-medium text-gray-900 dark:text-gray-100"},N={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},q={key:2,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},K={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},P={class:"text-sm text-gray-500 dark:text-gray-400"},E={class:"text-xl font-bold text-gray-900 dark:text-gray-100 mt-1"},J={class:"flex items-center mt-2"},R=["d"],Y={key:3,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},$={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},G={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},Q={class:"space-y-3"},W={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},X={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},ee={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},re={class:"whitespace-pre-wrap text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg overflow-x-auto"},te={__name:"Show",props:{report:Object},setup(te){const ae=te,se={props:["label","value","suffix","icon","color"],template:'\n        <div class="p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg">\n            <div class="text-sm text-gray-500 dark:text-gray-400">{{ label }}</div>\n            <div class="text-xl font-bold text-gray-900 dark:text-gray-100 mt-1">\n                {{ value }}{{ suffix || \'\' }}\n            </div>\n        </div>\n    '},le=e=>e?new Intl.NumberFormat("uz-UZ").format(Math.round(e))+" UZS":"0 UZS",oe=()=>{e.visit(route("business.reports.algorithmic"))},ie=async()=>{if(confirm("Hisobotni o'chirishni xohlaysizmi?"))try{await r.delete(route("business.reports.delete",ae.report.id)),e.visit(route("business.reports.algorithmic"))}catch(t){alert("O'chirishda xatolik")}},de=()=>{navigator.clipboard.writeText(ae.report.content_text),alert("Matn nusxalandi!")};return(e,r)=>(n(),a(t,{title:te.report.title},{default:s(()=>{return[l("div",p,[l("div",x,[l("div",null,[l("div",b,[l("button",{onClick:oe,class:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"},[...r[0]||(r[0]=[l("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),l("h2",y,d(te.report.title),1)]),l("p",k,d(te.report.period_label)+" | Yaratildi: "+d(te.report.created_at),1)]),l("div",h,[te.report.has_pdf?(n(),o("a",{key:0,href:te.report.pdf_url,target:"_blank",class:"inline-flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors"},[...r[1]||(r[1]=[l("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),c(" PDF ",-1)])],8,v)):i("",!0),l("button",{onClick:ie,class:"text-red-500 hover:text-red-700"},[...r[2]||(r[2]=[l("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])]),l("div",f,[l("div",w,[l("div",{class:g(["w-24 h-24 rounded-2xl flex flex-col items-center justify-center",(e=te.report.health_score,e?e>=80?"bg-green-500 text-white":e>=60?"bg-blue-500 text-white":e>=40?"bg-yellow-500 text-white":"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600")])},[l("div",_,d(te.report.health_score),1),r[3]||(r[3]=l("div",{class:"text-xs opacity-80"},"/ 100",-1))],2),l("div",j,[l("h3",C," Salomatlik balli: "+d(te.report.health_score_label),1),r[4]||(r[4]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," Bu ko'rsatkich biznesingizning umumiy holatini aks ettiradi ",-1)),te.report.health_breakdown?(n(),o("div",M,[(n(!0),o(u,null,m(te.report.health_breakdown,e=>(n(),o("div",{key:e.category,class:"text-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},[l("div",z,d(e.score),1),l("div",A,d(e.label),1)]))),128))])):i("",!0)])])]),l("div",B,[r[5]||(r[5]=l("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Asosiy ko'rsatkichlar",-1)),l("div",O,[te.report.metrics_data?.sales?(n(),a(se,{key:0,label:"Sotuvlar",value:te.report.metrics_data.sales.total_sales,suffix:" ta",icon:"shopping-cart",color:"blue"},null,8,["value"])):i("",!0),te.report.metrics_data?.sales?(n(),a(se,{key:1,label:"Daromad",value:le(te.report.metrics_data.sales.total_revenue),icon:"currency",color:"green"},null,8,["value"])):i("",!0),te.report.metrics_data?.marketing?(n(),a(se,{key:2,label:"Lidlar",value:te.report.metrics_data.marketing.total_leads,suffix:" ta",icon:"users",color:"purple"},null,8,["value"])):i("",!0),te.report.metrics_data?.marketing?(n(),a(se,{key:3,label:"Konversiya",value:te.report.metrics_data.marketing.conversion_rate,suffix:"%",icon:"chart",color:"yellow"},null,8,["value"])):i("",!0),te.report.metrics_data?.financial?(n(),a(se,{key:4,label:"ROI",value:te.report.metrics_data.financial.roi,suffix:"%",icon:"trending-up",color:"green"},null,8,["value"])):i("",!0),te.report.metrics_data?.financial?(n(),a(se,{key:5,label:"CAC",value:le(te.report.metrics_data.financial.cac),icon:"tag",color:"red"},null,8,["value"])):i("",!0),te.report.metrics_data?.financial?(n(),a(se,{key:6,label:"CLV",value:le(te.report.metrics_data.financial.clv),icon:"heart",color:"pink"},null,8,["value"])):i("",!0),te.report.metrics_data?.financial?(n(),a(se,{key:7,label:"LTV/CAC",value:te.report.metrics_data.financial.ltv_cac_ratio,suffix:"x",icon:"scale",color:"indigo"},null,8,["value"])):i("",!0)])]),te.report.insights?.length?(n(),o("div",S,[r[6]||(r[6]=l("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Tushunchalar",-1)),l("div",T,[(n(!0),o(u,null,m(te.report.insights,(e,r)=>{return n(),o("div",{key:r,class:g(["flex items-start space-x-3 p-3 rounded-lg",(t=e.type,{"bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500":"positive"===t,"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500":"negative"===t,"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500":"warning"===t,"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500":"neutral"===t})])},[l("span",V,d(e.icon),1),l("div",null,[l("p",I,d(e.message),1),l("span",L,d(e.category),1)])],2);var t}),128))])])):i("",!0),te.report.recommendations?.length?(n(),o("div",U,[r[7]||(r[7]=l("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Tavsiyalar",-1)),l("div",Z,[(n(!0),o(u,null,m(te.report.recommendations,(e,r)=>(n(),o("div",{key:r,class:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800"},[l("div",D,[l("span",F,d(e.icon),1),l("div",null,[l("h4",H,d(e.title),1),l("p",N,d(e.description),1)])])]))),128))])])):i("",!0),te.report.comparisons?.previous_period?(n(),o("div",q,[r[8]||(r[8]=l("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"}," Oldingi davr bilan taqqoslash ",-1)),l("div",K,[(n(!0),o(u,null,m(te.report.comparisons.previous_period.metrics,(e,r)=>{return n(),o("div",{key:r,class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},[l("div",P,d(e.label),1),l("div",E,d("number"==typeof e.current&&e.current>1e3?(t=e.current,new Intl.NumberFormat("uz-UZ").format(Math.round(t))):e.current),1),l("div",J,[l("span",{class:g(["up"===e.direction?"text-green-500":"down"===e.direction?"text-red-500":"text-gray-500","text-sm font-medium"])},d("up"===e.direction?"+":"")+d(e.change_percent)+"% ",3),"stable"!==e.direction?(n(),o("svg",{key:0,class:g(["w-4 h-4 ml-1","up"===e.direction?"text-green-500":"text-red-500"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"up"===e.direction?"M5 10l7-7m0 0l7 7m-7-7v18":"M19 14l-7 7m0 0l-7-7m7 7V3"},null,8,R)],2)):i("",!0)])]);var t}),128))])])):i("",!0),te.report.anomalies?.length?(n(),o("div",Y,[l("h3",$,[r[9]||(r[9]=c(" Anomaliyalar ",-1)),l("span",G,"("+d(te.report.anomalies.length)+")",1)]),l("div",Q,[(n(!0),o(u,null,m(te.report.anomalies,(e,r)=>(n(),o("div",{key:r,class:g(["flex items-start justify-between p-3 rounded-lg","high"===e.severity?"bg-red-50 dark:bg-red-900/20":"bg-yellow-50 dark:bg-yellow-900/20"])},[l("div",null,[l("p",W,d(e.message),1),l("p",X,d(e.date),1)]),l("span",{class:g(["text-xs font-medium px-2 py-1 rounded","spike"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},d("spike"===e.type?"O'sish":"Pasayish"),3)],2))),128))])])):i("",!0),l("div",ee,[l("div",{class:"flex items-center justify-between mb-4"},[r[10]||(r[10]=l("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Telegram uchun matn",-1)),l("button",{onClick:de,class:"text-blue-600 hover:text-blue-700 text-sm font-medium"}," Nusxalash ")]),l("pre",re,d(te.report.content_text),1)])])];var e}),_:1},8,["title"]))}};export{te as default};

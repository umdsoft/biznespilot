import{h as e,l as a,a as r}from"./chunk-DKkye6wf.js";import{_ as t}from"./chunk-L0R09JI1.js";import{r as s}from"./chunk-D4tA7yBb.js";import{r as d}from"./chunk-34FQ54zy.js";import{r as l}from"./chunk-mnMqT5PJ.js";import{b as i}from"./chunk-Dm-LAqtr.js";import{r as o}from"./chunk-BAC6lhkp.js";import{r as g}from"./chunk-BugzYCIx.js";import{r as n}from"./chunk-C05WCdFB.js";import{r as u}from"./chunk-C3XJH04c.js";import{r as x}from"./chunk-DdK1ytni.js";import{r as c}from"./chunk-DS-Zp4Qb.js";import{r as y}from"./chunk-DUcDuGHI.js";import{r as b}from"./chunk-afst19KZ.js";import{a as p}from"./chunk-Dg8ilgYs.js";import{r as m,w as v,b as k,o as h,v as f,x as w,y as _,z as j,A as q,D as B,L as $,H as I,E as z,B as S,C as H,F as T,G as J,M,S as C}from"./chunk-7Urb0kxg.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-D2XW56yD.js";import"./chunk-Sfe4u6kO.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";const N={class:"space-y-6"},O={class:"flex items-center justify-between"},Y={class:"flex items-center gap-4"},Q={class:"text-2xl font-bold text-gray-900 dark:text-white"},X={key:0,class:"flex items-center gap-3 mt-1"},D={key:0,class:"text-xs text-purple-600 dark:text-purple-400"},F={key:0,class:"flex items-center gap-3"},K={key:0,class:"flex items-center justify-center py-12"},U={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},A={class:"text-red-800 dark:text-red-400"},P={class:"border-b border-gray-200 dark:border-gray-700"},R={class:"flex space-x-8","aria-label":"Tabs"},E=["onClick"],G={key:0,class:"ml-1 px-2 py-0.5 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-full"},L={key:0,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},V={class:"lg:col-span-2 space-y-6"},W={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},Z={class:"text-gray-900 dark:text-white"},ee={key:1,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-6"},ae={class:"text-sm font-medium text-green-800 dark:text-green-400 mb-3 flex items-center gap-2"},re={class:"flex items-center gap-3"},te=["value"],se={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-200 dark:border-gray-700"},de={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},le={class:"font-semibold text-gray-900 dark:text-white"},ie={class:"divide-y divide-gray-200 dark:divide-gray-700"},oe={class:"flex items-start gap-4"},ge={class:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center shrink-0"},ne={class:"text-sm font-medium text-purple-600 dark:text-purple-400"},ue={class:"flex-1"},xe={class:"text-gray-900 dark:text-white font-medium"},ce={class:"flex items-center gap-3 mt-2"},ye={class:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded"},be={class:"space-y-6"},pe={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm space-y-4 border border-gray-200 dark:border-gray-700"},me={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},ve={class:"font-semibold text-gray-900 dark:text-white"},ke={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},he={class:"font-semibold text-gray-900 dark:text-white"},fe={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},we={class:"font-semibold text-gray-900 dark:text-white"},_e={key:0,class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},je={class:"font-semibold text-gray-900 dark:text-white"},qe={key:1,class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},Be={class:"font-semibold text-gray-900 dark:text-white"},$e={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},Ie={class:"text-gray-600 dark:text-gray-400"},ze={class:"text-sm text-gray-500 dark:text-gray-500 mt-1"},Se={key:1,class:"space-y-6"},He={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700"},Te={key:1,class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Je={class:"flex items-center justify-between mb-6"},Me={class:"text-gray-600 dark:text-gray-400"},Ce={key:2,class:"space-y-6"},Ne={key:0,class:"flex items-center justify-center py-12"},Oe={key:1,class:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700"},Ye={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Qe={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Xe={class:"flex items-center gap-3"},De={class:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center"},Fe={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Ke={class:"text-2xl font-bold text-emerald-500 dark:text-emerald-400"},Ue={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Ae={class:"text-2xl font-bold text-amber-500 dark:text-amber-400"},Pe={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Re={class:"text-2xl font-bold text-red-500 dark:text-red-400"},Ee={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Ge={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},Le={class:"space-y-3"},Ve={class:"text-gray-600 dark:text-gray-300 text-sm mt-1"},We={key:1,class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Ze={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ea={class:"flex items-center justify-between mb-2"},aa={class:"text-sm text-gray-600 dark:text-gray-300"},ra={class:"bg-gray-200 dark:bg-gray-600 rounded-full h-2"},ta={key:2,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},sa={class:"overflow-x-auto"},da={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},la={class:"divide-y divide-gray-200 dark:divide-gray-700"},ia={class:"px-6 py-4 whitespace-nowrap"},oa={class:"text-sm font-medium text-gray-900 dark:text-white"},ga={class:"px-6 py-4 whitespace-nowrap"},na={class:"px-6 py-4 whitespace-nowrap"},ua={key:3,class:"space-y-6"},xa={key:0,class:"flex items-center justify-center py-12"},ca={key:1,class:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700"},ya={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},ba={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},pa={class:"text-center"},ma={class:"text-2xl font-bold text-gray-900 dark:text-white"},va={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-l-4 border-red-500"},ka={class:"text-center"},ha={class:"text-3xl font-bold text-red-500 dark:text-red-400"},fa={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-l-4 border-orange-500"},wa={class:"text-center"},_a={class:"text-3xl font-bold text-orange-500 dark:text-orange-400"},ja={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-l-4 border-yellow-500"},qa={class:"text-center"},Ba={class:"text-3xl font-bold text-yellow-500 dark:text-yellow-400"},$a={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-l-4 border-green-500"},Ia={class:"text-center"},za={class:"text-3xl font-bold text-green-500 dark:text-green-400"},Sa={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},Ha={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},Ta={class:"space-y-3"},Ja={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-200 dark:border-gray-700"},Ma={class:"overflow-x-auto"},Ca={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Na={class:"divide-y divide-gray-200 dark:divide-gray-700"},Oa={class:"px-6 py-4 whitespace-nowrap"},Ya={class:"text-sm font-medium text-gray-900 dark:text-white"},Qa={class:"px-6 py-4 whitespace-nowrap"},Xa={class:"px-6 py-4 whitespace-nowrap"},Da={__name:"Show",props:{currentBusiness:Object,surveyId:String},setup(Da){const Fa=Da,Ka=m(!0),Ua=m(null),Aa=m(""),Pa=m(!1),Ra=m("overview"),Ea=m(null),Ga=m(null),La=m(!1),Va=m(!1),Wa=[{id:"overview",label:"Umumiy",icon:o},{id:"results",label:"Natijalar",icon:g},{id:"engagement",label:"Ishga Qiziqish",icon:n},{id:"flightrisk",label:"Ketish Xavfi",icon:u}],Za=async()=>{if(!Fa.currentBusiness?.id||!Fa.surveyId)return Aa.value="Biznes yoki so'rovnoma tanlanmagan",void(Ka.value=!1);Ka.value=!0,Aa.value="";try{const e=await r.get(`/api/v1/businesses/${Fa.currentBusiness.id}/hr/surveys/${Fa.surveyId}`);Ua.value=e.data.data}catch(e){Aa.value=e.response?.data?.message||"So'rovnomani yuklashda xatolik"}finally{Ka.value=!1}};v(Ra,e=>{"engagement"!==e||Ea.value||La.value||(async()=>{if(Fa.currentBusiness?.id&&Fa.surveyId){La.value=!0;try{const e=await r.get(`/api/v1/businesses/${Fa.currentBusiness.id}/hr/surveys/${Fa.surveyId}/engagement`);Ea.value=e.data.data}catch(e){Ea.value=null}finally{La.value=!1}}})(),"flightrisk"!==e||Ga.value||Va.value||(async()=>{if(Fa.currentBusiness?.id&&Fa.surveyId){Va.value=!0;try{const e=await r.get(`/api/v1/businesses/${Fa.currentBusiness.id}/hr/surveys/${Fa.surveyId}/flight-risk`);Ga.value=e.data.data}catch(e){Ga.value=null}finally{Va.value=!1}}})()});const er=async()=>{if(Fa.currentBusiness?.id)try{await r.post(`/api/v1/businesses/${Fa.currentBusiness.id}/hr/surveys/${Fa.surveyId}/activate`),await Za()}catch(e){Aa.value=e.response?.data?.message||"Faollashtirishda xatolik"}},ar=async()=>{if(Fa.currentBusiness?.id)try{await r.post(`/api/v1/businesses/${Fa.currentBusiness.id}/hr/surveys/${Fa.surveyId}/close`),await Za()}catch(e){Aa.value=e.response?.data?.message||"Yopishda xatolik"}},rr=k(()=>`${window.location.origin}/hr/surveys/${Fa.surveyId}/fill`),tr=async()=>{try{await navigator.clipboard.writeText(rr.value),Pa.value=!0,setTimeout(()=>Pa.value=!1,2e3)}catch(e){}},sr=e=>({scale:"Shkala (1-5)",rating:"Reyting",choice:"Tanlash",multiple_choice:"Ko'p tanlash",yes_no:"Ha/Yo'q",text:"Matn"}[e]||e),dr=e=>({highly_engaged:"Juda qiziqgan",engaged:"Qiziqgan",neutral:"Neytral",disengaged:"Qiziqmagan"}[e]||e),lr=e=>e>=80?"text-emerald-400":e>=65?"text-blue-400":e>=50?"text-amber-400":"text-red-400",ir=e=>e>=80?"bg-emerald-500":e>=65?"bg-blue-500":e>=50?"bg-amber-500":"bg-red-500",or=e=>({critical:"Juda yuqori xavf",high:"Yuqori xavf",moderate:"O'rtacha xavf",medium:"O'rtacha xavf",low:"Past xavf"}[e]||e),gr=k(()=>{if(!Ea.value)return[];const e=[],a=Ea.value.avg_score||0;if(a>=80?e.push({type:"success",title:"A'lo natija!",message:"Bu so'rovnomada hodimlar ishga qiziqish darajasi juda yuqori."}):a<50&&e.push({type:"danger",title:"Diqqat talab qilinadi!",message:"Bu so'rovnomada umumiy ishga qiziqish darajasi past."}),Ea.value.components){const a=Ea.value.components,r=Object.entries(a).filter(([e,a])=>a<50).map(([e,a])=>nr(e));r.length>0&&e.push({type:"warning",title:"Diqqat qilish kerak",message:`Quyidagi sohalarda ball past: ${r.join(", ")}`})}return e}),nr=e=>({work_satisfaction:"Ish qoniqishi",team_collaboration:"Jamoa hamkorligi",growth_opportunities:"O'sish imkoniyatlari",recognition_frequency:"Tan olinish",manager_support:"Menejer qo'llab-quvvatlashi",work_life_balance:"Ish-hayot balansi",purpose_clarity:"Maqsad aniqligi",resources_adequacy:"Resurslar yetarliligi"}[e]||e),ur=k(()=>{if(!Ga.value)return[];const e=[],a=Ga.value.risk_distribution||{},r=(a.critical?.count||0)+(a.high?.count||0);r>0&&e.push({type:"warning",title:"Yuqori xavfdagi hodimlar",message:`${r} ta hodim yuqori ketish xavfida. Ular bilan suhbat o'tkazing.`});const t=Ga.value.total_employees||0,s=t>0?Math.round(r/t*100):0;return s>=30?e.push({type:"danger",title:"Umumiy xavf yuqori",message:`Hodimlarning ${s}% i yuqori xavfda. Kompaniyada umumiy muammo bo'lishi mumkin.`}):0===r&&e.push({type:"success",title:"Xavf nazorat ostida",message:"Hech qaysi hodim yuqori ketish xavfida emas. Hodimlar barqaror."}),e});return h(Za),(r,m)=>(z(),f(t,{title:"So'rovnoma tafsilotlari"},{default:w(()=>{return[_(q(e),{title:Ua.value?.title||"So'rovnoma"},null,8,["title"]),j("div",N,[j("div",O,[j("div",Y,[_(q(a),{href:"/hr/surveys",class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg"},{default:w(()=>[_(q(s),{class:"w-5 h-5 text-gray-500"})]),_:1}),j("div",null,[j("h1",Q,I(Ua.value?.title||"So'rovnoma"),1),Ua.value?(z(),B("div",X,[j("span",{class:S(["px-3 py-1 text-xs font-medium rounded-full",(t=Ua.value.type,{engagement:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",pulse:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",exit:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",onboarding:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-400","360_feedback":"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",custom:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}[t]||"bg-gray-100 text-gray-800")])},I(Ua.value.type_label),3),j("span",{class:S(["px-3 py-1 text-xs font-medium rounded-full",(r=Ua.value.status,{draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",closed:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}[r]||"bg-gray-100 text-gray-800")])},I(Ua.value.status_label),3),Ua.value.is_anonymous?(z(),B("span",D," Anonim ")):$("",!0)])):$("",!0)])]),Ua.value?(z(),B("div",F,["draft"===Ua.value.status?(z(),B("button",{key:0,onClick:er,class:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},[_(q(d),{class:"w-5 h-5"}),m[0]||(m[0]=H(" Faollashtirish ",-1))])):$("",!0),"active"===Ua.value.status?(z(),B("button",{key:1,onClick:ar,class:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},[_(q(l),{class:"w-5 h-5"}),m[1]||(m[1]=H(" Yopish ",-1))])):$("",!0)])):$("",!0)]),Ka.value?(z(),B("div",K,[_(q(i),{class:"w-8 h-8 animate-spin text-purple-600"})])):Aa.value?(z(),B("div",U,[j("p",A,I(Aa.value),1)])):Ua.value?(z(),B(T,{key:2},[j("div",P,[j("nav",R,[(z(),B(T,null,J(Wa,e=>j("button",{key:e.id,onClick:a=>Ra.value=e.id,class:S(["flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors",Ra.value===e.id?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},[(z(),f(M(e.icon),{class:"w-5 h-5"})),H(" "+I(e.label)+" ",1),"results"===e.id&&Ua.value.response_count>0?(z(),B("span",G,I(Ua.value.response_count),1)):$("",!0)],10,E)),64))])]),"overview"===Ra.value?(z(),B("div",L,[j("div",V,[Ua.value.description?(z(),B("div",W,[m[2]||(m[2]=j("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},"Tavsif",-1)),j("p",Z,I(Ua.value.description),1)])):$("",!0),"active"===Ua.value.status?(z(),B("div",ee,[j("h3",ae,[_(q(x),{class:"w-5 h-5"}),m[3]||(m[3]=H(" Xodimlarga yuborish uchun havola ",-1))]),j("div",re,[j("input",{type:"text",value:rr.value,readonly:"",class:"flex-1 px-4 py-2 bg-white dark:bg-gray-800 border border-green-300 dark:border-green-700 rounded-lg text-sm text-gray-900 dark:text-white"},null,8,te),j("button",{onClick:tr,class:S(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",Pa.value?"bg-green-600 text-white":"bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-700"])},I(Pa.value?"Nusxalandi!":"Nusxalash"),3)])])):$("",!0),j("div",se,[j("div",de,[j("h3",le," Savollar ("+I(Ua.value.questions?.length||0)+") ",1)]),j("div",ie,[(z(!0),B(T,null,J(Ua.value.questions,(e,a)=>(z(),B("div",{key:a,class:"px-6 py-4"},[j("div",oe,[j("div",ge,[j("span",ne,I(a+1),1)]),j("div",ue,[j("p",xe,I(e.text),1),j("div",ce,[j("span",ye,I(sr(e.type)),1)])])])]))),128))])])]),j("div",be,[j("div",pe,[m[9]||(m[9]=j("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Statistika",-1)),j("div",me,[_(q(c),{class:"w-5 h-5 text-gray-400"}),j("div",null,[m[4]||(m[4]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Maqsadli auditoriya",-1)),j("p",ve,I(Ua.value.target_count)+" kishi",1)])]),j("div",ke,[_(q(y),{class:"w-5 h-5 text-green-500"}),j("div",null,[m[5]||(m[5]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Javoblar",-1)),j("p",he,I(Ua.value.response_count)+" ("+I(Ua.value.response_rate)+"%) ",1)])]),j("div",fe,[_(q(o),{class:"w-5 h-5 text-purple-500"}),j("div",null,[m[6]||(m[6]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Savollar soni",-1)),j("p",we,I(Ua.value.questions?.length||0),1)])]),Ua.value.start_date?(z(),B("div",_e,[_(q(b),{class:"w-5 h-5 text-blue-500"}),j("div",null,[m[7]||(m[7]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Boshlanish",-1)),j("p",je,I(Ua.value.start_date),1)])])):$("",!0),Ua.value.end_date?(z(),B("div",qe,[_(q(b),{class:"w-5 h-5 text-red-500"}),j("div",null,[m[8]||(m[8]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tugash",-1)),j("p",Be,I(Ua.value.end_date),1)])])):$("",!0)]),Ua.value.creator?(z(),B("div",$e,[m[10]||(m[10]=j("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3"},"Yaratuvchi",-1)),j("p",Ie,I(Ua.value.creator.name),1),j("p",ze,I(Ua.value.created_at),1)])):$("",!0)])])):"results"===Ra.value?(z(),B("div",Se,[0===Ua.value.response_count?(z(),B("div",He,[_(q(g),{class:"w-12 h-12 mx-auto text-gray-400 mb-4"}),m[11]||(m[11]=j("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Hali javoblar yo'q",-1)),m[12]||(m[12]=j("p",{class:"text-gray-500 dark:text-gray-400"}," So'rovnomani faollashtiring va xodimlarga havolani yuboring ",-1))])):(z(),B("div",Te,[j("div",Je,[m[14]||(m[14]=j("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Javoblar natijalari ",-1)),_(q(a),{href:`/hr/surveys/${Da.surveyId}/results`,class:"text-purple-600 dark:text-purple-400 hover:underline text-sm"},{default:w(()=>[...m[13]||(m[13]=[H(" To'liq ko'rish â†’ ",-1)])]),_:1},8,["href"])]),j("p",Me," Jami "+I(Ua.value.response_count)+" ta javob qabul qilindi ("+I(Ua.value.response_rate)+"% javob berdi) ",1)]))])):"engagement"===Ra.value?(z(),B("div",Ce,[La.value?(z(),B("div",Ne,[_(q(i),{class:"w-8 h-8 animate-spin text-purple-600"})])):Ea.value&&0!==Ua.value.response_count?(z(),B(T,{key:2},[j("div",Ye,[j("div",Qe,[j("div",Xe,[j("div",De,[_(q(n),{class:"w-6 h-6 text-purple-500 dark:text-purple-400"})]),j("div",null,[m[17]||(m[17]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"O'rtacha ball",-1)),j("p",{class:S(["text-2xl font-bold",lr(Ea.value.avg_score||0)])},I((Ea.value.avg_score||0).toFixed(1)),3)])])]),j("div",Fe,[m[18]||(m[18]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Qiziqgan hodimlar",-1)),j("p",Ke,I((Ea.value.distribution?.highly_engaged?.count||0)+(Ea.value.distribution?.engaged?.count||0)),1)]),j("div",Ue,[m[19]||(m[19]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Neytral",-1)),j("p",Ae,I(Ea.value.distribution?.neutral?.count||0),1)]),j("div",Pe,[m[20]||(m[20]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Qiziqmagan",-1)),j("p",Re,I(Ea.value.distribution?.disengaged?.count||0),1)])]),gr.value.length>0?(z(),B("div",Ee,[j("h3",Ge,[_(q(p),{class:"w-5 h-5 text-amber-500"}),m[21]||(m[21]=H(" Xulosa va tavsiyalar ",-1))]),j("div",Le,[(z(!0),B(T,null,J(gr.value,(e,a)=>(z(),B("div",{key:a,class:S(["p-4 rounded-lg border","success"===e.type?"bg-emerald-50 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-500/30":"danger"===e.type?"bg-red-50 dark:bg-red-500/10 border-red-200 dark:border-red-500/30":"bg-amber-50 dark:bg-amber-500/10 border-amber-200 dark:border-amber-500/30"])},[j("h4",{class:S(["font-medium","success"===e.type?"text-emerald-700 dark:text-emerald-400":"danger"===e.type?"text-red-700 dark:text-red-400":"text-amber-700 dark:text-amber-400"])},I(e.title),3),j("p",Ve,I(e.message),1)],2))),128))])])):$("",!0),Ea.value.components?(z(),B("div",We,[m[22]||(m[22]=j("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Komponent bo'yicha o'rtacha balllar ",-1)),j("div",Ze,[(z(!0),B(T,null,J(Ea.value.components,(e,a)=>(z(),B("div",{key:a,class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600"},[j("div",ea,[j("span",aa,I(nr(a)),1),j("span",{class:S(["text-lg font-bold",lr(e)])},I(e),3)]),j("div",ra,[j("div",{class:S(["h-2 rounded-full transition-all duration-500",ir(e)]),style:C({width:`${e}%`})},null,6)])]))),128))])])):$("",!0),Ea.value.employees?.length>0?(z(),B("div",ta,[m[24]||(m[24]=j("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[j("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Hodimlar ro'yxati")],-1)),j("div",sa,[j("table",da,[m[23]||(m[23]=j("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[j("tr",null,[j("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Hodim"),j("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Ball"),j("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Daraja")])],-1)),j("tbody",la,[(z(!0),B(T,null,J(Ea.value.employees,e=>{return z(),B("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[j("td",ia,[j("span",oa,I(e.name||"Noma'lum"),1)]),j("td",ga,[j("span",{class:S(["text-lg font-bold",lr(e.overall_score)])},I(e.overall_score?.toFixed(1)),3)]),j("td",na,[j("span",{class:S(["px-3 py-1 text-xs font-medium rounded-full",(a=e.engagement_level,{highly_engaged:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",engaged:"bg-blue-500/20 text-blue-400 border border-blue-500/30",neutral:"bg-amber-500/20 text-amber-400 border border-amber-500/30",disengaged:"bg-red-500/20 text-red-400 border border-red-500/30"}[a]||"bg-gray-500/20 text-gray-400")])},I(dr(e.engagement_level)),3)])]);var a}),128))])])])])):$("",!0)],64)):(z(),B("div",Oe,[_(q(n),{class:"w-12 h-12 mx-auto text-gray-400 mb-4"}),m[15]||(m[15]=j("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Ma'lumot yo'q",-1)),m[16]||(m[16]=j("p",{class:"text-gray-500 dark:text-gray-400"}," Bu so'rovnomaga javoblar kelgandan so'ng ishga qiziqish tahlili ko'rinadi ",-1))]))])):"flightrisk"===Ra.value?(z(),B("div",ua,[Va.value?(z(),B("div",xa,[_(q(i),{class:"w-8 h-8 animate-spin text-purple-600"})])):Ga.value&&0!==Ua.value.response_count?(z(),B(T,{key:2},[j("div",ya,[j("div",ba,[j("div",pa,[j("p",ma,I(Ga.value.total_employees||0),1),m[27]||(m[27]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jami hodimlar",-1))])]),j("div",va,[j("div",ka,[j("p",ha,I(Ga.value.risk_distribution?.critical?.count||0),1),m[28]||(m[28]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Juda yuqori",-1))])]),j("div",fa,[j("div",wa,[j("p",_a,I(Ga.value.risk_distribution?.high?.count||0),1),m[29]||(m[29]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Yuqori",-1))])]),j("div",ja,[j("div",qa,[j("p",Ba,I(Ga.value.risk_distribution?.medium?.count||0),1),m[30]||(m[30]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"O'rtacha",-1))])]),j("div",$a,[j("div",Ia,[j("p",za,I(Ga.value.risk_distribution?.low?.count||0),1),m[31]||(m[31]=j("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Past",-1))])])]),ur.value.length>0?(z(),B("div",Sa,[j("h3",Ha,[_(q(p),{class:"w-5 h-5 text-amber-500"}),m[32]||(m[32]=H(" Xulosa va Tavsiyalar ",-1))]),j("div",Ta,[(z(!0),B(T,null,J(ur.value,(e,a)=>(z(),B("div",{key:a,class:S(["p-4 rounded-lg border","success"===e.type?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"danger"===e.type?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"])},[j("h4",{class:S(["font-medium","success"===e.type?"text-green-800 dark:text-green-300":"danger"===e.type?"text-red-800 dark:text-red-300":"text-amber-800 dark:text-amber-300"])},I(e.title),3),j("p",{class:S(["text-sm mt-1","success"===e.type?"text-green-700 dark:text-green-400":"danger"===e.type?"text-red-700 dark:text-red-400":"text-amber-700 dark:text-amber-400"])},I(e.message),3)],2))),128))])])):$("",!0),Ga.value.employees?.length>0?(z(),B("div",Ja,[m[34]||(m[34]=j("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[j("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Hodimlar ro'yxati")],-1)),j("div",Ma,[j("table",Ca,[m[33]||(m[33]=j("thead",{class:"bg-gray-50 dark:bg-gray-700"},[j("tr",null,[j("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Hodim"),j("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Xavf balli"),j("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Daraja")])],-1)),j("tbody",Na,[(z(!0),B(T,null,J(Ga.value.employees,e=>{return z(),B("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[j("td",Oa,[j("span",Ya,I(e.name||"Noma'lum"),1)]),j("td",Qa,[j("span",{class:S(["text-lg font-bold",(r=e.risk_score,r>=70?"text-red-500 dark:text-red-400":r>=50?"text-orange-500 dark:text-orange-400":r>=30?"text-yellow-500 dark:text-yellow-400":"text-green-500 dark:text-green-400")])},I(e.risk_score)+"% ",3)]),j("td",Xa,[j("span",{class:S(["px-3 py-1 text-xs font-medium rounded-full",(a=e.risk_level,{critical:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300",high:"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",moderate:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",low:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"}[a]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300")])},I(or(e.risk_level)),3)])]);var a,r}),128))])])])])):$("",!0)],64)):(z(),B("div",ca,[_(q(u),{class:"w-12 h-12 mx-auto text-gray-400 mb-4"}),m[25]||(m[25]=j("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Ma'lumot yo'q",-1)),m[26]||(m[26]=j("p",{class:"text-gray-500 dark:text-gray-400"}," Bu so'rovnomaga javoblar kelgandan so'ng ketish xavfi tahlili ko'rinadi ",-1))]))])):$("",!0)],64)):$("",!0)])];var r,t}),_:1}))}};export{Da as default};

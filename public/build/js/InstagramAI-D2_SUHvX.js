import{r as e,o as a,v as t,x as r,y as s,z as l,A as o,C as i,D as n,L as u,I as c,R as d,E as p,J as m,H as g,F as f,G as b}from"./chunk-7Urb0kxg.js";import{b as h,h as v}from"./chunk-DKkye6wf.js";import{_ as x}from"./chunk-BB8-4400.js";import{u as y}from"./app-DFslr8vl.js";import{r as k}from"./chunk-ab1b1Fp4.js";import{r as _}from"./chunk-IpnqR3t9.js";import{r as w}from"./chunk-DUcDuGHI.js";import{a as j}from"./chunk-C1ExV0Y3.js";import{e as S}from"./chunk-Dm-LAqtr.js";import{r as I}from"./chunk-ujXbNZhL.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";const q={class:"py-12"},z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"mb-8"},A={class:"text-3xl font-bold text-gray-900 flex items-center gap-3"},V={class:"w-10 h-10 rounded-lg bg-gradient-to-tr from-purple-600 via-pink-600 to-orange-600 flex items-center justify-center"},C={class:"bg-white rounded-xl shadow-md p-6 mb-6"},U={class:"flex items-center gap-3 mb-6"},X={class:"space-y-6"},D={class:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-100"},J={class:"relative inline-flex items-center cursor-pointer"},O={class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},B={class:"relative inline-flex items-center cursor-pointer"},K={key:0},M={class:"block text-sm font-medium text-gray-700 mb-2"},F={class:"border-t pt-6"},N={class:"space-y-3"},E={class:"flex items-center"},R={class:"flex items-center"},Y={class:"flex items-center"},$={class:"border-t pt-6"},L={class:"flex items-center justify-between mb-4"},P={class:"relative inline-flex items-center cursor-pointer"},Q={key:0,class:"space-y-4"},G={class:"grid grid-cols-2 gap-4"},H={class:"mt-6 flex items-center gap-4"},W=["disabled"],Z={key:0,class:"flex items-center gap-2 text-green-600"},ee={class:"bg-white rounded-xl shadow-md p-6"},ae={class:"flex items-center gap-3 mb-6"},te={class:"space-y-3 mb-6"},re={class:"flex-1"},se={class:"text-sm font-medium text-gray-700"},le={class:"text-purple-600"},oe={class:"text-sm text-gray-600 mt-1"},ie=["onClick"],ne={class:"border-t pt-6"},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},ce={class:"flex gap-4"},de=["disabled"],pe={__name:"InstagramAI",setup(pe){y();const me=h(),ge=me.props.currentBusiness||me.props.auth?.currentBusiness,fe=e({is_active:!0,ai_enabled:!0,auto_greet:!0,greeting_message:"Salom! ðŸ‘‹ Sizga qanday yordam bera olamiz?",fallback_message:"Kechirasiz, savol tushunilmadi. Iltimos, boshqacha so'rang.",outside_hours_message:"Ish vaqti tugadi. Ish kunlari 9:00-18:00 da ishlaymiz.",business_hours_enabled:!1,business_hours_start:"09:00",business_hours_end:"18:00",lead_auto_create:!0,ai_creativity_level:7,use_dream_buyer_context:!0,use_offer_context:!0}),be=e(!1),he=e(!1),ve=e([{id:1,trigger:"salom",response:"Salom! ðŸ‘‹ Sizga qanday yordam bera olamiz?"},{id:2,trigger:"narx",response:"Takliflarimiz haqida ma'lumot olish uchun DM yozing."},{id:3,trigger:"xarid",response:"Xarid uchun operator bilan bog'lanamiz. â³"}]),xe=e({trigger:"",response:""}),ye=async()=>{be.value=!0,he.value=!1;try{const e=await fetch(`/api/instagram/${ge.id}/ai-config`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify(fe.value)}),a=await e.json();a.success?(he.value=!0,setTimeout(()=>he.value=!1,3e3)):alert("Xatolik: "+a.message)}catch(e){alert("Xatolik: "+e.message)}finally{be.value=!1}},ke=()=>{xe.value.trigger&&xe.value.response&&(ve.value.push({id:Date.now(),...xe.value}),xe.value={trigger:"",response:""})},_e=async()=>{be.value=!0;try{const e=await fetch(`/api/instagram/${ge.id}/ai-templates`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({templates:ve.value})}),a=await e.json();a.success?alert("Templatelar saqlandi!"):alert("Xatolik: "+a.message)}catch(e){alert("Xatolik: "+e.message)}finally{be.value=!1}};return a(()=>{(async()=>{be.value=!0;try{const e=await fetch(`/api/instagram/${ge.id}/ai-config`),a=await e.json();a.success&&(fe.value={...fe.value,...a.config},a.templates&&(ve.value=a.templates))}catch(e){}finally{be.value=!1}})()}),(e,a)=>(p(),t(x,{title:"Instagram AI Settings"},{default:r(()=>[s(o(v),{title:"Instagram AI Configuration"}),l("div",q,[l("div",z,[l("div",T,[l("h1",A,[l("div",V,[s(o(k),{class:"w-6 h-6 text-white"})]),a[14]||(a[14]=i(" Instagram AI Chatbot Configuration ",-1))]),a[15]||(a[15]=l("p",{class:"mt-2 text-gray-600"}," AI-powered avtomatik javoblar Instagram DM va Story replies uchun ",-1))]),l("div",C,[l("div",U,[s(o(_),{class:"w-6 h-6 text-gray-700"}),a[16]||(a[16]=l("h2",{class:"text-xl font-bold text-gray-900"},"Asosiy Sozlamalar",-1))]),l("div",X,[l("div",D,[a[18]||(a[18]=l("div",null,[l("h3",{class:"font-semibold text-gray-900"},"AI Chatbot Yoqish"),l("p",{class:"text-sm text-gray-600"},"Instagram DM va Story replies uchun avtomatik AI javoblar")],-1)),l("label",J,[c(l("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=e=>fe.value.ai_enabled=e),class:"sr-only peer"},null,512),[[d,fe.value.ai_enabled]]),a[17]||(a[17]=l("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-purple-600 peer-checked:to-pink-600"},null,-1))])]),l("div",O,[a[20]||(a[20]=l("div",null,[l("h3",{class:"font-semibold text-gray-900"},"Avtomatik Salomlashish"),l("p",{class:"text-sm text-gray-600"},"Yangi mijozlarga avtomatik salom berish")],-1)),l("label",B,[c(l("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=e=>fe.value.auto_greet=e),class:"sr-only peer"},null,512),[[d,fe.value.auto_greet]]),a[19]||(a[19]=l("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-purple-600 peer-checked:to-pink-600"},null,-1))])]),fe.value.auto_greet?(p(),n("div",K,[a[21]||(a[21]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Salomlashish Xabari (emoji ishlatishingiz mumkin ðŸ˜Š) ",-1)),c(l("textarea",{"onUpdate:modelValue":a[2]||(a[2]=e=>fe.value.greeting_message=e),rows:"2",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[m,fe.value.greeting_message]])])):u("",!0),l("div",null,[l("label",M," AI Ijodkorlik Darajasi: "+g(fe.value.ai_creativity_level)+"/10 ",1),c(l("input",{type:"range","onUpdate:modelValue":a[3]||(a[3]=e=>fe.value.ai_creativity_level=e),min:"1",max:"10",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{"accent-color":"#9333ea"}},null,512),[[m,fe.value.ai_creativity_level]]),a[22]||(a[22]=l("div",{class:"flex justify-between text-xs text-gray-500 mt-1"},[l("span",null,"Aniq javoblar"),l("span",null,"Ijodiy javoblar")],-1))]),l("div",F,[a[26]||(a[26]=l("h3",{class:"font-semibold text-gray-900 mb-4"},"Kontekst Sozlamalari",-1)),l("div",N,[l("div",E,[c(l("input",{type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=e=>fe.value.use_dream_buyer_context=e),class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"},null,512),[[d,fe.value.use_dream_buyer_context]]),a[23]||(a[23]=l("label",{class:"ml-2 text-sm text-gray-700"},"Ideal Mijoz ma'lumotlaridan foydalanish",-1))]),l("div",R,[c(l("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=e=>fe.value.use_offer_context=e),class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"},null,512),[[d,fe.value.use_offer_context]]),a[24]||(a[24]=l("label",{class:"ml-2 text-sm text-gray-700"},"Aktiv Takliflar haqida ma'lumot berish",-1))]),l("div",Y,[c(l("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=e=>fe.value.lead_auto_create=e),class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"},null,512),[[d,fe.value.lead_auto_create]]),a[25]||(a[25]=l("label",{class:"ml-2 text-sm text-gray-700"},"Avtomatik Lead yaratish (xarid bosqichida)",-1))])])]),l("div",$,[l("div",L,[a[28]||(a[28]=l("h3",{class:"font-semibold text-gray-900"},"Ish Vaqti",-1)),l("label",P,[c(l("input",{type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=e=>fe.value.business_hours_enabled=e),class:"sr-only peer"},null,512),[[d,fe.value.business_hours_enabled]]),a[27]||(a[27]=l("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-purple-600 peer-checked:to-pink-600"},null,-1))])]),fe.value.business_hours_enabled?(p(),n("div",Q,[l("div",G,[l("div",null,[a[29]||(a[29]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Boshlanish",-1)),c(l("input",{type:"time","onUpdate:modelValue":a[8]||(a[8]=e=>fe.value.business_hours_start=e),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[m,fe.value.business_hours_start]])]),l("div",null,[a[30]||(a[30]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tugash",-1)),c(l("input",{type:"time","onUpdate:modelValue":a[9]||(a[9]=e=>fe.value.business_hours_end=e),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[m,fe.value.business_hours_end]])])]),l("div",null,[a[31]||(a[31]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ish vaqtidan tashqari xabar",-1)),c(l("textarea",{"onUpdate:modelValue":a[10]||(a[10]=e=>fe.value.outside_hours_message=e),rows:"2",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[m,fe.value.outside_hours_message]])])])):u("",!0)]),l("div",null,[a[32]||(a[32]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fallback Xabar (AI javob bera olmasa)",-1)),c(l("textarea",{"onUpdate:modelValue":a[11]||(a[11]=e=>fe.value.fallback_message=e),rows:"2",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[m,fe.value.fallback_message]])])]),l("div",H,[l("button",{onClick:ye,disabled:be.value,class:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-purple-400 disabled:to-pink-400 text-white font-semibold rounded-lg transition-all"},g(be.value?"Saqlanmoqda...":"Sozlamalarni Saqlash"),9,W),he.value?(p(),n("div",Z,[s(o(w),{class:"w-5 h-5"}),a[33]||(a[33]=l("span",{class:"font-medium"},"Saqlandi!",-1))])):u("",!0)])]),l("div",ee,[l("div",ae,[s(o(j),{class:"w-6 h-6 text-gray-700"}),a[34]||(a[34]=l("h2",{class:"text-xl font-bold text-gray-900"},"Tez Javob Templatelar",-1))]),l("div",te,[(p(!0),n(f,null,b(ve.value,e=>(p(),n("div",{key:e.id,class:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg"},[l("div",re,[l("div",se,[a[35]||(a[35]=i(" Trigger: ",-1)),l("span",le,g(e.trigger),1)]),l("div",oe,g(e.response),1)]),l("button",{onClick:a=>{return t=e.id,void(ve.value=ve.value.filter(e=>e.id!==t));var t},class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[s(o(S),{class:"w-5 h-5"})],8,ie)]))),128))]),l("div",ne,[a[39]||(a[39]=l("h3",{class:"font-semibold text-gray-900 mb-4"},"Yangi Template Qo'shish",-1)),l("div",ue,[l("div",null,[a[36]||(a[36]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Trigger Kalit So'z",-1)),c(l("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>xe.value.trigger=e),type:"text",placeholder:"masalan: narx, xarid",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[m,xe.value.trigger]])]),l("div",null,[a[37]||(a[37]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Javob Matni",-1)),c(l("input",{"onUpdate:modelValue":a[13]||(a[13]=e=>xe.value.response=e),type:"text",placeholder:"Javob xabari",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[m,xe.value.response]])])]),l("div",ce,[l("button",{onClick:ke,class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-lg transition-all gap-2"},[s(o(I),{class:"w-5 h-5"}),a[38]||(a[38]=i(" Template Qo'shish ",-1))]),l("button",{onClick:_e,disabled:be.value,class:"px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white font-semibold rounded-lg transition-colors"}," Barchasini Saqlash ",8,de)])])])])])]),_:1}))}};export{pe as default};

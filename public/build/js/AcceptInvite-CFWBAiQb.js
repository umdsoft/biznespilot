import{r as e,D as t,z as a,H as s,A as r,C as l,Q as o,L as n,I as i,J as u,E as c}from"./chunk-7Urb0kxg.js";import{u as d}from"./app-DFslr8vl.js";import"./chunk-DKkye6wf.js";import"./chunk-Di7Oc7TS.js";const p={class:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"},m={class:"w-full max-w-md"},f={class:"bg-white rounded-2xl shadow-xl p-8"},b={class:"text-center mb-8"},x={class:"text-2xl font-bold text-gray-900 mb-2"},v={class:"text-gray-600"},g={class:"font-semibold text-blue-600"},h={class:"bg-gray-50 rounded-xl p-4 mb-6 space-y-3"},y={class:"flex justify-between items-center"},w={class:"text-gray-500"},k={class:"font-medium text-gray-900"},_={class:"flex justify-between items-center"},j={class:"text-gray-500"},S={class:"font-medium text-gray-900"},C={class:"flex justify-between items-center"},O={class:"text-gray-500"},P={class:"font-medium text-gray-900"},q={class:"block text-sm font-medium text-gray-700 mb-2"},z=["placeholder"],A={class:"block text-sm font-medium text-gray-700 mb-2"},B=["placeholder"],E={class:"block text-sm font-medium text-gray-700 mb-2"},M=["placeholder"],T={key:0,class:"text-sm text-red-600"},U=["disabled"],V={key:1,class:"space-y-4"},D={class:"text-center text-gray-600 text-sm"},F={class:"font-medium"},H={key:0,class:"text-sm text-red-600 text-center"},I=["disabled"],J={class:"mt-6 text-center text-sm text-gray-500"},N=["href"],K={class:"mt-8 text-center text-xs text-gray-500"},L={__name:"AcceptInvite",props:{token:String,business:Object,inviter:Object,department:String,role:String,email:String,needsPassword:Boolean},setup(L){const{t:Q}=d(),R=L,X=e({name:"",password:"",password_confirmation:""}),Y=e(!1),G=e(""),W=async()=>{Y.value=!0,G.value="";try{const e=R.needsPassword?X.value:{},t=await fetch(route("invite.accept",R.token),{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();t.ok&&a.success?window.location.href=a.redirect||"/business":G.value=a.error||a.message||Q("auth.error_occurred")}catch(e){G.value=Q("auth.invite.network_error")}finally{Y.value=!1}};return(e,d)=>(c(),t("div",p,[a("div",m,[a("div",f,[a("div",b,[d[3]||(d[3]=a("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4"},[a("svg",{class:"w-9 h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),a("h1",x,s(r(Q)("auth.invite.title")),1),a("p",v,[l(s(r(Q)("auth.invite.invited_to"))+" ",1),a("span",g,s(L.business?.name),1)])]),a("div",h,[a("div",y,[a("span",w,s(r(Q)("auth.invite.inviter")),1),a("span",k,s(L.inviter?.name),1)]),a("div",_,[a("span",j,s(r(Q)("auth.invite.department")),1),a("span",S,s(L.department),1)]),a("div",C,[a("span",O,s(r(Q)("auth.invite.role")),1),a("span",P,s(L.role),1)])]),L.needsPassword?(c(),t("form",{key:0,onSubmit:o(W,["prevent"]),class:"space-y-5"},[a("div",null,[a("label",q,s(r(Q)("auth.invite.your_name")),1),i(a("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>X.value.name=e),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:r(Q)("auth.invite.full_name_placeholder")},null,8,z),[[u,X.value.name]])]),a("div",null,[a("label",A,s(r(Q)("auth.password")),1),i(a("input",{"onUpdate:modelValue":d[1]||(d[1]=e=>X.value.password=e),type:"password",required:"",minlength:"8",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:r(Q)("auth.password_min")},null,8,B),[[u,X.value.password]])]),a("div",null,[a("label",E,s(r(Q)("auth.invite.confirm_password")),1),i(a("input",{"onUpdate:modelValue":d[2]||(d[2]=e=>X.value.password_confirmation=e),type:"password",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:r(Q)("auth.password_reenter")},null,8,M),[[u,X.value.password_confirmation]])]),G.value?(c(),t("p",T,s(G.value),1)):n("",!0),a("button",{type:"submit",disabled:Y.value,class:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},s(Y.value?r(Q)("auth.loading"):r(Q)("auth.invite.accept")),9,U)],32)):(c(),t("div",V,[a("p",D,[d[4]||(d[4]=l(" Email: ",-1)),a("span",F,s(L.email),1)]),G.value?(c(),t("p",H,s(G.value),1)):n("",!0),a("button",{onClick:W,disabled:Y.value,class:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},s(Y.value?r(Q)("auth.loading"):r(Q)("auth.invite.accept")),9,I)])),a("p",J,[l(s(r(Q)("auth.invite.different_account"))+" ",1),a("a",{href:e.route("login"),class:"text-blue-600 hover:text-blue-700 font-medium"},s(r(Q)("auth.login_link")),9,N)])]),a("p",K," Â© "+s((new Date).getFullYear())+" BiznesPilot. "+s(r(Q)("auth.copyright")),1)])]))}};export{L as default};

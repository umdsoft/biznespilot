import{r as e,b as t,w as a,v as r,x as l,C as s,I as n,D as i,y as o,z as d,A as g,B as c,E as u,J as x,K as y,Q as p,F as v,H as b,L as k,G as m}from"./chunk-CpmtkKLp.js";import{a as h,r as f}from"./chunk-BhZp3z4u.js";import{_ as w}from"./chunk-DbFbpSR2.js";import{_}from"./chunk-CXyF54xA.js";import{u as M}from"./app-C-ZlocOh.js";import"./chunk-D7SyfRoT.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-Bsc1JRL5.js";import"./chunk-BuJDoypK.js";import"./chunk-BWiubfpN.js";const j={key:0,class:"mb-8"},D={class:"flex items-center justify-between flex-wrap gap-4"},S={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},C={class:"mt-2 text-gray-600 dark:text-gray-400"},I={class:"mt-3 flex flex-wrap gap-2"},F={class:"flex gap-3"},z={key:1,class:"mb-8"},B={class:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700 rounded-2xl p-8 border border-blue-200 dark:border-gray-600"},H={class:"text-center max-w-2xl mx-auto"},K={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},O={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white"},Y={class:"text-3xl font-bold"},$={class:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg p-6 text-white"},P={class:"text-3xl font-bold"},A={class:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl shadow-lg p-6 text-white"},L={class:"text-3xl font-bold"},V={class:"bg-gradient-to-br from-red-500 to-pink-600 rounded-xl shadow-lg p-6 text-white"},q={class:"text-3xl font-bold"},R={class:"space-y-4"},T={class:"border-b border-gray-200 dark:border-gray-700 pb-4 space-y-4"},N={class:"flex items-center justify-between"},E={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},J={class:"flex flex-wrap gap-2"},U={class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Z={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},G={class:"px-4 py-3 whitespace-nowrap sticky left-0 bg-white dark:bg-gray-800"},X={class:"flex items-center"},W=["innerHTML"],ee={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},te={class:"px-4 py-3 text-center border-l-2 border-blue-500 bg-blue-50/50 dark:bg-blue-900/20"},ae={class:"text-sm font-bold text-blue-700 dark:text-blue-300"},re={class:"px-4 py-3 text-center bg-emerald-50/50 dark:bg-emerald-900/20"},le={class:"text-sm font-bold text-emerald-700 dark:text-emerald-300"},se={class:"px-4 py-3 whitespace-nowrap border-l-2 border-gray-300 dark:border-gray-600"},ne={class:"flex flex-col items-center"},ie={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},oe={class:"px-4 py-3 whitespace-nowrap text-center"},de={class:"space-y-4"},ge={class:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 pb-4"},ce={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ue={class:"overflow-x-auto"},xe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ye={class:"bg-gray-50 dark:bg-gray-700"},pe={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ve={class:"px-4 py-3 whitespace-nowrap sticky left-0 bg-white dark:bg-gray-800"},be={class:"flex items-center"},ke=["innerHTML"],me={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},he={class:"px-4 py-3 text-center border-l-2 border-blue-500 bg-blue-50/50 dark:bg-blue-900/20"},fe={class:"text-sm font-bold text-blue-700 dark:text-blue-300"},we={class:"px-4 py-3 text-center bg-emerald-50/50 dark:bg-emerald-900/20"},_e={class:"text-sm font-bold text-emerald-700 dark:text-emerald-300"},Me={class:"px-4 py-3 whitespace-nowrap border-l-2 border-gray-300 dark:border-gray-600"},je={class:"flex flex-col items-center"},De={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},Se={class:"px-4 py-3 whitespace-nowrap text-center"},Ce={class:"flex items-center justify-between"},Ie={class:"relative inline-block"},Fe=["value"],ze={class:"overflow-x-auto"},Be={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},He={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ke={class:"px-6 py-4 whitespace-nowrap"},Oe={class:"flex items-center"},Ye=["innerHTML"],$e={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Pe={class:"text-xs text-gray-500 dark:text-gray-400"},Ae={class:"px-6 py-4 whitespace-nowrap text-center"},Le={class:"px-6 py-4 whitespace-nowrap text-center"},Ve={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},qe={class:"px-6 py-4 whitespace-nowrap text-center"},Re={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},Te={class:"px-6 py-4 whitespace-nowrap"},Ne={class:"flex flex-col items-center"},Ee={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},Je={class:"px-6 py-4 whitespace-nowrap text-center"},Ue={class:"space-y-4"},Qe={class:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 pb-4"},Ze={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Ge={class:"text-sm text-gray-600 dark:text-gray-400"},Xe={key:0},We={key:1,class:"font-medium text-blue-600 dark:text-blue-400"},et={class:"flex flex-wrap gap-2 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700"},tt=["onClick","disabled"],at={class:"overflow-x-auto"},rt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},lt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},st={class:"px-6 py-4 whitespace-nowrap"},nt={class:"flex items-center"},it=["innerHTML"],ot={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},dt={class:"text-xs text-gray-500 dark:text-gray-400"},gt={class:"px-6 py-4 whitespace-nowrap text-center"},ct={class:"px-6 py-4 whitespace-nowrap text-center"},ut={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},xt={class:"text-xs text-gray-500 dark:text-gray-400"},yt={class:"px-6 py-4 whitespace-nowrap text-center"},pt={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},vt={class:"text-xs text-gray-500 dark:text-gray-400"},bt={class:"px-6 py-4 whitespace-nowrap"},kt={class:"flex flex-col items-center"},mt={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},ht={class:"px-6 py-4 whitespace-nowrap text-center"},ft={key:7,class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6 mt-8"},wt={class:"space-y-4"},_t={class:"flex-1"},Mt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},jt={class:"text-xs text-gray-500 dark:text-gray-400"},Dt={class:"text-right"},St={key:0,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm"},Ct={class:"space-y-4"},It={class:"flex-1"},Ft={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},zt={class:"text-xs text-gray-500 dark:text-gray-400"},Bt={class:"text-right"},Ht={key:0,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm"},Kt={class:"space-y-4"},Ot={class:"flex-1"},Yt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},$t={class:"text-xs text-gray-500 dark:text-gray-400"},Pt={class:"text-right"},At={key:0,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm"},Lt={class:"space-y-4"},Vt={class:"flex-1"},qt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Rt={class:"text-xs text-gray-500 dark:text-gray-400"},Tt={class:"text-right"},Nt={key:0,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm"},Et={key:8,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Jt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"},Ut={class:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between"},Qt={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Zt={class:"p-6 space-y-6"},Gt={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 border-2 border-blue-300 dark:border-blue-700 rounded-xl p-6"},Xt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Wt={key:0,class:"space-y-4"},ea={class:"flex items-center justify-between mb-4"},ta={class:"text-xs px-2 py-1 rounded-full bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300"},aa={class:"border border-teal-200 dark:border-teal-800 rounded-lg p-4 bg-teal-50 dark:bg-teal-900/20"},ra={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},la={class:"bg-white dark:bg-gray-800 rounded p-3"},sa={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},na={class:"bg-white dark:bg-gray-800 rounded p-3"},ia={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},oa={class:"bg-white dark:bg-gray-800 rounded p-3"},da={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ga={class:"bg-white dark:bg-gray-800 rounded p-3"},ca={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ua={class:"border border-green-200 dark:border-green-800 rounded-lg p-4 bg-green-50 dark:bg-green-900/20"},xa={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},ya={class:"bg-white dark:bg-gray-800 rounded p-3"},pa={class:"text-lg font-bold text-green-600 dark:text-green-400"},va={class:"bg-white dark:bg-gray-800 rounded p-3"},ba={class:"text-lg font-bold text-red-600 dark:text-red-400"},ka={class:"bg-white dark:bg-gray-800 rounded p-3"},ma={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ha={class:"bg-white dark:bg-gray-800 rounded p-3"},fa={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},wa={class:"bg-white dark:bg-gray-800 rounded p-3"},_a={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Ma={class:"bg-white dark:bg-gray-800 rounded p-3"},ja={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Da={class:"bg-white dark:bg-gray-800 rounded p-3"},Sa={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Ca={class:"bg-white dark:bg-gray-800 rounded p-3"},Ia={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Fa={class:"border border-blue-200 dark:border-blue-800 rounded-lg p-4 bg-blue-50 dark:bg-blue-900/20"},za={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Ba={class:"bg-white dark:bg-gray-800 rounded p-3"},Ha={class:"bg-white dark:bg-gray-800 rounded p-3"},Ka={class:"flex items-center"},Oa={class:"bg-white dark:bg-gray-800 rounded p-3"},Ya={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},$a={class:"bg-white dark:bg-gray-800 rounded p-3"},Pa={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Aa={key:1,class:"text-center py-12 text-gray-400"},La={class:"sticky bottom-0 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-6 py-4 flex justify-end gap-3"},Va={__name:"Index",props:{kpis:{type:Object,required:!0},roasBenchmark:{type:Object,required:!0},ltvCacBenchmark:{type:Object,required:!0},dateRange:{type:Object,required:!0},businessRegistrationDate:{type:String,required:!0},activePlan:{type:Object,default:null},kpiPlans:{type:Array,default:()=>[]},targetMonth:{type:Object,default:null},dailyEntries:{type:Object,default:()=>({})}},setup(Va){const{t:qa}=M(),Ra=Va,Ta=e("daily"),Na=e(!1),Ea=e((new Date).getDate()),Ja=e({newSales:null,avgCheck:null}),Ua=e(""),Qa=e(null),Za=e(null),Ga=e(null),Xa=e(""),Wa=e(20),er=t(()=>{if(Ra.activePlan)return!1;if(Ra.kpiPlans&&Ra.kpiPlans.length>0)return!1;const e=Ra.kpis;return!e||0===e.cac&&0===e.clv&&0===e.roas&&0===e.roi&&0===e.churn_rate&&0===e.ltv_cac_ratio}),tr=new Date,ar=e(`${tr.getFullYear()}-${String(tr.getMonth()+1).padStart(2,"0")}`),rr={money:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />',trending:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />',user:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />',megaphone:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" />',users:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />',conversion:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4" />',shopping:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />',refresh:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />',tag:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />',wallet:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />'},lr=t(()=>{const e=["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"],t=new Date(Ra.businessRegistrationDate),a=new Date,r=[];let l=t.getFullYear(),s=t.getMonth();for(;l<a.getFullYear()||l===a.getFullYear()&&s<=a.getMonth();)r.push({value:`${l}-${String(s+1).padStart(2,"0")}`,label:`${e[s]} ${l}`}),s++,s>11&&(s=0,l++);return r.reverse()}),sr=t(()=>{const e=["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"];if(Ra.activePlan)return`${e[Ra.activePlan.month-1]} ${Ra.activePlan.year}`;if(Ra.targetMonth)return`${Ra.targetMonth.month_name} ${Ra.targetMonth.year}`;if(ar.value){const[t,a]=ar.value.split("-");return`${e[parseInt(a)-1]} ${t}`}const t=new Date;return`${e[t.getMonth()]} ${t.getFullYear()}`});t(()=>{const e=["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"];if(ar.value){const[t,a]=ar.value.split("-");let r=parseInt(a)-2,l=parseInt(t);return r<0&&(r=11,l--),`${e[r]} ${l}`}const t=new Date,a=t.getMonth()-1,r=a<0?t.getFullYear()-1:t.getFullYear();return`${e[a<0?11:a]} ${r}`});const nr=t(()=>{const e=new Date;let t=e.getMonth()+1,a=e.getFullYear();return t>11&&(t=0,a++),`${["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"][t]} ${a}`}),ir=t(()=>{if(ar.value){const[e,t]=ar.value.split("-"),a=new Date(parseInt(e),parseInt(t),0).getDate();return Array.from({length:a},(e,t)=>t+1)}const e=new Date,t=e.getFullYear(),a=e.getMonth(),r=new Date(t,a+1,0).getDate();return Array.from({length:r},(e,t)=>t+1)}),or=t(()=>{const e=new Date;if(ar.value){const[t,a]=ar.value.split("-"),r=e.getFullYear(),l=e.getMonth()+1;return parseInt(t)===r&&parseInt(a)===l?e.getDate():new Date(parseInt(t),parseInt(a),0).getDate()}return e.getDate()}),dr=t(()=>{const e=new Date,t=e.getDay(),a=e.getDate()-t+(0===t?-6:1),r=new Date(e.setDate(a)),l=new Date(r);l.setDate(r.getDate()+6);const s=e=>`${String(e.getDate()).padStart(2,"0")}.${String(e.getMonth()+1).padStart(2,"0")}.${e.getFullYear()}`;return`${s(r)} - ${s(l)}`}),gr=t(()=>{const e=new Date,t=e.getDay(),a=e.getDate()-t+(0===t?-6:1),r=new Date(e.getFullYear(),e.getMonth(),a),l=[];for(let s=0;s<7;s++){const e=new Date(r);e.setDate(r.getDate()+s),l.push(e.toISOString().split("T")[0])}return l}),cr={"Yangi Sotuvlar":"sales_new","Qayta Sotuvlar":"sales_repeat",Daromad:"revenue_total",ROI:e=>{const t=parseFloat(e.revenue_total)||0,a=(parseFloat(e.spend_digital)||0)+(parseFloat(e.spend_offline)||0);return a>0?(t-a)/a*100:0},"Gross Margin":e=>{const t=parseFloat(e.revenue_total)||0;return parseFloat(e.spend_digital),parseFloat(e.spend_offline),t>0?60:0},Leadlar:e=>(e.leads_digital||0)+(e.leads_offline||0)+(e.leads_referral||0)+(e.leads_organic||0),ROAS:e=>{const t=parseFloat(e.revenue_total)||0,a=(parseFloat(e.spend_digital)||0)+(parseFloat(e.spend_offline)||0);return a>0?t/a:0},"Reklama Xarajati":e=>(parseFloat(e.spend_digital)||0)+(parseFloat(e.spend_offline)||0),"Lid Narxi":e=>{const t=(e.leads_digital||0)+(e.leads_offline||0)+(e.leads_referral||0)+(e.leads_organic||0),a=(parseFloat(e.spend_digital)||0)+(parseFloat(e.spend_offline)||0);return t>0?a/t:0},Mijozlar:e=>(e.sales_new||0)+(e.sales_repeat||0),Konversiya:e=>{const t=(e.leads_digital||0)+(e.leads_offline||0)+(e.leads_referral||0)+(e.leads_organic||0),a=(e.sales_new||0)+(e.sales_repeat||0);return t>0?a/t*100:0},CAC:e=>{const t=(e.sales_new||0)+(e.sales_repeat||0),a=(parseFloat(e.spend_digital)||0)+(parseFloat(e.spend_offline)||0);return t>0?a/t:0},"LTV/CAC Ratio":e=>{const t=parseFloat(e.avg_check)||0,a=parseFloat(e.cac)||0;return a>0?3*t/a:0}},ur=(e,t)=>{const a=gr.value[t],r=Ra.dailyEntries[a];if(!r)return 0;const l=cr[e];return l?"function"==typeof l?l(r):parseFloat(r[l])||0:0},xr=e=>{let t=0;for(let a=0;a<7;a++)t+=ur(e,a);return t},yr=e=>{let t,a;if(ar.value){const[e,r]=ar.value.split("-");t=parseInt(e),a=parseInt(r)-1}else{const e=new Date;t=e.getFullYear(),a=e.getMonth()}const r=new Date(t,a+1,0).getDate();let l=0;for(let s=1;s<=r;s++){const r=new Date(t,a,s).toISOString().split("T")[0],n=Ra.dailyEntries[r];if(n){const t=cr[e];t&&(l+="function"==typeof t?t(n):parseFloat(n[t])||0)}}return l},pr=t(()=>{const e=new Date;let t,a,r;if(ar.value){const[l,s]=ar.value.split("-");t=parseInt(l),a=parseInt(s)-1;const n=e.getFullYear(),i=e.getMonth();if(t===n&&a===i)r=e.getDate();else{r=new Date(t,a+1,0).getDate()}}else t=e.getFullYear(),a=e.getMonth(),r=e.getDate();const l=new Date(t,a,1);let s=1,n=new Date(l);for(;n.getDate()<=r;){const e=new Date(n);if(e.setDate(n.getDate()+6),r>=n.getDate()&&r<=e.getDate())return s;s++,n.setDate(n.getDate()+7)}return s}),vr=t(()=>{let e,t;if(ar.value){const[a,r]=ar.value.split("-");e=parseInt(a),t=parseInt(r)-1}else{const a=new Date;e=a.getFullYear(),t=a.getMonth()}const a=new Date(e,t,1),r=new Date(e,t+1,0),l=[];let s=1,n=new Date(a);for(;n<=r;){const e=new Date(n);e.setDate(e.getDate()+6),e>r&&e.setTime(r.getTime());const t=Math.floor(100*Math.random());l.push({number:s,label:`${s}-hafta`,achievement:t,isPastOrCurrent:s<=pr.value}),s++,n.setDate(n.getDate()+7)}return l}),br=e=>{let t,a;if(ar.value){const[e,r]=ar.value.split("-");t=parseInt(e),a=parseInt(r)-1}else{const e=new Date;t=e.getFullYear(),a=e.getMonth()}const r=String(e).padStart(2,"0"),l=`${t}-${String(a+1).padStart(2,"0")}-${r}`;if(Ra.activePlan?.start_date){const r=new Date(Ra.activePlan.start_date);if(new Date(t,a,e)<r)return-1}const s=Ra.dailyEntries[l];if(!s)return 0;let n=0,i=0;if(Ra.activePlan?.daily_breakdown){const e=Ra.activePlan.daily_breakdown;if(e.new_sales>0&&void 0!==s.sales_new&&(n+=s.sales_new/e.new_sales*100,i++),e.total_revenue>0&&void 0!==s.revenue_total&&(n+=parseFloat(s.revenue_total)/e.total_revenue*100,i++),e.total_leads>0){n+=((parseInt(s.leads_digital)||0)+(parseInt(s.leads_offline)||0)+(parseInt(s.leads_referral)||0)+(parseInt(s.leads_organic)||0))/e.total_leads*100,i++}}return 0===i?50:Math.min(Math.round(n/i),100)},kr=(e,t=!1,a=!0)=>t?"bg-blue-600 text-white shadow-lg border-blue-600 ring-2 ring-blue-300 dark:ring-blue-500":a?-1===e?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 border-gray-300 dark:border-gray-600 cursor-default":e>=85?"bg-green-500 text-white border-green-500 hover:bg-green-600 cursor-pointer":e>=65?"bg-yellow-500 text-white border-yellow-500 hover:bg-yellow-600 cursor-pointer":"bg-red-500 text-white border-red-500 hover:bg-red-600 cursor-pointer":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 border border-gray-200 dark:border-gray-700 cursor-not-allowed opacity-50",mr=(e,t)=>Ra.activePlan?"daily"===t&&Ra.activePlan.daily_breakdown?Ra.activePlan.daily_breakdown[e]||0:"weekly"===t&&Ra.activePlan.weekly_breakdown?Ra.activePlan.weekly_breakdown[e]||0:Ra.activePlan[e]||0:0,hr={new_sales:"sales_new",repeat_sales:"sales_repeat",total_revenue:"revenue_total",total_leads:e=>(parseInt(e.leads_digital)||0)+(parseInt(e.leads_offline)||0)+(parseInt(e.leads_referral)||0)+(parseInt(e.leads_organic)||0),ad_costs:e=>(parseFloat(e.spend_digital)||0)+(parseFloat(e.spend_offline)||0),total_customers:e=>(parseInt(e.sales_new)||0)+(parseInt(e.sales_repeat)||0),lead_cost:"cpl",cac:"cac",avg_check:"avg_check",conversion_rate:"conversion_rate",roi:e=>{const t=parseFloat(e.revenue_total)||0,a=(parseFloat(e.spend_digital)||0)+(parseFloat(e.spend_offline)||0);return a>0?(t-a)/a*100:0},roas:e=>{const t=parseFloat(e.revenue_total)||0,a=(parseFloat(e.spend_digital)||0)+(parseFloat(e.spend_offline)||0);return a>0?t/a:0},gross_margin:e=>{const t=parseFloat(e.revenue_total)||0,a=(parseFloat(e.spend_digital)||0)+(parseFloat(e.spend_offline)||0);return t>0?(t-a)/t*100:0}},fr=(e,t)=>{if(!e)return 0;const a=hr[t];return a?"function"==typeof a?a(e):parseFloat(e[a])||0:0},wr=(e,t)=>{if("daily"===t){const t=(()=>{let e,t;if(ar.value){const[a,r]=ar.value.split("-");e=parseInt(a),t=parseInt(r)-1}else{const a=new Date;e=a.getFullYear(),t=a.getMonth()}const a=String(Ea.value).padStart(2,"0");return`${e}-${String(t+1).padStart(2,"0")}-${a}`})(),a=Ra.dailyEntries[t];return fr(a,e)}if("weekly"===t){let t=0,a=0;const r=["conversion_rate","roi","roas","gross_margin","ctr","churn_rate","ltv_cac_ratio","cac","lead_cost","avg_check","cpl"].includes(e);for(let l=0;l<7;l++){const r=gr.value[l],s=Ra.dailyEntries[r];if(s){const r=fr(s,e);t+=r,r>0&&a++}}return r&&a>0?Math.round(t/a*100)/100:Math.round(t)}{let t,a;if(ar.value){const[e,r]=ar.value.split("-");t=parseInt(e),a=parseInt(r)-1}else{const e=new Date;t=e.getFullYear(),a=e.getMonth()}const r=new Date(t,a+1,0).getDate();let l=0,s=0;const n=["conversion_rate","roi","roas","gross_margin","ctr","churn_rate","ltv_cac_ratio","cac","lead_cost","avg_check","cpl"].includes(e);for(let i=1;i<=r;i++){const r=new Date(t,a,i).toISOString().split("T")[0],n=Ra.dailyEntries[r];if(n){const t=fr(n,e);l+=t,t>0&&s++}}return n&&s>0?Math.round(l/s*100)/100:Math.round(l)}},_r=t(()=>{const e=Ta.value;return[{name:"Yangi Sotuvlar",description:"Yangi mijozlarga sotuvlar",category:"sotuv",plan:mr("new_sales",e),current:wr("new_sales",e),unit:"number",iconBg:"bg-teal-100 dark:bg-teal-900",iconColor:"text-teal-600 dark:text-teal-400",iconSvg:rr.shopping},{name:"Qayta Sotuvlar",description:"Mavjud mijozlarga qayta sotuvlar",category:"sotuv",plan:mr("repeat_sales",e),current:wr("repeat_sales",e),unit:"number",iconBg:"bg-sky-100 dark:bg-sky-900",iconColor:"text-sky-600 dark:text-sky-400",iconSvg:rr.refresh},{name:"Daromad",description:"Umumiy sotuvdan tushgan daromad",category:"moliyaviy",plan:mr("total_revenue",e),current:wr("total_revenue",e),unit:"currency",iconBg:"bg-green-100 dark:bg-green-900",iconColor:"text-green-600 dark:text-green-400",iconSvg:rr.money},{name:"ROI",description:"Investitsiyadan qaytim",category:"moliyaviy",plan:mr("roi",e),current:wr("roi",e),unit:"percent",iconBg:"bg-blue-100 dark:bg-blue-900",iconColor:"text-blue-600 dark:text-blue-400",iconSvg:rr.trending},{name:"Leadlar",description:"Jalb qilingan yangi leadlar",category:"marketing",plan:mr("total_leads",e),current:wr("total_leads",e),unit:"number",iconBg:"bg-purple-100 dark:bg-purple-900",iconColor:"text-purple-600 dark:text-purple-400",iconSvg:rr.user},{name:"ROAS",description:"Reklama xarajatlaridan daromad",category:"marketing",plan:mr("roas",e),current:wr("roas",e),unit:"multiplier",iconBg:"bg-indigo-100 dark:bg-indigo-900",iconColor:"text-indigo-600 dark:text-indigo-400",iconSvg:rr.megaphone},{name:"Reklama Xarajati",description:"Umumiy reklama xarajatlari",category:"marketing",plan:mr("ad_costs",e),current:wr("ad_costs",e),unit:"currency",isInverse:!0,iconBg:"bg-red-100 dark:bg-red-900",iconColor:"text-red-600 dark:text-red-400",iconSvg:rr.money},{name:"Lid Narxi",description:"Bitta lid jalb qilish narxi",category:"marketing",plan:mr("lead_cost",e),current:wr("lead_cost",e),unit:"currency",isInverse:!0,iconBg:"bg-amber-100 dark:bg-amber-900",iconColor:"text-amber-600 dark:text-amber-400",iconSvg:rr.tag},{name:"Mijozlar",description:"Jami faol mijozlar",category:"mijozlar",plan:mr("total_customers",e),current:wr("total_customers",e),unit:"number",iconBg:"bg-pink-100 dark:bg-pink-900",iconColor:"text-pink-600 dark:text-pink-400",iconSvg:rr.users},{name:"Konversiya",description:"Leaddan mijozga aylantirish",category:"mijozlar",plan:mr("conversion_rate",e),current:wr("conversion_rate",e),unit:"percent",iconBg:"bg-orange-100 dark:bg-orange-900",iconColor:"text-orange-600 dark:text-orange-400",iconSvg:rr.conversion},{name:"CAC",description:"Mijoz jalb qilish xarajati",category:"mijozlar",plan:mr("cac",e),current:wr("cac",e),unit:"currency",isInverse:!0,iconBg:"bg-rose-100 dark:bg-rose-900",iconColor:"text-rose-600 dark:text-rose-400",iconSvg:rr.wallet}].map(e=>({...e,achievement:Hr(e.current,e.plan,e.isInverse||!1)}))}),Mr=t(()=>_r.value.map(e=>{const t=.8+.4*Math.random(),a=Math.floor(e.current*t);return{...e,current:a,achievement:Hr(a,e.plan,!1)}})),jr=t(()=>{if(er.value)return!1;const e=Ra.kpis;return!!e&&(e.cac>0||e.clv>0||e.roas>0||e.roi>0)});e([]);const Dr=t(()=>_r.value.filter(e=>"sotuv"===e.category)),Sr=t(()=>_r.value.filter(e=>"moliyaviy"===e.category)),Cr=t(()=>_r.value.filter(e=>"marketing"===e.category)),Ir=t(()=>_r.value.filter(e=>"mijozlar"===e.category)),Fr=t(()=>_r.value.filter(e=>e.achievement>=100).length),zr=t(()=>_r.value.filter(e=>e.achievement>=50&&e.achievement<100).length),Br=t(()=>_r.value.filter(e=>e.achievement<50).length);function Hr(e,t,a=!1){if(0===t)return e>0?100:0;if(a){if(0===e)return 100;const a=t/e*100;return Math.min(Math.round(a),200)}return Math.round(e/t*100)}function Kr(e,t){if(null==e)return"0";const a="string"==typeof e?parseFloat(e):Number(e);if(isNaN(a))return"0";switch(t){case"currency":return new Intl.NumberFormat("uz-UZ",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)+" so'm";case"percent":return a.toFixed(1)+"%";case"multiplier":return a.toFixed(1)+"x";default:return new Intl.NumberFormat("uz-UZ").format(a)}}function Or(e){return e>=100?"text-green-600 dark:text-green-400":e>=75?"text-blue-600 dark:text-blue-400":e>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}function Yr(e){return e>=100?"bg-green-500":e>=75?"bg-blue-500":e>=50?"bg-yellow-500":"bg-red-500"}function $r(e){return e>=100?"Bajarilgan":e>=75?"Yaxshi":e>=50?"O'rtacha":"Past"}async function Pr(){const e=Ja.value.newSales&&Ja.value.newSales>0,t=Ja.value.avgCheck&&Ja.value.avgCheck>0;if(e&&t)try{const e=await h.post(route("business.kpi.calculate-plan"),{new_sales:Ja.value.newSales,avg_check:Ja.value.avgCheck});Qa.value=e.data.plan,e.data.plan&&(Za.value=e.data.plan.total_leads,Ga.value=e.data.plan.lead_cost,Xa.value=Lr(e.data.plan.lead_cost),Wa.value=e.data.plan.conversion_rate)}catch(a){if(419===a.response?.status)return alert("Sessiya muddati tugagan. Sahifani yangilang va qayta urinib ko'ring."),void window.location.reload();if(422===a.response?.status){const e=a.response.data?.errors;if(e){const t=Object.values(e).flat().join("\n");return void alert("Validatsiya xatoligi:\n"+t)}}const e=a.response?.data?.error||a.message||"Noma'lum xatolik";alert("Hisoblashda xatolik yuz berdi: "+e)}else Qa.value=null}function Ar(e){return e||0===e?new Intl.NumberFormat("uz-UZ",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)+" so'm":"0 so'm"}function Lr(e){return e||0===e?new Intl.NumberFormat("uz-UZ",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):""}function Vr(e){if(!e)return null;const t=e.toString().replace(/\s/g,"").replace(/[^0-9]/g,"");return t?parseInt(t,10):null}function qr(e){const t=Vr(e.target.value);Ja.value.avgCheck=t,Ua.value=t?Lr(t):"",Pr()}function Rr(e){const t=Vr(e.target.value);Ga.value=t,Xa.value=t?Lr(t):"",Nr()}function Tr(){if(!Za.value||!Ja.value.newSales)return;const e=Ja.value.newSales/Za.value*100;Wa.value=Math.round(10*e)/10,Nr()}function Nr(){if(!Qa.value||!Za.value||!Ga.value)return;const e=Za.value,t=Ga.value,a=Ja.value.newSales,r=Ja.value.avgCheck,l=a*r,s=e*t,n=s>0?(l-s)/s*100:0,i=s>0?l/s:0,o=a>0?s/a:0,d=3*r,g=o>0?d/o:0;Qa.value={...Qa.value,total_leads:e,lead_cost:Math.round(t),conversion_rate:Wa.value,ad_costs:Math.round(s),roi:Math.round(10*n)/10,roas:Math.round(10*i)/10,cac:Math.round(o),clv:Math.round(d),ltv_cac_ratio:Math.round(100*g)/100}}function Er(){Qa.value&&Ja.value.newSales&&Ja.value.avgCheck?f.post(route("business.kpi.save-plan"),{new_sales:Ja.value.newSales,avg_check:Ja.value.avgCheck,leads:Za.value,lead_cost:Ga.value},{onSuccess:()=>{Na.value=!1,Ja.value={newSales:null,avgCheck:null},Ua.value="",Qa.value=null,Za.value=null,Ga.value=null,Xa.value="",Wa.value=20},onError:e=>{alert("KPI saqlashda xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.")}}):alert("Iltimos, avval yangi sotuvlar va o'rtacha chekni kiriting")}return a(Na,e=>{e&&(Ja.value={newSales:null,avgCheck:null},Ua.value="",Qa.value=null,Za.value=null,Ga.value=null,Xa.value="",Wa.value=20)}),(e,t)=>(i(),r(w,{title:g(qa)("kpi.title")},{default:l(()=>[er.value?n("",!0):(i(),s("div",j,[o("div",D,[o("div",null,[o("h2",S,d(g(qa)("kpi.title")),1),o("p",C,d(g(qa)("kpi.description")),1),o("div",I,[o("button",{onClick:t[0]||(t[0]=e=>Na.value=!0),class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800 transition-colors"},[...t[12]||(t[12]=[o("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Keyingi oy rejasini qo'shish ",-1)])]),t[13]||(t[13]=o("a",{href:"/business/kpi/data-entry",class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"},[o("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),c(" Kunlik ma'lumotlarni kiritish ")],-1))])]),o("div",F,[o("button",{onClick:t[1]||(t[1]=e=>Ta.value="daily"),class:u(["px-4 py-2 rounded-lg font-medium transition-all","daily"===Ta.value?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])}," Kunlik ",2),o("button",{onClick:t[2]||(t[2]=e=>Ta.value="weekly"),class:u(["px-4 py-2 rounded-lg font-medium transition-all","weekly"===Ta.value?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])}," Haftalik ",2),o("button",{onClick:t[3]||(t[3]=e=>Ta.value="monthly"),class:u(["px-4 py-2 rounded-lg font-medium transition-all","monthly"===Ta.value?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])}," Oylik ",2)])])])),er.value?(i(),s("div",z,[o("div",B,[o("div",H,[t[15]||(t[15]=o("div",{class:"mx-auto w-20 h-20 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-6"},[o("svg",{class:"w-10 h-10 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t[16]||(t[16]=o("h3",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3"}," Biznesingiz uchun KPI rejasi yarating ",-1)),t[17]||(t[17]=o("p",{class:"text-gray-600 dark:text-gray-400 mb-6 text-lg"}," KPI ko'rsatkichlarini kuzatish uchun avval biznesingiz uchun reja yarating. Faqat 2 ta ma'lumotni kiriting - qolganini tizim avtomatik hisoblab beradi. ",-1)),t[18]||(t[18]=o("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 text-left"},[o("div",{class:"flex items-start gap-3 p-4 bg-white dark:bg-gray-800 rounded-xl"},[o("div",{class:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center flex-shrink-0"},[o("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),o("div",null,[o("p",{class:"font-medium text-gray-900 dark:text-gray-100"},"Avtomatik hisoblash"),o("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Barcha KPI'lar algoritm asosida")])]),o("div",{class:"flex items-start gap-3 p-4 bg-white dark:bg-gray-800 rounded-xl"},[o("div",{class:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center flex-shrink-0"},[o("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])]),o("div",null,[o("p",{class:"font-medium text-gray-900 dark:text-gray-100"},"Industry benchmark"),o("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Soha standartlariga asoslangan")])]),o("div",{class:"flex items-start gap-3 p-4 bg-white dark:bg-gray-800 rounded-xl"},[o("div",{class:"w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center flex-shrink-0"},[o("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])]),o("div",null,[o("p",{class:"font-medium text-gray-900 dark:text-gray-100"},"Real vaqt monitoring"),o("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Kunlik, haftalik, oylik hisobotlar")])])],-1)),o("button",{onClick:t[4]||(t[4]=e=>Na.value=!0),class:"inline-flex items-center px-8 py-4 rounded-xl text-lg font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},[...t[14]||(t[14]=[o("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Birinchi KPI rejasini yaratish ",-1)])]),t[19]||(t[19]=o("p",{class:"mt-4 text-sm text-gray-500 dark:text-gray-400"}," Atigi 2 ta ma'lumot kiritasiz: Yangi sotuvlar soni va O'rtacha chek summasi ",-1))])])])):n("",!0),er.value?n("",!0):(i(),s("div",K,[o("div",O,[t[20]||(t[20]=o("div",{class:"flex items-center justify-between mb-4"},[o("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[o("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),t[21]||(t[21]=o("p",{class:"text-blue-100 text-sm font-medium mb-1"},"Jami KPI",-1)),o("p",Y,d(_r.value.length),1)]),o("div",$,[t[22]||(t[22]=o("div",{class:"flex items-center justify-between mb-4"},[o("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[o("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t[23]||(t[23]=o("p",{class:"text-green-100 text-sm font-medium mb-1"},"Bajarilgan",-1)),o("p",P,d(Fr.value),1)]),o("div",A,[t[24]||(t[24]=o("div",{class:"flex items-center justify-between mb-4"},[o("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[o("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t[25]||(t[25]=o("p",{class:"text-yellow-100 text-sm font-medium mb-1"},"Jarayonda",-1)),o("p",L,d(zr.value),1)]),o("div",V,[t[26]||(t[26]=o("div",{class:"flex items-center justify-between mb-4"},[o("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[o("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t[27]||(t[27]=o("p",{class:"text-red-100 text-sm font-medium mb-1"},"Bajarilmagan",-1)),o("p",q,d(Br.value),1)])])),er.value||"weekly"!==Ta.value?er.value||"monthly"!==Ta.value?n("",!0):(i(),r(_,{key:4,title:"Oylik KPI Ko'rsatkichlari"},{default:l(()=>[o("div",de,[o("div",ge,[o("div",ce,d(sr.value),1),t[30]||(t[30]=o("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Haftalik bajarilish ko'rsatkichlari ",-1))]),o("div",ue,[o("table",xe,[o("thead",ye,[o("tr",null,[t[31]||(t[31]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase sticky left-0 bg-gray-50 dark:bg-gray-700"},"Ko'rsatkich",-1)),(i(!0),s(x,null,y(vr.value,e=>(i(),s("th",{key:e.number,class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},d(e.label),1))),128)),t[32]||(t[32]=o("th",{class:"px-4 py-3 text-center text-xs font-medium uppercase border-l-2 border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},"Jami",-1)),t[33]||(t[33]=o("th",{class:"px-4 py-3 text-center text-xs font-medium uppercase bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300"},"Reja",-1)),t[34]||(t[34]=o("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase border-l-2 border-gray-300 dark:border-gray-600"},"Bajarilishi",-1)),t[35]||(t[35]=o("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Status",-1))])]),o("tbody",pe,[(i(!0),s(x,null,y(_r.value,e=>(i(),s("tr",{key:e.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[o("td",ve,[o("div",be,[o("div",{class:u(["w-8 h-8 rounded-lg flex items-center justify-center mr-2",e.iconBg])},[(i(),s("svg",{class:u(["w-4 h-4",e.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:e.iconSvg},null,10,ke))],2),o("span",me,d(e.name),1)])]),(i(!0),s(x,null,y(vr.value,t=>(i(),s("td",{key:t.number,class:"px-3 py-3 text-center text-sm text-gray-900 dark:text-gray-100"},d(Kr(((e,t)=>{let a,r;if(ar.value){const[e,t]=ar.value.split("-");a=parseInt(e),r=parseInt(t)-1}else{const e=new Date;a=e.getFullYear(),r=e.getMonth()}const l=new Date(a,r+1,0),s=7*(t-1)+1,n=Math.min(s+6,l.getDate());let i=0;for(let o=s;o<=n;o++){const t=new Date(a,r,o).toISOString().split("T")[0],l=Ra.dailyEntries[t];if(l){const t=cr[e];t&&(i+="function"==typeof t?t(l):parseFloat(l[t])||0)}}return i})(e.name,t.number),e.unit)),1))),128)),o("td",he,[o("div",fe,d(Kr(yr(e.name)||e.current,e.unit)),1)]),o("td",we,[o("div",_e,d(Kr(e.plan,e.unit)),1)]),o("td",Me,[o("div",je,[o("div",{class:u(["text-sm font-bold mb-2",Or(e.achievement)])},d(e.achievement)+"% ",3),o("div",De,[o("div",{class:u(["h-2.5 rounded-full transition-all duration-500",Yr(e.achievement)]),style:p({width:Math.min(e.achievement,100)+"%"})},null,6)])])]),o("td",Se,[o("span",{class:u(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",e.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":e.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":e.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},d($r(e.achievement)),3)])]))),128))])])])])]),_:1})):(i(),r(_,{key:3,title:"Haftalik KPI Ko'rsatkichlari (Kunlar bo'yicha)"},{default:l(()=>[o("div",R,[o("div",T,[o("div",N,[o("div",E,d(dr.value),1),t[28]||(t[28]=o("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Hafta kunlari bo'yicha bajarilish ",-1))]),o("div",J,[(i(!0),s(x,null,y(vr.value,e=>(i(),s("button",{key:e.number,class:u(["px-4 py-2 rounded-lg text-sm font-medium transition-all border",kr(e.achievement,e.number===pr.value,e.isPastOrCurrent)])},d(e.label),3))),128))])]),o("div",U,[o("table",Q,[t[29]||(t[29]=o("thead",{class:"bg-gray-50 dark:bg-gray-700"},[o("tr",null,[o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase sticky left-0 bg-gray-50 dark:bg-gray-700"},"Ko'rsatkich"),o("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Dush"),o("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sesh"),o("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Chor"),o("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Pay"),o("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Juma"),o("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Shan"),o("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Yak"),o("th",{class:"px-4 py-3 text-center text-xs font-medium uppercase border-l-2 border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},"Jami"),o("th",{class:"px-4 py-3 text-center text-xs font-medium uppercase bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300"},"Reja"),o("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase border-l-2 border-gray-300 dark:border-gray-600"},"Bajarilishi"),o("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Status")])],-1)),o("tbody",Z,[(i(!0),s(x,null,y(_r.value,e=>(i(),s("tr",{key:e.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[o("td",G,[o("div",X,[o("div",{class:u(["w-8 h-8 rounded-lg flex items-center justify-center mr-2",e.iconBg])},[(i(),s("svg",{class:u(["w-4 h-4",e.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:e.iconSvg},null,10,W))],2),o("span",ee,d(e.name),1)])]),(i(),s(x,null,y(7,t=>o("td",{key:t,class:"px-3 py-3 text-center text-sm text-gray-900 dark:text-gray-100"},d(Kr(ur(e.name,t-1),e.unit)),1)),64)),o("td",te,[o("div",ae,d(Kr(xr(e.name)||e.current,e.unit)),1)]),o("td",re,[o("div",le,d(Kr(e.plan,e.unit)),1)]),o("td",se,[o("div",ne,[o("div",{class:u(["text-sm font-bold mb-2",Or(e.achievement)])},d(e.achievement)+"% ",3),o("div",ie,[o("div",{class:u(["h-2.5 rounded-full transition-all duration-500",Yr(e.achievement)]),style:p({width:Math.min(e.achievement,100)+"%"})},null,6)])])]),o("td",oe,[o("span",{class:u(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",e.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":e.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":e.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},d($r(e.achievement)),3)])]))),128))])])])])]),_:1})),!er.value&&"monthly"===Ta.value&&jr.value?(i(),r(_,{key:5,class:"mt-8"},{header:l(()=>[o("div",Ce,[t[37]||(t[37]=o("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"O'tgan Oy Ko'rsatkichlari",-1)),o("div",Ie,[v(o("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>ar.value=e),class:"inline-flex items-center px-3 py-1 pr-8 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 border-0 focus:ring-2 focus:ring-blue-500 cursor-pointer appearance-none"},[(i(!0),s(x,null,y(lr.value,e=>(i(),s("option",{key:e.value,value:e.value},d(e.label),9,Fe))),128))],512),[[b,ar.value]]),t[36]||(t[36]=o("svg",{class:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-blue-700 dark:text-blue-300 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))])])]),default:l(()=>[o("div",ze,[o("table",Be,[t[39]||(t[39]=o("thead",{class:"bg-gray-50 dark:bg-gray-700"},[o("tr",null,[o("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Ko'rsatkich"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Kategoriya"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Reja"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Hozirgi"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Bajarilishi"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status")])],-1)),o("tbody",He,[(i(!0),s(x,null,y(Mr.value,e=>(i(),s("tr",{key:e.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[o("td",Ke,[o("div",Oe,[o("div",{class:u(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",e.iconBg])},[(i(),s("svg",{class:u(["w-5 h-5",e.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:e.iconSvg},null,10,Ye))],2),o("div",null,[o("div",$e,d(e.name),1),o("div",Pe,d(e.description),1)])])]),o("td",Ae,[o("span",{class:u(["px-3 py-1 rounded-full text-xs font-medium","sotuv"===e.category?"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300":"moliyaviy"===e.category?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"marketing"===e.category?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"mijozlar"===e.category?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},d(e.category),3)]),o("td",Le,[o("div",Ve,d(Kr(e.plan,e.unit)),1),t[38]||(t[38]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Oylik ",-1))]),o("td",qe,[o("div",Re,d(Kr(e.current,e.unit)),1)]),o("td",Te,[o("div",Ne,[o("div",{class:u(["text-sm font-bold mb-2",Or(e.achievement)])},d(e.achievement)+"% ",3),o("div",Ee,[o("div",{class:u(["h-2.5 rounded-full transition-all duration-500",Yr(e.achievement)]),style:p({width:Math.min(e.achievement,100)+"%"})},null,6)])])]),o("td",Je,[o("span",{class:u(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",e.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":e.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":e.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},[o("span",{class:u(["w-2 h-2 rounded-full mr-2",[e.achievement>=100?"bg-green-500":e.achievement>=75?"bg-blue-500":e.achievement>=50?"bg-yellow-500":"bg-red-500"]])},null,2),c(" "+d($r(e.achievement)),1)],2)])]))),128))])])])]),_:1})):n("",!0),er.value||"daily"!==Ta.value?n("",!0):(i(),r(_,{key:6,title:"Kunlik Monitoring (Oy bo'yicha)"},{default:l(()=>[o("div",Ue,[o("div",Qe,[o("div",Ze,d(sr.value),1),o("div",Ge,[Ea.value===or.value?(i(),s("span",Xe,"Joriy oy davomida har kungi bajarilish ko'rsatkichlari")):(i(),s("span",We,d(Ea.value)+"-kun ko'rsatkichlari tanlangan",1))])]),o("div",et,[(i(!0),s(x,null,y(ir.value,e=>(i(),s("button",{key:e,onClick:t=>(e=>{e<=or.value&&(Ea.value=e)})(e),class:u(["px-3 py-2 rounded-lg text-sm font-medium transition-all border",kr(br(e),e===Ea.value,e<=or.value)]),disabled:e>or.value},d(e),11,tt))),128))]),o("div",at,[o("table",rt,[t[40]||(t[40]=o("thead",{class:"bg-gray-50 dark:bg-gray-700"},[o("tr",null,[o("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Ko'rsatkich"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Kategoriya"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Reja"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Hozirgi"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Bajarilishi"),o("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status")])],-1)),o("tbody",lt,[(i(!0),s(x,null,y(_r.value,e=>(i(),s("tr",{key:e.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[o("td",st,[o("div",nt,[o("div",{class:u(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",e.iconBg])},[(i(),s("svg",{class:u(["w-5 h-5",e.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:e.iconSvg},null,10,it))],2),o("div",null,[o("div",ot,d(e.name),1),o("div",dt,d(e.description),1)])])]),o("td",gt,[o("span",{class:u(["px-3 py-1 rounded-full text-xs font-medium","sotuv"===e.category?"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300":"moliyaviy"===e.category?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"marketing"===e.category?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"mijozlar"===e.category?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},d(e.category),3)]),o("td",ct,[o("div",ut,d(Kr(e.plan,e.unit)),1),o("div",xt,d("daily"===Ta.value?"Kunlik":"weekly"===Ta.value?"Haftalik":"Oylik"),1)]),o("td",yt,[o("div",pt,d(Kr(e.current,e.unit)),1),o("div",vt,d("daily"===Ta.value?"Kunlik":"weekly"===Ta.value?"Haftalik":"Oylik"),1)]),o("td",bt,[o("div",kt,[o("div",{class:u(["text-sm font-bold mb-2",Or(e.achievement)])},d(e.achievement)+"% ",3),o("div",mt,[o("div",{class:u(["h-2.5 rounded-full transition-all duration-500",Yr(e.achievement)]),style:p({width:Math.min(e.achievement,100)+"%"})},null,6)])])]),o("td",ht,[o("span",{class:u(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",e.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":e.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":e.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},d($r(e.achievement)),3)])]))),128))])])])])]),_:1})),er.value||"daily"===Ta.value?n("",!0):(i(),s("div",ft,[k(_,{title:"Sotuv Ko'rsatkichlari"},{default:l(()=>[o("div",wt,[(i(!0),s(x,null,y(Dr.value,e=>(i(),s("div",{key:e.name,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[o("div",_t,[o("div",Mt,d(e.name),1),o("div",jt,d(Kr(e.current,e.unit))+" / "+d(Kr(e.plan,e.unit)),1)]),o("div",Dt,[o("div",{class:u(["text-sm font-bold",Or(e.achievement)])},d(e.achievement)+"% ",3)])]))),128)),0===Dr.value.length?(i(),s("div",St," Ma'lumotlar topilmadi ")):n("",!0)])]),_:1}),k(_,{title:"Moliyaviy Ko'rsatkichlar"},{default:l(()=>[o("div",Ct,[(i(!0),s(x,null,y(Sr.value,e=>(i(),s("div",{key:e.name,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[o("div",It,[o("div",Ft,d(e.name),1),o("div",zt,d(Kr(e.current,e.unit))+" / "+d(Kr(e.plan,e.unit)),1)]),o("div",Bt,[o("div",{class:u(["text-sm font-bold",Or(e.achievement)])},d(e.achievement)+"% ",3)])]))),128)),0===Sr.value.length?(i(),s("div",Ht," Ma'lumotlar topilmadi ")):n("",!0)])]),_:1}),k(_,{title:"Marketing Ko'rsatkichlar"},{default:l(()=>[o("div",Kt,[(i(!0),s(x,null,y(Cr.value,e=>(i(),s("div",{key:e.name,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[o("div",Ot,[o("div",Yt,d(e.name),1),o("div",$t,d(Kr(e.current,e.unit))+" / "+d(Kr(e.plan,e.unit)),1)]),o("div",Pt,[o("div",{class:u(["text-sm font-bold",Or(e.achievement)])},d(e.achievement)+"% ",3)])]))),128)),0===Cr.value.length?(i(),s("div",At," Ma'lumotlar topilmadi ")):n("",!0)])]),_:1}),k(_,{title:"Mijozlar Ko'rsatkichlari"},{default:l(()=>[o("div",Lt,[(i(!0),s(x,null,y(Ir.value,e=>(i(),s("div",{key:e.name,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[o("div",Vt,[o("div",qt,d(e.name),1),o("div",Rt,d(Kr(e.current,e.unit))+" / "+d(Kr(e.plan,e.unit)),1)]),o("div",Tt,[o("div",{class:u(["text-sm font-bold",Or(e.achievement)])},d(e.achievement)+"% ",3)])]))),128)),0===Ir.value.length?(i(),s("div",Nt," Ma'lumotlar topilmadi ")):n("",!0)])]),_:1})])),Na.value?(i(),s("div",Et,[o("div",Jt,[o("div",Ut,[o("h3",Qt,d(nr.value)+" Rejasi",1),o("button",{onClick:t[6]||(t[6]=e=>Na.value=!1),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors"},[...t[41]||(t[41]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",Zt,[t[67]||(t[67]=o("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},[o("p",{class:"text-sm text-blue-800 dark:text-blue-300"},[o("strong",null,"Eslatma:"),c(" Faqat "),o("strong",null,"Yangi Sotuvlar"),c(" va "),o("strong",null,"O'rtacha Chek"),c(" kiriting. Qolgan barcha KPI'lar algoritm orqali avtomatik hisoblanadi. ")])],-1)),o("div",Gt,[t[44]||(t[44]=o("h4",{class:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center"},[o("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),c(" Asosiy Ma'lumotlar ")],-1)),o("div",Xt,[o("div",null,[t[42]||(t[42]=o("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[c(" Yangi Sotuvlar (dona) "),o("span",{class:"text-red-500"},"*")],-1)),v(o("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>Ja.value.newSales=e),onInput:Pr,type:"number",min:"0",step:"1",class:"w-full px-4 py-3 rounded-lg border-2 border-blue-300 dark:border-blue-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-opacity-50 font-semibold text-lg",placeholder:"Masalan: 50"},null,544),[[m,Ja.value.newSales,void 0,{number:!0}]])]),o("div",null,[t[43]||(t[43]=o("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[c(" O'rtacha Chek (so'm) "),o("span",{class:"text-red-500"},"*")],-1)),v(o("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>Ua.value=e),onInput:qr,type:"text",class:"w-full px-4 py-3 rounded-lg border-2 border-blue-300 dark:border-blue-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-opacity-50 font-semibold text-lg",placeholder:"Masalan: 500 000"},null,544),[[m,Ua.value]])])])]),Qa.value?(i(),s("div",Wt,[o("div",ea,[t[45]||(t[45]=o("h4",{class:"text-lg font-bold text-gray-900 dark:text-gray-100 flex items-center"},[o("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})]),c(" Avtomatik Hisoblangan Ko'rsatkichlar ")],-1)),o("span",ta,d("historical_data"===Qa.value.calculation_method?"Tarixiy ma'lumotlar asosida":"Biznes turi benchmark"),1)]),o("div",aa,[t[50]||(t[50]=o("h5",{class:"font-semibold text-teal-900 dark:text-teal-100 mb-3 flex items-center"},[o("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})]),c(" Sotuv Ko'rsatkichlari ")],-1)),o("div",ra,[o("div",la,[t[46]||(t[46]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Yangi Sotuvlar",-1)),o("div",sa,d(Qa.value.new_sales),1)]),o("div",na,[t[47]||(t[47]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Qayta Sotuvlar",-1)),o("div",ia,d(Qa.value.repeat_sales),1)]),o("div",oa,[t[48]||(t[48]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Jami Mijozlar",-1)),o("div",da,d(Qa.value.total_customers),1)]),o("div",ga,[t[49]||(t[49]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"O'rtacha Chek",-1)),o("div",ca,d(Ar(Qa.value.avg_check)),1)])])]),o("div",ua,[t[59]||(t[59]=o("h5",{class:"font-semibold text-green-900 dark:text-green-100 mb-3 flex items-center"},[o("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),c(" Moliyaviy Ko'rsatkichlar ")],-1)),o("div",xa,[o("div",ya,[t[51]||(t[51]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Daromad",-1)),o("div",pa,d(Ar(Qa.value.total_revenue)),1)]),o("div",va,[t[52]||(t[52]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Reklama Xarajati",-1)),o("div",ba,d(Ar(Qa.value.ad_costs)),1)]),o("div",ka,[t[53]||(t[53]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"ROI",-1)),o("div",ma,d(Qa.value.roi)+"%",1)]),o("div",ha,[t[54]||(t[54]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"ROAS",-1)),o("div",fa,d(Qa.value.roas)+"x",1)]),o("div",wa,[t[55]||(t[55]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"CAC",-1)),o("div",_a,d(Ar(Qa.value.cac)),1)]),o("div",Ma,[t[56]||(t[56]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"CLV",-1)),o("div",ja,d(Ar(Qa.value.clv)),1)]),o("div",Da,[t[57]||(t[57]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"LTV/CAC",-1)),o("div",Sa,d(Qa.value.ltv_cac_ratio)+"x",1)]),o("div",Ca,[t[58]||(t[58]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Gross Margin",-1)),o("div",Ia,d(Qa.value.gross_margin_percent)+"%",1)])])]),o("div",Fa,[t[65]||(t[65]=o("h5",{class:"font-semibold text-blue-900 dark:text-blue-100 mb-3 flex items-center"},[o("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})]),c(" Marketing Ko'rsatkichlari ")],-1)),o("div",za,[o("div",Ba,[t[60]||(t[60]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400 flex items-center justify-between"},[o("span",null,"Lidlar"),o("span",{class:"text-blue-500 text-xs"}," tahrir")],-1)),v(o("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>Za.value=e),onInput:Tr,type:"number",min:"1",class:"w-full text-lg font-bold text-gray-900 dark:text-gray-100 bg-transparent border-b border-dashed border-blue-400 dark:border-blue-600 focus:border-blue-600 dark:focus:border-blue-400 focus:outline-none"},null,544),[[m,Za.value,void 0,{number:!0}]])]),o("div",Ha,[t[62]||(t[62]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400 flex items-center justify-between"},[o("span",null,"Lid Narxi"),o("span",{class:"text-blue-500 text-xs"}," tahrir")],-1)),o("div",Ka,[v(o("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>Xa.value=e),onInput:Rr,type:"text",class:"w-full text-lg font-bold text-gray-900 dark:text-gray-100 bg-transparent border-b border-dashed border-blue-400 dark:border-blue-600 focus:border-blue-600 dark:focus:border-blue-400 focus:outline-none"},null,544),[[m,Xa.value]]),t[61]||(t[61]=o("span",{class:"text-sm text-gray-500 ml-1"},"so'm",-1))])]),o("div",Oa,[t[63]||(t[63]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Konversiya",-1)),o("div",Ya,d(Wa.value)+"%",1)]),o("div",$a,[t[64]||(t[64]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"CTR",-1)),o("div",Pa,d(Qa.value.ctr)+"%",1)])])])])):(i(),s("div",Aa,[...t[66]||(t[66]=[o("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),o("p",{class:"text-gray-500 dark:text-gray-400"}," Yangi sotuvlar va o'rtacha chekni kiriting, qolgan KPI'lar avtomatik hisoblanadi ",-1)])]))]),o("div",La,[o("button",{onClick:t[11]||(t[11]=e=>Na.value=!1),class:"px-4 py-2 rounded-lg font-medium bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Bekor qilish "),o("button",{onClick:Er,class:"px-4 py-2 rounded-lg font-medium bg-green-600 text-white hover:bg-green-700 transition-colors shadow-md"}," Rejani qo'shish ")])])])):n("",!0)]),_:1},8,["title"]))}};export{Va as default};

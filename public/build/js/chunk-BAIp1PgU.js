import"./chunk-BYRtWSr0.js";import{r as h,D as n,z as e,B as l,v as y,M as u,H as a,L as x,C as b,F as c,G as g,E as r}from"./chunk-BcTZxe-J.js";const k={class:"space-y-6"},C={class:"flex items-center gap-4"},p={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},v={class:"text-sm text-gray-500 dark:text-gray-400"},w={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-12 text-center"},B={class:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3"},j={class:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto"},T=["disabled"],I={key:0,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},N={class:"flex items-center justify-between mb-2"},S={class:"text-sm text-gray-500 dark:text-gray-400"},q={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},z={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"},A={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},D={class:"font-bold text-gray-900 dark:text-gray-100"},E={class:"overflow-x-auto"},V={class:"w-full"},F={class:"bg-gray-50 dark:bg-gray-900/50"},G={class:"divide-y divide-gray-200 dark:divide-gray-700"},H={__name:"AIChannelPage",props:{channel:Object,metrics:Array,panelType:{type:String,required:!0,validator:t=>["business","marketing","finance","operator","saleshead"].includes(t)},platformConfig:{type:Object,required:!0}},setup(t){const s=h(!1),m=async()=>{s.value=!0;try{const i=await(await fetch(route("integrations.meta.auth-url"),{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content,Accept:"application/json"}})).json();i.url?window.location.href=i.url:(console.error("No auth URL received"),alert("Integratsiya xatosi. Qayta urinib ko'ring."))}catch(f){console.error("Connect error:",f),alert("Integratsiya xatosi. Qayta urinib ko'ring.")}finally{s.value=!1}};return(f,i)=>(r(),n("div",k,[e("div",C,[e("div",{class:l(["w-14 h-14 rounded-2xl flex items-center justify-center text-white shadow-lg",t.platformConfig.headerGradient])},[(r(),y(u(t.platformConfig.icon),{class:"w-8 h-8"}))],2),e("div",null,[e("h1",p,a(t.platformConfig.title),1),e("p",v,a(t.platformConfig.subtitle),1)])]),t.channel?(r(),n(c,{key:1},[e("div",{class:l(["grid gap-6",`grid-cols-1 md:grid-cols-${t.platformConfig.metricsConfig.length>3?4:t.platformConfig.metricsConfig.length}`])},[(r(!0),n(c,null,g(t.platformConfig.metricsConfig,o=>(r(),n("div",{key:o.key,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6"},[e("div",N,[e("span",S,a(o.label),1),e("span",{class:l(o.iconColor)},a(o.icon),3)]),e("p",q,a(o.prefix||"")+a(t.channel.metrics?.[o.key]||0)+a(o.suffix||""),1)]))),128))],2),t.metrics&&t.metrics.length>0?(r(),n("div",z,[e("div",A,[e("h3",D,a(t.platformConfig.tableTitle||"Statistika"),1)]),e("div",E,[e("table",V,[e("thead",F,[e("tr",null,[(r(!0),n(c,null,g(t.platformConfig.tableColumns,o=>(r(),n("th",{key:o.key,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},a(o.label),1))),128))])]),e("tbody",G,[(r(!0),n(c,null,g(t.metrics,o=>(r(),n("tr",{key:o.id},[(r(!0),n(c,null,g(t.platformConfig.tableColumns,d=>(r(),n("td",{key:d.key,class:"px-6 py-4 text-sm text-gray-900 dark:text-gray-100"},a(d.prefix||"")+a(o[d.key])+a(d.suffix||""),1))),128))]))),128))])])])])):x("",!0)],64)):(r(),n("div",w,[e("div",{class:l(["w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-6",t.platformConfig.emptyIconBg])},[(r(),y(u(t.platformConfig.icon),{class:l(["w-10 h-10",t.platformConfig.emptyIconColor])},null,8,["class"]))],2),e("h3",B,a(t.platformConfig.connectTitle),1),e("p",j,a(t.platformConfig.connectDescription),1),e("button",{onClick:m,disabled:s.value,class:l(["px-8 py-3 text-white font-medium rounded-xl transition-all inline-flex items-center gap-2",t.platformConfig.connectButtonClass,s.value?"opacity-70 cursor-wait":""])},[s.value?(r(),n("svg",I,[...i[0]||(i[0]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):x("",!0),b(" "+a(s.value?"Ulanmoqda...":t.platformConfig.connectButtonText),1)],10,T)]))]))}};export{H as _};

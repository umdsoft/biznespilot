import{r as e,b as t,v as a,x as s,L as r,y as l,A as d,B as i,z as o,F as n,G as p,C as x,D as c,J as u,K as g,H as m,I as y,E as h}from"./chunk-CpmtkKLp.js";import{h as v,r as k}from"./chunk-BhZp3z4u.js";import{_ as b}from"./chunk-BDBDdGhv.js";import{r as f}from"./chunk-BiBvtcLb.js";import{r as w}from"./chunk-DCXiFUg-.js";import{r as j}from"./chunk-Bsc1JRL5.js";import{r as _}from"./chunk-CAoK8Mdm.js";import{r as q}from"./chunk-DmrwHl-6.js";import{e as T}from"./chunk-D7SyfRoT.js";import{r as C}from"./chunk-yvcCPqrN.js";import"./app-C-ZlocOh.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-De_qwhex.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-BuJDoypK.js";const R={class:"space-y-6"},A={class:"flex items-center justify-between"},K={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},B={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},U={class:"flex items-center gap-3"},$={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center"},z={class:"text-2xl font-bold text-gray-900 dark:text-white"},L={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},X={class:"flex items-center gap-3"},H={class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl flex items-center justify-center"},I={class:"text-2xl font-bold text-yellow-600"},J={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},O={class:"flex items-center gap-3"},S={class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center"},V={class:"text-2xl font-bold text-green-600"},D={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},E={class:"flex items-center gap-3"},F={class:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center"},G={class:"text-2xl font-bold text-red-600"},W={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},M={class:"flex items-center gap-3"},N={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center"},P={class:"text-2xl font-bold text-blue-600"},Q={class:"flex flex-wrap items-center gap-4"},Y={class:"flex-1 min-w-[200px]"},Z={class:"relative"},ee=["value"],te={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden"},ae={class:"overflow-x-auto"},se={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},re={class:"divide-y divide-gray-200 dark:divide-gray-700"},le={class:"px-6 py-4 whitespace-nowrap"},de={class:"flex items-center"},ie={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center"},oe={class:"text-sm font-medium text-purple-600 dark:text-purple-400"},ne={class:"ml-4"},pe={class:"text-sm font-medium text-gray-900 dark:text-white"},xe={class:"text-sm text-gray-500 dark:text-gray-400"},ce={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ge={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},me={class:"px-6 py-4 whitespace-nowrap"},ye={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate"},he={class:"px-6 py-4 whitespace-nowrap text-right"},ve={key:0,class:"flex items-center justify-end gap-2"},ke=["onClick"],be=["onClick"],fe={key:1,class:"text-sm text-gray-400"},we={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},je={__name:"Index",props:{leaveRequests:Array,employees:Array,stats:Object,currentBusiness:Object},setup(je){const _e=je,qe=e(""),Te=e(""),Ce=e(!1),Re=[{value:"",label:"Barcha holatlar"},{value:"pending",label:"Kutilmoqda"},{value:"approved",label:"Tasdiqlangan"},{value:"rejected",label:"Rad etilgan"}],Ae=t(()=>_e.leaveRequests?.filter(e=>{const t=!qe.value||e.user_name?.toLowerCase().includes(qe.value.toLowerCase()),a=!Te.value||e.status===Te.value;return t&&a})||[]),Ke=e=>({pending:"Kutilmoqda",approved:"Tasdiqlangan",rejected:"Rad etilgan"}[e]||e);return(e,t)=>(c(),a(b,{title:"Ta'tillar boshqaruvi"},{default:s(()=>[r(d(v),{title:"Ta'tillar boshqaruvi"}),l("div",R,[l("div",A,[t[4]||(t[4]=l("div",null,[l("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Ta'tillar boshqaruvi "),l("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Xodimlar ta'til so'rovlarini boshqarish ")],-1)),l("button",{onClick:t[0]||(t[0]=e=>Ce.value=!0),class:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700"},[r(d(f),{class:"w-5 h-5"}),t[3]||(t[3]=i(" Ta'tilga chiqarish ",-1))])]),l("div",K,[l("div",B,[l("div",U,[l("div",$,[r(d(w),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),l("div",null,[t[5]||(t[5]=l("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jami so'rovlar",-1)),l("p",z,o(je.stats?.total_requests||0),1)])])]),l("div",L,[l("div",X,[l("div",H,[r(d(j),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),l("div",null,[t[6]||(t[6]=l("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Kutilmoqda",-1)),l("p",I,o(je.stats?.pending||0),1)])])]),l("div",J,[l("div",O,[l("div",S,[r(d(_),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),l("div",null,[t[7]||(t[7]=l("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tasdiqlangan",-1)),l("p",V,o(je.stats?.approved||0),1)])])]),l("div",D,[l("div",E,[l("div",F,[r(d(q),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),l("div",null,[t[8]||(t[8]=l("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Rad etilgan",-1)),l("p",G,o(je.stats?.rejected||0),1)])])]),l("div",W,[l("div",M,[l("div",N,[r(d(T),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),l("div",null,[t[9]||(t[9]=l("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Bugun ta'tilda",-1)),l("p",P,o(je.stats?.on_leave_today||0),1)])])])]),l("div",Q,[l("div",Y,[l("div",Z,[r(d(C),{class:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n(l("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>qe.value=e),type:"text",placeholder:"Xodim qidirish...",class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[p,qe.value]])])]),n(l("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Te.value=e),class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg"},[(c(),x(u,null,g(Re,e=>l("option",{key:e.value,value:e.value},o(e.label),9,ee)),64))],512),[[m,Te.value]])]),l("div",te,[l("div",ae,[l("table",se,[t[10]||(t[10]=l("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Xodim"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Ta'til turi"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sana"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Kunlar"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Holat"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sabab"),l("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Amallar")])],-1)),l("tbody",re,[(c(!0),x(u,null,g(Ae.value,e=>{return c(),x("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[l("td",le,[l("div",de,[l("div",ie,[l("span",oe,o(e.user_name?.charAt(0)||"?"),1)]),l("div",ne,[l("div",pe,o(e.user_name),1),l("div",xe,o(e.user_email),1)])])]),l("td",ce,o(e.leave_type),1),l("td",ue,o(e.start_date)+" - "+o(e.end_date),1),l("td",ge,o(e.total_days)+" kun ",1),l("td",me,[l("span",{class:h(["px-3 py-1 text-xs font-medium rounded-full",(t=e.status,{pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}[t]||"bg-gray-100 text-gray-800")])},o(Ke(e.status)),3)]),l("td",ye,o(e.reason||"—"),1),l("td",he,["pending"===e.status?(c(),x("div",ve,[l("button",{onClick:t=>{return a=e.id,void(confirm("Ushbu ta'til so'rovini tasdiqlaysizmi?")&&k.post(`/hr/leave/${a}/approve`));var a},class:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg",title:"Tasdiqlash"},[r(d(_),{class:"w-5 h-5"})],8,ke),l("button",{onClick:t=>{return a=e.id,void(confirm("Ushbu ta'til so'rovini rad etasizmi?")&&k.post(`/hr/leave/${a}/reject`));var a},class:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg",title:"Rad etish"},[r(d(q),{class:"w-5 h-5"})],8,be)])):(c(),x("span",fe,o(e.approver_name?`${e.approver_name} tomonidan`:"—"),1))])]);var t}),128))])])]),0===Ae.value.length?(c(),x("div",we,[r(d(w),{class:"w-12 h-12 mx-auto opacity-50 mb-3"}),t[11]||(t[11]=l("p",null,"Ta'til so'rovlari topilmadi",-1))])):y("",!0)])])]),_:1}))}};export{je as default};

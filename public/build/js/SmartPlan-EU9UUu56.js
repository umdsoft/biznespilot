import{b as m,r as B,v as $,x as k,z as e,y as c,C as o,D as n,H as a,E as f,F as s,A as x,T as v,B as i,G as p,I as h,S as Y,M as G}from"./chunk-KPSVwAyv.js";import{b as J,r as U}from"./chunk-BVrjkT6E.js";import{_ as W}from"./chunk-bFX-UPbu.js";import{_ as X}from"./chunk-BDCgzsM6.js";import{r as _}from"./chunk-Ch0Q6XPl.js";import{r as Z}from"./chunk-Dfha1x8d.js";import{r as ee}from"./chunk-CQ-EgyBm.js";import{s as te}from"./chunk-Qa9RIO0M.js";import{a as re}from"./chunk-BgShz32H.js";import{r as ae}from"./chunk-D59q4lxq.js";import"./app-BtfI-58n.js";import"./chunk-BvkwlYlD.js";import"./chunk-Qe-_4ASA.js";import"./chunk-BgOPVSvg.js";import"./chunk-CYw1XsNK.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-CYZ54WJE.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";const se={class:"mb-8"},oe={class:"flex items-center justify-between flex-wrap gap-4"},le={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},de=["disabled"],ne={key:1,class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},ie={key:0,class:"mb-6 p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800"},ge={class:"flex items-center gap-3"},ce={class:"text-sm font-medium text-green-800 dark:text-green-200"},xe={key:0,class:"mb-6 p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"},ue={class:"flex items-center gap-3"},be={class:"text-sm font-medium text-red-800 dark:text-red-200"},me={class:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6"},pe={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},ye={class:"text-2xl font-bold text-emerald-600"},ke={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},he={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},fe={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},ve={class:"text-2xl font-bold text-pink-600"},_e={key:0,class:"mb-6 bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},we={class:"flex gap-2"},Se={class:"flex items-center justify-between"},Ce={class:"text-xs text-gray-500"},je={key:1,class:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-700"},Te={class:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 flex items-center justify-center"},ze={key:2,class:"space-y-3"},Me={key:3,class:"space-y-3"},Fe=["onClick"],Be={class:"p-5"},$e={class:"flex items-start gap-4"},Ne={class:"flex-shrink-0 text-center w-16"},Pe={class:"text-xs text-gray-500 mt-1"},qe={class:"flex-1 min-w-0"},He={class:"flex items-center gap-2 mb-1.5 flex-wrap"},Ie={class:"text-xs text-gray-400"},Le={class:"font-medium text-gray-900 dark:text-white mb-1"},Ke={key:0,class:"text-sm text-gray-500 dark:text-gray-400 truncate"},Oe={class:"flex-shrink-0 text-right flex items-center gap-2"},Ve={key:0,class:"px-5 pb-5 border-t border-gray-100 dark:border-gray-700 pt-4 overflow-hidden"},Ae={class:"pl-20 space-y-3"},De={key:0,class:"bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-3"},Ee={class:"text-sm text-emerald-700 dark:text-emerald-400 italic"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Re={key:0,class:"bg-red-50 dark:bg-red-900/10 rounded-lg p-3"},Ye={class:"text-sm text-red-600 dark:text-red-300"},Ge={key:1,class:"bg-blue-50 dark:bg-blue-900/10 rounded-lg p-3"},Je={class:"text-sm text-blue-600 dark:text-blue-300"},Ue={key:1,class:"text-sm text-gray-600 dark:text-gray-400 flex items-start gap-1.5"},We={class:"flex items-center gap-2 flex-wrap text-xs text-gray-500"},Xe={class:"px-2 py-0.5 rounded bg-gray-100 dark:bg-gray-700"},Ze={class:"px-2 py-0.5 rounded bg-gray-100 dark:bg-gray-700"},et={key:4,class:"mt-8 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5"},tt={class:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},rt={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},at={class:"text-center p-2 bg-gray-50 dark:bg-gray-900/50 rounded-lg"},st={class:"text-lg font-bold text-gray-900 dark:text-white"},ot={class:"text-center p-2 bg-gray-50 dark:bg-gray-900/50 rounded-lg"},lt={class:"text-lg font-bold text-blue-600"},dt={class:"text-center p-2 bg-gray-50 dark:bg-gray-900/50 rounded-lg"},nt={class:"text-lg font-bold text-purple-600"},it={class:"text-center p-2 bg-gray-50 dark:bg-gray-900/50 rounded-lg"},Pt={__name:"SmartPlan",props:{recommendations:{type:Array,default:()=>[]},igSchedule:{type:Object,default:()=>({})},performanceSummary:{type:Object,default:()=>({})},recentPlans:{type:Array,default:()=>[]},business:{type:Object,default:null},panelType:{type:String,default:"business"}},setup(d){const y=d,N=m(()=>y.panelType==="marketing"?W:X),w=J(),u=B(!1),b=B(null),S=m(()=>w.props.flash?.success),C=m(()=>w.props.flash?.error),P=l=>{b.value=b.value===l?null:l},j=m(()=>y.recommendations.filter(l=>["niche","niche_learning","niche_and_pain"].includes(l.source)).length),T=m(()=>y.recommendations.filter(l=>["pain_point","niche_and_pain"].includes(l.source)).length),q=m(()=>{const l=y.igSchedule?.best_times?.best_hours;return l?.length?String(l[0].hour).padStart(2,"0")+":00":"19:00"}),z={niche:"bg-blue-600",niche_learning:"bg-emerald-600",pain_point:"bg-purple-600",niche_and_pain:"bg-indigo-600",performance:"bg-cyan-600",algorithm:"bg-cyan-500",template:"bg-gray-500"},H={niche:"Soha tahlili",niche_learning:"Soha tahlili",pain_point:"Mijoz so'rovnomasi",niche_and_pain:"Soha + Mijoz",performance:"Natijalar tahlili",algorithm:"Ichki algoritm",template:"Ichki shablon"},I={reel:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",carousel:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",post:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",story:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400"},M={reel:"Qisqa video",carousel:"Slaydli post",post:"Post",story:"Hikoya"},L={educational:"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",engagement:"bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400",behind_scenes:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300",promotional:"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400",testimonial:"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400"},K={educational:"Ta'limiy",engagement:"Faollashtiruvchi",behind_scenes:"Sahna ortida",promotional:"Reklama",testimonial:"Mijoz fikri"},O={instagram:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400",telegram:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",youtube:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",tiktok:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",facebook:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},V={instagram:"Instagram",telegram:"Telegram",youtube:"YouTube",tiktok:"TikTok",facebook:"Facebook"},A={reel:"bg-purple-500",carousel:"bg-green-500",post:"bg-blue-500",story:"bg-pink-500"},D={reel:"text-purple-600",carousel:"text-green-600",post:"text-blue-600",story:"text-pink-600"},E={rising:"text-green-600",stable:"text-blue-600",falling:"text-red-600",insufficient_data:"text-gray-400"},Q={rising:"O'sishda",stable:"Barqaror",falling:"Tushishda",insufficient_data:"Ma'lumot kam",no_baseline:"Ma'lumot kam"},F=()=>{u.value=!0,U.post(route("business.marketing.content-ai.smart-plan.generate-weekly"),{},{preserveScroll:!0,onFinish:()=>{u.value=!1}})},R=l=>l?l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"K":l.toString():"0";return(l,t)=>(s(),$(G(N.value),{title:"Smart Content Plan"},{default:k(()=>[e("div",se,[e("div",oe,[e("div",null,[t[0]||(t[0]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"Smart Kontent Reja",-1)),e("p",le,a(d.business?.name)+" uchun haftalik kontent tavsiyalari ",1)]),e("button",{onClick:F,disabled:u.value,class:"px-5 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 text-white text-sm font-medium rounded-xl hover:from-emerald-700 hover:to-teal-700 disabled:opacity-50 transition-all flex items-center gap-2 shadow-lg shadow-emerald-500/25"},[u.value?(s(),o("svg",ne,[...t[1]||(t[1]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(s(),$(x(_),{key:0,class:"w-5 h-5"})),f(" "+a(u.value?"Yaratilmoqda...":"Haftalik reja yaratish"),1)],8,de)])]),c(v,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0"},{default:k(()=>[S.value?(s(),o("div",ie,[e("div",ge,[c(x(Z),{class:"w-5 h-5 text-green-600 flex-shrink-0"}),e("p",ce,a(S.value),1)])])):n("",!0)]),_:1}),c(v,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0"},{default:k(()=>[C.value?(s(),o("div",xe,[e("div",ue,[c(x(ee),{class:"w-5 h-5 text-red-600 flex-shrink-0"}),e("p",be,a(C.value),1)])])):n("",!0)]),_:1}),e("div",me,[e("div",pe,[t[2]||(t[2]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Tavsiyalar",-1)),e("p",ye,a(d.recommendations.length),1)]),e("div",ke,[t[3]||(t[3]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Soha tahlili",-1)),e("p",{class:i(["text-2xl font-bold",j.value>0?"text-blue-600":"text-gray-400"])},a(j.value),3)]),e("div",he,[t[4]||(t[4]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Mijoz muammolari",-1)),e("p",{class:i(["text-2xl font-bold",T.value>0?"text-purple-600":"text-gray-400"])},a(T.value),3)]),e("div",fe,[t[5]||(t[5]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Joylashtirish vaqti",-1)),e("p",ve,a(q.value),1)])]),d.igSchedule?.content_mix?(s(),o("div",_e,[t[6]||(t[6]=e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-3"},"Kontent turlari taqsimoti",-1)),e("div",we,[(s(!0),o(p,null,h(d.igSchedule.content_mix,(r,g)=>(s(),o("div",{key:g,class:"flex-1"},[e("div",{class:i(["h-2 rounded-full mb-1",A[g]]),style:Y({opacity:.4+r})},null,6),e("div",Se,[e("span",Ce,a(M[g]||g),1),e("span",{class:i(["text-xs font-bold",D[g]])},a((r*100).toFixed(0))+"%",3)])]))),128))])])):n("",!0),!d.recommendations.length&&!u.value?(s(),o("div",je,[e("div",Te,[c(x(_),{class:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})]),t[8]||(t[8]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Hali tavsiyalar yaratilmagan",-1)),t[9]||(t[9]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto mb-6"}," Sizning sohangiz va biznesingiz uchun maxsus kontent tavsiyalari yaratish uchun tugmani bosing ",-1)),e("button",{onClick:F,class:"px-6 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 text-white text-sm font-medium rounded-xl hover:from-emerald-700 hover:to-teal-700 transition-all inline-flex items-center gap-2 shadow-lg shadow-emerald-500/25"},[c(x(_),{class:"w-5 h-5"}),t[7]||(t[7]=f(" Haftalik reja yaratish ",-1))])])):n("",!0),u.value&&!d.recommendations.length?(s(),o("div",ze,[(s(),o(p,null,h(5,r=>e("div",{key:"skeleton-"+r,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 animate-pulse"},[...t[10]||(t[10]=[e("div",{class:"flex items-start gap-4"},[e("div",{class:"w-10 h-10 rounded-xl bg-gray-200 dark:bg-gray-700"}),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"flex gap-2"},[e("div",{class:"w-16 h-5 rounded-full bg-gray-200 dark:bg-gray-700"}),e("div",{class:"w-20 h-5 rounded-full bg-gray-200 dark:bg-gray-700"})]),e("div",{class:"w-3/4 h-4 rounded bg-gray-200 dark:bg-gray-700"}),e("div",{class:"w-1/2 h-3 rounded bg-gray-100 dark:bg-gray-700/50"})]),e("div",{class:"w-10 h-10 rounded bg-gray-200 dark:bg-gray-700"})],-1)])])),64))])):n("",!0),d.recommendations.length?(s(),o("div",Me,[(s(!0),o(p,null,h(d.recommendations,r=>(s(),o("div",{key:r.order,class:i(["bg-white dark:bg-gray-800 rounded-xl border transition-all duration-200 cursor-pointer",b.value===r.order?"border-emerald-400 dark:border-emerald-600 shadow-lg shadow-emerald-500/10":"border-gray-200 dark:border-gray-700 hover:border-emerald-300 dark:hover:border-emerald-700 hover:shadow-md"]),onClick:g=>P(r.order)},[e("div",Be,[e("div",$e,[e("div",Ne,[e("div",{class:i(["w-10 h-10 mx-auto rounded-xl flex items-center justify-center text-white text-sm font-bold",z[r.source]||"bg-gray-500"])},a(r.order),3),e("p",Pe,a(r.day),1)]),e("div",qe,[e("div",He,[e("span",{class:i(["text-xs px-2 py-0.5 rounded-full font-medium",I[r.type]||"bg-gray-100 text-gray-700"])},a(M[r.type]||r.type),3),e("span",{class:i(["text-xs px-2 py-0.5 rounded-full",L[r.purpose]||"bg-gray-100 text-gray-600"])},a(K[r.purpose]||r.purpose),3),e("span",Ie,a(r.time),1)]),e("p",Le,a(r.topic),1),r.hook&&b.value!==r.order?(s(),o("p",Ke,a(r.hook),1)):n("",!0)]),e("div",Oe,[e("div",null,[e("div",{class:i(["text-lg font-bold",r.score>=75?"text-emerald-600":r.score>=50?"text-amber-600":"text-gray-500"])},a(r.score),3),t[11]||(t[11]=e("p",{class:"text-xs text-gray-400"},"ball",-1))]),c(x(te),{class:i(["w-4 h-4 text-gray-400 transition-transform duration-200",b.value===r.order?"rotate-180":""])},null,8,["class"])])])]),c(v,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-96","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 max-h-96","leave-to-class":"opacity-0 max-h-0"},{default:k(()=>[b.value===r.order?(s(),o("div",Ve,[e("div",Ae,[r.hook?(s(),o("div",De,[t[12]||(t[12]=e("p",{class:"text-xs font-medium text-emerald-800 dark:text-emerald-300 mb-1"},"Boshlash uchun g'oya:",-1)),e("p",Ee,'"'+a(r.hook)+'"',1)])):n("",!0),e("div",Qe,[r.problem?(s(),o("div",Re,[t[13]||(t[13]=e("p",{class:"text-xs font-medium text-red-700 dark:text-red-400 mb-1"},"Qaysi muammoga javob:",-1)),e("p",Ye,a(r.problem),1)])):n("",!0),r.expected_result?(s(),o("div",Ge,[t[14]||(t[14]=e("p",{class:"text-xs font-medium text-blue-700 dark:text-blue-400 mb-1"},"Kutilayotgan natija:",-1)),e("p",Je,a(r.expected_result),1)])):n("",!0)]),r.reason?(s(),o("p",Ue,[c(x(re),{class:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),e("span",null,a(r.reason),1)])):n("",!0),e("div",We,[e("span",Xe,a(r.day),1),e("span",Ze,a(r.time),1),e("span",{class:i(["px-2 py-0.5 rounded text-white",z[r.source]||"bg-gray-500"])},a(H[r.source]||"Tavsiya"),3),r.platforms?.length?(s(),o(p,{key:0},[t[15]||(t[15]=e("span",{class:"text-gray-300 dark:text-gray-600"},"|",-1)),(s(!0),o(p,null,h(r.platforms,g=>(s(),o("span",{key:g,class:i(["px-2 py-0.5 rounded-full text-xs font-medium",O[g]||"bg-gray-100 text-gray-700"])},a(V[g]||g),3))),128))],64)):n("",!0)])])])):n("",!0)]),_:2},1024)],10,Fe))),128))])):n("",!0),d.performanceSummary?.total_published?(s(),o("div",et,[e("h3",tt,[c(x(ae),{class:"w-4 h-4 text-blue-600"}),t[16]||(t[16]=f(" Oxirgi 30 kun natijasi ",-1))]),e("div",rt,[e("div",at,[e("p",st,a(d.performanceSummary.total_published),1),t[17]||(t[17]=e("p",{class:"text-xs text-gray-500"},"Nashr qilingan",-1))]),e("div",ot,[e("p",lt,a((d.performanceSummary.avg_engagement_rate*100).toFixed(2))+"%",1),t[18]||(t[18]=e("p",{class:"text-xs text-gray-500"},"Faollik darajasi",-1))]),e("div",dt,[e("p",nt,a(R(d.performanceSummary.total_reach)),1),t[19]||(t[19]=e("p",{class:"text-xs text-gray-500"},"Ko'rganlar",-1))]),e("div",it,[e("p",{class:i(["text-lg font-bold",E[d.performanceSummary.engagement_trend]])},a(Q[d.performanceSummary.engagement_trend]||"â€”"),3),t[20]||(t[20]=e("p",{class:"text-xs text-gray-500"},"Dinamika",-1))])])])):n("",!0)]),_:1}))}};export{Pt as default};

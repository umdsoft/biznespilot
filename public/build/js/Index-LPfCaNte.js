import{r as c,b as h,v as z,x as V,y as l,z as t,A as o,E as $,H as r,J as y,K as D,C as n,F as d,G as b,I as v,L as w,D as A,B as E}from"./chunk-KPSVwAyv.js";import{h as N}from"./chunk-BVrjkT6E.js";import{_ as U}from"./chunk-BUfiL3-y.js";import{r as X}from"./chunk-Tj_a7zxz.js";import{r as u}from"./chunk-CYZ54WJE.js";import{r as Y}from"./chunk-uNG5YCqx.js";import{r as F}from"./chunk-BL-22xYA.js";import{r as I}from"./chunk-cX3qDKmH.js";import"./chunk-S7b6IQvx.js";import"./app-906_W7J6.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-Dfha1x8d.js";import"./chunk-BgOPVSvg.js";import"./chunk-CYw1XsNK.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";const J={class:"space-y-6"},q={class:"flex items-center justify-between"},G={class:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700"},H={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},K={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},O={class:"flex items-center gap-3"},Q={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center"},P={class:"text-2xl font-bold text-gray-900 dark:text-white"},R={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},W={class:"flex items-center gap-3"},Z={class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center"},tt={class:"text-2xl font-bold text-green-600"},et={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},at={class:"flex items-center gap-3"},st={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center"},rt={class:"text-2xl font-bold text-blue-600"},lt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},ot={class:"flex items-center gap-3"},dt={class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl flex items-center justify-center"},it={class:"text-2xl font-bold text-yellow-600"},nt={class:"flex flex-wrap items-center gap-4"},pt={class:"flex-1 min-w-[200px]"},ct={class:"relative"},ut=["value"],xt=["value"],gt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden"},mt={class:"overflow-x-auto"},ht={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},yt={class:"divide-y divide-gray-200 dark:divide-gray-700"},bt={class:"px-6 py-4 whitespace-nowrap"},vt={class:"flex items-center"},_t={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center"},ft={class:"text-sm font-medium text-purple-600 dark:text-purple-400"},wt={class:"ml-4"},kt={class:"text-sm font-medium text-gray-900 dark:text-white"},Ct={class:"text-sm text-gray-500 dark:text-gray-400"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Bt={class:"px-6 py-4 whitespace-nowrap"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},St={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Tt={class:"px-6 py-4 whitespace-nowrap text-right"},Lt={class:"flex items-center justify-end gap-2"},zt=["onClick"],Vt={class:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",title:"Chop etish"},$t={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},oe={__name:"Index",props:{employees:Array,currentBusiness:Object},setup(k){const i=k,p=c(""),x=c(""),g=c(""),C=c(!1),M=c(null),B=[{value:"",label:"Barcha turlar"},{value:"unlimited",label:"Muddatsiz"},{value:"fixed",label:"Muddatli"},{value:"probation",label:"Sinov muddati"},{value:"part_time",label:"Yarim stavka"}],j=h(()=>{const s=[...new Set(i.employees?.map(e=>e.department).filter(Boolean))];return[{value:"",label:"Barcha bo'limlar"},...s.map(e=>({value:e,label:e}))]}),_=h(()=>i.employees?.filter(s=>{const e=!p.value||s.name?.toLowerCase().includes(p.value.toLowerCase())||s.position?.toLowerCase().includes(p.value.toLowerCase()),a=!x.value||s.department===x.value,f=!g.value||s.contract_type===g.value;return e&&a&&f})||[]),S=s=>({unlimited:"Muddatsiz",fixed:"Muddatli",probation:"Sinov muddati",part_time:"Yarim stavka"})[s]||s,T=s=>({unlimited:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",fixed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",probation:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",part_time:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"})[s]||"bg-gray-100 text-gray-800",L=s=>{M.value=s,C.value=!0},m=h(()=>({total:i.employees?.length||0,unlimited:i.employees?.filter(s=>s.contract_type==="unlimited").length||0,fixed:i.employees?.filter(s=>s.contract_type==="fixed").length||0,probation:i.employees?.filter(s=>s.contract_type==="probation").length||0}));return(s,e)=>(d(),z(U,{title:"Mehnat shartnomalari"},{default:V(()=>[l(o(N),{title:"Mehnat shartnomalari"}),t("div",J,[t("div",q,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Mehnat shartnomalari "),t("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Xodimlar bilan tuzilgan mehnat shartnomalari ")],-1)),t("button",G,[l(o(X),{class:"w-5 h-5"}),e[3]||(e[3]=$(" Yangi shartnoma ",-1))])]),t("div",H,[t("div",K,[t("div",O,[t("div",Q,[l(o(u),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jami shartnomalar",-1)),t("p",P,r(m.value.total),1)])])]),t("div",R,[t("div",W,[t("div",Z,[l(o(u),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Muddatsiz",-1)),t("p",tt,r(m.value.unlimited),1)])])]),t("div",et,[t("div",at,[t("div",st,[l(o(u),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Muddatli",-1)),t("p",rt,r(m.value.fixed),1)])])]),t("div",lt,[t("div",ot,[t("div",dt,[l(o(u),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Sinov muddati",-1)),t("p",it,r(m.value.probation),1)])])])]),t("div",nt,[t("div",pt,[t("div",ct,[l(o(Y),{class:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),type:"text",placeholder:"Xodim qidirish...",class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[D,p.value]])])]),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>x.value=a),class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg"},[(d(!0),n(b,null,v(j.value,a=>(d(),n("option",{key:a.value,value:a.value},r(a.label),9,ut))),128))],512),[[w,x.value]]),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>g.value=a),class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg"},[(d(),n(b,null,v(B,a=>t("option",{key:a.value,value:a.value},r(a.label),9,xt)),64))],512),[[w,g.value]])]),t("div",gt,[t("div",mt,[t("table",ht,[e[9]||(e[9]=t("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Xodim"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Lavozim"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Shartnoma turi"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Boshlanish"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Tugash"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Amallar")])],-1)),t("tbody",yt,[(d(!0),n(b,null,v(_.value,a=>(d(),n("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",bt,[t("div",vt,[t("div",_t,[t("span",ft,r(a.name?.charAt(0)||"?"),1)]),t("div",wt,[t("div",kt,r(a.name),1),t("div",Ct,r(a.department_label),1)])])]),t("td",Mt,r(a.position),1),t("td",Bt,[t("span",{class:E(["px-3 py-1 text-xs font-medium rounded-full",T(a.contract_type)])},r(S(a.contract_type)),3)]),t("td",jt,r(a.contract_start||a.joined_at),1),t("td",St,r(a.contract_end||"â€”"),1),t("td",Tt,[t("div",Lt,[t("button",{onClick:f=>L(a),class:"p-2 text-gray-400 hover:text-purple-600 dark:hover:text-purple-400",title:"Tahrirlash"},[l(o(F),{class:"w-5 h-5"})],8,zt),t("button",Vt,[l(o(I),{class:"w-5 h-5"})])])])]))),128))])])]),_.value.length===0?(d(),n("div",$t,[l(o(u),{class:"w-12 h-12 mx-auto opacity-50 mb-3"}),e[10]||(e[10]=t("p",null,"Shartnomalar topilmadi",-1))])):A("",!0)])])]),_:1}))}};export{oe as default};

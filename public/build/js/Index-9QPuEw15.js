import{r as C,b as k,w as Le,v as E,x as K,D as g,L as S,E as i,z as e,H as s,A as ne,C as _,B as x,F as w,G as M,S as Z,I as U,K as Re,y as G,J as X}from"./chunk-BcTZxe-J.js";import{a as Ne,r as Te}from"./chunk-BYRtWSr0.js";import{_ as qe}from"./chunk-Dd--AZOj.js";import{_ as O}from"./chunk-CjD99w5-.js";import{u as Ee}from"./app-DWC75jbx.js";import"./chunk-CYarSvys.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CJsSO8V8.js";import"./chunk-CrR1zWIb.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";import"./chunk-C1xeNfMu.js";const Ue={key:0,class:"mb-8"},Je={class:"flex items-center justify-between flex-wrap gap-4"},We={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},Qe={class:"mt-2 text-gray-600 dark:text-gray-400"},Ze={class:"mt-3 flex flex-wrap gap-2"},Ge={class:"flex gap-3"},Xe={key:1,class:"mb-8"},et={class:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700 rounded-2xl p-8 border border-blue-200 dark:border-gray-600"},tt={class:"text-center max-w-2xl mx-auto"},at={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},rt={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white"},st={class:"text-3xl font-bold"},nt={class:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg p-6 text-white"},ot={class:"text-3xl font-bold"},lt={class:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl shadow-lg p-6 text-white"},it={class:"text-3xl font-bold"},dt={class:"bg-gradient-to-br from-red-500 to-pink-600 rounded-xl shadow-lg p-6 text-white"},ut={class:"text-3xl font-bold"},gt={class:"space-y-4"},ct={class:"border-b border-gray-200 dark:border-gray-700 pb-4 space-y-4"},xt={class:"flex items-center justify-between"},yt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},pt={class:"flex flex-wrap gap-2"},vt={class:"overflow-x-auto"},bt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},kt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ht={class:"px-4 py-3 whitespace-nowrap sticky left-0 bg-white dark:bg-gray-800"},mt={class:"flex items-center"},ft=["innerHTML"],_t={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},wt={class:"px-4 py-3 text-center border-l-2 border-blue-500 bg-blue-50/50 dark:bg-blue-900/20"},Mt={class:"text-sm font-bold text-blue-700 dark:text-blue-300"},Dt={class:"px-4 py-3 text-center bg-emerald-50/50 dark:bg-emerald-900/20"},jt={class:"text-sm font-bold text-emerald-700 dark:text-emerald-300"},Ct={class:"px-4 py-3 whitespace-nowrap border-l-2 border-gray-300 dark:border-gray-600"},St={class:"flex flex-col items-center"},It={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},Ft={class:"px-4 py-3 whitespace-nowrap text-center"},Bt={class:"space-y-4"},zt={class:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 pb-4"},Kt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Pt={class:"overflow-x-auto"},$t={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ot={class:"bg-gray-50 dark:bg-gray-700"},Ht={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Vt={class:"px-4 py-3 whitespace-nowrap sticky left-0 bg-white dark:bg-gray-800"},Yt={class:"flex items-center"},At=["innerHTML"],Lt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Rt={class:"px-4 py-3 text-center border-l-2 border-blue-500 bg-blue-50/50 dark:bg-blue-900/20"},Nt={class:"text-sm font-bold text-blue-700 dark:text-blue-300"},Tt={class:"px-4 py-3 text-center bg-emerald-50/50 dark:bg-emerald-900/20"},qt={class:"text-sm font-bold text-emerald-700 dark:text-emerald-300"},Et={class:"px-4 py-3 whitespace-nowrap border-l-2 border-gray-300 dark:border-gray-600"},Ut={class:"flex flex-col items-center"},Jt={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},Wt={class:"px-4 py-3 whitespace-nowrap text-center"},Qt={class:"flex items-center justify-between"},Zt={class:"relative inline-block"},Gt=["value"],Xt={class:"overflow-x-auto"},ea={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ta={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},aa={class:"px-6 py-4 whitespace-nowrap"},ra={class:"flex items-center"},sa=["innerHTML"],na={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},oa={class:"text-xs text-gray-500 dark:text-gray-400"},la={class:"px-6 py-4 whitespace-nowrap text-center"},ia={class:"px-6 py-4 whitespace-nowrap text-center"},da={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},ua={class:"px-6 py-4 whitespace-nowrap text-center"},ga={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},ca={class:"px-6 py-4 whitespace-nowrap"},xa={class:"flex flex-col items-center"},ya={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},pa={class:"px-6 py-4 whitespace-nowrap text-center"},va={class:"space-y-4"},ba={class:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 pb-4"},ka={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},ha={class:"text-sm text-gray-600 dark:text-gray-400"},ma={key:0},fa={key:1,class:"font-medium text-blue-600 dark:text-blue-400"},_a={class:"flex flex-wrap gap-2 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700"},wa=["onClick","disabled"],Ma={class:"overflow-x-auto"},Da={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ja={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ca={class:"px-6 py-4 whitespace-nowrap"},Sa={class:"flex items-center"},Ia=["innerHTML"],Fa={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Ba={class:"text-xs text-gray-500 dark:text-gray-400"},za={class:"px-6 py-4 whitespace-nowrap text-center"},Ka={class:"px-6 py-4 whitespace-nowrap text-center"},Pa={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},$a={class:"text-xs text-gray-500 dark:text-gray-400"},Oa={class:"px-6 py-4 whitespace-nowrap text-center"},Ha={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},Va={class:"text-xs text-gray-500 dark:text-gray-400"},Ya={class:"px-6 py-4 whitespace-nowrap"},Aa={class:"flex flex-col items-center"},La={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},Ra={class:"px-6 py-4 whitespace-nowrap text-center"},Na={key:7,class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6 mt-8"},Ta={class:"space-y-4"},qa={class:"flex-1"},Ea={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ua={class:"text-xs text-gray-500 dark:text-gray-400"},Ja={class:"text-right"},Wa={key:0,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm"},Qa={class:"space-y-4"},Za={class:"flex-1"},Ga={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Xa={class:"text-xs text-gray-500 dark:text-gray-400"},er={class:"text-right"},tr={key:0,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm"},ar={class:"space-y-4"},rr={class:"flex-1"},sr={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},nr={class:"text-xs text-gray-500 dark:text-gray-400"},or={class:"text-right"},lr={key:0,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm"},ir={class:"space-y-4"},dr={class:"flex-1"},ur={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},gr={class:"text-xs text-gray-500 dark:text-gray-400"},cr={class:"text-right"},xr={key:0,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm"},yr={key:8,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},pr={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"},vr={class:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between"},br={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},kr={class:"p-6 space-y-6"},hr={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 border-2 border-blue-300 dark:border-blue-700 rounded-xl p-6"},mr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},fr={key:0,class:"space-y-4"},_r={class:"flex items-center justify-between mb-4"},wr={class:"text-xs px-2 py-1 rounded-full bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300"},Mr={class:"border border-teal-200 dark:border-teal-800 rounded-lg p-4 bg-teal-50 dark:bg-teal-900/20"},Dr={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},jr={class:"bg-white dark:bg-gray-800 rounded p-3"},Cr={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Sr={class:"bg-white dark:bg-gray-800 rounded p-3"},Ir={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Fr={class:"bg-white dark:bg-gray-800 rounded p-3"},Br={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},zr={class:"bg-white dark:bg-gray-800 rounded p-3"},Kr={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Pr={class:"border border-green-200 dark:border-green-800 rounded-lg p-4 bg-green-50 dark:bg-green-900/20"},$r={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Or={class:"bg-white dark:bg-gray-800 rounded p-3"},Hr={class:"text-lg font-bold text-green-600 dark:text-green-400"},Vr={class:"bg-white dark:bg-gray-800 rounded p-3"},Yr={class:"text-lg font-bold text-red-600 dark:text-red-400"},Ar={class:"bg-white dark:bg-gray-800 rounded p-3"},Lr={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Rr={class:"bg-white dark:bg-gray-800 rounded p-3"},Nr={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Tr={class:"bg-white dark:bg-gray-800 rounded p-3"},qr={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Er={class:"bg-white dark:bg-gray-800 rounded p-3"},Ur={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Jr={class:"bg-white dark:bg-gray-800 rounded p-3"},Wr={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Qr={class:"bg-white dark:bg-gray-800 rounded p-3"},Zr={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Gr={class:"border border-blue-200 dark:border-blue-800 rounded-lg p-4 bg-blue-50 dark:bg-blue-900/20"},Xr={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},es={class:"bg-white dark:bg-gray-800 rounded p-3"},ts={class:"bg-white dark:bg-gray-800 rounded p-3"},as={class:"flex items-center"},rs={class:"bg-white dark:bg-gray-800 rounded p-3"},ss={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ns={class:"bg-white dark:bg-gray-800 rounded p-3"},os={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ls={key:1,class:"text-center py-12 text-gray-400"},is={class:"sticky bottom-0 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-6 py-4 flex justify-end gap-3"},Ks={__name:"Index",props:{kpis:{type:Object,required:!0},roasBenchmark:{type:Object,required:!0},ltvCacBenchmark:{type:Object,required:!0},dateRange:{type:Object,required:!0},businessRegistrationDate:{type:String,required:!0},activePlan:{type:Object,default:null},kpiPlans:{type:Array,default:()=>[]},targetMonth:{type:Object,default:null},dailyEntries:{type:Object,default:()=>({})}},setup(me){const{t:ee}=Ee(),p=me,f=C("daily"),H=C(!1),T=C(new Date().getDate()),h=C({newSales:null,avgCheck:null}),R=C(""),b=C(null),z=C(null),V=C(null),Y=C(""),N=C(20),P=k(()=>{if(p.activePlan||p.kpiPlans&&p.kpiPlans.length>0)return!1;const r=p.kpis;return!r||r.cac===0&&r.clv===0&&r.roas===0&&r.roi===0&&r.churn_rate===0&&r.ltv_cac_ratio===0}),oe=new Date,v=C(`${oe.getFullYear()}-${String(oe.getMonth()+1).padStart(2,"0")}`),I={money:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />',trending:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />',user:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />',megaphone:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" />',users:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />',conversion:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4" />',shopping:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />',refresh:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />',tag:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />',wallet:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />'},fe=k(()=>{const r=["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"],a=new Date(p.businessRegistrationDate),t=new Date,n=[];let l=a.getFullYear(),o=a.getMonth();for(;l<t.getFullYear()||l===t.getFullYear()&&o<=t.getMonth();)n.push({value:`${l}-${String(o+1).padStart(2,"0")}`,label:`${r[o]} ${l}`}),o++,o>11&&(o=0,l++);return n.reverse()}),le=k(()=>{const r=["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"];if(p.activePlan)return`${r[p.activePlan.month-1]} ${p.activePlan.year}`;if(p.targetMonth)return`${p.targetMonth.month_name} ${p.targetMonth.year}`;if(v.value){const[t,n]=v.value.split("-");return`${r[parseInt(n)-1]} ${t}`}const a=new Date;return`${r[a.getMonth()]} ${a.getFullYear()}`});k(()=>{const r=["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"];if(v.value){const[o,u]=v.value.split("-");let c=parseInt(u)-2,d=parseInt(o);return c<0&&(c=11,d--),`${r[c]} ${d}`}const a=new Date,t=a.getMonth()-1,n=t<0?a.getFullYear()-1:a.getFullYear(),l=t<0?11:t;return`${r[l]} ${n}`});const _e=k(()=>{const r=["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"],a=new Date;let t=a.getMonth()+1,n=a.getFullYear();return t>11&&(t=0,n++),`${r[t]} ${n}`}),we=k(()=>{if(v.value){const[l,o]=v.value.split("-"),u=new Date(parseInt(l),parseInt(o),0).getDate();return Array.from({length:u},(c,d)=>d+1)}const r=new Date,a=r.getFullYear(),t=r.getMonth(),n=new Date(a,t+1,0).getDate();return Array.from({length:n},(l,o)=>o+1)}),J=k(()=>{const r=new Date;if(v.value){const[a,t]=v.value.split("-"),n=r.getFullYear(),l=r.getMonth()+1;return parseInt(a)===n&&parseInt(t)===l?r.getDate():new Date(parseInt(a),parseInt(t),0).getDate()}return r.getDate()}),Me=k(()=>{const r=new Date,a=r.getDay(),t=r.getDate()-a+(a===0?-6:1),n=new Date(r.setDate(t)),l=new Date(n);l.setDate(n.getDate()+6);const o=u=>{const c=String(u.getDate()).padStart(2,"0"),d=String(u.getMonth()+1).padStart(2,"0"),y=u.getFullYear();return`${c}.${d}.${y}`};return`${o(n)} - ${o(l)}`}),ie=k(()=>{const r=new Date,a=r.getDay(),t=r.getDate()-a+(a===0?-6:1),n=new Date(r.getFullYear(),r.getMonth(),t),l=[];for(let o=0;o<7;o++){const u=new Date(n);u.setDate(n.getDate()+o),l.push(u.toISOString().split("T")[0])}return l}),te={"Yangi Sotuvlar":"sales_new","Qayta Sotuvlar":"sales_repeat",Daromad:"revenue_total",ROI:r=>{const a=parseFloat(r.revenue_total)||0,t=(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0);return t>0?(a-t)/t*100:0},"Gross Margin":r=>{const a=parseFloat(r.revenue_total)||0;return(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0),a>0?60:0},Leadlar:r=>(r.leads_digital||0)+(r.leads_offline||0)+(r.leads_referral||0)+(r.leads_organic||0),ROAS:r=>{const a=parseFloat(r.revenue_total)||0,t=(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0);return t>0?a/t:0},"Reklama Xarajati":r=>(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0),"Lid Narxi":r=>{const a=(r.leads_digital||0)+(r.leads_offline||0)+(r.leads_referral||0)+(r.leads_organic||0),t=(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0);return a>0?t/a:0},Mijozlar:r=>(r.sales_new||0)+(r.sales_repeat||0),Konversiya:r=>{const a=(r.leads_digital||0)+(r.leads_offline||0)+(r.leads_referral||0)+(r.leads_organic||0),t=(r.sales_new||0)+(r.sales_repeat||0);return a>0?t/a*100:0},CAC:r=>{const a=(r.sales_new||0)+(r.sales_repeat||0),t=(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0);return a>0?t/a:0},"LTV/CAC Ratio":r=>{const a=parseFloat(r.avg_check)||0,t=parseFloat(r.cac)||0,n=a*3;return t>0?n/t:0}},de=(r,a)=>{const t=ie.value[a],n=p.dailyEntries[t];if(!n)return 0;const l=te[r];return l?typeof l=="function"?l(n):parseFloat(n[l])||0:0},De=r=>{let a=0;for(let t=0;t<7;t++)a+=de(r,t);return a},je=(r,a)=>{let t,n;if(v.value){const[d,y]=v.value.split("-");t=parseInt(d),n=parseInt(y)-1}else{const d=new Date;t=d.getFullYear(),n=d.getMonth()}const l=new Date(t,n+1,0),o=(a-1)*7+1,u=Math.min(o+6,l.getDate());let c=0;for(let d=o;d<=u;d++){const j=new Date(t,n,d).toISOString().split("T")[0],A=p.dailyEntries[j];if(A){const L=te[r];L&&(typeof L=="function"?c+=L(A):c+=parseFloat(A[L])||0)}}return c},Ce=r=>{let a,t;if(v.value){const[o,u]=v.value.split("-");a=parseInt(o),t=parseInt(u)-1}else{const o=new Date;a=o.getFullYear(),t=o.getMonth()}const n=new Date(a,t+1,0).getDate();let l=0;for(let o=1;o<=n;o++){const c=new Date(a,t,o).toISOString().split("T")[0],d=p.dailyEntries[c];if(d){const y=te[r];y&&(typeof y=="function"?l+=y(d):l+=parseFloat(d[y])||0)}}return l},ue=k(()=>{const r=new Date;let a,t,n;if(v.value){const[c,d]=v.value.split("-");a=parseInt(c),t=parseInt(d)-1;const y=r.getFullYear(),j=r.getMonth();a===y&&t===j?n=r.getDate():n=new Date(a,t+1,0).getDate()}else a=r.getFullYear(),t=r.getMonth(),n=r.getDate();const l=new Date(a,t,1);let o=1,u=new Date(l);for(;u.getDate()<=n;){const c=new Date(u);if(c.setDate(u.getDate()+6),n>=u.getDate()&&n<=c.getDate())return o;o++,u.setDate(u.getDate()+7)}return o}),ae=k(()=>{let r,a;if(v.value){const[c,d]=v.value.split("-");r=parseInt(c),a=parseInt(d)-1}else{const c=new Date;r=c.getFullYear(),a=c.getMonth()}const t=new Date(r,a,1),n=new Date(r,a+1,0),l=[];let o=1,u=new Date(t);for(;u<=n;){const c=new Date(u);c.setDate(c.getDate()+6),c>n&&c.setTime(n.getTime());const d=Math.floor(Math.random()*100);l.push({number:o,label:`${o}-hafta`,achievement:d,isPastOrCurrent:o<=ue.value}),o++,u.setDate(u.getDate()+7)}return l}),Se=r=>{r<=J.value&&(T.value=r)},Ie=()=>{let r,a;if(v.value){const[l,o]=v.value.split("-");r=parseInt(l),a=parseInt(o)-1}else{const l=new Date;r=l.getFullYear(),a=l.getMonth()}const t=String(T.value).padStart(2,"0"),n=String(a+1).padStart(2,"0");return`${r}-${n}-${t}`},Fe=r=>{let a,t;if(v.value){const[y,j]=v.value.split("-");a=parseInt(y),t=parseInt(j)-1}else{const y=new Date;a=y.getFullYear(),t=y.getMonth()}const n=String(r).padStart(2,"0"),l=String(t+1).padStart(2,"0"),o=`${a}-${l}-${n}`;if(p.activePlan?.start_date){const y=new Date(p.activePlan.start_date);if(new Date(a,t,r)<y)return-1}const u=p.dailyEntries[o];if(!u)return 0;let c=0,d=0;if(p.activePlan?.daily_breakdown){const y=p.activePlan.daily_breakdown;if(y.new_sales>0&&u.sales_new!==void 0&&(c+=u.sales_new/y.new_sales*100,d++),y.total_revenue>0&&u.revenue_total!==void 0&&(c+=parseFloat(u.revenue_total)/y.total_revenue*100,d++),y.total_leads>0){const j=(parseInt(u.leads_digital)||0)+(parseInt(u.leads_offline)||0)+(parseInt(u.leads_referral)||0)+(parseInt(u.leads_organic)||0);c+=j/y.total_leads*100,d++}}return d===0?50:Math.min(Math.round(c/d),100)},ge=(r,a=!1,t=!0)=>a?"bg-blue-600 text-white shadow-lg border-blue-600 ring-2 ring-blue-300 dark:ring-blue-500":t?r===-1?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 border-gray-300 dark:border-gray-600 cursor-default":r>=85?"bg-green-500 text-white border-green-500 hover:bg-green-600 cursor-pointer":r>=65?"bg-yellow-500 text-white border-yellow-500 hover:bg-yellow-600 cursor-pointer":"bg-red-500 text-white border-red-500 hover:bg-red-600 cursor-pointer":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 border border-gray-200 dark:border-gray-700 cursor-not-allowed opacity-50",F=(r,a)=>p.activePlan?a==="daily"&&p.activePlan.daily_breakdown?p.activePlan.daily_breakdown[r]||0:a==="weekly"&&p.activePlan.weekly_breakdown?p.activePlan.weekly_breakdown[r]||0:p.activePlan[r]||0:0,Be={new_sales:"sales_new",repeat_sales:"sales_repeat",total_revenue:"revenue_total",total_leads:r=>(parseInt(r.leads_digital)||0)+(parseInt(r.leads_offline)||0)+(parseInt(r.leads_referral)||0)+(parseInt(r.leads_organic)||0),ad_costs:r=>(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0),total_customers:r=>(parseInt(r.sales_new)||0)+(parseInt(r.sales_repeat)||0),lead_cost:"cpl",cac:"cac",avg_check:"avg_check",conversion_rate:"conversion_rate",roi:r=>{const a=parseFloat(r.revenue_total)||0,t=(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0);return t>0?(a-t)/t*100:0},roas:r=>{const a=parseFloat(r.revenue_total)||0,t=(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0);return t>0?a/t:0},gross_margin:r=>{const a=parseFloat(r.revenue_total)||0,t=(parseFloat(r.spend_digital)||0)+(parseFloat(r.spend_offline)||0);return a>0?(a-t)/a*100:0}},re=(r,a)=>{if(!r)return 0;const t=Be[a];return t?typeof t=="function"?t(r):parseFloat(r[t])||0:0},B=(r,a)=>{if(a==="daily"){const t=Ie(),n=p.dailyEntries[t];return re(n,r)}else if(a==="weekly"){let t=0,n=0;const l=["conversion_rate","roi","roas","gross_margin","ctr","churn_rate","ltv_cac_ratio","cac","lead_cost","avg_check","cpl"].includes(r);for(let o=0;o<7;o++){const u=ie.value[o],c=p.dailyEntries[u];if(c){const d=re(c,r);t+=d,d>0&&n++}}return l&&n>0?Math.round(t/n*100)/100:Math.round(t)}else{let t,n;if(v.value){const[d,y]=v.value.split("-");t=parseInt(d),n=parseInt(y)-1}else{const d=new Date;t=d.getFullYear(),n=d.getMonth()}const l=new Date(t,n+1,0).getDate();let o=0,u=0;const c=["conversion_rate","roi","roas","gross_margin","ctr","churn_rate","ltv_cac_ratio","cac","lead_cost","avg_check","cpl"].includes(r);for(let d=1;d<=l;d++){const j=new Date(t,n,d).toISOString().split("T")[0],A=p.dailyEntries[j];if(A){const L=re(A,r);o+=L,L>0&&u++}}return c&&u>0?Math.round(o/u*100)/100:Math.round(o)}},D=k(()=>{const r=f.value;return[{name:"Yangi Sotuvlar",description:"Yangi mijozlarga sotuvlar",category:"sotuv",plan:F("new_sales",r),current:B("new_sales",r),unit:"number",iconBg:"bg-teal-100 dark:bg-teal-900",iconColor:"text-teal-600 dark:text-teal-400",iconSvg:I.shopping},{name:"Qayta Sotuvlar",description:"Mavjud mijozlarga qayta sotuvlar",category:"sotuv",plan:F("repeat_sales",r),current:B("repeat_sales",r),unit:"number",iconBg:"bg-sky-100 dark:bg-sky-900",iconColor:"text-sky-600 dark:text-sky-400",iconSvg:I.refresh},{name:"Daromad",description:"Umumiy sotuvdan tushgan daromad",category:"moliyaviy",plan:F("total_revenue",r),current:B("total_revenue",r),unit:"currency",iconBg:"bg-green-100 dark:bg-green-900",iconColor:"text-green-600 dark:text-green-400",iconSvg:I.money},{name:"ROI",description:"Investitsiyadan qaytim",category:"moliyaviy",plan:F("roi",r),current:B("roi",r),unit:"percent",iconBg:"bg-blue-100 dark:bg-blue-900",iconColor:"text-blue-600 dark:text-blue-400",iconSvg:I.trending},{name:"Leadlar",description:"Jalb qilingan yangi leadlar",category:"marketing",plan:F("total_leads",r),current:B("total_leads",r),unit:"number",iconBg:"bg-purple-100 dark:bg-purple-900",iconColor:"text-purple-600 dark:text-purple-400",iconSvg:I.user},{name:"ROAS",description:"Reklama xarajatlaridan daromad",category:"marketing",plan:F("roas",r),current:B("roas",r),unit:"multiplier",iconBg:"bg-indigo-100 dark:bg-indigo-900",iconColor:"text-indigo-600 dark:text-indigo-400",iconSvg:I.megaphone},{name:"Reklama Xarajati",description:"Umumiy reklama xarajatlari",category:"marketing",plan:F("ad_costs",r),current:B("ad_costs",r),unit:"currency",isInverse:!0,iconBg:"bg-red-100 dark:bg-red-900",iconColor:"text-red-600 dark:text-red-400",iconSvg:I.money},{name:"Lid Narxi",description:"Bitta lid jalb qilish narxi",category:"marketing",plan:F("lead_cost",r),current:B("lead_cost",r),unit:"currency",isInverse:!0,iconBg:"bg-amber-100 dark:bg-amber-900",iconColor:"text-amber-600 dark:text-amber-400",iconSvg:I.tag},{name:"Mijozlar",description:"Jami faol mijozlar",category:"mijozlar",plan:F("total_customers",r),current:B("total_customers",r),unit:"number",iconBg:"bg-pink-100 dark:bg-pink-900",iconColor:"text-pink-600 dark:text-pink-400",iconSvg:I.users},{name:"Konversiya",description:"Leaddan mijozga aylantirish",category:"mijozlar",plan:F("conversion_rate",r),current:B("conversion_rate",r),unit:"percent",iconBg:"bg-orange-100 dark:bg-orange-900",iconColor:"text-orange-600 dark:text-orange-400",iconSvg:I.conversion},{name:"CAC",description:"Mijoz jalb qilish xarajati",category:"mijozlar",plan:F("cac",r),current:B("cac",r),unit:"currency",isInverse:!0,iconBg:"bg-rose-100 dark:bg-rose-900",iconColor:"text-rose-600 dark:text-rose-400",iconSvg:I.wallet}].map(a=>({...a,achievement:ve(a.current,a.plan,a.isInverse||!1)}))}),ze=k(()=>D.value.map(r=>{const a=.8+Math.random()*.4,t=Math.floor(r.current*a);return{...r,current:t,achievement:ve(t,r.plan,!1)}})),Ke=k(()=>{if(P.value)return!1;const r=p.kpis;return r?r.cac>0||r.clv>0||r.roas>0||r.roi>0:!1});C([]);const ce=k(()=>D.value.filter(r=>r.category==="sotuv")),xe=k(()=>D.value.filter(r=>r.category==="moliyaviy")),ye=k(()=>D.value.filter(r=>r.category==="marketing")),pe=k(()=>D.value.filter(r=>r.category==="mijozlar")),Pe=k(()=>D.value.filter(r=>r.achievement>=100).length),$e=k(()=>D.value.filter(r=>r.achievement>=50&&r.achievement<100).length),Oe=k(()=>D.value.filter(r=>r.achievement<50).length);function ve(r,a,t=!1){if(a===0)return r>0?100:0;if(t){if(r===0)return 100;const n=a/r*100;return Math.min(Math.round(n),200)}else return Math.round(r/a*100)}function m(r,a){if(r==null)return"0";const t=typeof r=="string"?parseFloat(r):Number(r);if(isNaN(t))return"0";switch(a){case"currency":return new Intl.NumberFormat("uz-UZ",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)+" so'm";case"percent":return t.toFixed(1)+"%";case"multiplier":return t.toFixed(1)+"x";default:return new Intl.NumberFormat("uz-UZ").format(t)}}function $(r){return r>=100?"text-green-600 dark:text-green-400":r>=75?"text-blue-600 dark:text-blue-400":r>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}function W(r){return r>=100?"bg-green-500":r>=75?"bg-blue-500":r>=50?"bg-yellow-500":"bg-red-500"}function Q(r){return r>=100?"Bajarilgan":r>=75?"Yaxshi":r>=50?"O'rtacha":"Past"}async function be(){const r=h.value.newSales&&h.value.newSales>0,a=h.value.avgCheck&&h.value.avgCheck>0;if(!r||!a){b.value=null;return}try{const t=await Ne.post(route("business.kpi.calculate-plan"),{new_sales:h.value.newSales,avg_check:h.value.avgCheck});b.value=t.data.plan,t.data.plan&&(z.value=t.data.plan.total_leads,V.value=t.data.plan.lead_cost,Y.value=se(t.data.plan.lead_cost),N.value=t.data.plan.conversion_rate)}catch(t){if(t.response?.status===419){alert("Sessiya muddati tugagan. Sahifani yangilang va qayta urinib ko'ring."),window.location.reload();return}if(t.response?.status===422){const l=t.response.data?.errors;if(l){const o=Object.values(l).flat().join(`
`);alert(`Validatsiya xatoligi:
`+o);return}}const n=t.response?.data?.error||t.message||"Noma'lum xatolik";alert("Hisoblashda xatolik yuz berdi: "+n)}}function q(r){return!r&&r!==0?"0 so'm":new Intl.NumberFormat("uz-UZ",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(r)+" so'm"}function se(r){return!r&&r!==0?"":new Intl.NumberFormat("uz-UZ",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(r)}function ke(r){if(!r)return null;const a=r.toString().replace(/\s/g,"").replace(/[^0-9]/g,"");return a?parseInt(a,10):null}function He(r){let a=r.target.value;const t=ke(a);h.value.avgCheck=t,t?R.value=se(t):R.value="",be()}function Ve(r){let a=r.target.value;const t=ke(a);V.value=t,t?Y.value=se(t):Y.value="",he()}function Ye(){if(!z.value||!h.value.newSales)return;const r=h.value.newSales/z.value*100;N.value=Math.round(r*10)/10,he()}function he(){if(!b.value||!z.value||!V.value)return;const r=z.value,a=V.value,t=h.value.newSales,n=h.value.avgCheck,l=t*n,o=r*a,u=o>0?(l-o)/o*100:0,c=o>0?l/o:0,d=t>0?o/t:0,y=n*3,j=d>0?y/d:0;b.value={...b.value,total_leads:r,lead_cost:Math.round(a),conversion_rate:N.value,ad_costs:Math.round(o),roi:Math.round(u*10)/10,roas:Math.round(c*10)/10,cac:Math.round(d),clv:Math.round(y),ltv_cac_ratio:Math.round(j*100)/100}}function Ae(){if(!b.value||!h.value.newSales||!h.value.avgCheck){alert("Iltimos, avval yangi sotuvlar va o'rtacha chekni kiriting");return}Te.post(route("business.kpi.save-plan"),{new_sales:h.value.newSales,avg_check:h.value.avgCheck,leads:z.value,lead_cost:V.value},{onSuccess:()=>{H.value=!1,h.value={newSales:null,avgCheck:null},R.value="",b.value=null,z.value=null,V.value=null,Y.value="",N.value=20},onError:r=>{console.error("KPI saqlashda xatolik:",r),alert("KPI saqlashda xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.")}})}return Le(H,r=>{r&&(h.value={newSales:null,avgCheck:null},R.value="",b.value=null,z.value=null,V.value=null,Y.value="",N.value=20)}),(r,a)=>(i(),E(qe,{title:ne(ee)("kpi.title")},{default:K(()=>[P.value?S("",!0):(i(),g("div",Ue,[e("div",Je,[e("div",null,[e("h2",We,s(ne(ee)("kpi.title")),1),e("p",Qe,s(ne(ee)("kpi.description")),1),e("div",Ze,[e("button",{onClick:a[0]||(a[0]=t=>H.value=!0),class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800 transition-colors"},[...a[12]||(a[12]=[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),_(" Keyingi oy rejasini qo'shish ",-1)])]),a[13]||(a[13]=e("a",{href:"/business/kpi/data-entry",class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"},[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),_(" Kunlik ma'lumotlarni kiritish ")],-1))])]),e("div",Ge,[e("button",{onClick:a[1]||(a[1]=t=>f.value="daily"),class:x(["px-4 py-2 rounded-lg font-medium transition-all",f.value==="daily"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])}," Kunlik ",2),e("button",{onClick:a[2]||(a[2]=t=>f.value="weekly"),class:x(["px-4 py-2 rounded-lg font-medium transition-all",f.value==="weekly"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])}," Haftalik ",2),e("button",{onClick:a[3]||(a[3]=t=>f.value="monthly"),class:x(["px-4 py-2 rounded-lg font-medium transition-all",f.value==="monthly"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])}," Oylik ",2)])])])),P.value?(i(),g("div",Xe,[e("div",et,[e("div",tt,[a[15]||(a[15]=e("div",{class:"mx-auto w-20 h-20 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-6"},[e("svg",{class:"w-10 h-10 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),a[16]||(a[16]=e("h3",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3"}," Biznesingiz uchun KPI rejasi yarating ",-1)),a[17]||(a[17]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6 text-lg"}," KPI ko'rsatkichlarini kuzatish uchun avval biznesingiz uchun reja yarating. Faqat 2 ta ma'lumotni kiriting - qolganini tizim avtomatik hisoblab beradi. ",-1)),a[18]||(a[18]=e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 text-left"},[e("div",{class:"flex items-start gap-3 p-4 bg-white dark:bg-gray-800 rounded-xl"},[e("div",{class:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-gray-100"},"Avtomatik hisoblash"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Barcha KPI'lar algoritm asosida")])]),e("div",{class:"flex items-start gap-3 p-4 bg-white dark:bg-gray-800 rounded-xl"},[e("div",{class:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])]),e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-gray-100"},"Industry benchmark"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Soha standartlariga asoslangan")])]),e("div",{class:"flex items-start gap-3 p-4 bg-white dark:bg-gray-800 rounded-xl"},[e("div",{class:"w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])]),e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-gray-100"},"Real vaqt monitoring"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Kunlik, haftalik, oylik hisobotlar")])])],-1)),e("button",{onClick:a[4]||(a[4]=t=>H.value=!0),class:"inline-flex items-center px-8 py-4 rounded-xl text-lg font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},[...a[14]||(a[14]=[e("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),_(" Birinchi KPI rejasini yaratish ",-1)])]),a[19]||(a[19]=e("p",{class:"mt-4 text-sm text-gray-500 dark:text-gray-400"}," Atigi 2 ta ma'lumot kiritasiz: Yangi sotuvlar soni va O'rtacha chek summasi ",-1))])])])):S("",!0),P.value?S("",!0):(i(),g("div",at,[e("div",rt,[a[20]||(a[20]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),a[21]||(a[21]=e("p",{class:"text-blue-100 text-sm font-medium mb-1"},"Jami KPI",-1)),e("p",st,s(D.value.length),1)]),e("div",nt,[a[22]||(a[22]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),a[23]||(a[23]=e("p",{class:"text-green-100 text-sm font-medium mb-1"},"Bajarilgan",-1)),e("p",ot,s(Pe.value),1)]),e("div",lt,[a[24]||(a[24]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),a[25]||(a[25]=e("p",{class:"text-yellow-100 text-sm font-medium mb-1"},"Jarayonda",-1)),e("p",it,s($e.value),1)]),e("div",dt,[a[26]||(a[26]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),a[27]||(a[27]=e("p",{class:"text-red-100 text-sm font-medium mb-1"},"Bajarilmagan",-1)),e("p",ut,s(Oe.value),1)])])),!P.value&&f.value==="weekly"?(i(),E(O,{key:3,title:"Haftalik KPI Ko'rsatkichlari (Kunlar bo'yicha)"},{default:K(()=>[e("div",gt,[e("div",ct,[e("div",xt,[e("div",yt,s(Me.value),1),a[28]||(a[28]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Hafta kunlari bo'yicha bajarilish ",-1))]),e("div",pt,[(i(!0),g(w,null,M(ae.value,t=>(i(),g("button",{key:t.number,class:x(["px-4 py-2 rounded-lg text-sm font-medium transition-all border",ge(t.achievement,t.number===ue.value,t.isPastOrCurrent)])},s(t.label),3))),128))])]),e("div",vt,[e("table",bt,[a[29]||(a[29]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase sticky left-0 bg-gray-50 dark:bg-gray-700"},"Ko'rsatkich"),e("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Dush"),e("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sesh"),e("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Chor"),e("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Pay"),e("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Juma"),e("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Shan"),e("th",{class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Yak"),e("th",{class:"px-4 py-3 text-center text-xs font-medium uppercase border-l-2 border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},"Jami"),e("th",{class:"px-4 py-3 text-center text-xs font-medium uppercase bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300"},"Reja"),e("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase border-l-2 border-gray-300 dark:border-gray-600"},"Bajarilishi"),e("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Status")])],-1)),e("tbody",kt,[(i(!0),g(w,null,M(D.value,t=>(i(),g("tr",{key:t.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("td",ht,[e("div",mt,[e("div",{class:x(["w-8 h-8 rounded-lg flex items-center justify-center mr-2",t.iconBg])},[(i(),g("svg",{class:x(["w-4 h-4",t.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:t.iconSvg},null,10,ft))],2),e("span",_t,s(t.name),1)])]),(i(),g(w,null,M(7,n=>e("td",{key:n,class:"px-3 py-3 text-center text-sm text-gray-900 dark:text-gray-100"},s(m(de(t.name,n-1),t.unit)),1)),64)),e("td",wt,[e("div",Mt,s(m(De(t.name)||t.current,t.unit)),1)]),e("td",Dt,[e("div",jt,s(m(t.plan,t.unit)),1)]),e("td",Ct,[e("div",St,[e("div",{class:x(["text-sm font-bold mb-2",$(t.achievement)])},s(t.achievement)+"% ",3),e("div",It,[e("div",{class:x(["h-2.5 rounded-full transition-all duration-500",W(t.achievement)]),style:Z({width:Math.min(t.achievement,100)+"%"})},null,6)])])]),e("td",Ft,[e("span",{class:x(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",t.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":t.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},s(Q(t.achievement)),3)])]))),128))])])])])]),_:1})):!P.value&&f.value==="monthly"?(i(),E(O,{key:4,title:"Oylik KPI Ko'rsatkichlari"},{default:K(()=>[e("div",Bt,[e("div",zt,[e("div",Kt,s(le.value),1),a[30]||(a[30]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Haftalik bajarilish ko'rsatkichlari ",-1))]),e("div",Pt,[e("table",$t,[e("thead",Ot,[e("tr",null,[a[31]||(a[31]=e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase sticky left-0 bg-gray-50 dark:bg-gray-700"},"Ko'rsatkich",-1)),(i(!0),g(w,null,M(ae.value,t=>(i(),g("th",{key:t.number,class:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},s(t.label),1))),128)),a[32]||(a[32]=e("th",{class:"px-4 py-3 text-center text-xs font-medium uppercase border-l-2 border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},"Jami",-1)),a[33]||(a[33]=e("th",{class:"px-4 py-3 text-center text-xs font-medium uppercase bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300"},"Reja",-1)),a[34]||(a[34]=e("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase border-l-2 border-gray-300 dark:border-gray-600"},"Bajarilishi",-1)),a[35]||(a[35]=e("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Status",-1))])]),e("tbody",Ht,[(i(!0),g(w,null,M(D.value,t=>(i(),g("tr",{key:t.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("td",Vt,[e("div",Yt,[e("div",{class:x(["w-8 h-8 rounded-lg flex items-center justify-center mr-2",t.iconBg])},[(i(),g("svg",{class:x(["w-4 h-4",t.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:t.iconSvg},null,10,At))],2),e("span",Lt,s(t.name),1)])]),(i(!0),g(w,null,M(ae.value,n=>(i(),g("td",{key:n.number,class:"px-3 py-3 text-center text-sm text-gray-900 dark:text-gray-100"},s(m(je(t.name,n.number),t.unit)),1))),128)),e("td",Rt,[e("div",Nt,s(m(Ce(t.name)||t.current,t.unit)),1)]),e("td",Tt,[e("div",qt,s(m(t.plan,t.unit)),1)]),e("td",Et,[e("div",Ut,[e("div",{class:x(["text-sm font-bold mb-2",$(t.achievement)])},s(t.achievement)+"% ",3),e("div",Jt,[e("div",{class:x(["h-2.5 rounded-full transition-all duration-500",W(t.achievement)]),style:Z({width:Math.min(t.achievement,100)+"%"})},null,6)])])]),e("td",Wt,[e("span",{class:x(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",t.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":t.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},s(Q(t.achievement)),3)])]))),128))])])])])]),_:1})):S("",!0),!P.value&&f.value==="monthly"&&Ke.value?(i(),E(O,{key:5,class:"mt-8"},{header:K(()=>[e("div",Qt,[a[37]||(a[37]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"O'tgan Oy Ko'rsatkichlari",-1)),e("div",Zt,[U(e("select",{"onUpdate:modelValue":a[5]||(a[5]=t=>v.value=t),class:"inline-flex items-center px-3 py-1 pr-8 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 border-0 focus:ring-2 focus:ring-blue-500 cursor-pointer appearance-none"},[(i(!0),g(w,null,M(fe.value,t=>(i(),g("option",{key:t.value,value:t.value},s(t.label),9,Gt))),128))],512),[[Re,v.value]]),a[36]||(a[36]=e("svg",{class:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-blue-700 dark:text-blue-300 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))])])]),default:K(()=>[e("div",Xt,[e("table",ea,[a[39]||(a[39]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Ko'rsatkich"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Kategoriya"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Reja"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Hozirgi"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Bajarilishi"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status")])],-1)),e("tbody",ta,[(i(!0),g(w,null,M(ze.value,t=>(i(),g("tr",{key:t.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("td",aa,[e("div",ra,[e("div",{class:x(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",t.iconBg])},[(i(),g("svg",{class:x(["w-5 h-5",t.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:t.iconSvg},null,10,sa))],2),e("div",null,[e("div",na,s(t.name),1),e("div",oa,s(t.description),1)])])]),e("td",la,[e("span",{class:x(["px-3 py-1 rounded-full text-xs font-medium",t.category==="sotuv"?"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300":t.category==="moliyaviy"?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":t.category==="marketing"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t.category==="mijozlar"?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},s(t.category),3)]),e("td",ia,[e("div",da,s(m(t.plan,t.unit)),1),a[38]||(a[38]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Oylik ",-1))]),e("td",ua,[e("div",ga,s(m(t.current,t.unit)),1)]),e("td",ca,[e("div",xa,[e("div",{class:x(["text-sm font-bold mb-2",$(t.achievement)])},s(t.achievement)+"% ",3),e("div",ya,[e("div",{class:x(["h-2.5 rounded-full transition-all duration-500",W(t.achievement)]),style:Z({width:Math.min(t.achievement,100)+"%"})},null,6)])])]),e("td",pa,[e("span",{class:x(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",t.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":t.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},[e("span",{class:x(["w-2 h-2 rounded-full mr-2",[t.achievement>=100?"bg-green-500":t.achievement>=75?"bg-blue-500":t.achievement>=50?"bg-yellow-500":"bg-red-500"]])},null,2),_(" "+s(Q(t.achievement)),1)],2)])]))),128))])])])]),_:1})):S("",!0),!P.value&&f.value==="daily"?(i(),E(O,{key:6,title:"Kunlik Monitoring (Oy bo'yicha)"},{default:K(()=>[e("div",va,[e("div",ba,[e("div",ka,s(le.value),1),e("div",ha,[T.value===J.value?(i(),g("span",ma,"Joriy oy davomida har kungi bajarilish ko'rsatkichlari")):(i(),g("span",fa,s(T.value)+"-kun ko'rsatkichlari tanlangan",1))])]),e("div",_a,[(i(!0),g(w,null,M(we.value,t=>(i(),g("button",{key:t,onClick:n=>Se(t),class:x(["px-3 py-2 rounded-lg text-sm font-medium transition-all border",ge(Fe(t),t===T.value,t<=J.value)]),disabled:t>J.value},s(t),11,wa))),128))]),e("div",Ma,[e("table",Da,[a[40]||(a[40]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Ko'rsatkich"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Kategoriya"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Reja"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Hozirgi"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Bajarilishi"),e("th",{class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status")])],-1)),e("tbody",ja,[(i(!0),g(w,null,M(D.value,t=>(i(),g("tr",{key:t.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("td",Ca,[e("div",Sa,[e("div",{class:x(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",t.iconBg])},[(i(),g("svg",{class:x(["w-5 h-5",t.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:t.iconSvg},null,10,Ia))],2),e("div",null,[e("div",Fa,s(t.name),1),e("div",Ba,s(t.description),1)])])]),e("td",za,[e("span",{class:x(["px-3 py-1 rounded-full text-xs font-medium",t.category==="sotuv"?"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300":t.category==="moliyaviy"?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":t.category==="marketing"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t.category==="mijozlar"?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},s(t.category),3)]),e("td",Ka,[e("div",Pa,s(m(t.plan,t.unit)),1),e("div",$a,s(f.value==="daily"?"Kunlik":f.value==="weekly"?"Haftalik":"Oylik"),1)]),e("td",Oa,[e("div",Ha,s(m(t.current,t.unit)),1),e("div",Va,s(f.value==="daily"?"Kunlik":f.value==="weekly"?"Haftalik":"Oylik"),1)]),e("td",Ya,[e("div",Aa,[e("div",{class:x(["text-sm font-bold mb-2",$(t.achievement)])},s(t.achievement)+"% ",3),e("div",La,[e("div",{class:x(["h-2.5 rounded-full transition-all duration-500",W(t.achievement)]),style:Z({width:Math.min(t.achievement,100)+"%"})},null,6)])])]),e("td",Ra,[e("span",{class:x(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",t.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":t.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},s(Q(t.achievement)),3)])]))),128))])])])])]),_:1})):S("",!0),!P.value&&f.value!=="daily"?(i(),g("div",Na,[G(O,{title:"Sotuv Ko'rsatkichlari"},{default:K(()=>[e("div",Ta,[(i(!0),g(w,null,M(ce.value,t=>(i(),g("div",{key:t.name,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",qa,[e("div",Ea,s(t.name),1),e("div",Ua,s(m(t.current,t.unit))+" / "+s(m(t.plan,t.unit)),1)]),e("div",Ja,[e("div",{class:x(["text-sm font-bold",$(t.achievement)])},s(t.achievement)+"% ",3)])]))),128)),ce.value.length===0?(i(),g("div",Wa," Ma'lumotlar topilmadi ")):S("",!0)])]),_:1}),G(O,{title:"Moliyaviy Ko'rsatkichlar"},{default:K(()=>[e("div",Qa,[(i(!0),g(w,null,M(xe.value,t=>(i(),g("div",{key:t.name,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",Za,[e("div",Ga,s(t.name),1),e("div",Xa,s(m(t.current,t.unit))+" / "+s(m(t.plan,t.unit)),1)]),e("div",er,[e("div",{class:x(["text-sm font-bold",$(t.achievement)])},s(t.achievement)+"% ",3)])]))),128)),xe.value.length===0?(i(),g("div",tr," Ma'lumotlar topilmadi ")):S("",!0)])]),_:1}),G(O,{title:"Marketing Ko'rsatkichlar"},{default:K(()=>[e("div",ar,[(i(!0),g(w,null,M(ye.value,t=>(i(),g("div",{key:t.name,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",rr,[e("div",sr,s(t.name),1),e("div",nr,s(m(t.current,t.unit))+" / "+s(m(t.plan,t.unit)),1)]),e("div",or,[e("div",{class:x(["text-sm font-bold",$(t.achievement)])},s(t.achievement)+"% ",3)])]))),128)),ye.value.length===0?(i(),g("div",lr," Ma'lumotlar topilmadi ")):S("",!0)])]),_:1}),G(O,{title:"Mijozlar Ko'rsatkichlari"},{default:K(()=>[e("div",ir,[(i(!0),g(w,null,M(pe.value,t=>(i(),g("div",{key:t.name,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",dr,[e("div",ur,s(t.name),1),e("div",gr,s(m(t.current,t.unit))+" / "+s(m(t.plan,t.unit)),1)]),e("div",cr,[e("div",{class:x(["text-sm font-bold",$(t.achievement)])},s(t.achievement)+"% ",3)])]))),128)),pe.value.length===0?(i(),g("div",xr," Ma'lumotlar topilmadi ")):S("",!0)])]),_:1})])):S("",!0),H.value?(i(),g("div",yr,[e("div",pr,[e("div",vr,[e("h3",br,s(_e.value)+" Rejasi",1),e("button",{onClick:a[6]||(a[6]=t=>H.value=!1),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors"},[...a[41]||(a[41]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",kr,[a[67]||(a[67]=e("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},[e("p",{class:"text-sm text-blue-800 dark:text-blue-300"},[e("strong",null,"Eslatma:"),_(" Faqat "),e("strong",null,"Yangi Sotuvlar"),_(" va "),e("strong",null,"O'rtacha Chek"),_(" kiriting. Qolgan barcha KPI'lar algoritm orqali avtomatik hisoblanadi. ")])],-1)),e("div",hr,[a[44]||(a[44]=e("h4",{class:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),_(" Asosiy Ma'lumotlar ")],-1)),e("div",mr,[e("div",null,[a[42]||(a[42]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[_(" Yangi Sotuvlar (dona) "),e("span",{class:"text-red-500"},"*")],-1)),U(e("input",{"onUpdate:modelValue":a[7]||(a[7]=t=>h.value.newSales=t),onInput:be,type:"number",min:"0",step:"1",class:"w-full px-4 py-3 rounded-lg border-2 border-blue-300 dark:border-blue-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-opacity-50 font-semibold text-lg",placeholder:"Masalan: 50"},null,544),[[X,h.value.newSales,void 0,{number:!0}]])]),e("div",null,[a[43]||(a[43]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[_(" O'rtacha Chek (so'm) "),e("span",{class:"text-red-500"},"*")],-1)),U(e("input",{"onUpdate:modelValue":a[8]||(a[8]=t=>R.value=t),onInput:He,type:"text",class:"w-full px-4 py-3 rounded-lg border-2 border-blue-300 dark:border-blue-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-opacity-50 font-semibold text-lg",placeholder:"Masalan: 500 000"},null,544),[[X,R.value]])])])]),b.value?(i(),g("div",fr,[e("div",_r,[a[45]||(a[45]=e("h4",{class:"text-lg font-bold text-gray-900 dark:text-gray-100 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})]),_(" Avtomatik Hisoblangan Ko'rsatkichlar ")],-1)),e("span",wr,s(b.value.calculation_method==="historical_data"?"Tarixiy ma'lumotlar asosida":"Biznes turi benchmark"),1)]),e("div",Mr,[a[50]||(a[50]=e("h5",{class:"font-semibold text-teal-900 dark:text-teal-100 mb-3 flex items-center"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})]),_(" Sotuv Ko'rsatkichlari ")],-1)),e("div",Dr,[e("div",jr,[a[46]||(a[46]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Yangi Sotuvlar",-1)),e("div",Cr,s(b.value.new_sales),1)]),e("div",Sr,[a[47]||(a[47]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Qayta Sotuvlar",-1)),e("div",Ir,s(b.value.repeat_sales),1)]),e("div",Fr,[a[48]||(a[48]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Jami Mijozlar",-1)),e("div",Br,s(b.value.total_customers),1)]),e("div",zr,[a[49]||(a[49]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"O'rtacha Chek",-1)),e("div",Kr,s(q(b.value.avg_check)),1)])])]),e("div",Pr,[a[59]||(a[59]=e("h5",{class:"font-semibold text-green-900 dark:text-green-100 mb-3 flex items-center"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),_(" Moliyaviy Ko'rsatkichlar ")],-1)),e("div",$r,[e("div",Or,[a[51]||(a[51]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Daromad",-1)),e("div",Hr,s(q(b.value.total_revenue)),1)]),e("div",Vr,[a[52]||(a[52]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Reklama Xarajati",-1)),e("div",Yr,s(q(b.value.ad_costs)),1)]),e("div",Ar,[a[53]||(a[53]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"ROI",-1)),e("div",Lr,s(b.value.roi)+"%",1)]),e("div",Rr,[a[54]||(a[54]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"ROAS",-1)),e("div",Nr,s(b.value.roas)+"x",1)]),e("div",Tr,[a[55]||(a[55]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"CAC",-1)),e("div",qr,s(q(b.value.cac)),1)]),e("div",Er,[a[56]||(a[56]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"CLV",-1)),e("div",Ur,s(q(b.value.clv)),1)]),e("div",Jr,[a[57]||(a[57]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"LTV/CAC",-1)),e("div",Wr,s(b.value.ltv_cac_ratio)+"x",1)]),e("div",Qr,[a[58]||(a[58]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Gross Margin",-1)),e("div",Zr,s(b.value.gross_margin_percent)+"%",1)])])]),e("div",Gr,[a[65]||(a[65]=e("h5",{class:"font-semibold text-blue-900 dark:text-blue-100 mb-3 flex items-center"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})]),_(" Marketing Ko'rsatkichlari ")],-1)),e("div",Xr,[e("div",es,[a[60]||(a[60]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400 flex items-center justify-between"},[e("span",null,"Lidlar"),e("span",{class:"text-blue-500 text-xs"}," tahrir")],-1)),U(e("input",{"onUpdate:modelValue":a[9]||(a[9]=t=>z.value=t),onInput:Ye,type:"number",min:"1",class:"w-full text-lg font-bold text-gray-900 dark:text-gray-100 bg-transparent border-b border-dashed border-blue-400 dark:border-blue-600 focus:border-blue-600 dark:focus:border-blue-400 focus:outline-none"},null,544),[[X,z.value,void 0,{number:!0}]])]),e("div",ts,[a[62]||(a[62]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400 flex items-center justify-between"},[e("span",null,"Lid Narxi"),e("span",{class:"text-blue-500 text-xs"}," tahrir")],-1)),e("div",as,[U(e("input",{"onUpdate:modelValue":a[10]||(a[10]=t=>Y.value=t),onInput:Ve,type:"text",class:"w-full text-lg font-bold text-gray-900 dark:text-gray-100 bg-transparent border-b border-dashed border-blue-400 dark:border-blue-600 focus:border-blue-600 dark:focus:border-blue-400 focus:outline-none"},null,544),[[X,Y.value]]),a[61]||(a[61]=e("span",{class:"text-sm text-gray-500 ml-1"},"so'm",-1))])]),e("div",rs,[a[63]||(a[63]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Konversiya",-1)),e("div",ss,s(N.value)+"%",1)]),e("div",ns,[a[64]||(a[64]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"CTR",-1)),e("div",os,s(b.value.ctr)+"%",1)])])])])):(i(),g("div",ls,[...a[66]||(a[66]=[e("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),e("p",{class:"text-gray-500 dark:text-gray-400"}," Yangi sotuvlar va o'rtacha chekni kiriting, qolgan KPI'lar avtomatik hisoblanadi ",-1)])]))]),e("div",is,[e("button",{onClick:a[11]||(a[11]=t=>H.value=!1),class:"px-4 py-2 rounded-lg font-medium bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Bekor qilish "),e("button",{onClick:Ae,class:"px-4 py-2 rounded-lg font-medium bg-green-600 text-white hover:bg-green-700 transition-colors shadow-md"}," Rejani qo'shish ")])])])):S("",!0)]),_:1},8,["title"]))}};export{Ks as default};

import{r as m,v as B,x as F,z as t,C as d,D as h,H as e,A as o,J as b,L as D,K as f,E as H,F as i,G as k,I as w}from"./chunk-KPSVwAyv.js";import{r as C,a as A}from"./chunk-BVrjkT6E.js";import{_ as I}from"./chunk-C_LZBpOn.js";import{u as L}from"./app-Bx12lrZQ.js";import"./chunk-DMP3tXW5.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-Dfha1x8d.js";import"./chunk-BgOPVSvg.js";import"./chunk-CYw1XsNK.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-CYZ54WJE.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";import"./chunk-BvkwlYlD.js";const N={class:"py-12"},R={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},T={class:"mb-8"},O={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},S={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},U={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8"},q={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},E={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},K={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},W={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},$={class:"mt-4"},G={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},J={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-md p-6 text-white"},P={class:"flex items-center justify-between"},Q={class:"text-sm opacity-90"},X={class:"text-3xl font-bold mt-2"},Y={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-md p-6 text-white"},Z={class:"flex items-center justify-between"},tt={class:"text-sm opacity-90"},et={class:"text-3xl font-bold mt-2"},st={class:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-md p-6 text-white"},at={class:"flex items-center justify-between"},ot={class:"text-sm opacity-90"},rt={class:"text-3xl font-bold mt-2"},nt={class:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-md p-6 text-white"},lt={class:"flex items-center justify-between"},it={class:"text-sm opacity-90"},dt={class:"text-3xl font-bold mt-2"},ct={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},gt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},xt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},mt={class:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400"},ut={class:"text-center"},yt={class:"text-sm"},pt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},_t={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},ht={class:"space-y-4"},bt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},vt={class:"text-sm text-gray-700 dark:text-gray-300"},ft={class:"text-lg font-bold text-green-600 dark:text-green-400"},kt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},wt={class:"text-sm text-gray-700 dark:text-gray-300"},Ct={class:"text-lg font-bold text-gray-600 dark:text-gray-300"},jt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},zt={class:"text-sm text-gray-700 dark:text-gray-300"},Mt={class:"text-lg font-bold text-purple-600 dark:text-purple-400"},Vt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},Bt={class:"text-sm text-gray-700 dark:text-gray-300"},Ft={class:"text-lg font-bold text-blue-600 dark:text-blue-400"},Dt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Ht={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},At={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},It={class:"space-y-3"},Lt={class:"text-center mb-4"},Nt={class:"text-3xl font-bold text-purple-600 dark:text-purple-400"},Rt={class:"text-sm text-gray-600 dark:text-gray-400"},Tt={key:0,class:"space-y-2"},Ot={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},St={class:"text-sm font-bold text-purple-600 dark:text-purple-400"},Ut={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},qt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},Et={class:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400"},Kt={class:"text-center"},Wt={class:"text-sm"},$t={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},Gt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},Jt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Pt={class:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl"},Qt={class:"text-sm text-blue-700 dark:text-blue-300 mb-2"},Xt={class:"text-3xl font-bold text-blue-600 dark:text-blue-400"},Yt={class:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl"},Zt={class:"text-sm text-green-700 dark:text-green-300 mb-2"},te={class:"text-3xl font-bold text-green-600 dark:text-green-400"},ee={class:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 rounded-xl"},se={class:"text-sm text-purple-700 dark:text-purple-300 mb-2"},ae={class:"text-3xl font-bold text-purple-600 dark:text-purple-400"},oe={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},re={class:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto"},ne={class:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},le={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},ie={class:"p-6"},de={key:0,class:"overflow-x-auto"},ce={class:"min-w-full"},ge={class:"border-b border-gray-200 dark:border-gray-700"},xe={class:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"},me={class:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100"},ue={class:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100"},ye={class:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100"},pe={class:"px-4 py-3"},_e={class:"flex items-center"},he={class:"text-xl mr-2"},be={class:"font-medium text-gray-900 dark:text-gray-100"},ve={class:"px-4 py-3 text-center text-gray-900 dark:text-gray-100"},fe={class:"px-4 py-3 text-center text-gray-900 dark:text-gray-100"},ke={class:"px-4 py-3 text-center"},we={class:"px-3 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 rounded-full font-semibold"},$e={__name:"Channels",props:{analytics:Object,selectedChannel:String,dateRange:Object,currentBusiness:Object},setup(r){const{t:a}=L(),y=r,u=m(y.selectedChannel||"whatsapp"),g=m(y.dateRange?.start||""),x=m(y.dateRange?.end||""),p=m(!1),_=m(null),j=()=>{C.get(route("business.analytics.channels.index"),{channel:u.value,start_date:g.value,end_date:x.value})},v=()=>{C.get(route("business.analytics.channels.index"),{channel:u.value,start_date:g.value,end_date:x.value})},z=async()=>{try{const l=await A.post(route("business.analytics.channels.compare"),{start_date:g.value,end_date:x.value});l.data.success&&(_.value=l.data.comparison,p.value=!0)}catch{alert(a("common.error"))}},M=l=>({whatsapp:"ğŸ’¬",instagram:"ğŸ“¸",telegram:"âœˆï¸",facebook:"ğŸ‘¥"})[l]||"ğŸ’¬",V=l=>({whatsapp:"WhatsApp",instagram:"Instagram",telegram:"Telegram",facebook:"Facebook"})[l]||l;return(l,s)=>(i(),B(I,{title:o(a)("analytics.channel_analysis")},{default:F(()=>[t("div",N,[t("div",R,[t("div",T,[t("h2",O,e(o(a)("analytics.channel_analysis")),1),t("p",S,e(o(a)("analytics.channel_analysis_desc")),1)]),t("div",U,[t("div",q,[t("div",null,[t("label",E,e(o(a)("analytics.channel")),1),b(t("select",{"onUpdate:modelValue":s[0]||(s[0]=n=>u.value=n),onChange:j,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-purple-500 focus:border-purple-500"},[...s[4]||(s[4]=[t("option",{value:"whatsapp"},"WhatsApp",-1),t("option",{value:"instagram"},"Instagram",-1),t("option",{value:"telegram"},"Telegram",-1),t("option",{value:"facebook"},"Facebook",-1)])],544),[[D,u.value]])]),t("div",null,[t("label",K,e(o(a)("reports.filter.start_date")),1),b(t("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>g.value=n),onChange:v,type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-purple-500 focus:border-purple-500"},null,544),[[f,g.value]])]),t("div",null,[t("label",W,e(o(a)("reports.filter.end_date")),1),b(t("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>x.value=n),onChange:v,type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-purple-500 focus:border-purple-500"},null,544),[[f,x.value]])])]),t("div",$,[t("button",{onClick:z,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700"},e(o(a)("analytics.compare_channels")),1)])]),t("div",G,[t("div",J,[t("div",P,[t("div",null,[t("p",Q,e(o(a)("analytics.total_conversations")),1),t("p",X,e(r.analytics.overview?.total_conversations||0),1)]),s[5]||(s[5]=t("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),t("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})])],-1))])]),t("div",Y,[t("div",Z,[t("div",null,[t("p",tt,e(o(a)("analytics.total_messages")),1),t("p",et,e(r.analytics.overview?.total_messages||0),1)]),s[6]||(s[6]=t("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),t("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})])],-1))])]),t("div",st,[t("div",at,[t("div",null,[t("p",ot,e(o(a)("analytics.unique_customers")),1),t("p",rt,e(r.analytics.overview?.unique_customers||0),1)]),s[7]||(s[7]=t("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})])],-1))])]),t("div",nt,[t("div",lt,[t("div",null,[t("p",it,e(o(a)("analytics.avg_response_time")),1),t("p",dt,[H(e(r.analytics.response_metrics?.avg_response_time_minutes?.toFixed(1)||0),1),s[8]||(s[8]=t("span",{class:"text-lg"},"min",-1))])]),s[9]||(s[9]=t("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})])],-1))])])]),t("div",ct,[t("div",gt,[t("h3",xt,e(o(a)("analytics.message_volume")),1),t("div",mt,[t("div",ut,[s[10]||(s[10]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),t("p",yt," Kunlik: "+e(r.analytics.message_volume?.daily?.length||0)+" kun ",1),s[11]||(s[11]=t("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1"}," Chart.js integratsiyasi kerak ",-1))])])]),t("div",pt,[t("h3",_t,e(o(a)("analytics.engagement_metrics")),1),t("div",ht,[t("div",bt,[t("span",vt,e(o(a)("analytics.active_conversations")),1),t("span",ft,e(r.analytics.engagement_metrics?.active_conversations||0),1)]),t("div",kt,[t("span",wt,e(o(a)("analytics.closed_conversations")),1),t("span",Ct,e(r.analytics.engagement_metrics?.closed_conversations||0),1)]),t("div",jt,[t("span",zt,e(o(a)("analytics.avg_duration")),1),t("span",Mt,e(r.analytics.engagement_metrics?.avg_conversation_duration_minutes?.toFixed(1)||0)+" min ",1)]),t("div",Vt,[t("span",Bt,e(o(a)("analytics.returning_customers")),1),t("span",Ft,e(r.analytics.engagement_metrics?.returning_customers||0),1)])])])]),t("div",Dt,[t("div",Ht,[t("h3",At,e(o(a)("analytics.conversion_funnel")),1),t("div",It,[t("div",Lt,[t("div",Nt,e(r.analytics.conversion_metrics?.conversion_rate||0)+"% ",1),t("div",Rt,e(o(a)("analytics.conversion_rate")),1)]),r.analytics.conversion_metrics?.stages_distribution?(i(),d("div",Tt,[(i(!0),d(k,null,w(r.analytics.conversion_metrics.stages_distribution,(n,c)=>(i(),d("div",{key:c,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[t("span",Ot,e(c),1),t("span",St,e(n),1)]))),128))])):h("",!0)])]),t("div",Ut,[t("h3",qt,e(o(a)("analytics.hourly_distribution")),1),t("div",Et,[t("div",Kt,[s[12]||(s[12]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("p",Wt,e(r.analytics.hourly_distribution?.length||0)+" soatlik ma'lumot ",1),s[13]||(s[13]=t("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1"}," Chart.js integratsiyasi kerak ",-1))])])])]),t("div",$t,[t("h3",Gt,e(o(a)("analytics.response_metrics")),1),t("div",Jt,[t("div",Pt,[t("div",Qt,e(o(a)("analytics.avg_response_time")),1),t("div",Xt,e(r.analytics.response_metrics?.avg_response_time_seconds?.toFixed(1)||0)+"s ",1)]),t("div",Yt,[t("div",Zt,e(o(a)("analytics.response_rate")),1),t("div",te,e(r.analytics.response_metrics?.response_rate?.toFixed(1)||0)+"% ",1)]),t("div",ee,[t("div",se,e(o(a)("analytics.avg_messages")),1),t("div",ae,e(r.analytics.overview?.avg_messages_per_conversation?.toFixed(1)||0),1)])])]),p.value?(i(),d("div",oe,[t("div",re,[t("div",ne,[t("h3",le,e(o(a)("analytics.channels_comparison")),1),t("button",{onClick:s[3]||(s[3]=n=>p.value=!1),class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},[...s[14]||(s[14]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",ie,[_.value?(i(),d("div",de,[t("table",ce,[t("thead",null,[t("tr",ge,[t("th",xe,e(o(a)("analytics.channel")),1),t("th",me,e(o(a)("analytics.conversations")),1),t("th",ue,e(o(a)("analytics.messages")),1),t("th",ye,e(o(a)("analytics.conversion_percent")),1)])]),t("tbody",null,[(i(!0),d(k,null,w(_.value,(n,c)=>(i(),d("tr",{key:c,class:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",pe,[t("div",_e,[t("span",he,e(M(c)),1),t("span",be,e(V(c)),1)])]),t("td",ve,e(n.conversations),1),t("td",fe,e(n.messages),1),t("td",ke,[t("span",we,e(n.conversion_rate)+"% ",1)])]))),128))])])])):h("",!0)])])])):h("",!0)])])]),_:1},8,["title"]))}};export{$e as default};

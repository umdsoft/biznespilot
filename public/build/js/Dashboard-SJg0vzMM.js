import{h as e,a as t,r as s}from"./chunk-BhZp3z4u.js";import{_ as a}from"./chunk-DbFbpSR2.js";import{r as l}from"./chunk-BEiyPHRW.js";import{r}from"./chunk-C9nNyFhC.js";import{r as i}from"./chunk-dqIIyBTR.js";import{a as o}from"./chunk-CouA7u-j.js";import{r as d}from"./chunk-Bsc1JRL5.js";import{r as n}from"./chunk-De_qwhex.js";import{a as c}from"./chunk-D7SyfRoT.js";import{r as m,C as g,L as u,A as x,x as p,y as h,E as b,z as y,I as v,D as f,J as w,K as k,B as j,Q as _}from"./chunk-CpmtkKLp.js";import"./app-C-ZlocOh.js";import"./chunk-BWiubfpN.js";import"./chunk-DmrwHl-6.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-BuJDoypK.js";const q={class:"flex items-center justify-between"},A=["disabled"],M={class:"py-6"},T={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6"},I={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},O={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},z={class:"flex items-center justify-between"},K={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},Q={class:"flex items-center justify-between"},W={class:"text-3xl font-bold mt-1 text-blue-600"},H={class:"p-3 rounded-full bg-blue-500"},R={class:"text-sm mt-2 text-blue-600"},Y={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},B={class:"flex items-center justify-between"},C={class:"text-3xl font-bold mt-1 text-purple-600"},D={class:"p-3 rounded-full bg-purple-500"},J={class:"text-sm mt-2 text-gray-500"},P={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},E={class:"flex items-center justify-between"},L={class:"text-3xl font-bold mt-1 text-amber-600"},N={class:"p-3 rounded-full bg-amber-500"},S={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},$={class:"lg:col-span-2 space-y-6"},F={class:"bg-white rounded-xl shadow-sm border border-gray-100"},G={class:"p-6 border-b border-gray-100"},U={class:"flex items-center justify-between"},V={class:"text-sm text-gray-500"},X={class:"divide-y divide-gray-100"},Z={class:"flex items-start gap-4"},ee={class:"flex-1 min-w-0"},te={class:"flex items-center gap-2 flex-wrap"},se={class:"font-medium text-gray-900"},ae={class:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full"},le={class:"text-sm text-gray-600 mt-1"},re={class:"mt-3 flex items-center gap-4 text-xs text-gray-500"},ie={class:"flex items-center gap-1"},oe={class:"flex items-center gap-1"},de={class:"mt-3"},ne={class:"text-sm text-indigo-600 cursor-pointer hover:text-indigo-800"},ce={class:"mt-2 pl-4 space-y-1 text-sm text-gray-600 list-decimal"},me={class:"mt-2 p-2 bg-green-50 rounded-lg"},ge={class:"text-xs text-green-700"},ue={key:0,class:"p-8 text-center text-gray-500"},xe={key:0,class:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl shadow-sm p-6 text-white"},pe={class:"text-lg font-semibold flex items-center gap-2"},he={class:"mt-4 space-y-3"},be={class:"flex items-center justify-between"},ye={class:"font-medium"},ve={class:"text-sm opacity-80"},fe={class:"text-sm opacity-80 mt-1"},we={class:"space-y-6"},ke={class:"bg-white rounded-xl shadow-sm border border-gray-100"},je={class:"p-4 space-y-4"},_e={class:"flex items-center justify-between mb-2"},qe={class:"font-medium text-gray-900"},Ae={class:"w-full bg-gray-200 rounded-full h-2"},Me={class:"mt-2 flex items-center justify-between text-xs text-gray-500"},Te={key:0},Ie={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100"},Oe={class:"p-4 space-y-3"},ze={class:"flex items-start gap-2"},Ke={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-100"},Qe={class:"p-4 space-y-3"},We={class:"text-gray-900"},He={class:"text-gray-500 text-xs mt-1"},Re={__name:"Dashboard",props:{business:Object,overview:Object,modules:Object,predictions:Array,quickWins:Array,crossModuleInsights:Array,dataRecommendations:Array},setup(Re){const Ye=m(!1);async function Be(){Ye.value=!0;try{await t.post("/business/algorithm/api/refresh"),s.reload()}catch(e){}finally{Ye.value=!1}}function Ce(e){return e>=80?"text-emerald-600":e>=60?"text-green-600":e>=40?"text-yellow-600":"text-red-600"}function De(e){return e>=80?"bg-emerald-500":e>=60?"bg-green-500":e>=40?"bg-yellow-500":"bg-red-500"}function Je(e){return{high:"text-emerald-600",medium:"text-amber-600",low:"text-red-600"}[e]||"text-gray-600"}function Pe(e){return{critical:"Juda muhim",high:"Yuqori",medium:"O'rtacha",low:"Past"}[e]||e}function Ee(e){return{success:"âœ…",warning:"âš ï¸",opportunity:"ðŸ’¡"}[e]||"ðŸ“Œ"}return(t,s)=>(f(),g(w,null,[u(x(e),{title:"Algoritm Tahlili"}),u(a,null,{header:p(()=>[h("div",q,[s[1]||(s[1]=h("div",null,[h("h2",{class:"text-2xl font-bold text-gray-900"},"Algoritm Tahlili"),h("p",{class:"text-sm text-gray-500 mt-1"},"AI'siz - Tez va aniq algoritmik tahlil")],-1)),h("button",{onClick:Be,disabled:Ye.value,class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50"},[u(x(c),{class:b(["w-5 h-5 mr-2",Ye.value&&"animate-spin"])},null,8,["class"]),s[0]||(s[0]=j(" Yangilash ",-1))],8,A)])]),default:p(()=>{return[h("div",M,[h("div",T,[h("div",I,[h("div",O,[h("div",z,[h("div",null,[s[2]||(s[2]=h("p",{class:"text-sm text-gray-500"},"Salomatlik balli",-1)),h("p",{class:b(["text-3xl font-bold mt-1",Ce(Re.overview.health_score?.score)])},y(Re.overview.health_score?.score||0),3)]),h("div",{class:b(["p-3 rounded-full",(t=Re.overview.health_score?.score,t>=80?"bg-emerald-500":t>=60?"bg-green-500":t>=40?"bg-yellow-500":"bg-red-500")])},[u(x(l),{class:"w-6 h-6 text-white"})],2)]),h("p",{class:b(["text-sm mt-2",(e=Re.overview.health_score?.status?.level,{excellent:"text-emerald-600",good:"text-green-600",average:"text-yellow-600",poor:"text-red-600"}[e]||"text-gray-600")])},y(Re.overview.health_score?.status?.label||"Hisoblanmoqda..."),3)]),h("div",K,[h("div",Q,[h("div",null,[s[3]||(s[3]=h("p",{class:"text-sm text-gray-500"},"Ma'lumot aniqligi",-1)),h("p",W,y(Re.overview.data_accuracy?.score||0)+"% ",1)]),h("div",H,[u(x(r),{class:"w-6 h-6 text-white"})])]),h("p",R,y(Re.overview.data_accuracy?.label||"Tekshirilmoqda..."),1)]),h("div",Y,[h("div",B,[h("div",null,[s[4]||(s[4]=h("p",{class:"text-sm text-gray-500"},"Ma'lumot sifati",-1)),h("p",C,y(Re.overview.data_quality?.grade||"-"),1)]),h("div",D,[u(x(i),{class:"w-6 h-6 text-white"})])]),h("p",J,y(Re.overview.data_quality?.overall||0)+"% to'liqlik ",1)]),h("div",P,[h("div",E,[h("div",null,[s[5]||(s[5]=h("p",{class:"text-sm text-gray-500"},"Bashorat ishonchligi",-1)),h("p",L,y(Re.overview.prediction_confidence?.score||0)+"% ",1)]),h("div",N,[u(x(o),{class:"w-6 h-6 text-white"})])]),h("p",{class:b(["text-sm mt-2",Je(Re.overview.prediction_confidence?.level)])},y(Re.overview.prediction_confidence?.label||"Hisoblanmoqda..."),3)])]),h("div",S,[h("div",$,[h("div",F,[h("div",G,[h("div",U,[s[6]||(s[6]=h("h3",{class:"text-lg font-semibold text-gray-900"},"Keyingi Qadamlar",-1)),h("span",V,y(Re.predictions.length)+" ta tavsiya",1)]),s[7]||(s[7]=h("p",{class:"text-sm text-gray-500 mt-1"},"Algoritmik tahlil asosida eng muhim harakatlar",-1))]),h("div",X,[(f(!0),g(w,null,k(Re.predictions,(e,t)=>{return f(),g("div",{key:e.key,class:"p-4 hover:bg-gray-50 transition-colors"},[h("div",Z,[h("div",{class:b(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm",(r=e.priority,1===r?"bg-red-500":2===r?"bg-orange-500":3===r?"bg-yellow-500":4===r?"bg-blue-500":"bg-gray-500")])},y(e.priority),3),h("div",ee,[h("div",te,[h("h4",se,y(e.title),1),h("span",{class:b(["px-2 py-0.5 text-xs rounded-full",(l=e.impact,{critical:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-blue-100 text-blue-700",low:"bg-gray-100 text-gray-700"}[l]||"bg-gray-100 text-gray-700")])},y(Pe(e.impact)),3),h("span",ae,y(e.module_label),1)]),h("p",le,y(e.reason),1),h("div",re,[h("span",ie,[u(x(d),{class:"w-4 h-4"}),j(" "+y(e.timeframe),1)]),h("span",oe,[u(x(n),{class:"w-4 h-4"}),j(" Mehnat: "+y((a=e.effort,{high:"Yuqori",medium:"O'rtacha",low:"Past"}[a]||a)),1)])]),h("details",de,[h("summary",ne," Qadamlarni ko'rish ("+y(e.steps?.length||0)+") ",1),h("ol",ce,[(f(!0),g(w,null,k(e.steps,(e,t)=>(f(),g("li",{key:t},y(e),1))),128))])]),h("div",me,[h("p",ge,[s[8]||(s[8]=h("strong",null,"Kutilayotgan natija:",-1)),j(" "+y(e.expected_outcome),1)])])])])]);var a,l,r}),128)),0===Re.predictions.length?(f(),g("div",ue,[u(x(o),{class:"w-12 h-12 mx-auto text-gray-300 mb-4"}),s[9]||(s[9]=h("p",null,"Tavsiyalar hisoblash uchun ma'lumotlar yetarli emas",-1))])):v("",!0)])]),Re.quickWins.length>0?(f(),g("div",xe,[h("h3",pe,[u(x(n),{class:"w-5 h-5"}),s[10]||(s[10]=j(" Tez Natijalar (Quick Wins) ",-1))]),s[11]||(s[11]=h("p",{class:"text-sm opacity-90 mt-1"},"Kam mehnat, yuqori ta'sir - darhol boshlanadigan ishlar",-1)),h("div",he,[(f(!0),g(w,null,k(Re.quickWins,e=>(f(),g("div",{key:e.key,class:"bg-white/10 rounded-lg p-3"},[h("div",be,[h("span",ye,y(e.title),1),h("span",ve,y(e.timeframe),1)]),h("p",fe,y(e.reason),1)]))),128))])])):v("",!0)]),h("div",we,[h("div",ke,[s[12]||(s[12]=h("div",{class:"p-6 border-b border-gray-100"},[h("h3",{class:"text-lg font-semibold text-gray-900"},"Modullar Holati")],-1)),h("div",je,[(f(!0),g(w,null,k(Re.modules,(e,t)=>(f(),g("div",{key:t,class:"p-3 bg-gray-50 rounded-lg"},[h("div",_e,[h("span",qe,y(e.label),1),h("span",{class:b(["text-sm font-bold",Ce(e.health_score)])},y(e.health_score),3)]),h("div",Ae,[h("div",{class:b(["h-2 rounded-full",De(e.health_score)]),style:_({width:e.health_score+"%"})},null,6)]),h("div",Me,[h("span",null,"Ma'lumot: "+y(e.data_completeness)+"%",1),e.trend?(f(),g("span",Te," Trend: "+y("up"===e.trend?.direction?"ðŸ“ˆ":"down"===e.trend?.direction?"ðŸ“‰":"âž¡ï¸"),1)):v("",!0)])]))),128))])]),Re.crossModuleInsights.length>0?(f(),g("div",Ie,[s[13]||(s[13]=h("div",{class:"p-6 border-b border-gray-100"},[h("h3",{class:"text-lg font-semibold text-gray-900"},"Modullar Aro Tahlil")],-1)),h("div",Oe,[(f(!0),g(w,null,k(Re.crossModuleInsights,(e,t)=>{return f(),g("div",{key:t,class:b(["p-3 rounded-lg text-sm",(s=e.type,{success:"bg-green-50 text-green-800",warning:"bg-yellow-50 text-yellow-800",opportunity:"bg-blue-50 text-blue-800"}[s]||"bg-gray-50 text-gray-800")])},[h("div",ze,[h("span",null,y(Ee(e.type)),1),h("p",null,y(e.message),1)])],2);var s}),128))])])):v("",!0),Re.dataRecommendations.length>0?(f(),g("div",Ke,[s[14]||(s[14]=h("div",{class:"p-6 border-b border-gray-100"},[h("h3",{class:"text-lg font-semibold text-gray-900"},"Ma'lumotlar Tavsiyalari")],-1)),h("div",Qe,[(f(!0),g(w,null,k(Re.dataRecommendations,(e,t)=>(f(),g("div",{key:t,class:"flex items-start gap-3 text-sm"},[h("span",{class:b(["flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs text-white","high"===e.priority?"bg-red-500":"bg-yellow-500"])},y(t+1),3),h("div",null,[h("p",We,y(e.recommendation),1),h("p",He,y(e.impact),1)])]))),128))])])):v("",!0)])])])])];var e,t}),_:1})],64))}};export{Re as default};

import{r as e,v as t,x as r,y as a,z as s,D as l,L as d,A as o,H as n,C as i,E as g,F as u,G as c,B as p,Q as x,I as y,K as b,J as m}from"./chunk-7Urb0kxg.js";import{_ as k}from"./chunk-L0R09JI1.js";import{u as f,h}from"./chunk-DKkye6wf.js";import{u as w}from"./app-DFslr8vl.js";import{r as v}from"./chunk-ujXbNZhL.js";import{r as j}from"./chunk-YGW1Cp7-.js";import{r as _}from"./chunk-afst19KZ.js";import{r as q}from"./chunk-DUcDuGHI.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-D4tA7yBb.js";import"./chunk-Di7Oc7TS.js";const S={class:"space-y-6"},B={class:"flex items-center justify-between"},U={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},T={class:"text-sm text-gray-500 dark:text-gray-400"},V={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},C={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},X={class:"flex items-center gap-3"},z={class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},A={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},H={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},I={class:"flex items-center gap-3"},K={class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center"},N={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Z={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},D={class:"flex items-center gap-3"},F={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},J={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},O={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700"},Q={key:0,class:"p-12 text-center"},Y={key:1,class:"overflow-x-auto"},E={class:"w-full"},G={class:"divide-y divide-gray-200 dark:divide-gray-700"},L={class:"px-6 py-4 whitespace-nowrap"},M={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},P={class:"px-6 py-4 whitespace-nowrap"},R={class:"px-6 py-4"},W={class:"text-sm text-gray-900 dark:text-gray-100"},$={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},re={class:"px-6 py-4 whitespace-nowrap"},ae={class:"text-sm text-gray-600 dark:text-gray-400"},se={class:"px-6 py-4 whitespace-nowrap"},le={key:0,class:"flex items-center gap-1 text-green-600 dark:text-green-400 text-sm"},de={key:1,class:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400 text-sm"},oe={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},ne={class:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},ie=["value"],ge=["value"],ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ce={class:"flex items-center justify-end gap-3 pt-4"},pe=["disabled"],xe={__name:"Bonuses",props:{bonuses:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]},bonusTypes:{type:Object,default:()=>({})}},setup(xe){const{t:ye}=w(),be=e(!1),me=f({user_id:null,type:"performance",title:"",description:"",amount:"",granted_date:(new Date).toISOString().split("T")[0]}),ke=()=>{me.post(route("hr.payroll.bonuses.store"),{preserveScroll:!0,onSuccess:()=>{be.value=!1,me.reset()}})},fe=e=>{const t={performance:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",annual:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",spot:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",referral:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300"};return t[e]||t.performance};return(e,f)=>(g(),t(k,{title:o(ye)("hr.bonuses")},{default:r(()=>[a(o(h),{title:o(ye)("hr.bonuses")},null,8,["title"]),s("div",S,[s("div",B,[s("div",null,[s("h1",U,n(o(ye)("hr.bonuses")),1),s("p",T,n(o(ye)("hr.bonuses_subtitle")),1)]),s("button",{onClick:f[0]||(f[0]=e=>be.value=!0),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2"},[a(o(v),{class:"w-5 h-5"}),i(" "+n(o(ye)("hr.add_bonus")),1)])]),s("div",V,[s("div",C,[s("div",X,[s("div",z,[a(o(j),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),s("div",null,[s("p",A,n(xe.bonuses.length),1),f[9]||(f[9]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jami Bonuslar",-1))])])]),s("div",H,[s("div",I,[s("div",K,[a(o(_),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),s("div",null,[s("p",N,n(xe.bonuses.filter(e=>!e.is_paid).length),1),f[10]||(f[10]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Kutilmoqda",-1))])])]),s("div",Z,[s("div",D,[s("div",F,[a(o(q),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),s("div",null,[s("p",J,n(xe.bonuses.filter(e=>e.is_paid).length),1),f[11]||(f[11]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"To'langan",-1))])])])]),s("div",O,[f[16]||(f[16]=s("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[s("h2",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Barcha Bonuslar"),s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Xodimlar uchun berilgan bonuslar ro'yxati")],-1)),0===xe.bonuses.length?(g(),l("div",Q,[a(o(j),{class:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),f[12]||(f[12]=s("p",{class:"text-gray-500 dark:text-gray-400"},"Hali bonuslar yo'q",-1)),s("button",{onClick:f[1]||(f[1]=e=>be.value=!0),class:"mt-4 text-blue-600 dark:text-blue-400 hover:underline"}," Birinchi bonusni qo'shing ")])):(g(),l("div",Y,[s("table",E,[f[15]||(f[15]=s("thead",{class:"bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Xodim "),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Turi "),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Nomi "),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Summa "),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Sana "),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Holat ")])],-1)),s("tbody",G,[(g(!0),l(u,null,c(xe.bonuses,e=>{return g(),l("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-900/30 transition-colors"},[s("td",L,[s("div",M,n(e.user_name),1)]),s("td",P,[s("span",{class:p([fe(e.type),"px-2 py-1 text-xs rounded"])},n(e.type_label),3)]),s("td",R,[s("div",W,n(e.title),1),e.description?(g(),l("div",$,n(e.description),1)):d("",!0)]),s("td",ee,[s("div",te,n((t=e.amount,new Intl.NumberFormat("uz-UZ").format(t)+" UZS")),1)]),s("td",re,[s("div",ae,n(e.granted_date),1)]),s("td",se,[e.is_paid?(g(),l("span",le,[a(o(q),{class:"w-4 h-4"}),f[13]||(f[13]=i(" To'langan ",-1))])):(g(),l("span",de,[a(o(_),{class:"w-4 h-4"}),f[14]||(f[14]=i(" Kutilmoqda ",-1))]))])]);var t}),128))])])]))])]),be.value?(g(),l("div",oe,[s("div",ne,[f[24]||(f[24]=s("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[s("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Yangi Bonus Qo'shish")],-1)),s("form",{onSubmit:x(ke,["prevent"]),class:"p-6 space-y-4"},[s("div",null,[f[18]||(f[18]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Xodim "),s("span",{class:"text-red-500"},"*")],-1)),y(s("select",{"onUpdate:modelValue":f[2]||(f[2]=e=>o(me).user_id=e),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[f[17]||(f[17]=s("option",{value:null,disabled:""},"Xodimni tanlang",-1)),(g(!0),l(u,null,c(xe.employees,e=>(g(),l("option",{key:e.id,value:e.id},n(e.name),9,ie))),128))],512),[[b,o(me).user_id]])]),s("div",null,[f[19]||(f[19]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Bonus Turi "),s("span",{class:"text-red-500"},"*")],-1)),y(s("select",{"onUpdate:modelValue":f[3]||(f[3]=e=>o(me).type=e),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(g(!0),l(u,null,c(xe.bonusTypes,(e,t)=>(g(),l("option",{key:t,value:t},n(e),9,ge))),128))],512),[[b,o(me).type]])]),s("div",null,[f[20]||(f[20]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Nomi "),s("span",{class:"text-red-500"},"*")],-1)),y(s("input",{"onUpdate:modelValue":f[4]||(f[4]=e=>o(me).title=e),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masalan: Yillik bonus"},null,512),[[m,o(me).title]])]),s("div",null,[f[21]||(f[21]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Tavsif ",-1)),y(s("textarea",{"onUpdate:modelValue":f[5]||(f[5]=e=>o(me).description=e),rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Bonus haqida qo'shimcha ma'lumot"},null,512),[[m,o(me).description]])]),s("div",ue,[s("div",null,[f[22]||(f[22]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Summa (UZS) "),s("span",{class:"text-red-500"},"*")],-1)),y(s("input",{"onUpdate:modelValue":f[6]||(f[6]=e=>o(me).amount=e),type:"number",step:"1000",min:"0",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000000"},null,512),[[m,o(me).amount]])]),s("div",null,[f[23]||(f[23]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Berilgan Sana "),s("span",{class:"text-red-500"},"*")],-1)),y(s("input",{"onUpdate:modelValue":f[7]||(f[7]=e=>o(me).granted_date=e),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[m,o(me).granted_date]])])]),s("div",ce,[s("button",{type:"button",onClick:f[8]||(f[8]=e=>{be.value=!1,o(me).reset()}),class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"}," Bekor qilish "),s("button",{type:"submit",disabled:o(me).processing,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50"},n(o(me).processing?"Saqlanmoqda...":"Saqlash"),9,pe)])],32)])])):d("",!0)]),_:1},8,["title"]))}};export{xe as default};

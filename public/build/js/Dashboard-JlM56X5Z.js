import{_ as e}from"./chunk-DbFbpSR2.js";import{_ as t}from"./chunk-CXyF54xA.js";import{r as a,b as s,v as r,D as l,x as o,C as i,I as n,y as d,B as c,z as u,A as m,M as x,L as v,T as g,N as h,J as p,K as b,E as f,Q as y,o as k}from"./chunk-CpmtkKLp.js";import{b as w,a as _,l as j}from"./chunk-BhZp3z4u.js";import{u as M}from"./app-C-ZlocOh.js";import{f as C,a as A,b as z}from"./chunk-i83483Sm.js";import"./chunk-D7SyfRoT.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-Bsc1JRL5.js";import"./chunk-BuJDoypK.js";import"./chunk-BWiubfpN.js";const B={key:0,class:"relative overflow-hidden mb-6 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-2xl shadow-lg"},I={class:"relative p-4 flex items-center justify-between flex-wrap gap-4"},S={class:"flex items-center gap-3"},H={class:"text-white"},L={class:"text-base font-semibold flex items-center gap-2"},Z={class:"text-white/80 text-sm"},T=["disabled"],D={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24"},N={key:1,class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},V={key:1,class:"relative overflow-hidden mb-6 bg-gradient-to-r from-[#0088cc] to-[#00a8e6] rounded-2xl shadow-lg"},O={class:"relative p-6 flex items-center justify-between flex-wrap gap-4"},G={class:"flex items-center gap-4"},P={class:"text-white"},R={class:"text-lg font-bold mb-1"},U={class:"text-white/80 text-sm max-w-md"},F={class:"flex items-center gap-3"},E=["disabled"],W={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24"},J={key:1,class:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor"},q=["title"],Q={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-6"},K={class:"flex items-center justify-between mb-6"},Y={class:"text-xl font-bold text-gray-900 dark:text-white"},X={class:"space-y-4 mb-6"},$={class:"w-6 h-6 bg-[#0088cc] rounded-full flex items-center justify-center flex-shrink-0 text-white text-sm font-bold"},ee={class:"text-gray-600 dark:text-gray-300 text-sm"},te=["href"],ae={key:0,class:"mt-4 text-center text-xs text-gray-400"},se={__name:"TelegramConnectBanner",setup(e){const{t:t}=M(),f=w(),y=a(!1),k=a(!1),j=a(!1),C=a(!1),A=a(""),z=a(null),se=a([]),re=s(()=>f.props.auth?.user?.has_telegram_linked??!1),le=()=>{y.value=!0,localStorage.setItem("telegram_banner_dismissed","true")},oe=async()=>{if(!k.value){k.value=!0;try{const e=await _.post("/business/settings/telegram/connect");e.data.success&&(A.value=e.data.link,z.value=e.data.expires_at,se.value=e.data.instructions||[],C.value=!0)}catch(e){400===e.response?.status&&e.response?.data?.connected&&window.location.reload()}finally{k.value=!1}}},ie=e=>{if(!e)return"";return new Date(e).toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})},ne=async()=>{if(!j.value&&confirm(t("telegram.disconnect_confirm"))){j.value=!0;try{(await _.delete("/business/settings/telegram/disconnect")).data.success&&window.location.reload()}catch(e){400===e.response?.status&&window.location.reload()}finally{j.value=!1}}};return(()=>{const e=localStorage.getItem("telegram_banner_dismissed_at");if(e){const t=Date.now()-864e5;parseInt(e)>t?y.value=!0:(localStorage.removeItem("telegram_banner_dismissed"),localStorage.removeItem("telegram_banner_dismissed_at"))}})(),(e,a)=>(l(),r(g,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:o(()=>[re.value?(l(),i("div",B,[a[7]||(a[7]=d("div",{class:"absolute inset-0 opacity-10"},[d("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[d("pattern",{id:"telegram-connected-pattern",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[d("circle",{cx:"10",cy:"10",r:"2",fill:"currentColor"})]),d("rect",{x:"0",y:"0",width:"100",height:"100",fill:"url(#telegram-connected-pattern)"})])],-1)),d("div",I,[d("div",S,[a[4]||(a[4]=d("div",{class:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),d("div",H,[d("h3",L,[a[3]||(a[3]=d("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})],-1)),c(" "+u(m(t)("telegram.connected_title")),1)]),d("p",Z,u(m(t)("telegram.connected_desc")),1)])]),d("button",{onClick:ne,disabled:j.value,class:"inline-flex items-center px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-xl text-sm font-medium transition-all duration-200 disabled:opacity-75 disabled:cursor-wait"},[j.value?(l(),i("svg",D,[...a[5]||(a[5]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),i("svg",N,[...a[6]||(a[6]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])),c(" "+u(m(t)("telegram.disconnect_button")),1)],8,T)])])):y.value?n("",!0):(l(),i("div",V,[a[14]||(a[14]=d("div",{class:"absolute inset-0 opacity-10"},[d("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[d("pattern",{id:"telegram-pattern",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[d("circle",{cx:"10",cy:"10",r:"2",fill:"currentColor"})]),d("rect",{x:"0",y:"0",width:"100",height:"100",fill:"url(#telegram-pattern)"})])],-1)),d("div",O,[d("div",G,[a[8]||(a[8]=d("div",{class:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0"},[d("svg",{class:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})])],-1)),d("div",P,[d("h3",R,u(m(t)("telegram.connect_banner_title")),1),d("p",U,u(m(t)("telegram.connect_banner_desc")),1)])]),d("div",F,[d("button",{onClick:oe,disabled:k.value,class:"inline-flex items-center px-5 py-2.5 bg-white text-[#0088cc] rounded-xl font-semibold text-sm hover:bg-white/90 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-75 disabled:cursor-wait"},[k.value?(l(),i("svg",W,[...a[9]||(a[9]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),i("svg",J,[...a[10]||(a[10]=[d("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"},null,-1)])])),c(" "+u(m(t)("telegram.connect_button")),1)],8,E),d("button",{onClick:le,class:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:m(t)("common.dismiss")},[...a[11]||(a[11]=[d("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,q)])]),(l(),r(x,{to:"body"},[v(g,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:o(()=>[C.value?(l(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:a[2]||(a[2]=h(e=>C.value=!1,["self"]))},[d("div",Q,[d("div",K,[d("h3",Y,u(m(t)("telegram.connect_modal_title")),1),d("button",{onClick:a[0]||(a[0]=e=>C.value=!1),class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...a[12]||(a[12]=[d("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),d("div",X,[(l(!0),i(p,null,b(se.value,(e,t)=>(l(),i("div",{key:t,class:"flex items-start gap-3"},[d("div",$,u(t+1),1),d("p",ee,u(e),1)]))),128))]),d("a",{href:A.value,target:"_blank",rel:"noopener noreferrer",class:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-[#0088cc] to-[#00a8e6] text-white rounded-xl font-semibold text-base hover:from-[#0077b3] hover:to-[#0097cc] transition-all duration-200 shadow-lg hover:shadow-xl",onClick:a[1]||(a[1]=e=>C.value=!1)},[a[13]||(a[13]=d("svg",{class:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})],-1)),c(" "+u(m(t)("telegram.open_telegram")),1)],8,te),z.value?(l(),i("p",ae,u(m(t)("telegram.link_expires"))+": "+u(ie(z.value)),1)):n("",!0)])])):n("",!0)]),_:1})]))]))]),_:1}))}},re={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden"},le={class:"relative overflow-hidden"},oe={class:"relative px-5 py-4"},ie={class:"flex items-center justify-between"},ne={class:"flex items-center gap-2"},de={class:"text-lg font-bold text-white"},ce={key:0,class:"px-2 py-0.5 text-xs font-medium bg-white/20 text-white rounded-full"},ue={key:0,class:"text-blue-100 text-sm mt-0.5"},me={class:"px-5 py-3 bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700"},xe={class:"flex items-center justify-between"},ve={class:"flex items-center gap-2"},ge={class:"relative flex h-2.5 w-2.5"},he={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},pe={key:0,class:"text-right"},be={class:"px-5 py-4 space-y-4"},fe={class:"flex items-center justify-between text-sm"},ye={class:"text-gray-600 dark:text-gray-400"},ke={class:"font-medium text-gray-900 dark:text-gray-100"},we={class:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden"},_e={key:1,class:"text-center py-2 text-gray-500 dark:text-gray-400 text-sm"},je={key:2,class:"text-center py-4"},Me={key:0,class:"px-5 py-3 bg-red-50 dark:bg-red-900/20 border-t border-red-100 dark:border-red-800"},Ce={class:"flex items-center justify-between"},Ae={__name:"SubscriptionWidget",props:{subscriptionStatus:{type:Object,default:()=>null}},setup(e){M();const t=e,a=s(()=>t.subscriptionStatus?.has_subscription??!1),x=s(()=>t.subscriptionStatus?.plan_name||"Bepul"),g=s(()=>t.subscriptionStatus?.plan_slug||"free"),h=s(()=>t.subscriptionStatus?.price||0);s(()=>t.subscriptionStatus?.status||"no_subscription");const k=s(()=>t.subscriptionStatus?.status_label||"Obuna yo'q"),w=s(()=>t.subscriptionStatus?.status_color||"gray"),_=s(()=>t.subscriptionStatus?.is_trial||!1),C=s(()=>t.subscriptionStatus?.days_remaining||0),A=s(()=>t.subscriptionStatus?.renews_at||null),z=s(()=>t.subscriptionStatus?.usage||{}),B=s(()=>{const e=g.value?.toLowerCase();return"free"!==e&&"starter"!==e&&"bepul"!==e}),I=s(()=>C.value<=3?"text-red-600 dark:text-red-400":C.value<=7?"text-amber-600 dark:text-amber-400":"text-green-600 dark:text-green-400"),S=e=>null==e?"Cheksiz":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),H=s(()=>Object.values(z.value).some(e=>e.percent>=90&&!e.is_unlimited)),L=s(()=>Object.entries(z.value).filter(([e,t])=>!t.is_unlimited).sort((e,t)=>t[1].percent-e[1].percent).slice(0,4));return(e,t)=>{return l(),i("div",re,[d("div",le,[t[1]||(t[1]=d("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600"},null,-1)),t[2]||(t[2]=d("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-30"},null,-1)),d("div",oe,[d("div",ie,[d("div",null,[d("div",ne,[d("h3",de,u(x.value),1),_.value?(l(),i("span",ce," Sinov ")):n("",!0)]),h.value?(l(),i("p",ue,u((s=h.value,s?new Intl.NumberFormat("uz-UZ").format(s):"0"))+" so'm/oy ",1)):n("",!0)]),B.value?n("",!0):(l(),r(m(j),{key:0,href:"/pricing",class:"flex items-center gap-1.5 px-4 py-2 bg-white text-indigo-600 text-sm font-semibold rounded-xl hover:bg-gray-50 transition-all shadow-lg"},{default:o(()=>[...t[0]||(t[0]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1),c(" Upgrade ",-1)])]),_:1}))])])]),d("div",me,[d("div",xe,[d("div",ve,[d("span",ge,[d("span",{class:f(["animate-ping absolute inline-flex h-full w-full rounded-full opacity-75","green"===w.value?"bg-green-400":"","blue"===w.value?"bg-blue-400":"","red"===w.value?"bg-red-400":"","gray"===w.value?"bg-gray-400":""])},null,2),d("span",{class:f(["relative inline-flex rounded-full h-2.5 w-2.5","green"===w.value?"bg-green-500":"","blue"===w.value?"bg-blue-500":"","red"===w.value?"bg-red-500":"","gray"===w.value?"bg-gray-500":""])},null,2)]),d("span",he,u(k.value),1)]),a.value&&A.value?(l(),i("div",pe,[t[3]||(t[3]=d("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Keyingi to'lov",-1)),d("p",{class:f(["text-sm font-semibold",I.value])},u(C.value)+" kundan keyin ",3)])):n("",!0)])]),d("div",be,[L.value.length>0?(l(!0),i(p,{key:0},b(L.value,([e,t])=>{return l(),i("div",{key:e,class:"space-y-1.5"},[d("div",fe,[d("span",ye,u(t.label),1),d("span",ke,u(S(t.used))+" / "+u(S(t.limit)),1)]),d("div",we,[d("div",{class:f(["h-full rounded-full transition-all duration-500",(a=t.percent,s=t.is_exceeded,r=t.is_warning,s||r||a>=90?"bg-red-500":a>=70?"bg-amber-500":"bg-blue-500")]),style:y({width:Math.min(t.percent,100)+"%"})},null,6)])]);var a,s,r}),128)):a.value?(l(),i("div",_e,[...t[4]||(t[4]=[d("svg",{class:"w-8 h-8 mx-auto mb-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),c(" Barcha limitlar cheksiz ",-1)])])):(l(),i("div",je,[t[6]||(t[6]=d("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[7]||(t[7]=d("p",{class:"text-gray-500 dark:text-gray-400 text-sm mb-3"},"Obuna mavjud emas",-1)),v(m(j),{href:"/pricing",class:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all"},{default:o(()=>[...t[5]||(t[5]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),c(" Tariflarni ko'rish ",-1)])]),_:1})]))]),H.value&&a.value?(l(),i("div",Me,[d("div",Ce,[t[9]||(t[9]=d("div",{class:"flex items-center gap-2"},[d("svg",{class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),d("span",{class:"text-sm font-medium text-red-700 dark:text-red-300"},"Limit tugamoqda!")],-1)),v(m(j),{href:"/pricing",class:"px-3 py-1.5 text-xs font-semibold text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 border border-red-200 dark:border-red-700 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors"},{default:o(()=>[...t[8]||(t[8]=[c(" Limitni oshirish ",-1)])]),_:1})])])):n("",!0)]);var s}}},ze={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8"},Be={class:"lg:col-span-3"},Ie={class:"flex items-center justify-between flex-wrap gap-4"},Se={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},He={class:"mt-2 text-gray-600 dark:text-gray-400 flex items-center"},Le={class:"font-medium"},Ze={class:"flex gap-3"},Te={class:"lg:col-span-1"},De={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Ne={class:"relative overflow-hidden bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"},Ve={class:"relative p-6"},Oe={class:"text-purple-100 text-sm font-medium mb-1"},Ge={key:0,class:"text-white text-3xl font-bold animate-pulse"},Pe={key:1,class:"text-white text-3xl font-bold"},Re={class:"relative overflow-hidden bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"},Ue={class:"relative p-6"},Fe={class:"text-green-100 text-sm font-medium mb-1"},Ee={key:0,class:"text-white text-3xl font-bold animate-pulse"},We={key:1,class:"text-white text-3xl font-bold"},Je={class:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"},qe={class:"relative p-6"},Qe={class:"text-blue-100 text-sm font-medium mb-1"},Ke={key:0,class:"text-white text-3xl font-bold animate-pulse"},Ye={key:1,class:"text-white text-3xl font-bold"},Xe={class:"relative overflow-hidden bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"},$e={class:"relative p-6"},et={class:"text-orange-100 text-sm font-medium mb-1"},tt={key:0,class:"text-white text-3xl font-bold animate-pulse"},at={key:1,class:"text-white text-3xl font-bold"},st={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6"},rt={class:"flex flex-col"},lt={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},ot={class:"text-sm text-gray-500 dark:text-gray-400"},it={class:"mt-3 text-xs text-gray-600 dark:text-gray-400"},nt={class:"font-medium"},dt={class:"flex flex-col"},ct={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},ut={class:"text-sm text-gray-500 dark:text-gray-400"},mt={class:"mt-3 flex items-center"},xt={class:"flex flex-col"},vt={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},gt={class:"text-sm text-gray-500 dark:text-gray-400"},ht={class:"mt-3 flex items-center"},pt={class:"flex flex-col"},bt={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},ft={class:"text-sm text-gray-500 dark:text-gray-400"},yt={class:"mt-3 text-xs text-gray-600 dark:text-gray-400"},kt={class:"flex flex-col"},wt={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},_t={class:"text-sm text-gray-500 dark:text-gray-400"},jt={class:"mt-3 text-xs text-gray-600 dark:text-gray-400"},Mt={class:"font-medium"},Ct={class:"space-y-3"},At={class:"flex justify-between items-center"},zt={class:"text-sm text-gray-600 dark:text-gray-400"},Bt={class:"font-semibold text-gray-900 dark:text-gray-100"},It={class:"flex justify-between items-center"},St={class:"text-sm text-gray-600 dark:text-gray-400"},Ht={class:"font-semibold text-gray-900 dark:text-gray-100"},Lt={class:"flex justify-between items-center"},Zt={class:"text-sm text-gray-600 dark:text-gray-400"},Tt={class:"font-semibold text-gray-900 dark:text-gray-100"},Dt={key:0,class:"overflow-x-auto"},Nt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Vt={class:"bg-gray-50 dark:bg-gray-700"},Ot={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},Gt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},Pt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},Rt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Ft={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},Wt={key:1,class:"text-center py-12 text-gray-400"},Jt={__name:"Dashboard",props:{stats:Object,kpis:Object,roasBenchmark:Object,ltvCacBenchmark:Object,salesTrend:Array,moduleStats:Object,currentBusiness:Object,lazyLoad:{type:Boolean,default:!1},revenueForecast:Array,aiInsights:Array,recentActivities:Array,activeAlertsCount:{type:Number,default:0},subscriptionStatus:{type:Object,default:null}},setup(n){const{t:x}=M(),g=n,h=a(!1),y=a({stats:null,kpis:null,roasBenchmark:null,ltvCacBenchmark:null,salesTrend:null,moduleStats:null,revenueForecast:null,aiInsights:null,recentActivities:null}),w={color:"blue",label:"Yuklanmoqda..."},B={color:"blue",label:"Yuklanmoqda..."},I={cac:0,clv:0,ltv_cac_ratio:0,roas:0,roi:0,payback_period:0,churn_rate:0,nps:0,mrr:0,arr:0},S={dream_buyers:0,marketing_channels:0,active_offers:0},H=s(()=>y.value.stats||g.stats||{total_leads:0,total_customers:0,total_revenue:0,conversion_rate:0}),L=s(()=>y.value.kpis||g.kpis||I),Z=s(()=>y.value.roasBenchmark||g.roasBenchmark||w),T=s(()=>y.value.ltvCacBenchmark||g.ltvCacBenchmark||B),D=s(()=>y.value.salesTrend||g.salesTrend||[]),N=s(()=>y.value.moduleStats||g.moduleStats||S);s(()=>y.value.revenueForecast||g.revenueForecast||[]),s(()=>y.value.aiInsights||g.aiInsights||[]),s(()=>y.value.recentActivities||g.recentActivities||[]);k(()=>{g.lazyLoad&&(async()=>{if(g.lazyLoad){h.value=!0;try{const e=await _.get("/business/api/dashboard/initial");e.data&&(y.value={stats:e.data.stats,kpis:e.data.kpis,roasBenchmark:e.data.roasBenchmark,ltvCacBenchmark:e.data.ltvCacBenchmark,salesTrend:e.data.salesTrend,moduleStats:e.data.moduleStats,revenueForecast:e.data.revenueForecast,aiInsights:e.data.aiInsights,recentActivities:e.data.recentActivities})}catch(e){}finally{h.value=!1}}})()});const V=e=>e?A(e,x("common.currency")):"0 "+x("common.currency");return(a,s)=>(l(),r(e,{title:m(x)("nav.dashboard")},{default:o(()=>[v(se),d("div",ze,[d("div",Be,[d("div",Ie,[d("div",null,[d("h2",Se,u(m(x)("dashboard.welcome"))+", "+u(a.$page.props.auth?.user?.name)+"! ",1),d("p",He,[s[0]||(s[0]=d("svg",{class:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),d("span",Le,u(n.currentBusiness?.name),1)])]),d("div",Ze,[v(m(j),{href:a.route("business.sales.index"),class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-lg text-sm font-medium text-white hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 hover:shadow-xl"},{default:o(()=>[s[1]||(s[1]=d("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),c(" "+u(m(x)("common.leads")),1)]),_:1},8,["href"])])])]),d("div",Te,[v(Ae,{"subscription-status":n.subscriptionStatus},null,8,["subscription-status"])])]),d("div",De,[d("div",Ne,[s[3]||(s[3]=d("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"},null,-1)),d("div",Ve,[s[2]||(s[2]=d("div",{class:"flex items-center justify-between mb-4"},[d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),d("p",Oe,u(m(x)("dashboard.total_leads")),1),h.value?(l(),i("p",Ge,"---")):(l(),i("p",Pe,u(m(C)(H.value.total_leads)),1))])]),d("div",Re,[s[5]||(s[5]=d("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"},null,-1)),d("div",Ue,[s[4]||(s[4]=d("div",{class:"flex items-center justify-between mb-4"},[d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])])],-1)),d("p",Fe,u(m(x)("dashboard.customers")),1),h.value?(l(),i("p",Ee,"---")):(l(),i("p",We,u(m(C)(H.value.total_customers)),1))])]),d("div",Je,[s[7]||(s[7]=d("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"},null,-1)),d("div",qe,[s[6]||(s[6]=d("div",{class:"flex items-center justify-between mb-4"},[d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),d("p",Qe,u(m(x)("dashboard.revenue_30d")),1),h.value?(l(),i("p",Ke,"---")):(l(),i("p",Ye,u(V(H.value.total_revenue)),1))])]),d("div",Xe,[s[9]||(s[9]=d("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"},null,-1)),d("div",$e,[s[8]||(s[8]=d("div",{class:"flex items-center justify-between mb-4"},[d("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[d("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),d("p",et,u(m(x)("dashboard.conversion")),1),h.value?(l(),i("p",tt,"---")):(l(),i("p",at,u(H.value.conversion_rate)+"%",1))])])]),d("div",st,[v(t,{title:m(x)("dashboard.cac")},{default:o(()=>[d("div",rt,[d("div",lt,u(V(L.value.cac)),1),d("p",ot,u(m(x)("dashboard.cac_desc")),1),d("div",it,[d("span",nt,u(m(x)("dashboard.benchmark"))+":",1),c(" "+u(m(x)("dashboard.cac_benchmark")),1)])])]),_:1},8,["title"]),v(t,{title:m(x)("dashboard.clv")},{default:o(()=>[d("div",dt,[d("div",ct,u(V(L.value.clv)),1),d("p",ut,u(m(x)("dashboard.clv_desc")),1),d("div",mt,[s[10]||(s[10]=d("span",{class:"text-xs font-medium mr-2 text-gray-600 dark:text-gray-400"},"LTV/CAC Ratio:",-1)),d("span",{class:f(["px-2 py-1 rounded text-xs font-medium",{"bg-blue-100 text-blue-700":"blue"===T.value.color,"bg-green-100 text-green-700":"green"===T.value.color,"bg-yellow-100 text-yellow-700":"yellow"===T.value.color,"bg-red-100 text-red-700":"red"===T.value.color}])},u(L.value.ltv_cac_ratio)+"x - "+u(T.value.label),3)])])]),_:1},8,["title"]),v(t,{title:m(x)("dashboard.roas")},{default:o(()=>[d("div",xt,[d("div",vt,u(L.value.roas)+"x",1),d("p",gt,u(m(x)("dashboard.roas_desc")),1),d("div",ht,[d("span",{class:f(["px-2 py-1 rounded text-xs font-medium",{"bg-blue-100 text-blue-700":"blue"===Z.value.color,"bg-green-100 text-green-700":"green"===Z.value.color,"bg-yellow-100 text-yellow-700":"yellow"===Z.value.color,"bg-orange-100 text-orange-700":"orange"===Z.value.color,"bg-red-100 text-red-700":"red"===Z.value.color}])},u(Z.value.label),3)])])]),_:1},8,["title"]),v(t,{title:m(x)("dashboard.roi")},{default:o(()=>[d("div",pt,[d("div",bt,u(L.value.roi)+"%",1),d("p",ft,u(m(x)("dashboard.roi_desc")),1),d("div",yt,[s[11]||(s[11]=d("span",{class:"font-medium"},"Target:",-1)),d("span",{class:f(L.value.roi>=100?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},u(L.value.roi>=100?"✓":"✗")+" > 100% ",3)])])]),_:1},8,["title"]),v(t,{title:m(x)("dashboard.churn_rate")},{default:o(()=>[d("div",kt,[d("div",wt,u(L.value.churn_rate)+"%",1),d("p",_t,u(m(x)("dashboard.churn_desc")),1),d("div",jt,[d("span",Mt,u(m(x)("dashboard.benchmark"))+":",1),d("span",{class:f(L.value.churn_rate<5?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},u(L.value.churn_rate<5?"✓ "+m(x)("dashboard.good"):"✗ "+m(x)("dashboard.high"))+" (< 5%) ",3)])])]),_:1},8,["title"]),v(t,{title:m(x)("dashboard.module_stats")},{default:o(()=>[d("div",Ct,[d("div",At,[d("span",zt,u(m(x)("dashboard.ideal_customers"))+":",1),d("span",Bt,u(N.value.dream_buyers),1)]),d("div",It,[d("span",St,u(m(x)("dashboard.marketing_channels"))+":",1),d("span",Ht,u(N.value.marketing_channels),1)]),d("div",Lt,[d("span",Zt,u(m(x)("dashboard.active_offers"))+":",1),d("span",Tt,u(N.value.active_offers),1)])])]),_:1},8,["title"])]),v(t,{title:m(x)("dashboard.sales_trend")},{default:o(()=>[D.value?.length>0?(l(),i("div",Dt,[d("table",Nt,[d("thead",Vt,[d("tr",null,[d("th",Ot,u(m(x)("dashboard.date")),1),d("th",Gt,u(m(x)("dashboard.sales")),1),d("th",Pt,u(m(x)("dashboard.revenue")),1)])]),d("tbody",Rt,[(l(!0),i(p,null,b(D.value,e=>{return l(),i("tr",{key:e.date},[d("td",Ut,u((t=e.date,z(t))),1),d("td",Ft,u(e.count),1),d("td",Et,u(V(e.revenue)),1)]);var t}),128))])])])):(l(),i("div",Wt,[s[12]||(s[12]=d("svg",{class:"w-12 h-12 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),d("p",null,u(m(x)("dashboard.no_sales")),1)]))]),_:1},8,["title"])]),_:1},8,["title"]))}};export{Jt as default};

import{r as m,v as k,x as f,z as t,C as l,D as c,F as o,H as s,B as n,J as h,L as v,G as g,I as x}from"./chunk-KPSVwAyv.js";import{r as w}from"./chunk-BVrjkT6E.js";import{_}from"./chunk-BEX9HuyE.js";import"./chunk-C_PbB7ed.js";import"./app-DMGwzSHW.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-Dfha1x8d.js";import"./chunk-BgOPVSvg.js";import"./chunk-CYw1XsNK.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-CYZ54WJE.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";const S={class:"w-full px-4 sm:px-6 lg:px-8 py-8"},B={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 mb-8"},T={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},C={class:"flex items-center gap-4"},j={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},H={class:"flex items-center gap-2 mt-1"},M={class:"text-sm text-gray-500 dark:text-gray-400"},q={class:"text-right"},z={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},O={class:"flex items-center gap-3 mb-6"},F={class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden"},L={key:0,class:"overflow-x-auto"},V={class:"w-full"},D={class:"divide-y divide-gray-100 dark:divide-gray-700"},Y={class:"px-6 py-4 text-sm text-gray-900 dark:text-gray-100 whitespace-nowrap"},I={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},N={class:"ml-1 text-xs text-gray-500 dark:text-gray-400"},K={class:"px-6 py-4 whitespace-nowrap"},P={class:"px-6 py-4 text-sm font-semibold text-gray-900 dark:text-gray-100 whitespace-nowrap"},U={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 text-sm font-mono text-gray-500 dark:text-gray-400 whitespace-nowrap"},A={key:1,class:"text-center py-16"},E={key:2,class:"border-t border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between"},G={class:"text-sm text-gray-500 dark:text-gray-400"},Q={class:"flex gap-2"},Z=["href","innerHTML"],ht={__name:"History",props:{subscriptionStatus:{type:Object,default:()=>null},transactions:{type:Object,default:()=>({data:[]})},filters:{type:Object,default:()=>({})}},setup(a){const d=m(a.filters.status||""),u=()=>{w.get("/business/billing/history",{status:d.value||void 0},{preserveState:!0})},y=i=>i?new Intl.NumberFormat("uz-UZ").format(i):"0",p=i=>({created:"Yaratildi",waiting:"Kutilmoqda",processing:"Jarayonda",paid:"To'langan",cancelled:"Bekor qilindi",failed:"Xatolik",refunded:"Qaytarildi"})[i]||i,b=i=>({paid:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",created:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",waiting:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",processing:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",cancelled:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",failed:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",refunded:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"})[i]||"bg-gray-100 text-gray-700";return(i,r)=>(o(),k(_,{title:"To'lov tarixi"},{default:f(()=>[t("div",S,[r[6]||(r[6]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},"To'lov tarixi"),t("p",{class:"text-gray-600 dark:text-gray-400"},"Barcha tranzaksiyalar va obuna holatini ko'ring")],-1)),a.subscriptionStatus?.has_subscription?(o(),l("div",B,[t("div",T,[t("div",C,[r[1]||(r[1]=t("div",{class:"w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center"},[t("svg",{class:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1)),t("div",null,[t("h3",j,s(a.subscriptionStatus.plan?.name),1),t("div",H,[t("span",{class:n(["px-2 py-0.5 text-xs font-semibold rounded-md",a.subscriptionStatus.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"])},s(a.subscriptionStatus.status==="active"?"Aktiv":a.subscriptionStatus.status==="trialing"?"Sinov":a.subscriptionStatus.status),3),t("span",M,s(a.subscriptionStatus.billing_cycle==="yearly"?"Yillik":"Oylik")+" obuna ",1)])])]),t("div",q,[r[2]||(r[2]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tugash sanasi",-1)),t("p",z,s(a.subscriptionStatus.days_remaining)+" kun qoldi",1)])])])):c("",!0),t("div",O,[h(t("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>d.value=e),onChange:u,class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl text-sm font-medium text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...r[3]||(r[3]=[t("option",{value:""},"Barcha holatlar",-1),t("option",{value:"paid"},"To'langan",-1),t("option",{value:"created"},"Yaratildi",-1),t("option",{value:"waiting"},"Kutilmoqda",-1),t("option",{value:"processing"},"Jarayonda",-1),t("option",{value:"cancelled"},"Bekor qilindi",-1),t("option",{value:"failed"},"Xatolik",-1)])],544),[[v,d.value]])]),t("div",F,[a.transactions.data&&a.transactions.data.length>0?(o(),l("div",L,[t("table",V,[r[4]||(r[4]=t("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Sana"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Tarif"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"To'lov usuli"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Summa"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Holat"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Order ID")])],-1)),t("tbody",D,[(o(!0),l(g,null,x(a.transactions.data,e=>(o(),l("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors"},[t("td",Y,s(e.created_at),1),t("td",I,[t("div",null,[t("span",J,s(e.plan_name),1),t("span",N,"("+s(e.billing_cycle==="yearly"?"Yillik":"Oylik")+")",1)])]),t("td",K,[t("span",{class:n(["px-2.5 py-1 text-xs font-semibold rounded-md",e.provider==="click"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400"])},s(e.provider==="click"?"Click":"Payme"),3)]),t("td",P,s(y(e.amount))+" "+s(e.currency),1),t("td",U,[t("span",{class:n(["px-2.5 py-1 text-xs font-semibold rounded-md",b(e.status)])},s(p(e.status)),3)]),t("td",X,s(e.order_id),1)]))),128))])])])):(o(),l("div",A,[...r[5]||(r[5]=[t("svg",{class:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),t("p",{class:"text-gray-500 dark:text-gray-400 text-lg mb-2"},"Hali tranzaksiyalar yo'q",-1),t("a",{href:"/business/billing/plans",class:"text-blue-600 dark:text-blue-400 font-medium hover:underline"}," Tariflarni ko'rish â†’ ",-1)])])),a.transactions.links&&a.transactions.last_page>1?(o(),l("div",E,[t("p",G,s(a.transactions.from)+"-"+s(a.transactions.to)+" / "+s(a.transactions.total),1),t("div",Q,[(o(!0),l(g,null,x(a.transactions.links,e=>(o(),l("a",{key:e.label,href:e.url,class:n(["px-3 py-1.5 text-sm rounded-lg transition-colors",e.active?"bg-blue-600 text-white":e.url?"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":"text-gray-300 dark:text-gray-600 cursor-not-allowed"]),innerHTML:e.label},null,10,Z))),128))])])):c("",!0)])])]),_:1}))}};export{ht as default};

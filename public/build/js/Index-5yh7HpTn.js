import{r as f,b as w,v as K,x as E,z as e,D as l,L as M,H as r,A as s,C as m,E as n,F as y,G as p,B as i,S as F,Q as O,I as _,K as L,J as R}from"./chunk-BcTZxe-J.js";import{r as C}from"./chunk-BYRtWSr0.js";import{_ as q}from"./chunk-K9ZoJRan.js";import{u as Y}from"./app-CncQRLgv.js";import"./chunk-BnC_-OK6.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CJsSO8V8.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";import"./chunk-Dy6aDPCS.js";import"./chunk-CKHdppiT.js";import"./chunk-Sr2jsNPC.js";import"./chunk-Bv_bj7dx.js";import"./chunk-C1xeNfMu.js";const Z={class:"mb-8"},G={class:"flex items-center justify-between flex-wrap gap-4"},J={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},Q={class:"mt-2 text-gray-600 dark:text-gray-400"},W={class:"mt-3 flex flex-wrap gap-2"},X={href:"/sales-head/kpi/data-entry",class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"},ee={class:"flex gap-3"},te=["onClick"],re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ae={class:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg p-6 text-white"},se={class:"text-emerald-100 text-sm font-medium mb-1"},oe={class:"text-3xl font-bold"},de={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white"},ne={class:"text-green-100 text-sm font-medium mb-1"},le={class:"text-3xl font-bold"},ie={class:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl shadow-lg p-6 text-white"},ce={class:"text-yellow-100 text-sm font-medium mb-1"},ge={class:"text-3xl font-bold"},xe={class:"bg-gradient-to-br from-red-500 to-pink-600 rounded-xl shadow-lg p-6 text-white"},ue={class:"text-red-100 text-sm font-medium mb-1"},me={class:"text-3xl font-bold"},ye={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden mb-8"},pe={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},he={class:"flex items-center justify-between"},be={class:"text-lg font-semibold text-gray-900 dark:text-white"},ke={class:"text-sm text-gray-500 dark:text-gray-400"},_e={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"},ve={class:"flex flex-wrap gap-2"},fe=["onClick","disabled"],we={class:"overflow-x-auto"},Me={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ce={class:"bg-gray-50 dark:bg-gray-700"},je={class:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Be={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Se={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},ze={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},He={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Fe={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Le={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Re={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"flex items-center"},De=["innerHTML"],Te={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Ae={class:"text-xs text-gray-500 dark:text-gray-400"},Pe={class:"px-6 py-4 whitespace-nowrap text-center"},Ne={class:"px-6 py-4 whitespace-nowrap text-center"},Ue={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},$e={class:"text-xs text-gray-500 dark:text-gray-400"},Ie={class:"px-6 py-4 whitespace-nowrap text-center"},Ke={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},Ee={class:"px-6 py-4 whitespace-nowrap"},Oe={class:"flex flex-col items-center"},qe={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},Ye={class:"px-6 py-4 whitespace-nowrap text-center"},Ze={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden mb-8"},Ge={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Je={class:"flex items-center justify-between"},Qe={class:"text-lg font-semibold text-gray-900 dark:text-white"},We={class:"text-sm text-gray-500 dark:text-gray-400"},Xe={class:"overflow-x-auto"},et={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},tt={class:"bg-gray-50 dark:bg-gray-700"},rt={class:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},at={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},st={class:"px-6 py-4 text-center text-xs font-medium uppercase bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300"},ot={class:"px-6 py-4 text-center text-xs font-medium uppercase border-l-2 border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},dt={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},nt={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},lt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},it={class:"px-6 py-4 whitespace-nowrap"},ct={class:"flex items-center"},gt=["innerHTML"],xt={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},ut={class:"text-xs text-gray-500 dark:text-gray-400"},mt={class:"px-6 py-4 whitespace-nowrap text-center"},yt={class:"px-6 py-4 text-center bg-emerald-50/50 dark:bg-emerald-900/20"},pt={class:"text-sm font-bold text-emerald-700 dark:text-emerald-300"},ht={class:"px-6 py-4 text-center border-l-2 border-blue-500 bg-blue-50/50 dark:bg-blue-900/20"},bt={class:"text-sm font-bold text-blue-700 dark:text-blue-300"},kt={class:"px-6 py-4 whitespace-nowrap"},_t={class:"flex flex-col items-center"},vt={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},ft={class:"px-6 py-4 whitespace-nowrap text-center"},wt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden mb-8"},Mt={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Ct={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},jt={class:"overflow-x-auto"},Bt={class:"w-full"},St={class:"bg-gray-50 dark:bg-gray-700/50"},zt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Ht={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Ft={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Lt={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Rt={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Vt={class:"divide-y divide-gray-200 dark:divide-gray-700"},Dt={class:"px-6 py-4 whitespace-nowrap"},Tt={class:"flex items-center"},At={class:"w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-700 dark:text-emerald-400 font-medium text-sm"},Pt={class:"ml-3 font-medium text-gray-900 dark:text-white"},Nt={class:"px-6 py-4 whitespace-nowrap text-center text-gray-700 dark:text-gray-300"},Ut={class:"px-6 py-4 whitespace-nowrap text-center"},$t={class:"px-6 py-4 whitespace-nowrap text-center"},It={class:"px-6 py-4 whitespace-nowrap text-right text-gray-900 dark:text-white font-medium"},Kt={key:0},Et={colspan:"5",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},Ot={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},qt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full"},Yt={class:"border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between"},Zt={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Gt={class:"grid grid-cols-2 gap-4"},Jt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},Qt=["value"],Wt=["value"],Xt=["value"],er={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},tr=["value"],rr={class:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},ar={class:"text-sm text-emerald-800 dark:text-emerald-300"},sr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},or=["placeholder"],dr={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},nr=["placeholder"],lr={key:0,class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4"},ir={class:"text-sm text-gray-600 dark:text-gray-400"},cr={class:"text-lg font-bold text-emerald-600 dark:text-emerald-400 ml-2"},gr={class:"flex justify-end gap-3 pt-4"},xr={type:"submit",class:"px-4 py-2 rounded-lg font-medium bg-emerald-600 text-white hover:bg-emerald-700"},Nr={__name:"Index",props:{activePlan:Object,kpiPlans:Array,dailyEntries:Object,kpiMetrics:Array,teamKpi:Array,period:String,dateRange:Object,panelType:String},setup(g){const{t:a}=Y(),x=g,V=[{key:"daily",label:a("common.daily")},{key:"weekly",label:a("common.weekly")},{key:"monthly",label:a("common.monthly")}],D=[a("common.months.january"),a("common.months.february"),a("common.months.march"),a("common.months.april"),a("common.months.may"),a("common.months.june"),a("common.months.july"),a("common.months.august"),a("common.months.september"),a("common.months.october"),a("common.months.november"),a("common.months.december")],u=new Date().getFullYear(),b=new Date().getMonth()+1,h=f(!1),j=f(x.dateRange?.selected_day||x.dateRange?.current_day||1),c=f({year:u,month:b+1>12?1:b+1,new_sales:"",avg_check:""}),T=w(()=>x.kpiMetrics?.filter(o=>o.achievement>=100).length||0),A=w(()=>x.kpiMetrics?.filter(o=>o.achievement>=50&&o.achievement<100).length||0),P=w(()=>x.kpiMetrics?.filter(o=>o.achievement<50).length||0),N=o=>{C.get("/sales-head/kpi",{period:o},{preserveState:!0,preserveScroll:!0})},U=o=>{j.value=o,C.get("/sales-head/kpi",{period:"daily",day:o},{preserveState:!0,preserveScroll:!0})},k=(o,d)=>o==null?"-":d==="som"?v(o):d==="foiz"?o+"%":new Intl.NumberFormat("uz-UZ").format(o)+(d==="dona"?"":" "+d),v=o=>o?o>=1e9?(o/1e9).toFixed(1)+" mlrd so'm":o>=1e6?(o/1e6).toFixed(1)+" mln so'm":new Intl.NumberFormat("uz-UZ").format(o)+" so'm":"0 so'm",B=o=>o>=100?"text-green-600 dark:text-green-400":o>=75?"text-blue-600 dark:text-blue-400":o>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",S=o=>o>=100?"bg-green-500":o>=75?"bg-blue-500":o>=50?"bg-yellow-500":"bg-red-500",z=o=>o>=100?a("kpi.completed"):o>=75?a("kpi.good"):o>=50?a("kpi.average"):a("kpi.attention"),$=o=>{const d=o===x.dateRange?.current_day,t=o===j.value;return o<x.dateRange?.current_day,o>x.dateRange?.current_day?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":t?"bg-emerald-600 text-white border-emerald-600":d?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 border-emerald-300 dark:border-emerald-700":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"},I=()=>{C.post("/sales-head/kpi/plan",c.value,{preserveScroll:!0,onSuccess:()=>{h.value=!1,c.value={year:u,month:b+1>12?1:b+1,new_sales:"",avg_check:""}}})};return(o,d)=>(n(),K(q,{title:s(a)("nav.kpi")},{default:E(()=>[e("div",Z,[e("div",G,[e("div",null,[e("h2",J,r(s(a)("kpi.sales_kpi_indicators")),1),e("p",Q,r(s(a)("kpi.sales_efficiency_indicators")),1),e("div",W,[e("button",{onClick:d[0]||(d[0]=t=>h.value=!0),class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 hover:bg-emerald-200 dark:hover:bg-emerald-800 transition-colors"},[d[7]||(d[7]=e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),m(" "+r(s(a)("kpi.add_sales_plan")),1)]),e("a",X,[d[8]||(d[8]=e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),m(" "+r(s(a)("kpi.enter_daily_data")),1)])])]),e("div",ee,[(n(),l(y,null,p(V,t=>e("button",{key:t.key,onClick:H=>N(t.key),class:i(["px-4 py-2 rounded-lg font-medium transition-all",g.period===t.key?"bg-emerald-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])},r(t.label),11,te)),64))])])]),e("div",re,[e("div",ae,[d[9]||(d[9]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),e("p",se,r(s(a)("kpi.total_kpi")),1),e("p",oe,r(g.kpiMetrics.length),1)]),e("div",de,[d[10]||(d[10]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("p",ne,r(s(a)("kpi.achieved")),1),e("p",le,r(T.value),1)]),e("div",ie,[d[11]||(d[11]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("p",ce,r(s(a)("kpi.in_progress")),1),e("p",ge,r(A.value),1)]),e("div",xe,[d[12]||(d[12]=e("div",{class:"flex items-center justify-between mb-4"},[e("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("p",ue,r(s(a)("kpi.not_achieved")),1),e("p",me,r(P.value),1)])]),g.period==="daily"?(n(),l("div",ye,[e("div",pe,[e("div",he,[e("h3",be,r(s(a)("common.daily"))+" "+r(s(a)("saleshead.monitoring")),1),e("span",ke,r(g.dateRange.current_month),1)])]),e("div",_e,[e("div",ve,[(n(!0),l(y,null,p(g.dateRange.days_in_month,t=>(n(),l("button",{key:t,onClick:H=>U(t),class:i(["px-3 py-2 rounded-lg text-sm font-medium transition-all border",$(t)]),disabled:t>g.dateRange.current_day},r(t),11,fe))),128))])]),e("div",we,[e("table",Me,[e("thead",Ce,[e("tr",null,[e("th",je,r(s(a)("kpi.indicator")),1),e("th",Be,r(s(a)("kpi.category")),1),e("th",Se,r(s(a)("kpi.plan")),1),e("th",ze,r(s(a)("kpi.current")),1),e("th",He,r(s(a)("kpi.achievement")),1),e("th",Fe,r(s(a)("common.status")),1)])]),e("tbody",Le,[(n(!0),l(y,null,p(g.kpiMetrics,t=>(n(),l("tr",{key:t.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("td",Re,[e("div",Ve,[e("div",{class:i(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",t.iconBg])},[(n(),l("svg",{class:i(["w-5 h-5",t.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:t.iconSvg},null,10,De))],2),e("div",null,[e("div",Te,r(t.name),1),e("div",Ae,r(t.description),1)])])]),e("td",Pe,[e("span",{class:i(["px-3 py-1 rounded-full text-xs font-medium",t.category==="sotuv"?"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300":t.category==="moliyaviy"?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},r(t.category),3)]),e("td",Ne,[e("div",Ue,r(k(t.plan,t.unit)),1),e("div",$e,r(t.targetLabel||s(a)("common.daily")),1)]),e("td",Ie,[e("div",Ke,r(k(t.current,t.unit)),1)]),e("td",Ee,[e("div",Oe,[e("div",{class:i(["text-sm font-bold mb-2",B(t.achievement)])},r(t.achievement)+"% ",3),e("div",qe,[e("div",{class:i(["h-2.5 rounded-full transition-all duration-500",S(t.achievement)]),style:F({width:Math.min(t.achievement,100)+"%"})},null,6)])])]),e("td",Ye,[e("span",{class:i(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",t.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":t.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},r(z(t.achievement)),3)])]))),128))])])])])):(n(),l("div",Ze,[e("div",Ge,[e("div",Je,[e("h3",Qe,r(g.period==="weekly"?s(a)("common.weekly"):s(a)("common.monthly"))+" "+r(s(a)("kpi.kpi_indicators")),1),e("span",We,r(g.dateRange.current_month),1)])]),e("div",Xe,[e("table",et,[e("thead",tt,[e("tr",null,[e("th",rt,r(s(a)("kpi.indicator")),1),e("th",at,r(s(a)("kpi.category")),1),e("th",st,r(s(a)("kpi.plan")),1),e("th",ot,r(s(a)("kpi.current")),1),e("th",dt,r(s(a)("kpi.achievement")),1),e("th",nt,r(s(a)("common.status")),1)])]),e("tbody",lt,[(n(!0),l(y,null,p(g.kpiMetrics,t=>(n(),l("tr",{key:t.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("td",it,[e("div",ct,[e("div",{class:i(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",t.iconBg])},[(n(),l("svg",{class:i(["w-5 h-5",t.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:t.iconSvg},null,10,gt))],2),e("div",null,[e("div",xt,r(t.name),1),e("div",ut,r(t.description),1)])])]),e("td",mt,[e("span",{class:i(["px-3 py-1 rounded-full text-xs font-medium",t.category==="sotuv"?"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300":t.category==="moliyaviy"?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},r(t.category),3)]),e("td",yt,[e("div",pt,r(k(t.plan,t.unit)),1)]),e("td",ht,[e("div",bt,r(k(t.current,t.unit)),1)]),e("td",kt,[e("div",_t,[e("div",{class:i(["text-sm font-bold mb-2",B(t.achievement)])},r(t.achievement)+"% ",3),e("div",vt,[e("div",{class:i(["h-2.5 rounded-full transition-all duration-500",S(t.achievement)]),style:F({width:Math.min(t.achievement,100)+"%"})},null,6)])])]),e("td",ft,[e("span",{class:i(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",t.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":t.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},r(z(t.achievement)),3)])]))),128))])])])])),e("div",wt,[e("div",Mt,[e("h3",Ct,[d[13]||(d[13]=e("svg",{class:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),m(" "+r(s(a)("saleshead.team_performance")),1)])]),e("div",jt,[e("table",Bt,[e("thead",St,[e("tr",null,[e("th",zt,r(s(a)("saleshead.employee")),1),e("th",Ht,r(s(a)("sales.leads")),1),e("th",Ft,r(s(a)("saleshead.deal_won")),1),e("th",Lt,r(s(a)("saleshead.conversion"))+"%",1),e("th",Rt,r(s(a)("saleshead.revenue")),1)])]),e("tbody",Vt,[(n(!0),l(y,null,p(g.teamKpi,t=>(n(),l("tr",{key:t.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[e("td",Dt,[e("div",Tt,[e("div",At,r(t.avatar),1),e("span",Pt,r(t.name),1)])]),e("td",Nt,r(t.leads),1),e("td",Ut,[e("span",{class:i(t.won>0?"text-emerald-600 dark:text-emerald-400 font-medium":"text-gray-500")},r(t.won),3)]),e("td",$t,[e("span",{class:i(["font-medium",t.conversion>=30?"text-green-600 dark:text-green-400":t.conversion>=15?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"])},r(t.conversion)+"%",3)]),e("td",It,r(v(t.revenue)),1)]))),128)),g.teamKpi.length===0?(n(),l("tr",Kt,[e("td",Et,r(s(a)("saleshead.no_team_members")),1)])):M("",!0)])])])]),h.value?(n(),l("div",Ot,[e("div",qt,[e("div",Yt,[e("h3",Zt,r(s(a)("kpi.add_sales_plan")),1),e("button",{onClick:d[1]||(d[1]=t=>h.value=!1),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[...d[14]||(d[14]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:O(I,["prevent"]),class:"p-6 space-y-4"},[e("div",Gt,[e("div",null,[e("label",Jt,r(s(a)("common.year")),1),_(e("select",{"onUpdate:modelValue":d[2]||(d[2]=t=>c.value.year=t),class:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[e("option",{value:s(u)-1},r(s(u)-1),9,Qt),e("option",{value:s(u)},r(s(u)),9,Wt),e("option",{value:s(u)+1},r(s(u)+1),9,Xt)],512),[[L,c.value.year]])]),e("div",null,[e("label",er,r(s(a)("common.month")),1),_(e("select",{"onUpdate:modelValue":d[3]||(d[3]=t=>c.value.month=t),class:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[(n(),l(y,null,p(12,t=>e("option",{key:t,value:t},r(D[t-1]),9,tr)),64))],512),[[L,c.value.month]])])]),e("div",rr,[e("p",ar,[e("strong",null,r(s(a)("kpi.note"))+":",1),m(" "+r(s(a)("kpi.plan_note")),1)])]),e("div",null,[e("label",sr,[m(r(s(a)("kpi.sales_count"))+" ",1),d[15]||(d[15]=e("span",{class:"text-red-500"},"*",-1))]),_(e("input",{"onUpdate:modelValue":d[4]||(d[4]=t=>c.value.new_sales=t),type:"number",min:"0",required:"",class:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:s(a)("kpi.example")+": 50"},null,8,or),[[R,c.value.new_sales,void 0,{number:!0}]])]),e("div",null,[e("label",dr,[m(r(s(a)("kpi.avg_check"))+" ",1),d[16]||(d[16]=e("span",{class:"text-red-500"},"*",-1))]),_(e("input",{"onUpdate:modelValue":d[5]||(d[5]=t=>c.value.avg_check=t),type:"number",min:"0",required:"",class:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:s(a)("kpi.example")+": 1000000"},null,8,nr),[[R,c.value.avg_check,void 0,{number:!0}]])]),c.value.new_sales&&c.value.avg_check?(n(),l("div",lr,[e("p",ir,[e("strong",null,r(s(a)("kpi.calculated_revenue"))+":",1),e("span",cr,r(v(c.value.new_sales*c.value.avg_check)),1)])])):M("",!0),e("div",gr,[e("button",{type:"button",onClick:d[6]||(d[6]=t=>h.value=!1),class:"px-4 py-2 rounded-lg font-medium bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"},r(s(a)("common.cancel")),1),e("button",xr,r(s(a)("common.save")),1)])],32)])])):M("",!0)]),_:1},8,["title"]))}};export{Nr as default};

import{r as h,w as N,v as j,x,y as n,z as e,A as t,H as r,E as u,J as C,K as L,C as i,F as l,G as m,I as k,L as S,D as _,B as $,M}from"./chunk-KPSVwAyv.js";import{h as P,l as f,r as T}from"./chunk-BVrjkT6E.js";import{_ as z}from"./chunk-DtYJqrRc.js";import{u as J}from"./app-Bx12lrZQ.js";import{r as R}from"./chunk-D59q4lxq.js";import{b as O,c as X,d as A,e as G,f as H}from"./chunk-DMP3tXW5.js";import{r as Q}from"./chunk-CYw1XsNK.js";import{r as W}from"./chunk-Dfha1x8d.js";import{r as Y}from"./chunk-BgOPVSvg.js";import{r as Z}from"./chunk-uNG5YCqx.js";import{r as ee,a as te}from"./chunk-BgShz32H.js";import{r as re}from"./chunk-BeK6HK_O.js";import"./chunk-BvkwlYlD.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-CYZ54WJE.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";const se={class:"space-y-6"},ae={class:"flex items-center justify-between"},oe={class:"text-2xl font-bold text-gray-900 dark:text-white"},de={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},le={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},ne={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},ie={class:"flex items-center gap-3"},ce={class:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center"},ge={class:"text-2xl font-bold text-gray-900 dark:text-white"},xe={class:"text-xs text-gray-500 dark:text-gray-400"},ue={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-yellow-200 dark:border-yellow-800/30"},ye={class:"flex items-center gap-3"},be={class:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center"},pe={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},he={class:"text-xs text-gray-500 dark:text-gray-400"},me={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-blue-200 dark:border-blue-800/30"},ke={class:"flex items-center gap-3"},_e={class:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},fe={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},ve={class:"text-xs text-gray-500 dark:text-gray-400"},we={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-green-200 dark:border-green-800/30"},je={class:"flex items-center gap-3"},Ce={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},Se={class:"text-2xl font-bold text-green-600 dark:text-green-400"},$e={class:"text-xs text-gray-500 dark:text-gray-400"},Te={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-red-200 dark:border-red-800/30"},Oe={class:"flex items-center gap-3"},Fe={class:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},Ve={class:"text-2xl font-bold text-red-600 dark:text-red-400"},Ee={class:"text-xs text-gray-500 dark:text-gray-400"},Ne={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-orange-200 dark:border-orange-800/30"},Ae={class:"flex items-center gap-3"},Be={class:"w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"},De={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},Ue={class:"text-xs text-gray-500 dark:text-gray-400"},qe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},Ie={class:"flex flex-col md:flex-row gap-4"},Ke={class:"flex-1 relative"},Le=["placeholder"],Me={class:"flex flex-wrap gap-3"},Pe={value:"all"},ze=["value"],Je={value:"all"},Re=["value"],Xe={value:"all"},Ge=["value"],He={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},Qe={class:"overflow-x-auto"},We={class:"w-full"},Ye={class:"bg-gray-50 dark:bg-gray-700/50"},Ze={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},et={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},tt={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},rt={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},st={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},at={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},ot={class:"px-6 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},dt={class:"divide-y divide-gray-200 dark:divide-gray-700"},lt={class:"px-6 py-4"},nt={class:"px-6 py-4"},it={class:"max-w-xs"},ct={class:"text-sm text-gray-500 dark:text-gray-400 truncate mt-0.5"},gt={key:0,class:"flex items-center gap-1 mt-1 text-xs text-gray-400"},xt={class:"px-6 py-4"},ut={key:0},yt={class:"text-sm font-medium text-gray-900 dark:text-white"},bt={class:"text-xs text-gray-500 dark:text-gray-400"},pt={key:1,class:"text-gray-400"},ht={class:"px-6 py-4"},mt=["value","onChange"],kt=["value"],_t={class:"px-6 py-4"},ft={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap"},vt={class:"px-6 py-4"},wt={class:"flex items-center justify-end gap-2"},jt=["onClick"],Ct={key:0,class:"text-center py-12"},St={class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},$t={class:"text-gray-500 dark:text-gray-400"},Tt={key:1,class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700"},Ot={class:"flex items-center justify-between"},Ft={class:"text-sm text-gray-500 dark:text-gray-400"},Vt={class:"flex gap-2"},rr={__name:"Index",props:{feedbacks:Object,stats:Object,filters:Object,types:Object,statuses:Object,priorities:Object},setup(d){const{t:a}=J(),v=d,w=h(v.filters?.search||""),y=h(v.filters?.type||"all"),b=h(v.filters?.status||"all"),p=h(v.filters?.priority||"all");h(!1);const B={bug:A,suggestion:te,question:ee,other:O},D=c=>{const o={bug:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",suggestion:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",question:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",other:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"};return o[c]||o.other},U=c=>{const o={pending:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",in_progress:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",resolved:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",closed:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"};return o[c]||o.pending},q=c=>{const o={low:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",high:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",urgent:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};return o[c]||o.medium},F=()=>{T.get(route("admin.feedback.index"),{type:y.value!=="all"?y.value:null,status:b.value!=="all"?b.value:null,priority:p.value!=="all"?p.value:null,search:w.value||null},{preserveState:!0,preserveScroll:!0})};let V=null;N(w,()=>{clearTimeout(V),V=setTimeout(F,500)}),N([y,b,p],F);const I=async(c,o)=>{try{(await fetch(route("admin.feedback.update-status",c.id),{method:"PUT",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:o})})).ok&&T.reload({preserveScroll:!0})}catch(s){console.error("Failed to update status:",s)}},K=async c=>{if(confirm(a("admin.feedback.delete_confirm")))try{(await fetch(route("admin.feedback.destroy",c.id),{method:"DELETE",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json"}})).ok&&T.reload({preserveScroll:!0})}catch(o){console.error("Failed to delete feedback:",o)}};return(c,o)=>(l(),j(z,{title:t(a)("admin.feedback.title")},{default:x(()=>[n(t(P),{title:t(a)("admin.feedback.title")},null,8,["title"]),e("div",se,[e("div",ae,[e("div",null,[e("h1",oe,r(t(a)("admin.feedback.heading")),1),e("p",de,r(t(a)("admin.feedback.subtitle")),1)]),n(t(f),{href:c.route("admin.feedback.analytics"),class:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-colors"},{default:x(()=>[n(t(R),{class:"w-5 h-5"}),u(" "+r(t(a)("admin.feedback.analytics")),1)]),_:1},8,["href"])]),e("div",le,[e("div",ne,[e("div",ie,[e("div",ce,[n(t(O),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})]),e("div",null,[e("p",ge,r(d.stats.total),1),e("p",xe,r(t(a)("admin.feedback.stats.total")),1)])])]),e("div",ue,[e("div",ye,[e("div",be,[n(t(Q),{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})]),e("div",null,[e("p",pe,r(d.stats.pending),1),e("p",he,r(t(a)("admin.feedback.stats.pending")),1)])])]),e("div",me,[e("div",ke,[e("div",_e,[n(t(X),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),e("div",null,[e("p",fe,r(d.stats.in_progress),1),e("p",ve,r(t(a)("admin.feedback.stats.in_progress")),1)])])]),e("div",we,[e("div",je,[e("div",Ce,[n(t(W),{class:"w-5 h-5 text-green-600 dark:text-green-400"})]),e("div",null,[e("p",Se,r(d.stats.resolved),1),e("p",$e,r(t(a)("admin.feedback.stats.resolved")),1)])])]),e("div",Te,[e("div",Oe,[e("div",Fe,[n(t(A),{class:"w-5 h-5 text-red-600 dark:text-red-400"})]),e("div",null,[e("p",Ve,r(d.stats.bugs),1),e("p",Ee,r(t(a)("admin.feedback.stats.bugs")),1)])])]),e("div",Ne,[e("div",Ae,[e("div",Be,[n(t(Y),{class:"w-5 h-5 text-orange-600 dark:text-orange-400"})]),e("div",null,[e("p",De,r(d.stats.urgent),1),e("p",Ue,r(t(a)("admin.feedback.stats.urgent")),1)])])])]),e("div",qe,[e("div",Ie,[e("div",Ke,[n(t(Z),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),C(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>w.value=s),type:"text",placeholder:t(a)("common.search")+"...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white"},null,8,Le),[[L,w.value]])]),e("div",Me,[C(e("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>y.value=s),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white text-sm"},[e("option",Pe,r(t(a)("admin.feedback.all_types")),1),(l(!0),i(m,null,k(d.types,(s,g)=>(l(),i("option",{key:g,value:g},r(s),9,ze))),128))],512),[[S,y.value]]),C(e("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>b.value=s),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white text-sm"},[e("option",Je,r(t(a)("admin.feedback.all_statuses")),1),(l(!0),i(m,null,k(d.statuses,(s,g)=>(l(),i("option",{key:g,value:g},r(s),9,Re))),128))],512),[[S,b.value]]),C(e("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>p.value=s),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white text-sm"},[e("option",Xe,r(t(a)("admin.feedback.all_priorities")),1),(l(!0),i(m,null,k(d.priorities,(s,g)=>(l(),i("option",{key:g,value:g},r(s),9,Ge))),128))],512),[[S,p.value]])])])]),e("div",He,[e("div",Qe,[e("table",We,[e("thead",Ye,[e("tr",null,[e("th",Ze,r(t(a)("admin.feedback.type")),1),e("th",et,r(t(a)("admin.feedback.subject")),1),e("th",tt,r(t(a)("admin.feedback.user")),1),e("th",rt,r(t(a)("common.status")),1),e("th",st,r(t(a)("admin.feedback.priority")),1),e("th",at,r(t(a)("common.date")),1),e("th",ot,r(t(a)("common.actions")),1)])]),e("tbody",dt,[(l(!0),i(m,null,k(d.feedbacks.data,s=>(l(),i("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[e("td",lt,[e("span",{class:$(["inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium",D(s.type)])},[(l(),j(M(B[s.type]),{class:"w-4 h-4"})),u(" "+r(s.type_label),1)],2)]),e("td",nt,[e("div",it,[n(t(f),{href:c.route("admin.feedback.show",s.id),class:"font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400"},{default:x(()=>[u(r(s.title),1)]),_:2},1032,["href"]),e("p",ct,r(s.description.substring(0,60))+"... ",1),s.attachments.length>0?(l(),i("div",gt,[n(t(G),{class:"w-3.5 h-3.5"}),u(" "+r(s.attachments.length)+" "+r(t(a)("admin.feedback.files")),1)])):_("",!0)])]),e("td",xt,[s.user?(l(),i("div",ut,[e("p",yt,r(s.user.name),1),e("p",bt,r(s.user.email),1)])):(l(),i("span",pt,"-"))]),e("td",ht,[e("select",{value:s.status,onChange:g=>I(s,g.target.value),class:$(["text-xs font-medium rounded-lg px-2.5 py-1 border-0",U(s.status)])},[(l(!0),i(m,null,k(d.statuses,(g,E)=>(l(),i("option",{key:E,value:E},r(g),9,kt))),128))],42,mt)]),e("td",_t,[e("span",{class:$(["px-2.5 py-1 rounded-lg text-xs font-medium",q(s.priority)])},r(s.priority_label),3)]),e("td",ft,r(s.created_at),1),e("td",vt,[e("div",wt,[n(t(f),{href:c.route("admin.feedback.show",s.id),class:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},{default:x(()=>[n(t(re),{class:"w-5 h-5"})]),_:1},8,["href"]),e("button",{onClick:g=>K(s),class:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},[n(t(H),{class:"w-5 h-5"})],8,jt)])])]))),128))])])]),d.feedbacks.data.length===0?(l(),i("div",Ct,[n(t(O),{class:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e("h3",St,r(t(a)("admin.feedback.not_found")),1),e("p",$t,r(t(a)("admin.feedback.no_messages")),1)])):_("",!0),d.feedbacks.last_page>1?(l(),i("div",Tt,[e("div",Ot,[e("p",Ft,r(d.feedbacks.from)+"-"+r(d.feedbacks.to)+" / "+r(d.feedbacks.total),1),e("div",Vt,[d.feedbacks.prev_page_url?(l(),j(t(f),{key:0,href:d.feedbacks.prev_page_url,class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm"},{default:x(()=>[u(r(t(a)("common.previous")),1)]),_:1},8,["href"])):_("",!0),d.feedbacks.next_page_url?(l(),j(t(f),{key:1,href:d.feedbacks.next_page_url,class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm"},{default:x(()=>[u(r(t(a)("common.next")),1)]),_:1},8,["href"])):_("",!0)])])])):_("",!0)])])]),_:1},8,["title"]))}};export{rr as default};

import{r as e,v as a,x as t,y as r,z as s,D as l,L as d,A as o,H as n,E as i,F as g,G as c,Q as u,I as y,J as m}from"./chunk-7Urb0kxg.js";import{u as x,h as p}from"./chunk-DKkye6wf.js";import{_ as b}from"./chunk-L0R09JI1.js";import{u as k}from"./app-DFslr8vl.js";import{f}from"./chunk-Dm-LAqtr.js";import{a as v}from"./chunk-YGW1Cp7-.js";import{r as h}from"./chunk-afst19KZ.js";import{r as w}from"./chunk-DOBCiesv.js";import{r as j}from"./chunk-DUcDuGHI.js";import{r as _}from"./chunk-DncpFozA.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-D4tA7yBb.js";const q={class:"space-y-6"},S={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},z={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},C={class:"text-sm text-gray-500 dark:text-gray-400"},T={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},Q={key:0,class:"divide-y divide-gray-200 dark:divide-gray-700"},R={class:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4"},A={class:"flex-1 space-y-4"},B={class:"flex items-center gap-4"},E={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center"},U={class:"font-semibold text-gray-900 dark:text-gray-100"},V={class:"text-sm text-gray-500 dark:text-gray-400"},F={class:"flex items-center gap-6 text-sm"},I={class:"flex items-center gap-2"},K={class:"text-gray-600 dark:text-gray-300"},X={class:"flex items-center gap-2"},Y={class:"font-medium text-gray-900 dark:text-gray-100"},D={class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4"},G={class:"flex items-start gap-2"},H={class:"flex-1"},J={class:"text-sm text-gray-600 dark:text-gray-400"},L={key:0,class:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400"},N={key:0},M={key:1},O={class:"text-xs text-gray-400"},P={class:"flex lg:flex-col gap-3"},W=["onClick"],Z=["onClick"],$={key:1,class:"p-12 text-center text-gray-500 dark:text-gray-400"},ee={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full"},ae={class:"p-6 border-b border-gray-200 dark:border-gray-700"},te={class:"flex items-center gap-3"},re={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center"},se={key:0,class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 space-y-2 text-sm"},le={class:"flex justify-between"},de={class:"font-medium text-gray-900 dark:text-gray-100"},oe={class:"flex justify-between"},ne={class:"font-medium text-gray-900 dark:text-gray-100"},ie={class:"flex justify-between"},ge={class:"font-medium text-gray-900 dark:text-gray-100"},ce={class:"flex justify-end gap-3 pt-4"},ue=["disabled"],ye={key:0},me={key:1},xe={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full"},pe={class:"p-6 border-b border-gray-200 dark:border-gray-700"},be={class:"flex items-center gap-3"},ke={class:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center"},fe={key:0,class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 space-y-2 text-sm"},ve={class:"flex justify-between"},he={class:"font-medium text-gray-900 dark:text-gray-100"},we={class:"flex justify-between"},je={class:"font-medium text-gray-900 dark:text-gray-100"},_e={class:"flex justify-end gap-3 pt-4"},qe=["disabled"],Se={key:0},ze={key:1},Ce={__name:"Approvals",props:{requests:{type:Array,default:()=>[]}},setup(Ce){const{t:Te}=k(),Qe=e(!1),Re=e(!1),Ae=e(null),Be=x({comments:""}),Ee=x({reason:"",comments:""}),Ue=()=>{Ae.value&&Be.post(route("hr.leave.approve",Ae.value.id),{preserveScroll:!0,onSuccess:()=>{Qe.value=!1,Ae.value=null,Be.reset()}})},Ve=()=>{Ae.value&&Ee.post(route("hr.leave.reject",Ae.value.id),{preserveScroll:!0,onSuccess:()=>{Re.value=!1,Ae.value=null,Ee.reset()}})};return(e,x)=>(i(),a(b,{title:o(Te)("hr.leave_approvals")},{default:t(()=>[r(o(p),{title:o(Te)("hr.leave_approvals")},null,8,["title"]),s("div",q,[s("div",S,[s("div",null,[s("h1",z,n(o(Te)("hr.leave_approvals")),1),s("p",C,n(o(Te)("hr.leave_requests"))+" ("+n(Ce.requests.length)+") ",1)])]),s("div",T,[Ce.requests.length>0?(i(),l("div",Q,[(i(!0),l(g,null,c(Ce.requests,e=>(i(),l("div",{key:e.id,class:"p-6 hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors"},[s("div",R,[s("div",A,[s("div",B,[s("div",E,[r(o(f),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})]),s("div",null,[s("h3",U,n(e.user.name),1),s("p",V,n(e.leave_type.name),1)])]),s("div",F,[s("div",I,[r(o(v),{class:"w-4 h-4 text-gray-400"}),s("span",K,n(e.start_date_formatted)+" - "+n(e.end_date_formatted),1)]),s("div",X,[r(o(h),{class:"w-4 h-4 text-gray-400"}),s("span",Y,n(e.total_days)+" kun ",1)])]),s("div",D,[s("div",G,[r(o(w),{class:"w-5 h-5 text-gray-400 mt-0.5"}),s("div",H,[x[7]||(x[7]=s("p",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Sababi:",-1)),s("p",J,n(e.reason),1)])])]),e.emergency_contact||e.emergency_phone?(i(),l("div",L,[x[8]||(x[8]=s("span",{class:"font-medium"},"Favqulodda aloqa:",-1)),e.emergency_contact?(i(),l("span",N,n(e.emergency_contact),1)):d("",!0),e.emergency_phone?(i(),l("span",M,n(e.emergency_phone),1)):d("",!0)])):d("",!0),s("div",O," So'rov yuborilgan: "+n(e.created_at),1)]),s("div",P,[s("button",{onClick:a=>(e=>{Ae.value=e,Qe.value=!0,Be.reset()})(e),class:"flex-1 lg:flex-none px-6 py-2.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2"},[r(o(j),{class:"w-5 h-5"}),x[9]||(x[9]=s("span",null,"Tasdiqlash",-1))],8,W),s("button",{onClick:a=>(e=>{Ae.value=e,Re.value=!0,Ee.reset()})(e),class:"flex-1 lg:flex-none px-6 py-2.5 bg-white dark:bg-gray-700 text-red-600 dark:text-red-400 text-sm font-medium rounded-lg border border-red-300 dark:border-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center justify-center gap-2"},[r(o(_),{class:"w-5 h-5"}),x[10]||(x[10]=s("span",null,"Rad etish",-1))],8,Z)])])]))),128))])):(i(),l("div",$,[r(o(h),{class:"w-12 h-12 mx-auto mb-4 opacity-50"}),x[11]||(x[11]=s("p",{class:"text-lg font-medium mb-2"},"Kutilayotgan so'rovlar yo'q",-1)),x[12]||(x[12]=s("p",{class:"text-sm"},"Barcha ta'til so'rovlari ko'rib chiqilgan",-1))]))])]),Qe.value?(i(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:x[2]||(x[2]=u(e=>Qe.value=!1,["self"]))},[s("div",ee,[s("div",ae,[s("div",te,[s("div",re,[r(o(j),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),x[13]||(x[13]=s("h3",{class:"text-xl font-bold text-gray-900 dark:text-gray-100"},"Ta'tilni Tasdiqlash",-1))])]),s("form",{onSubmit:u(Ue,["prevent"]),class:"p-6 space-y-4"},[Ae.value?(i(),l("div",se,[s("div",le,[x[14]||(x[14]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Xodim:",-1)),s("span",de,n(Ae.value.user.name),1)]),s("div",oe,[x[15]||(x[15]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Sana:",-1)),s("span",ne,n(Ae.value.start_date_formatted)+" - "+n(Ae.value.end_date_formatted),1)]),s("div",ie,[x[16]||(x[16]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Kunlar:",-1)),s("span",ge,n(Ae.value.total_days)+" kun",1)])])):d("",!0),s("div",null,[x[17]||(x[17]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Izoh (ixtiyoriy) ",-1)),y(s("textarea",{"onUpdate:modelValue":x[0]||(x[0]=e=>o(Be).comments=e),rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500",placeholder:"Qo'shimcha izoh yozing..."},null,512),[[m,o(Be).comments]])]),s("div",ce,[s("button",{type:"button",onClick:x[1]||(x[1]=e=>Qe.value=!1),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600"}," Bekor qilish "),s("button",{type:"submit",disabled:o(Be).processing,class:"px-6 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[o(Be).processing?(i(),l("span",ye,"Yuklanmoqda...")):(i(),l("span",me,"Tasdiqlash"))],8,ue)])],32)])])):d("",!0),Re.value?(i(),l("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:x[6]||(x[6]=u(e=>Re.value=!1,["self"]))},[s("div",xe,[s("div",pe,[s("div",be,[s("div",ke,[r(o(_),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),x[18]||(x[18]=s("h3",{class:"text-xl font-bold text-gray-900 dark:text-gray-100"},"Ta'tilni Rad Etish",-1))])]),s("form",{onSubmit:u(Ve,["prevent"]),class:"p-6 space-y-4"},[Ae.value?(i(),l("div",fe,[s("div",ve,[x[19]||(x[19]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Xodim:",-1)),s("span",he,n(Ae.value.user.name),1)]),s("div",we,[x[20]||(x[20]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Sana:",-1)),s("span",je,n(Ae.value.start_date_formatted)+" - "+n(Ae.value.end_date_formatted),1)])])):d("",!0),s("div",null,[x[21]||(x[21]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Rad etish sababi * ",-1)),y(s("textarea",{"onUpdate:modelValue":x[3]||(x[3]=e=>o(Ee).reason=e),required:"",rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-red-500",placeholder:"Nima uchun rad etyapsiz..."},null,512),[[m,o(Ee).reason]])]),s("div",null,[x[22]||(x[22]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Qo'shimcha izoh (ixtiyoriy) ",-1)),y(s("textarea",{"onUpdate:modelValue":x[4]||(x[4]=e=>o(Ee).comments=e),rows:"2",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-red-500",placeholder:"Qo'shimcha izoh..."},null,512),[[m,o(Ee).comments]])]),s("div",_e,[s("button",{type:"button",onClick:x[5]||(x[5]=e=>Re.value=!1),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600"}," Bekor qilish "),s("button",{type:"submit",disabled:o(Ee).processing,class:"px-6 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},[o(Ee).processing?(i(),l("span",Se,"Yuklanmoqda...")):(i(),l("span",ze,"Rad Etish"))],8,qe)])],32)])])):d("",!0)]),_:1},8,["title"]))}};export{Ce as default};

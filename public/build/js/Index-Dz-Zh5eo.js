import{_}from"./chunk-DUZ-0JU5.js";import{a as j}from"./chunk-BYRtWSr0.js";import{u as q}from"./app-CPufef6f.js";import{r as c,o as C,v as M,x as T,z as e,H as a,A as h,D as n,C as z,E as o,B as l,L as B,S as H}from"./chunk-BcTZxe-J.js";import"./chunk-D6nU8-nU.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CJsSO8V8.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";import"./chunk-C1xeNfMu.js";const S={class:"py-6"},O={class:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8"},V={class:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},I={class:"text-xl font-semibold text-gray-900 dark:text-white"},L={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},D=["disabled"],N={class:"mb-6"},A={class:"flex items-center justify-between"},E={class:"flex items-center"},P={key:0,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Q={key:1,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},$={key:2,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},F={class:"text-right"},K={class:"text-sm font-medium text-gray-900 dark:text-white"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},U={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},Z={class:"flex items-center justify-between mb-3"},G={class:"text-xs text-gray-600 dark:text-gray-400"},J={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},W={class:"flex items-center justify-between mb-3"},X={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},Y={key:0,class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5"},ee={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},te={class:"flex items-center justify-between mb-3"},se={class:"text-xs text-gray-600 dark:text-gray-400"},re={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},ae={class:"flex items-center justify-between mb-3"},le={class:"text-xs text-gray-600 dark:text-gray-400"},oe={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},de={class:"p-4"},ie={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},ne={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3"},ue={class:"mt-1 text-sm font-semibold text-gray-900 dark:text-white"},me={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3"},ge={class:"mt-1 text-sm font-semibold text-gray-900 dark:text-white"},xe={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3"},ce={class:"mt-1 text-sm font-semibold text-gray-900 dark:text-white"},he={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3"},ye={class:"mt-1 text-sm font-semibold text-gray-900 dark:text-white capitalize"},Ae={__name:"Index",props:{initialHealth:{type:Object,default:()=>({})},systemInfo:{type:Object,default:()=>({php_version:"-",laravel_version:"-",server_time:"-",environment:"-"})}},setup(d){const{t:x}=q(),i=d,u=c(!1),y=c("Hozir"),r=c({overall:i.initialHealth.overall||{status:"checking",percentage:0},database:i.initialHealth.health?.database||{status:"checking",message:"Tekshirilmoqda..."},storage:i.initialHealth.health?.storage||{status:"checking",message:"Tekshirilmoqda..."},cache:i.initialHealth.health?.cache||{status:"checking",message:"Tekshirilmoqda..."},queue:i.initialHealth.health?.queue||{status:"checking",message:"Tekshirilmoqda..."}}),k=async()=>{u.value=!0;try{const t=await j.get("/admin/system-health");r.value={overall:t.data.overall,database:t.data.health.database,storage:t.data.health.storage,cache:t.data.health.cache,queue:t.data.health.queue},y.value=new Date().toLocaleTimeString("uz-UZ")}catch(t){console.error("Health check failed:",t)}finally{u.value=!1}},v=()=>{const t=r.value.overall?.status;return t==="healthy"?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800":t==="warning"?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"},b=()=>{const t=r.value.overall?.status;return t==="healthy"?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":t==="warning"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"},p=()=>{const t=r.value.overall?.status;return t==="healthy"?"text-emerald-700 dark:text-emerald-400":t==="warning"?"text-yellow-700 dark:text-yellow-400":"text-red-700 dark:text-red-400"},f=()=>{const t=r.value.overall?.status;return t==="healthy"?"text-emerald-600 dark:text-emerald-500":t==="warning"?"text-yellow-600 dark:text-yellow-500":"text-red-600 dark:text-red-500"},w=()=>{const t=r.value.overall?.status;return t==="healthy"?"Tizim sog'lom":t==="warning"?"Ogohlantirish":t==="unhealthy"?"Muammo aniqlandi":"Tekshirilmoqda..."},m=t=>t==="healthy"?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":t==="warning"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":t==="unhealthy"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",g=t=>t==="healthy"?"Sog'lom":t==="warning"?"Ogohlantirish":t==="unhealthy"?"Sog'lom emas":"Tekshirilmoqda";return C(()=>{k()}),(t,s)=>(o(),M(_,{title:h(x)("admin.system_health.title")},{default:T(()=>[e("div",S,[e("div",O,[e("div",V,[e("div",null,[e("h2",I,a(h(x)("admin.system_health.title")),1),e("p",L,a(h(x)("admin.system_health.subtitle")),1)]),e("button",{onClick:k,disabled:u.value,class:"inline-flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors text-sm font-medium disabled:opacity-50"},[(o(),n("svg",{class:l(["w-4 h-4 mr-2",u.value?"animate-spin":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...s[0]||(s[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),s[1]||(s[1]=z(" Qayta tekshirish ",-1))],8,D)]),e("div",N,[e("div",{class:l(["rounded-lg p-4 border",v()])},[e("div",A,[e("div",E,[e("div",{class:l(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",b()])},[r.value.overall?.status==="healthy"?(o(),n("svg",P,[...s[2]||(s[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):r.value.overall?.status==="warning"?(o(),n("svg",Q,[...s[3]||(s[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])):(o(),n("svg",$,[...s[4]||(s[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],2),e("div",null,[e("h3",{class:l(["text-base font-semibold",p()])},a(w()),3),e("p",{class:l(["text-sm",f()])},a(r.value.overall?.percentage||0)+"% komponentlar sog'lom ",3)])]),e("div",F,[s[5]||(s[5]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Oxirgi tekshirish",-1)),e("p",K,a(y.value),1)])])],2)]),e("div",R,[e("div",U,[e("div",Z,[s[6]||(s[6]=e("div",{class:"flex items-center"},[e("div",{class:"w-9 h-9 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center mr-3"},[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})])]),e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Ma'lumotlar bazasi"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"MySQL ulanish")])],-1)),e("span",{class:l(["px-2 py-1 text-xs font-medium rounded-full",m(r.value.database?.status)])},a(g(r.value.database?.status)),3)]),e("p",G,a(r.value.database?.message||"Tekshirilmoqda..."),1)]),e("div",J,[e("div",W,[s[7]||(s[7]=e("div",{class:"flex items-center"},[e("div",{class:"w-9 h-9 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg flex items-center justify-center mr-3"},[e("svg",{class:"w-5 h-5 text-emerald-600 dark:text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})])]),e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Saqlash joyi"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Disk maydoni")])],-1)),e("span",{class:l(["px-2 py-1 text-xs font-medium rounded-full",m(r.value.storage?.status)])},a(g(r.value.storage?.status)),3)]),e("p",X,a(r.value.storage?.message||"Tekshirilmoqda..."),1),r.value.storage?.used?(o(),n("div",Y,[e("div",{class:l(["h-1.5 rounded-full transition-all duration-300",r.value.storage?.used>90?"bg-red-500":r.value.storage?.used>70?"bg-yellow-500":"bg-emerald-500"]),style:H(`width: ${r.value.storage?.used}%`)},null,6)])):B("",!0)]),e("div",ee,[e("div",te,[s[8]||(s[8]=e("div",{class:"flex items-center"},[e("div",{class:"w-9 h-9 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center mr-3"},[e("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Kesh tizimi"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Redis/File cache")])],-1)),e("span",{class:l(["px-2 py-1 text-xs font-medium rounded-full",m(r.value.cache?.status)])},a(g(r.value.cache?.status)),3)]),e("p",se,a(r.value.cache?.message||"Tekshirilmoqda..."),1)]),e("div",re,[e("div",ae,[s[9]||(s[9]=e("div",{class:"flex items-center"},[e("div",{class:"w-9 h-9 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center mr-3"},[e("svg",{class:"w-5 h-5 text-amber-600 dark:text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])]),e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Navbat tizimi"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Background jobs")])],-1)),e("span",{class:l(["px-2 py-1 text-xs font-medium rounded-full",m(r.value.queue?.status)])},a(g(r.value.queue?.status)),3)]),e("p",le,a(r.value.queue?.message||"Tekshirilmoqda..."),1)])]),e("div",oe,[s[14]||(s[14]=e("div",{class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Tizim ma'lumotlari")],-1)),e("div",de,[e("dl",ie,[e("div",ne,[s[10]||(s[10]=e("dt",{class:"text-xs text-gray-500 dark:text-gray-400"},"PHP versiya",-1)),e("dd",ue,a(d.systemInfo.php_version),1)]),e("div",me,[s[11]||(s[11]=e("dt",{class:"text-xs text-gray-500 dark:text-gray-400"},"Laravel versiya",-1)),e("dd",ge,a(d.systemInfo.laravel_version),1)]),e("div",xe,[s[12]||(s[12]=e("dt",{class:"text-xs text-gray-500 dark:text-gray-400"},"Server vaqti",-1)),e("dd",ce,a(d.systemInfo.server_time),1)]),e("div",he,[s[13]||(s[13]=e("dt",{class:"text-xs text-gray-500 dark:text-gray-400"},"Muhit",-1)),e("dd",ye,a(d.systemInfo.environment),1)])])])])])])]),_:1},8,["title"]))}};export{Ae as default};

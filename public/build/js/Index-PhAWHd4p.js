import{D as d,z as t,E as r,r as m,b as T,v as E,x as L,y as l,A as n,H as s,B as b,I as h,J as v,L as k,F as f,G as _,P as z,C as K,K as q}from"./chunk-BcTZxe-J.js";import{h as F}from"./chunk-BYRtWSr0.js";import{_ as M}from"./chunk-D2CDubcM.js";import{f as I}from"./chunk-CYarSvys.js";import{r as B}from"./chunk-D0j8iZkh.js";import{r as O}from"./chunk-CJsSO8V8.js";import{r as X}from"./chunk-B4yz7jSC.js";import"./app-DWC75jbx.js";import"./chunk-C1xeNfMu.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CrR1zWIb.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";function D(i,c){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}const N={class:"space-y-6"},U={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},H={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},P={class:"flex items-center gap-3"},Q={class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center"},G={class:"text-2xl font-bold text-green-600"},J={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},R={class:"flex items-center gap-3"},W={class:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center"},Y={class:"text-2xl font-bold text-red-600"},Z={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},tt={class:"flex items-center gap-3"},et={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center"},at={class:"text-2xl font-bold text-blue-600"},st={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},rt={class:"flex items-center gap-3"},ot={class:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center"},dt={class:"text-2xl font-bold text-orange-600"},it={class:"border-b border-gray-200 dark:border-gray-700"},lt={class:"flex gap-4"},nt={class:"relative max-w-md"},xt={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden"},gt={class:"overflow-x-auto"},ct={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ut={class:"divide-y divide-gray-200 dark:divide-gray-700"},mt={class:"px-6 py-4 whitespace-nowrap"},pt={class:"flex items-center"},yt={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center"},ht={class:"text-sm font-medium text-green-600 dark:text-green-400"},bt={class:"ml-4"},vt={class:"text-sm font-medium text-gray-900 dark:text-white"},kt={class:"text-sm text-gray-500 dark:text-gray-400"},ft={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},_t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Ct={class:"px-6 py-4 whitespace-nowrap text-right"},Tt=["onClick"],Et={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},It={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden"},Bt={class:"overflow-x-auto"},Vt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},At={class:"divide-y divide-gray-200 dark:divide-gray-700"},St={class:"px-6 py-4 whitespace-nowrap"},$t={class:"flex items-center"},Lt={class:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"},zt={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},Kt={class:"ml-4"},qt={class:"text-sm font-medium text-gray-900 dark:text-white"},Ft={class:"text-sm text-gray-500 dark:text-gray-400"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Xt={class:"px-6 py-4 whitespace-nowrap"},Dt={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate"},Nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Ut={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},Ht={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},Pt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full mx-4 p-6"},Qt={class:"text-gray-600 dark:text-gray-400 mb-4"},Gt={class:"space-y-4"},Jt=["value"],Rt={class:"flex justify-end gap-3 mt-6"},we={__name:"Index",props:{activeEmployees:Array,terminatedEmployees:Array,stats:Object,currentBusiness:Object},setup(i){const c=i,g=m(""),u=m("active"),p=m(!1),y=m(null),x=m({termination_type:"voluntary",termination_date:new Date().toISOString().split("T")[0],reason:"",notes:""}),w=[{value:"voluntary",label:"O'z xohishi bilan"},{value:"involuntary",label:"Ish beruvchi qaroriga ko'ra"},{value:"retirement",label:"Pensiyaga chiqish"},{value:"contract_end",label:"Shartnoma muddati tugashi"}],j=T(()=>g.value?c.activeEmployees?.filter(o=>o.name?.toLowerCase().includes(g.value.toLowerCase()))||[]:c.activeEmployees||[]),C=T(()=>g.value?c.terminatedEmployees?.filter(o=>o.name?.toLowerCase().includes(g.value.toLowerCase()))||[]:c.terminatedEmployees||[]),V=o=>w.find(a=>a.value===o)?.label||o,A=o=>({voluntary:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",involuntary:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",retirement:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",contract_end:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"})[o]||"bg-gray-100 text-gray-800",S=o=>{y.value=o,p.value=!0},$=()=>{y.value&&(console.log("Terminating:",y.value,x.value),p.value=!1)};return(o,e)=>(r(),E(M,{title:"Ishdan bo'shatish"},{default:L(()=>[l(n(F),{title:"Ishdan bo'shatish"}),t("div",N,[e[15]||(e[15]=t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Ishdan bo'shatish "),t("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Xodimlarni ishdan bo'shatish va ketish jarayoni ")])],-1)),t("div",U,[t("div",H,[t("div",P,[t("div",Q,[l(n(I),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Faol xodimlar",-1)),t("p",G,s(i.stats?.active_employees||0),1)])])]),t("div",J,[t("div",R,[t("div",W,[l(n(B),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Bu yil ketganlar",-1)),t("p",Y,s(i.stats?.terminated_this_year||0),1)])])]),t("div",Z,[t("div",tt,[t("div",et,[l(n(D),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"O'z xohishi bilan",-1)),t("p",at,s(i.stats?.voluntary||0),1)])])]),t("div",st,[t("div",rt,[t("div",ot,[l(n(O),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})]),t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Ish beruvchi qarori",-1)),t("p",dt,s(i.stats?.involuntary||0),1)])])])]),t("div",it,[t("nav",lt,[t("button",{onClick:e[0]||(e[0]=a=>u.value="active"),class:b(["py-3 px-4 text-sm font-medium border-b-2 transition-colors",u.value==="active"?"border-purple-600 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"])}," Faol xodimlar ("+s(i.activeEmployees?.length||0)+") ",3),t("button",{onClick:e[1]||(e[1]=a=>u.value="terminated"),class:b(["py-3 px-4 text-sm font-medium border-b-2 transition-colors",u.value==="terminated"?"border-purple-600 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"])}," Ketganlar tarixi ("+s(i.terminatedEmployees?.length||0)+") ",3)])]),t("div",nt,[l(n(X),{class:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),h(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>g.value=a),type:"text",placeholder:"Xodim qidirish...",class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[v,g.value]])]),u.value==="active"?(r(),d("div",xt,[t("div",gt,[t("table",ct,[e[11]||(e[11]=t("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Xodim"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Bo'lim"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Lavozim"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Qo'shilgan"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Staj (oy)"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Amallar")])],-1)),t("tbody",ut,[(r(!0),d(f,null,_(j.value,a=>(r(),d("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",mt,[t("div",pt,[t("div",yt,[t("span",ht,s(a.name?.charAt(0)||"?"),1)]),t("div",bt,[t("div",vt,s(a.name),1),t("div",kt,s(a.email),1)])])]),t("td",ft,s(a.department),1),t("td",_t,s(a.position),1),t("td",wt,s(a.joined_at),1),t("td",jt,s(a.tenure_months),1),t("td",Ct,[t("button",{onClick:Wt=>S(a),class:"px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors"}," Ishdan bo'shatish ",8,Tt)])]))),128))])])]),j.value.length===0?(r(),d("div",Et,[l(n(I),{class:"w-12 h-12 mx-auto opacity-50 mb-3"}),e[12]||(e[12]=t("p",null,"Xodimlar topilmadi",-1))])):k("",!0)])):(r(),d("div",It,[t("div",Bt,[t("table",Vt,[e[13]||(e[13]=t("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Xodim"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Bo'lim"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Ketish sanasi"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Ketish turi"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sabab"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Staj (oy)")])],-1)),t("tbody",At,[(r(!0),d(f,null,_(C.value,a=>(r(),d("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",St,[t("div",$t,[t("div",Lt,[t("span",zt,s(a.name?.charAt(0)||"?"),1)]),t("div",Kt,[t("div",qt,s(a.name),1),t("div",Ft,s(a.email),1)])])]),t("td",Mt,s(a.department||"—"),1),t("td",Ot,s(a.termination_date),1),t("td",Xt,[t("span",{class:b(["px-3 py-1 text-xs font-medium rounded-full",A(a.termination_type)])},s(V(a.termination_type)),3)]),t("td",Dt,s(a.reason||"—"),1),t("td",Nt,s(a.tenure_months||"—"),1)]))),128))])])]),C.value.length===0?(r(),d("div",Ut,[l(n(B),{class:"w-12 h-12 mx-auto opacity-50 mb-3"}),e[14]||(e[14]=t("p",null,"Ketgan xodimlar tarixi mavjud emas",-1))])):k("",!0)]))]),(r(),E(z,{to:"body"},[p.value?(r(),d("div",Ht,[t("div",Pt,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Ishdan bo'shatish ",-1)),t("p",Qt,[t("strong",null,s(y.value?.name),1),e[16]||(e[16]=K(" ni ishdan bo'shatmoqchimisiz? ",-1))]),t("div",Gt,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Ketish turi ",-1)),h(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>x.value.termination_type=a),class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"},[(r(),d(f,null,_(w,a=>t("option",{key:a.value,value:a.value},s(a.label),9,Jt)),64))],512),[[q,x.value.termination_type]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Ketish sanasi ",-1)),h(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>x.value.termination_date=a),type:"date",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"},null,512),[[v,x.value.termination_date]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Sabab ",-1)),h(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=a=>x.value.reason=a),rows:"3",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",placeholder:"Ishdan ketish sababi..."},null,512),[[v,x.value.reason]])])]),t("div",Rt,[t("button",{onClick:e[6]||(e[6]=a=>p.value=!1),class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg"}," Bekor qilish "),t("button",{onClick:$,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Ishdan bo'shatish ")])])])):k("",!0)]))]),_:1}))}};export{we as default};

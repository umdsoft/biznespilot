import{h as ne,l as J,a as q}from"./chunk-BYRtWSr0.js";import{_ as ge}from"./chunk-D2CDubcM.js";import{r as ue}from"./chunk-BHX0ueEB.js";import{r as ce}from"./chunk-EvWs7tbK.js";import{r as ye}from"./chunk-BKAQQsBH.js";import{b as z}from"./chunk-CYarSvys.js";import{r as O}from"./chunk-LBbTbQSS.js";import{r as Q}from"./chunk-I93QdGKi.js";import{r as T}from"./chunk-BaCQBAcd.js";import{r as Y}from"./chunk-CJsSO8V8.js";import{r as xe}from"./chunk-4iV7JvLR.js";import{r as be}from"./chunk-CQoMtUf7.js";import{r as pe}from"./chunk-Rs1WNzbn.js";import{r as X}from"./chunk-Ba8J67bG.js";import{a as U}from"./chunk-BVYwhYNk.js";import{r as m,w as me,b as D,o as ve,v as K,x as N,y as i,z as e,A as n,D as o,L as c,H as d,E as s,B as y,C as _,F as p,G as f,M as he,S as ke}from"./chunk-BcTZxe-J.js";import"./app-DWC75jbx.js";import"./chunk-C1xeNfMu.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-CrR1zWIb.js";import"./chunk-qVc0_oyq.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";const _e={class:"space-y-6"},fe={class:"flex items-center justify-between"},we={class:"flex items-center gap-4"},qe={class:"text-2xl font-bold text-gray-900 dark:text-white"},$e={key:0,class:"flex items-center gap-3 mt-1"},je={key:0,class:"text-xs text-purple-600 dark:text-purple-400"},Be={key:0,class:"flex items-center gap-3"},Se={key:0,class:"flex items-center justify-center py-12"},Ce={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},Ie={class:"text-red-800 dark:text-red-400"},ze={class:"border-b border-gray-200 dark:border-gray-700"},Te={class:"flex space-x-8","aria-label":"Tabs"},De=["onClick"],Ne={key:0,class:"ml-1 px-2 py-0.5 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-full"},Re={key:0,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Ee={class:"lg:col-span-2 space-y-6"},He={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},Le={class:"text-gray-900 dark:text-white"},Me={key:1,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-6"},Fe={class:"text-sm font-medium text-green-800 dark:text-green-400 mb-3 flex items-center gap-2"},Je={class:"flex items-center gap-3"},Oe=["value"],Qe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-200 dark:border-gray-700"},Ye={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Xe={class:"font-semibold text-gray-900 dark:text-white"},Ue={class:"divide-y divide-gray-200 dark:divide-gray-700"},Ke={class:"flex items-start gap-4"},Ve={class:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center shrink-0"},Ae={class:"text-sm font-medium text-purple-600 dark:text-purple-400"},Pe={class:"flex-1"},Ge={class:"text-gray-900 dark:text-white font-medium"},We={class:"flex items-center gap-3 mt-2"},Ze={class:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded"},et={class:"space-y-6"},tt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm space-y-4 border border-gray-200 dark:border-gray-700"},rt={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},at={class:"font-semibold text-gray-900 dark:text-white"},st={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},ot={class:"font-semibold text-gray-900 dark:text-white"},dt={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},lt={class:"font-semibold text-gray-900 dark:text-white"},it={key:0,class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},nt={class:"font-semibold text-gray-900 dark:text-white"},gt={key:1,class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},ut={class:"font-semibold text-gray-900 dark:text-white"},ct={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},yt={class:"text-gray-600 dark:text-gray-400"},xt={class:"text-sm text-gray-500 dark:text-gray-500 mt-1"},bt={key:1,class:"space-y-6"},pt={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700"},mt={key:1,class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},vt={class:"flex items-center justify-between mb-6"},ht={class:"text-gray-600 dark:text-gray-400"},kt={key:2,class:"space-y-6"},_t={key:0,class:"flex items-center justify-center py-12"},ft={key:1,class:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700"},wt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},qt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},$t={class:"flex items-center gap-3"},jt={class:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center"},Bt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},St={class:"text-2xl font-bold text-emerald-500 dark:text-emerald-400"},Ct={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},It={class:"text-2xl font-bold text-amber-500 dark:text-amber-400"},zt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Tt={class:"text-2xl font-bold text-red-500 dark:text-red-400"},Dt={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Nt={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},Rt={class:"space-y-3"},Et={class:"text-gray-600 dark:text-gray-300 text-sm mt-1"},Ht={key:1,class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Lt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Mt={class:"flex items-center justify-between mb-2"},Ft={class:"text-sm text-gray-600 dark:text-gray-300"},Jt={class:"bg-gray-200 dark:bg-gray-600 rounded-full h-2"},Ot={key:2,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},Qt={class:"overflow-x-auto"},Yt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Xt={class:"divide-y divide-gray-200 dark:divide-gray-700"},Ut={class:"px-6 py-4 whitespace-nowrap"},Kt={class:"text-sm font-medium text-gray-900 dark:text-white"},Vt={class:"px-6 py-4 whitespace-nowrap"},At={class:"px-6 py-4 whitespace-nowrap"},Pt={key:3,class:"space-y-6"},Gt={key:0,class:"flex items-center justify-center py-12"},Wt={key:1,class:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700"},Zt={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},er={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},tr={class:"text-center"},rr={class:"text-2xl font-bold text-gray-900 dark:text-white"},ar={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-l-4 border-red-500"},sr={class:"text-center"},or={class:"text-3xl font-bold text-red-500 dark:text-red-400"},dr={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-l-4 border-orange-500"},lr={class:"text-center"},ir={class:"text-3xl font-bold text-orange-500 dark:text-orange-400"},nr={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-l-4 border-yellow-500"},gr={class:"text-center"},ur={class:"text-3xl font-bold text-yellow-500 dark:text-yellow-400"},cr={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-l-4 border-green-500"},yr={class:"text-center"},xr={class:"text-3xl font-bold text-green-500 dark:text-green-400"},br={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},pr={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},mr={class:"space-y-3"},vr={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-200 dark:border-gray-700"},hr={class:"overflow-x-auto"},kr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},_r={class:"divide-y divide-gray-200 dark:divide-gray-700"},fr={class:"px-6 py-4 whitespace-nowrap"},wr={class:"text-sm font-medium text-gray-900 dark:text-white"},qr={class:"px-6 py-4 whitespace-nowrap"},$r={class:"px-6 py-4 whitespace-nowrap"},Zr={__name:"Show",props:{currentBusiness:Object,surveyId:String},setup(R){const g=R,$=m(!0),l=m(null),v=m(""),j=m(!1),h=m("overview"),u=m(null),b=m(null),B=m(!1),S=m(!1),V=[{id:"overview",label:"Umumiy",icon:O},{id:"results",label:"Natijalar",icon:Q},{id:"engagement",label:"Ishga Qiziqish",icon:T},{id:"flightrisk",label:"Ketish Xavfi",icon:Y}],C=async()=>{if(!g.currentBusiness?.id||!g.surveyId){v.value="Biznes yoki so'rovnoma tanlanmagan",$.value=!1;return}$.value=!0,v.value="";try{const r=await q.get(`/api/v1/businesses/${g.currentBusiness.id}/hr/surveys/${g.surveyId}`);l.value=r.data.data}catch(r){console.error("Error fetching survey:",r),v.value=r.response?.data?.message||"So'rovnomani yuklashda xatolik"}finally{$.value=!1}},A=async()=>{if(!(!g.currentBusiness?.id||!g.surveyId)){B.value=!0;try{const r=await q.get(`/api/v1/businesses/${g.currentBusiness.id}/hr/surveys/${g.surveyId}/engagement`);u.value=r.data.data}catch(r){console.error("Error fetching engagement data:",r),u.value=null}finally{B.value=!1}}},P=async()=>{if(!(!g.currentBusiness?.id||!g.surveyId)){S.value=!0;try{const r=await q.get(`/api/v1/businesses/${g.currentBusiness.id}/hr/surveys/${g.surveyId}/flight-risk`);b.value=r.data.data}catch(r){console.error("Error fetching flight risk data:",r),b.value=null}finally{S.value=!1}}};me(h,r=>{r==="engagement"&&!u.value&&!B.value&&A(),r==="flightrisk"&&!b.value&&!S.value&&P()});const G=async()=>{if(g.currentBusiness?.id)try{await q.post(`/api/v1/businesses/${g.currentBusiness.id}/hr/surveys/${g.surveyId}/activate`),await C()}catch(r){v.value=r.response?.data?.message||"Faollashtirishda xatolik"}},W=async()=>{if(g.currentBusiness?.id)try{await q.post(`/api/v1/businesses/${g.currentBusiness.id}/hr/surveys/${g.surveyId}/close`),await C()}catch(r){v.value=r.response?.data?.message||"Yopishda xatolik"}},E=D(()=>`${window.location.origin}/hr/surveys/${g.surveyId}/fill`),Z=async()=>{try{await navigator.clipboard.writeText(E.value),j.value=!0,setTimeout(()=>j.value=!1,2e3)}catch(r){console.error("Copy failed:",r)}},ee=r=>({draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",closed:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"})[r]||"bg-gray-100 text-gray-800",te=r=>({engagement:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",pulse:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",exit:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",onboarding:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-400","360_feedback":"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",custom:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"})[r]||"bg-gray-100 text-gray-800",re=r=>({scale:"Shkala (1-5)",rating:"Reyting",choice:"Tanlash",multiple_choice:"Ko'p tanlash",yes_no:"Ha/Yo'q",text:"Matn"})[r]||r,ae=r=>({highly_engaged:"Juda qiziqgan",engaged:"Qiziqgan",neutral:"Neytral",disengaged:"Qiziqmagan"})[r]||r,se=r=>({highly_engaged:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",engaged:"bg-blue-500/20 text-blue-400 border border-blue-500/30",neutral:"bg-amber-500/20 text-amber-400 border border-amber-500/30",disengaged:"bg-red-500/20 text-red-400 border border-red-500/30"})[r]||"bg-gray-500/20 text-gray-400",I=r=>r>=80?"text-emerald-400":r>=65?"text-blue-400":r>=50?"text-amber-400":"text-red-400",oe=r=>r>=80?"bg-emerald-500":r>=65?"bg-blue-500":r>=50?"bg-amber-500":"bg-red-500",de=r=>({critical:"Juda yuqori xavf",high:"Yuqori xavf",moderate:"O'rtacha xavf",medium:"O'rtacha xavf",low:"Past xavf"})[r]||r,le=r=>({critical:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300",high:"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",moderate:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",low:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"})[r]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",ie=r=>r>=70?"text-red-500 dark:text-red-400":r>=50?"text-orange-500 dark:text-orange-400":r>=30?"text-yellow-500 dark:text-yellow-400":"text-green-500 dark:text-green-400",H=D(()=>{if(!u.value)return[];const r=[],t=u.value.avg_score||0;if(t>=80?r.push({type:"success",title:"A'lo natija!",message:"Bu so'rovnomada hodimlar ishga qiziqish darajasi juda yuqori."}):t<50&&r.push({type:"danger",title:"Diqqat talab qilinadi!",message:"Bu so'rovnomada umumiy ishga qiziqish darajasi past."}),u.value.components){const a=u.value.components,x=Object.entries(a).filter(([k,w])=>w<50).map(([k,w])=>L(k));x.length>0&&r.push({type:"warning",title:"Diqqat qilish kerak",message:`Quyidagi sohalarda ball past: ${x.join(", ")}`})}return r}),L=r=>({work_satisfaction:"Ish qoniqishi",team_collaboration:"Jamoa hamkorligi",growth_opportunities:"O'sish imkoniyatlari",recognition_frequency:"Tan olinish",manager_support:"Menejer qo'llab-quvvatlashi",work_life_balance:"Ish-hayot balansi",purpose_clarity:"Maqsad aniqligi",resources_adequacy:"Resurslar yetarliligi"})[r]||r,M=D(()=>{if(!b.value)return[];const r=[],t=b.value.risk_distribution||{},a=t.critical?.count||0,x=t.high?.count||0,k=a+x;k>0&&r.push({type:"warning",title:"Yuqori xavfdagi hodimlar",message:`${k} ta hodim yuqori ketish xavfida. Ular bilan suhbat o'tkazing.`});const w=b.value.total_employees||0,F=w>0?Math.round(k/w*100):0;return F>=30?r.push({type:"danger",title:"Umumiy xavf yuqori",message:`Hodimlarning ${F}% i yuqori xavfda. Kompaniyada umumiy muammo bo'lishi mumkin.`}):k===0&&r.push({type:"success",title:"Xavf nazorat ostida",message:"Hech qaysi hodim yuqori ketish xavfida emas. Hodimlar barqaror."}),r});return ve(C),(r,t)=>(s(),K(ge,{title:"So'rovnoma tafsilotlari"},{default:N(()=>[i(n(ne),{title:l.value?.title||"So'rovnoma"},null,8,["title"]),e("div",_e,[e("div",fe,[e("div",we,[i(n(J),{href:"/hr/surveys",class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg"},{default:N(()=>[i(n(ue),{class:"w-5 h-5 text-gray-500"})]),_:1}),e("div",null,[e("h1",qe,d(l.value?.title||"So'rovnoma"),1),l.value?(s(),o("div",$e,[e("span",{class:y(["px-3 py-1 text-xs font-medium rounded-full",te(l.value.type)])},d(l.value.type_label),3),e("span",{class:y(["px-3 py-1 text-xs font-medium rounded-full",ee(l.value.status)])},d(l.value.status_label),3),l.value.is_anonymous?(s(),o("span",je," Anonim ")):c("",!0)])):c("",!0)])]),l.value?(s(),o("div",Be,[l.value.status==="draft"?(s(),o("button",{key:0,onClick:G,class:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},[i(n(ce),{class:"w-5 h-5"}),t[0]||(t[0]=_(" Faollashtirish ",-1))])):c("",!0),l.value.status==="active"?(s(),o("button",{key:1,onClick:W,class:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},[i(n(ye),{class:"w-5 h-5"}),t[1]||(t[1]=_(" Yopish ",-1))])):c("",!0)])):c("",!0)]),$.value?(s(),o("div",Se,[i(n(z),{class:"w-8 h-8 animate-spin text-purple-600"})])):v.value?(s(),o("div",Ce,[e("p",Ie,d(v.value),1)])):l.value?(s(),o(p,{key:2},[e("div",ze,[e("nav",Te,[(s(),o(p,null,f(V,a=>e("button",{key:a.id,onClick:x=>h.value=a.id,class:y(["flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors",h.value===a.id?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},[(s(),K(he(a.icon),{class:"w-5 h-5"})),_(" "+d(a.label)+" ",1),a.id==="results"&&l.value.response_count>0?(s(),o("span",Ne,d(l.value.response_count),1)):c("",!0)],10,De)),64))])]),h.value==="overview"?(s(),o("div",Re,[e("div",Ee,[l.value.description?(s(),o("div",He,[t[2]||(t[2]=e("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},"Tavsif",-1)),e("p",Le,d(l.value.description),1)])):c("",!0),l.value.status==="active"?(s(),o("div",Me,[e("h3",Fe,[i(n(xe),{class:"w-5 h-5"}),t[3]||(t[3]=_(" Xodimlarga yuborish uchun havola ",-1))]),e("div",Je,[e("input",{type:"text",value:E.value,readonly:"",class:"flex-1 px-4 py-2 bg-white dark:bg-gray-800 border border-green-300 dark:border-green-700 rounded-lg text-sm text-gray-900 dark:text-white"},null,8,Oe),e("button",{onClick:Z,class:y(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",j.value?"bg-green-600 text-white":"bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-700"])},d(j.value?"Nusxalandi!":"Nusxalash"),3)])])):c("",!0),e("div",Qe,[e("div",Ye,[e("h3",Xe," Savollar ("+d(l.value.questions?.length||0)+") ",1)]),e("div",Ue,[(s(!0),o(p,null,f(l.value.questions,(a,x)=>(s(),o("div",{key:x,class:"px-6 py-4"},[e("div",Ke,[e("div",Ve,[e("span",Ae,d(x+1),1)]),e("div",Pe,[e("p",Ge,d(a.text),1),e("div",We,[e("span",Ze,d(re(a.type)),1)])])])]))),128))])])]),e("div",et,[e("div",tt,[t[9]||(t[9]=e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Statistika",-1)),e("div",rt,[i(n(be),{class:"w-5 h-5 text-gray-400"}),e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Maqsadli auditoriya",-1)),e("p",at,d(l.value.target_count)+" kishi",1)])]),e("div",st,[i(n(pe),{class:"w-5 h-5 text-green-500"}),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Javoblar",-1)),e("p",ot,d(l.value.response_count)+" ("+d(l.value.response_rate)+"%) ",1)])]),e("div",dt,[i(n(O),{class:"w-5 h-5 text-purple-500"}),e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Savollar soni",-1)),e("p",lt,d(l.value.questions?.length||0),1)])]),l.value.start_date?(s(),o("div",it,[i(n(X),{class:"w-5 h-5 text-blue-500"}),e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Boshlanish",-1)),e("p",nt,d(l.value.start_date),1)])])):c("",!0),l.value.end_date?(s(),o("div",gt,[i(n(X),{class:"w-5 h-5 text-red-500"}),e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tugash",-1)),e("p",ut,d(l.value.end_date),1)])])):c("",!0)]),l.value.creator?(s(),o("div",ct,[t[10]||(t[10]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-3"},"Yaratuvchi",-1)),e("p",yt,d(l.value.creator.name),1),e("p",xt,d(l.value.created_at),1)])):c("",!0)])])):h.value==="results"?(s(),o("div",bt,[l.value.response_count===0?(s(),o("div",pt,[i(n(Q),{class:"w-12 h-12 mx-auto text-gray-400 mb-4"}),t[11]||(t[11]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Hali javoblar yo'q",-1)),t[12]||(t[12]=e("p",{class:"text-gray-500 dark:text-gray-400"}," So'rovnomani faollashtiring va xodimlarga havolani yuboring ",-1))])):(s(),o("div",mt,[e("div",vt,[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Javoblar natijalari ",-1)),i(n(J),{href:`/hr/surveys/${R.surveyId}/results`,class:"text-purple-600 dark:text-purple-400 hover:underline text-sm"},{default:N(()=>[...t[13]||(t[13]=[_(" To'liq ko'rish â†’ ",-1)])]),_:1},8,["href"])]),e("p",ht," Jami "+d(l.value.response_count)+" ta javob qabul qilindi ("+d(l.value.response_rate)+"% javob berdi) ",1)]))])):h.value==="engagement"?(s(),o("div",kt,[B.value?(s(),o("div",_t,[i(n(z),{class:"w-8 h-8 animate-spin text-purple-600"})])):!u.value||l.value.response_count===0?(s(),o("div",ft,[i(n(T),{class:"w-12 h-12 mx-auto text-gray-400 mb-4"}),t[15]||(t[15]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Ma'lumot yo'q",-1)),t[16]||(t[16]=e("p",{class:"text-gray-500 dark:text-gray-400"}," Bu so'rovnomaga javoblar kelgandan so'ng ishga qiziqish tahlili ko'rinadi ",-1))])):(s(),o(p,{key:2},[e("div",wt,[e("div",qt,[e("div",$t,[e("div",jt,[i(n(T),{class:"w-6 h-6 text-purple-500 dark:text-purple-400"})]),e("div",null,[t[17]||(t[17]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"O'rtacha ball",-1)),e("p",{class:y(["text-2xl font-bold",I(u.value.avg_score||0)])},d((u.value.avg_score||0).toFixed(1)),3)])])]),e("div",Bt,[t[18]||(t[18]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Qiziqgan hodimlar",-1)),e("p",St,d((u.value.distribution?.highly_engaged?.count||0)+(u.value.distribution?.engaged?.count||0)),1)]),e("div",Ct,[t[19]||(t[19]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Neytral",-1)),e("p",It,d(u.value.distribution?.neutral?.count||0),1)]),e("div",zt,[t[20]||(t[20]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Qiziqmagan",-1)),e("p",Tt,d(u.value.distribution?.disengaged?.count||0),1)])]),H.value.length>0?(s(),o("div",Dt,[e("h3",Nt,[i(n(U),{class:"w-5 h-5 text-amber-500"}),t[21]||(t[21]=_(" Xulosa va tavsiyalar ",-1))]),e("div",Rt,[(s(!0),o(p,null,f(H.value,(a,x)=>(s(),o("div",{key:x,class:y(["p-4 rounded-lg border",a.type==="success"?"bg-emerald-50 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-500/30":a.type==="danger"?"bg-red-50 dark:bg-red-500/10 border-red-200 dark:border-red-500/30":"bg-amber-50 dark:bg-amber-500/10 border-amber-200 dark:border-amber-500/30"])},[e("h4",{class:y(["font-medium",a.type==="success"?"text-emerald-700 dark:text-emerald-400":a.type==="danger"?"text-red-700 dark:text-red-400":"text-amber-700 dark:text-amber-400"])},d(a.title),3),e("p",Et,d(a.message),1)],2))),128))])])):c("",!0),u.value.components?(s(),o("div",Ht,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Komponent bo'yicha o'rtacha balllar ",-1)),e("div",Lt,[(s(!0),o(p,null,f(u.value.components,(a,x)=>(s(),o("div",{key:x,class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600"},[e("div",Mt,[e("span",Ft,d(L(x)),1),e("span",{class:y(["text-lg font-bold",I(a)])},d(a),3)]),e("div",Jt,[e("div",{class:y(["h-2 rounded-full transition-all duration-500",oe(a)]),style:ke({width:`${a}%`})},null,6)])]))),128))])])):c("",!0),u.value.employees?.length>0?(s(),o("div",Ot,[t[24]||(t[24]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Hodimlar ro'yxati")],-1)),e("div",Qt,[e("table",Yt,[t[23]||(t[23]=e("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Hodim"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Ball"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Daraja")])],-1)),e("tbody",Xt,[(s(!0),o(p,null,f(u.value.employees,a=>(s(),o("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[e("td",Ut,[e("span",Kt,d(a.name||"Noma'lum"),1)]),e("td",Vt,[e("span",{class:y(["text-lg font-bold",I(a.overall_score)])},d(a.overall_score?.toFixed(1)),3)]),e("td",At,[e("span",{class:y(["px-3 py-1 text-xs font-medium rounded-full",se(a.engagement_level)])},d(ae(a.engagement_level)),3)])]))),128))])])])])):c("",!0)],64))])):h.value==="flightrisk"?(s(),o("div",Pt,[S.value?(s(),o("div",Gt,[i(n(z),{class:"w-8 h-8 animate-spin text-purple-600"})])):!b.value||l.value.response_count===0?(s(),o("div",Wt,[i(n(Y),{class:"w-12 h-12 mx-auto text-gray-400 mb-4"}),t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Ma'lumot yo'q",-1)),t[26]||(t[26]=e("p",{class:"text-gray-500 dark:text-gray-400"}," Bu so'rovnomaga javoblar kelgandan so'ng ketish xavfi tahlili ko'rinadi ",-1))])):(s(),o(p,{key:2},[e("div",Zt,[e("div",er,[e("div",tr,[e("p",rr,d(b.value.total_employees||0),1),t[27]||(t[27]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jami hodimlar",-1))])]),e("div",ar,[e("div",sr,[e("p",or,d(b.value.risk_distribution?.critical?.count||0),1),t[28]||(t[28]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Juda yuqori",-1))])]),e("div",dr,[e("div",lr,[e("p",ir,d(b.value.risk_distribution?.high?.count||0),1),t[29]||(t[29]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Yuqori",-1))])]),e("div",nr,[e("div",gr,[e("p",ur,d(b.value.risk_distribution?.medium?.count||0),1),t[30]||(t[30]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"O'rtacha",-1))])]),e("div",cr,[e("div",yr,[e("p",xr,d(b.value.risk_distribution?.low?.count||0),1),t[31]||(t[31]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Past",-1))])])]),M.value.length>0?(s(),o("div",br,[e("h3",pr,[i(n(U),{class:"w-5 h-5 text-amber-500"}),t[32]||(t[32]=_(" Xulosa va Tavsiyalar ",-1))]),e("div",mr,[(s(!0),o(p,null,f(M.value,(a,x)=>(s(),o("div",{key:x,class:y(["p-4 rounded-lg border",a.type==="success"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":a.type==="danger"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"])},[e("h4",{class:y(["font-medium",a.type==="success"?"text-green-800 dark:text-green-300":a.type==="danger"?"text-red-800 dark:text-red-300":"text-amber-800 dark:text-amber-300"])},d(a.title),3),e("p",{class:y(["text-sm mt-1",a.type==="success"?"text-green-700 dark:text-green-400":a.type==="danger"?"text-red-700 dark:text-red-400":"text-amber-700 dark:text-amber-400"])},d(a.message),3)],2))),128))])])):c("",!0),b.value.employees?.length>0?(s(),o("div",vr,[t[34]||(t[34]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Hodimlar ro'yxati")],-1)),e("div",hr,[e("table",kr,[t[33]||(t[33]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Hodim"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Xavf balli"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},"Daraja")])],-1)),e("tbody",_r,[(s(!0),o(p,null,f(b.value.employees,a=>(s(),o("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[e("td",fr,[e("span",wr,d(a.name||"Noma'lum"),1)]),e("td",qr,[e("span",{class:y(["text-lg font-bold",ie(a.risk_score)])},d(a.risk_score)+"% ",3)]),e("td",$r,[e("span",{class:y(["px-3 py-1 text-xs font-medium rounded-full",le(a.risk_level)])},d(de(a.risk_level)),3)])]))),128))])])])])):c("",!0)],64))])):c("",!0)],64)):c("",!0)])]),_:1}))}};export{Zr as default};

import{r as e,v as t,x as a,z as s,D as r,L as l,H as n,A as o,I as i,K as d,J as c,C as g,E as x,F as p,G as u}from"./chunk-7Urb0kxg.js";import{r as m,a as y}from"./chunk-DKkye6wf.js";import{_ as b}from"./chunk-BB8-4400.js";import{u as v}from"./app-DFslr8vl.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-Di7Oc7TS.js";const h={class:"py-12"},k={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},f={class:"mb-8"},w={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},_={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},j={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8"},C={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},z={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},M={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},V={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},B={class:"mt-4"},F={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},H={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-md p-6 text-white"},A={class:"flex items-center justify-between"},L={class:"text-sm opacity-90"},q={class:"text-3xl font-bold mt-2"},I={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-md p-6 text-white"},O={class:"flex items-center justify-between"},R={class:"text-sm opacity-90"},U={class:"text-3xl font-bold mt-2"},K={class:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-md p-6 text-white"},T={class:"flex items-center justify-between"},W={class:"text-sm opacity-90"},D={class:"text-3xl font-bold mt-2"},E={class:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-md p-6 text-white"},G={class:"flex items-center justify-between"},J={class:"text-sm opacity-90"},S={class:"text-3xl font-bold mt-2"},N={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},P={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},Q={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},X={class:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400"},Y={class:"text-center"},Z={class:"text-sm"},$={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},ee={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},te={class:"space-y-4"},ae={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},se={class:"text-sm text-gray-700 dark:text-gray-300"},re={class:"text-lg font-bold text-green-600 dark:text-green-400"},le={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},ne={class:"text-sm text-gray-700 dark:text-gray-300"},oe={class:"text-lg font-bold text-gray-600 dark:text-gray-300"},ie={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},de={class:"text-sm text-gray-700 dark:text-gray-300"},ce={class:"text-lg font-bold text-purple-600 dark:text-purple-400"},ge={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},xe={class:"text-sm text-gray-700 dark:text-gray-300"},pe={class:"text-lg font-bold text-blue-600 dark:text-blue-400"},ue={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},me={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},ye={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},be={class:"space-y-3"},ve={class:"text-center mb-4"},he={class:"text-3xl font-bold text-purple-600 dark:text-purple-400"},ke={class:"text-sm text-gray-600 dark:text-gray-400"},fe={key:0,class:"space-y-2"},we={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},_e={class:"text-sm font-bold text-purple-600 dark:text-purple-400"},je={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},Ce={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},ze={class:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400"},Me={class:"text-center"},Ve={class:"text-sm"},Be={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},Fe={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},He={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ae={class:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl"},Le={class:"text-sm text-blue-700 dark:text-blue-300 mb-2"},qe={class:"text-3xl font-bold text-blue-600 dark:text-blue-400"},Ie={class:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl"},Oe={class:"text-sm text-green-700 dark:text-green-300 mb-2"},Re={class:"text-3xl font-bold text-green-600 dark:text-green-400"},Ue={class:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 rounded-xl"},Ke={class:"text-sm text-purple-700 dark:text-purple-300 mb-2"},Te={class:"text-3xl font-bold text-purple-600 dark:text-purple-400"},We={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},De={class:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto"},Ee={class:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},Ge={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},Je={class:"p-6"},Se={key:0,class:"overflow-x-auto"},Ne={class:"min-w-full"},Pe={class:"border-b border-gray-200 dark:border-gray-700"},Qe={class:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"},Xe={class:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100"},Ye={class:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100"},Ze={class:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100"},$e={class:"px-4 py-3"},et={class:"flex items-center"},tt={class:"text-xl mr-2"},at={class:"font-medium text-gray-900 dark:text-gray-100"},st={class:"px-4 py-3 text-center text-gray-900 dark:text-gray-100"},rt={class:"px-4 py-3 text-center text-gray-900 dark:text-gray-100"},lt={class:"px-4 py-3 text-center"},nt={class:"px-3 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 rounded-full font-semibold"},ot={__name:"Channels",props:{analytics:Object,selectedChannel:String,dateRange:Object,currentBusiness:Object},setup(ot){const{t:it}=v(),dt=ot,ct=e(dt.selectedChannel||"whatsapp"),gt=e(dt.dateRange?.start||""),xt=e(dt.dateRange?.end||""),pt=e(!1),ut=e(null),mt=()=>{m.get(route("business.analytics.channels.index"),{channel:ct.value,start_date:gt.value,end_date:xt.value})},yt=()=>{m.get(route("business.analytics.channels.index"),{channel:ct.value,start_date:gt.value,end_date:xt.value})},bt=async()=>{try{const e=await y.post(route("business.analytics.channels.compare"),{start_date:gt.value,end_date:xt.value});e.data.success&&(ut.value=e.data.comparison,pt.value=!0)}catch(e){alert(it("common.error"))}},vt=e=>({whatsapp:"ğŸ’¬",instagram:"ğŸ“¸",telegram:"âœˆï¸",facebook:"ğŸ‘¥"}[e]||"ğŸ’¬"),ht=e=>({whatsapp:"WhatsApp",instagram:"Instagram",telegram:"Telegram",facebook:"Facebook"}[e]||e);return(e,m)=>(x(),t(b,{title:o(it)("analytics.channel_analysis")},{default:a(()=>[s("div",h,[s("div",k,[s("div",f,[s("h2",w,n(o(it)("analytics.channel_analysis")),1),s("p",_,n(o(it)("analytics.channel_analysis_desc")),1)]),s("div",j,[s("div",C,[s("div",null,[s("label",z,n(o(it)("analytics.channel")),1),i(s("select",{"onUpdate:modelValue":m[0]||(m[0]=e=>ct.value=e),onChange:mt,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-purple-500 focus:border-purple-500"},[...m[4]||(m[4]=[s("option",{value:"whatsapp"},"WhatsApp",-1),s("option",{value:"instagram"},"Instagram",-1),s("option",{value:"telegram"},"Telegram",-1),s("option",{value:"facebook"},"Facebook",-1)])],544),[[d,ct.value]])]),s("div",null,[s("label",M,n(o(it)("reports.filter.start_date")),1),i(s("input",{"onUpdate:modelValue":m[1]||(m[1]=e=>gt.value=e),onChange:yt,type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-purple-500 focus:border-purple-500"},null,544),[[c,gt.value]])]),s("div",null,[s("label",V,n(o(it)("reports.filter.end_date")),1),i(s("input",{"onUpdate:modelValue":m[2]||(m[2]=e=>xt.value=e),onChange:yt,type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-purple-500 focus:border-purple-500"},null,544),[[c,xt.value]])])]),s("div",B,[s("button",{onClick:bt,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700"},n(o(it)("analytics.compare_channels")),1)])]),s("div",F,[s("div",H,[s("div",A,[s("div",null,[s("p",L,n(o(it)("analytics.total_conversations")),1),s("p",q,n(ot.analytics.overview?.total_conversations||0),1)]),m[5]||(m[5]=s("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),s("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})])],-1))])]),s("div",I,[s("div",O,[s("div",null,[s("p",R,n(o(it)("analytics.total_messages")),1),s("p",U,n(ot.analytics.overview?.total_messages||0),1)]),m[6]||(m[6]=s("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),s("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})])],-1))])]),s("div",K,[s("div",T,[s("div",null,[s("p",W,n(o(it)("analytics.unique_customers")),1),s("p",D,n(ot.analytics.overview?.unique_customers||0),1)]),m[7]||(m[7]=s("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})])],-1))])]),s("div",E,[s("div",G,[s("div",null,[s("p",J,n(o(it)("analytics.avg_response_time")),1),s("p",S,[g(n(ot.analytics.response_metrics?.avg_response_time_minutes?.toFixed(1)||0),1),m[8]||(m[8]=s("span",{class:"text-lg"},"min",-1))])]),m[9]||(m[9]=s("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})])],-1))])])]),s("div",N,[s("div",P,[s("h3",Q,n(o(it)("analytics.message_volume")),1),s("div",X,[s("div",Y,[m[10]||(m[10]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),s("p",Z," Kunlik: "+n(ot.analytics.message_volume?.daily?.length||0)+" kun ",1),m[11]||(m[11]=s("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1"}," Chart.js integratsiyasi kerak ",-1))])])]),s("div",$,[s("h3",ee,n(o(it)("analytics.engagement_metrics")),1),s("div",te,[s("div",ae,[s("span",se,n(o(it)("analytics.active_conversations")),1),s("span",re,n(ot.analytics.engagement_metrics?.active_conversations||0),1)]),s("div",le,[s("span",ne,n(o(it)("analytics.closed_conversations")),1),s("span",oe,n(ot.analytics.engagement_metrics?.closed_conversations||0),1)]),s("div",ie,[s("span",de,n(o(it)("analytics.avg_duration")),1),s("span",ce,n(ot.analytics.engagement_metrics?.avg_conversation_duration_minutes?.toFixed(1)||0)+" min ",1)]),s("div",ge,[s("span",xe,n(o(it)("analytics.returning_customers")),1),s("span",pe,n(ot.analytics.engagement_metrics?.returning_customers||0),1)])])])]),s("div",ue,[s("div",me,[s("h3",ye,n(o(it)("analytics.conversion_funnel")),1),s("div",be,[s("div",ve,[s("div",he,n(ot.analytics.conversion_metrics?.conversion_rate||0)+"% ",1),s("div",ke,n(o(it)("analytics.conversion_rate")),1)]),ot.analytics.conversion_metrics?.stages_distribution?(x(),r("div",fe,[(x(!0),r(p,null,u(ot.analytics.conversion_metrics.stages_distribution,(e,t)=>(x(),r("div",{key:t,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[s("span",we,n(t),1),s("span",_e,n(e),1)]))),128))])):l("",!0)])]),s("div",je,[s("h3",Ce,n(o(it)("analytics.hourly_distribution")),1),s("div",ze,[s("div",Me,[m[12]||(m[12]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s("p",Ve,n(ot.analytics.hourly_distribution?.length||0)+" soatlik ma'lumot ",1),m[13]||(m[13]=s("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1"}," Chart.js integratsiyasi kerak ",-1))])])])]),s("div",Be,[s("h3",Fe,n(o(it)("analytics.response_metrics")),1),s("div",He,[s("div",Ae,[s("div",Le,n(o(it)("analytics.avg_response_time")),1),s("div",qe,n(ot.analytics.response_metrics?.avg_response_time_seconds?.toFixed(1)||0)+"s ",1)]),s("div",Ie,[s("div",Oe,n(o(it)("analytics.response_rate")),1),s("div",Re,n(ot.analytics.response_metrics?.response_rate?.toFixed(1)||0)+"% ",1)]),s("div",Ue,[s("div",Ke,n(o(it)("analytics.avg_messages")),1),s("div",Te,n(ot.analytics.overview?.avg_messages_per_conversation?.toFixed(1)||0),1)])])]),pt.value?(x(),r("div",We,[s("div",De,[s("div",Ee,[s("h3",Ge,n(o(it)("analytics.channels_comparison")),1),s("button",{onClick:m[3]||(m[3]=e=>pt.value=!1),class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},[...m[14]||(m[14]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",Je,[ut.value?(x(),r("div",Se,[s("table",Ne,[s("thead",null,[s("tr",Pe,[s("th",Qe,n(o(it)("analytics.channel")),1),s("th",Xe,n(o(it)("analytics.conversations")),1),s("th",Ye,n(o(it)("analytics.messages")),1),s("th",Ze,n(o(it)("analytics.conversion_percent")),1)])]),s("tbody",null,[(x(!0),r(p,null,u(ut.value,(e,t)=>(x(),r("tr",{key:t,class:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"},[s("td",$e,[s("div",et,[s("span",tt,n(vt(t)),1),s("span",at,n(ht(t)),1)])]),s("td",st,n(e.conversations),1),s("td",rt,n(e.messages),1),s("td",lt,[s("span",nt,n(e.conversion_rate)+"% ",1)])]))),128))])])])):l("",!0)])])])):l("",!0)])])]),_:1},8,["title"]))}};export{ot as default};

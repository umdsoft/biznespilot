import{r as b,v as j,x as v,y as i,z as e,D as n,L as _,A as a,H as s,C as g,E as d,F as h,G as k,B as $,Q as w,I as p,J as u,K as q}from"./chunk-BcTZxe-J.js";import{h as O,l as D,r as N}from"./chunk-BYRtWSr0.js";import{_ as P}from"./chunk-C8lq39jQ.js";import{u as z}from"./app-BC9IivQF.js";import{r as S}from"./chunk-CQoMtUf7.js";import{r as B}from"./chunk-gCWBLgcy.js";import{p as V}from"./chunk-AyRJdOJv.js";import{r as I}from"./chunk-DZS9ctBD.js";import{a as A}from"./chunk-D58UsNjm.js";import"./chunk-C1xeNfMu.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CJsSO8V8.js";import"./chunk-CrR1zWIb.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";const E={class:"space-y-6"},F={class:"flex items-center justify-between"},M={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},J={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},L={class:"flex items-center gap-3"},K={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden"},G={key:0,class:"divide-y divide-gray-200 dark:divide-gray-700"},H={class:"flex items-start justify-between"},Q={class:"flex-1"},R={class:"flex items-center gap-3 mb-2"},X={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center"},Z={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},W={class:"flex items-center gap-2 mt-1 text-sm text-gray-600 dark:text-gray-400"},Y={key:0},ee={key:1,class:"flex items-center gap-1"},te={class:"flex items-center gap-4 mt-3 text-sm text-gray-600 dark:text-gray-400"},re={class:"flex items-center gap-1"},ae={class:"flex items-center gap-1"},se={class:"font-semibold text-purple-600 dark:text-purple-400"},le={class:"mt-3"},oe={key:1,class:"p-12 text-center"},de={class:"text-gray-500 dark:text-gray-400"},ne={class:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto"},ie={class:"p-6 border-b border-gray-200 dark:border-gray-700"},ge={class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ue={class:"col-span-2"},ye={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},me=["placeholder"],ce={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},xe={value:""},be=["value"],_e={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},he=["value"],ke={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},fe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ve={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},we={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},qe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Se={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Ve={class:"flex gap-3"},Ue={type:"submit",class:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"},et={__name:"Index",props:{jobPostings:{type:Array,default:()=>[]},jobDescriptions:{type:Array,default:()=>[]},departments:{type:Object,default:()=>({})},employmentTypes:{type:Object,default:()=>({})},statuses:{type:Object,default:()=>({})}},setup(x){const{t:l}=z(),f=b(x.jobPostings),m=b(!1),o=b({title:"",department:"",description:"",requirements:"",salary_min:"",salary_max:"",location:"",employment_type:"full_time",openings:1,posted_date:new Date().toISOString().split("T")[0],closing_date:""}),U=y=>({open:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",closed:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",filled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"})[y]||"bg-gray-100 text-gray-800",C=()=>{N.reload({only:["jobPostings"]})},T=async()=>{try{const t=await(await fetch(route("hr.recruiting.job-postings.store"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content},body:JSON.stringify(o.value)})).json();t.success?(m.value=!1,o.value={title:"",department:"",description:"",requirements:"",salary_min:"",salary_max:"",location:"",employment_type:"full_time",openings:1,posted_date:new Date().toISOString().split("T")[0],closing_date:""},C()):alert(t.error||l("hr.error_occurred"))}catch(y){console.error("Error adding job posting:",y),alert(l("hr.error_occurred"))}};return(y,t)=>(d(),j(P,{title:a(l)("hr.recruiting")},{default:v(()=>[i(a(O),{title:a(l)("hr.recruiting")},null,8,["title"]),e("div",E,[e("div",F,[e("div",null,[e("h2",M,s(a(l)("hr.recruiting")),1),e("p",J,s(a(l)("hr.recruiting_subtitle")),1)]),e("div",L,[i(a(D),{href:y.route("hr.recruiting.applications"),class:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:v(()=>[i(a(S),{class:"w-5 h-5"}),g(" "+s(a(l)("hr.applications")),1)]),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=r=>m.value=!0),class:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"},[i(a(B),{class:"w-5 h-5"}),g(" "+s(a(l)("hr.add_job_posting")),1)])])]),e("div",K,[f.value.length>0?(d(),n("div",G,[(d(!0),n(h,null,k(f.value,r=>(d(),n("div",{key:r.id,class:"p-6 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"},[e("div",H,[e("div",Q,[e("div",R,[e("div",X,[i(a(V),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),e("div",null,[e("h3",Z,s(r.title),1),e("div",W,[e("span",null,s(r.department_label),1),t[12]||(t[12]=e("span",null,"•",-1)),e("span",null,s(r.employment_type_label),1),r.location?(d(),n("span",Y,"•")):_("",!0),r.location?(d(),n("span",ee,[i(a(I),{class:"w-4 h-4"}),g(" "+s(r.location),1)])):_("",!0)])])]),e("div",te,[e("span",re,[i(a(S),{class:"w-4 h-4"}),g(" "+s(r.openings)+" "+s(a(l)("hr.vacancy")),1)]),e("span",ae,[i(a(A),{class:"w-4 h-4"}),g(" "+s(r.posted_date),1)]),e("span",se,s(r.applications_count)+" "+s(a(l)("hr.application")),1)]),e("div",le,[e("span",{class:$(["inline-flex px-3 py-1 rounded-full text-xs font-medium",U(r.status)])},s(r.status_label),3)])])])]))),128))])):(d(),n("div",oe,[i(a(V),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e("p",de,s(a(l)("hr.no_vacancies")),1)]))])]),m.value?(d(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t[11]||(t[11]=w(r=>m.value=!1,["self"]))},[e("div",ne,[e("div",ie,[e("h3",ge,s(a(l)("hr.add_job_posting")),1)]),e("form",{onSubmit:w(T,["prevent"]),class:"p-6 space-y-6"},[e("div",pe,[e("div",ue,[e("label",ye,[g(s(a(l)("hr.job_title"))+" ",1),t[13]||(t[13]=e("span",{class:"text-red-500"},"*",-1))]),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>o.value.title=r),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:`${a(l)("hr.example")}: Senior Developer`},null,8,me),[[u,o.value.title]])]),e("div",null,[e("label",ce,[g(s(a(l)("hr.department"))+" ",1),t[14]||(t[14]=e("span",{class:"text-red-500"},"*",-1))]),p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>o.value.department=r),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[e("option",xe,s(a(l)("hr.select")),1),(d(!0),n(h,null,k(x.departments,(r,c)=>(d(),n("option",{key:c,value:c},s(r),9,be))),128))],512),[[q,o.value.department]])]),e("div",null,[e("label",_e,[g(s(a(l)("hr.employment_type"))+" ",1),t[15]||(t[15]=e("span",{class:"text-red-500"},"*",-1))]),p(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>o.value.employment_type=r),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[(d(!0),n(h,null,k(x.employmentTypes,(r,c)=>(d(),n("option",{key:c,value:c},s(r),9,he))),128))],512),[[q,o.value.employment_type]])]),e("div",null,[e("label",ke,s(a(l)("hr.location")),1),p(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>o.value.location=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Toshkent, Uzbekistan"},null,512),[[u,o.value.location]])]),e("div",null,[e("label",fe,[g(s(a(l)("hr.openings"))+" ",1),t[16]||(t[16]=e("span",{class:"text-red-500"},"*",-1))]),p(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>o.value.openings=r),type:"number",min:"1",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[u,o.value.openings]])]),e("div",null,[e("label",ve,s(a(l)("hr.closing_date")),1),p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>o.value.closing_date=r),type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[u,o.value.closing_date]])]),e("div",null,[e("label",we,s(a(l)("hr.min_salary"))+" (UZS) ",1),p(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>o.value.salary_min=r),type:"number",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[u,o.value.salary_min]])])]),e("div",null,[e("label",qe,s(a(l)("hr.job_description")),1),p(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=r=>o.value.description=r),rows:"4",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Lavozim haqida qisqacha ma'lumot..."},null,512),[[u,o.value.description]])]),e("div",null,[e("label",Se,s(a(l)("hr.requirements")),1),p(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=r=>o.value.requirements=r),rows:"4",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Nomzodga qo'yiladigan talablar..."},null,512),[[u,o.value.requirements]])]),e("div",Ve,[e("button",{type:"button",onClick:t[10]||(t[10]=r=>m.value=!1),class:"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"},s(a(l)("hr.cancel")),1),e("button",Ue,s(a(l)("hr.save")),1)])],32)])])):_("",!0)]),_:1},8,["title"]))}};export{et as default};

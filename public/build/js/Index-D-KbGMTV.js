import{a as e,r as t,o as a,e as r,D as o,E as s,z as l,I as n,J as i,B as d,C as c,H as u,N as g,Q as p,L as v,S as h,F as x,G as m,O as y,b,y as k,A as w,x as f}from"./chunk-7Urb0kxg.js";import{h as _,a as M}from"./chunk-DKkye6wf.js";import{_ as j}from"./chunk-BB8-4400.js";import{_ as C}from"./chunk-BCo6x5W8.js";import{u as z}from"./app-DFslr8vl.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-Di7Oc7TS.js";const B={class:"h-screen flex flex-col bg-gray-50 dark:bg-gray-900"},I={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between shadow-sm"},V={class:"flex items-center gap-4"},L={class:"flex items-center gap-3"},H={class:"flex items-center gap-3"},A={class:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1"},T={class:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1"},S={class:"text-xs font-medium w-12 text-center text-gray-600 dark:text-gray-300"},$=["disabled"],D={key:0,class:"animate-spin w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24"},Y={key:1,class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},q={class:"flex-1 flex overflow-hidden"},Z={class:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col"},W={class:"flex-1 overflow-y-auto p-3 space-y-2"},N={class:"mb-3"},G={class:"mb-3"},K={class:"mb-3"},P=["d","stroke","marker-end","onClick"],U=["x","y","fill"],X=["d","stroke"],F=["onMousedown","onClick"],J={class:"flex items-center gap-2"},R=["innerHTML"],E={class:"font-medium text-sm truncate"},O=["onClick"],Q={class:"bg-white dark:bg-gray-800 rounded-b-xl p-3 border border-gray-200 dark:border-gray-700 border-t-0"},ee={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},te={class:"text-purple-600 dark:text-purple-400"},ae={key:1,class:"text-xs text-gray-400 dark:text-gray-500 italic"},re={key:1,class:"text-xs space-y-1"},oe={class:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400"},se={key:0,class:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2"},le={key:1,class:"text-xs text-gray-600 dark:text-gray-400"},ne={key:2,class:"text-xs text-gray-600 dark:text-gray-400"},ie={class:"text-green-600 dark:text-green-400"},de={key:3,class:"text-xs text-gray-400 dark:text-gray-500 italic"},ce={class:"flex justify-between mt-3 pt-3 border-t border-gray-200 dark:border-gray-700"},ue=["onMouseup"],ge={key:1,class:"w-6"},pe={key:2,class:"flex gap-2"},ve={class:"flex flex-col items-center gap-1"},he=["onMousedown"],xe={class:"flex flex-col items-center gap-1"},me=["onMousedown"],ye=["onMousedown"],be={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},ke={class:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col"},we={class:"p-4 border-b border-gray-200 dark:border-gray-700"},fe={class:"font-semibold text-gray-900 dark:text-white text-sm"},_e={key:0,class:"flex-1 flex items-center justify-center p-4"},Me={key:1,class:"flex-1 overflow-y-auto p-4 space-y-4"},je={key:0},Ce={class:"flex gap-2 mb-2"},ze=["onKeydown"],Be={key:0,class:"flex flex-wrap gap-1"},Ie=["onClick"],Ve={key:0},Le={key:0},He={class:"flex items-center gap-1 mt-2"},Ae=["onClick"],Te={key:1},Se={class:"flex items-center gap-1 mt-2"},$e=["onClick"],De={key:2},Ye={key:3},qe={key:4},Ze={class:"flex items-center gap-1 mt-2"},We=["onClick"],Ne={class:"pt-4 border-t border-gray-200 dark:border-gray-700"},Ge=C({__name:"InstagramFlowBuilder",props:{automationId:[String,Number],automationName:String,automationStatus:{type:String,default:"draft"},automationAiEnabled:{type:Boolean,default:!1},initialNodes:{type:Array,default:()=>[]},initialConnections:{type:Array,default:()=>[]}},emits:["close","save"],setup(b,{emit:k}){const w=b,f=k,_=e({name:w.automationName||"",description:"",status:w.automationStatus||"draft",is_ai_enabled:w.automationAiEnabled||!1}),M=t(null),j=t(null),C=t(1),z=e({x:100,y:100}),Ge=t(!1),Ke=e({x:0,y:0}),Pe=t([]),Ue=t(null),Xe=t([]),Fe=t(null),Je=e({x:0,y:0}),Re=t(null),Ee=e({x:0,y:0}),Oe=t(""),Qe=t(null),et=t(null),tt=t(null),at=[{label:"{username}",value:"{username}"},{label:"{full_name}",value:"{full_name}"}],rt=(e,t)=>{const a={dmMessageTextarea:Qe,aiContextTextarea:et,replyCommentTextarea:tt},r=a[t]?.value;if(!r||!Ue.value)return;const o=r.selectionStart,s=r.selectionEnd;let l="",n="";"dmMessageTextarea"===t?(l=Ue.value.data?.message||"",n="message"):"aiContextTextarea"===t?(l=Ue.value.data?.ai_context||"",n="ai_context"):"replyCommentTextarea"===t&&(l=Ue.value.data?.message||"",n="message");const i=l.substring(0,o)+e+l.substring(s);Ue.value.data||(Ue.value.data={}),Ue.value.data[n]=i,setTimeout(()=>{r.focus();const t=o+e.length;r.setSelectionRange(t,t)},0)},ot=t(!1),st=()=>{Re.value&&(Re.value=null)};a(()=>{w.initialNodes.length>0&&(Pe.value=w.initialNodes.map(e=>({...e,x:e.position?.x??e.x??100,y:e.position?.y??e.y??100,data:e.data||{},keywords:e.keywords||[]}))),w.initialConnections.length>0&&(Xe.value=[...w.initialConnections]),document.addEventListener("mouseup",st)}),r(()=>{document.removeEventListener("mouseup",st)});const lt=()=>{C.value=Math.min(2,C.value+.1)},nt=()=>{C.value=Math.max(.25,C.value-.1)},it=()=>{C.value=1,z.x=100,z.y=100},dt=e=>{e.preventDefault(),e.deltaY<0?lt():nt()},ct=e=>{e.target!==M.value&&"svg"!==e.target.tagName||(Ge.value=!0,Ke.x=e.clientX-z.x,Ke.y=e.clientY-z.y)},ut=e=>{if(Ee.x=(e.clientX-z.x)/C.value,Ee.y=(e.clientY-M.value?.getBoundingClientRect().top-z.y)/C.value,Ge.value&&(z.x=e.clientX-Ke.x,z.y=e.clientY-Ke.y),Fe.value){const t=M.value.getBoundingClientRect();Fe.value.x=(e.clientX-t.left-z.x)/C.value-Je.x,Fe.value.y=(e.clientY-t.top-z.y)/C.value-Je.y}},gt=()=>{Ge.value=!1,Fe.value=null,Re.value&&(Re.value=null)},pt=(e,t)=>{e.dataTransfer.setData("nodeType",t)},vt=e=>{const t=e.dataTransfer.getData("nodeType");if(!t)return;const a=M.value.getBoundingClientRect(),r=(e.clientX-a.left-z.x)/C.value,o=(e.clientY-a.top-z.y)/C.value,s={id:`node-${Date.now()}`,name:Ct(t),type:t,x:r,y:o,data:ht(t),keywords:t.includes("keyword")?[]:void 0};Pe.value.push(s),Ue.value=s},ht=e=>{switch(e){case"action_send_dm":case"action_reply_comment":return{message:""};case"action_ai_response":return{ai_context:""};case"action_delay":return{delay_seconds:5};case"action_add_tag":case"condition_has_tag":return{tag:""};default:return{}}},xt=e=>{const t=Pe.value.findIndex(t=>t.id===e);t>-1&&(Pe.value.splice(t,1),Xe.value=Xe.value.filter(t=>t.from!==e&&t.to!==e),Ue.value?.id===e&&(Ue.value=null))},mt=(e,t,a="default")=>{t.preventDefault(),t.stopPropagation(),Re.value={from:e,type:a}},yt=()=>{Re.value=null},bt=e=>{if(!Re.value)return;const t=M.value?.getBoundingClientRect();t&&(Ee.x=(e.clientX-t.left-z.x)/C.value,Ee.y=(e.clientY-t.top-z.y)/C.value)},kt=()=>{Ue.value&&Oe.value.trim()&&(Ue.value.keywords||(Ue.value.keywords=[]),Ue.value.keywords.push(Oe.value.trim().toLowerCase()),Oe.value="")},wt=e=>{const t=Pe.value.find(t=>t.id===e.from),a=Pe.value.find(t=>t.id===e.to);if(!t||!a)return"";let r,o;t.type.startsWith("condition_")?"true"===e.type?(r=t.x+80,o=t.y+130):"false"===e.type?(r=t.x+160,o=t.y+130):(r=t.x+120,o=t.y+120):(r=t.x+120,o=t.y+120);const s=a.x+120,l=a.y+10,n=Math.abs(l-o),i=Math.min(.5*n,80);return`M ${r} ${o} C ${r} ${o+i}, ${s} ${l-i}, ${s} ${l}`},ft=()=>{if(!Re.value)return"";const e=Pe.value.find(e=>e.id===Re.value.from);if(!e)return"";let t,a;e.type.startsWith("condition_")?"true"===Re.value.type?(t=e.x+80,a=e.y+130):"false"===Re.value.type?(t=e.x+160,a=e.y+130):(t=e.x+120,a=e.y+120):(t=e.x+120,a=e.y+120);const r=Math.abs(Ee.y-a),o=Math.min(.4*r,60);return`M ${t} ${a} C ${t} ${a+o}, ${Ee.x} ${Ee.y-o}, ${Ee.x} ${Ee.y}`},_t=e=>"true"===e.type?"#22c55e":"false"===e.type?"#ef4444":"#8b5cf6",Mt=e=>"true"===e.type?"arrowhead-green":"false"===e.type?"arrowhead-red":"arrowhead",jt=e=>{const t=Pe.value.find(t=>t.id===e.from),a=Pe.value.find(t=>t.id===e.to);if(!t||!a)return{x:0,y:0};let r;r=t.type.startsWith("condition_")?"true"===e.type?t.x+80:"false"===e.type?t.x+160:t.x+120:t.x+120;const o=t.type.startsWith("condition_")?t.y+130:t.y+120;return{x:(r+(a.x+120))/2-10,y:(o+(a.y+10))/2}},Ct=e=>({trigger_keyword_dm:"DM Kalit so'z",trigger_keyword_comment:"Comment Kalit so'z",trigger_story_mention:"Story Mention",trigger_story_reply:"Story Javob",trigger_new_follower:"Yangi Follower",condition_is_follower:"Follower tekshir",condition_has_tag:"Tag tekshir",action_send_dm:"DM Yuborish",action_send_media:"Media Yuborish",action_ai_response:"AI Javob",action_add_tag:"Tag Qo'shish",action_delay:"Kutish",action_reply_comment:"Comment Javob"}[e]||e),zt=e=>({trigger_keyword_dm:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>',trigger_keyword_comment:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" /></svg>',trigger_story_mention:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" /></svg>',trigger_story_reply:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" /></svg>',trigger_new_follower:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" /></svg>',condition_is_follower:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>',condition_has_tag:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" /></svg>',action_send_dm:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" /></svg>',action_send_media:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>',action_ai_response:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>',action_add_tag:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" /></svg>',action_delay:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>',action_reply_comment:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" /></svg>'}[e]||'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>'),Bt=e=>{switch(e.type){case"condition_is_follower":return"Foydalanuvchi followermi?";case"condition_has_tag":return e.data?.tag?`Tag: #${e.data.tag}`:"Tag tekshirish";default:return"Shart"}},It=async()=>{if(_.name){ot.value=!0;try{const e={settings:{name:_.name,description:_.description,status:_.status,is_ai_enabled:_.is_ai_enabled},nodes:Pe.value.map(e=>({id:e.id,type:e.type,name:e.name,x:Math.round(e.x),y:Math.round(e.y),data:e.data,keywords:e.keywords})),connections:Xe.value};f("save",e)}catch(e){alert("Saqlashda xatolik")}finally{ot.value=!1}}else alert("Avtomatizatsiya nomini kiriting")};return(e,t)=>(s(),o("div",B,[l("div",I,[l("div",V,[l("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},[...t[28]||(t[28]=[l("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),l("div",L,[t[30]||(t[30]=l("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg shadow-purple-500/20"},[l("svg",{class:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),l("div",null,[n(l("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>_.name=e),type:"text",class:"bg-transparent text-lg font-bold text-gray-900 dark:text-white border-none focus:outline-none focus:ring-0 p-0 w-64 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Avtomatizatsiya nomi..."},null,512),[[i,_.name]]),t[29]||(t[29]=l("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Visual Flow Builder",-1))])])]),l("div",H,[l("div",A,[l("button",{onClick:t[2]||(t[2]=e=>_.status="active"),class:d(["px-3 py-1.5 rounded text-xs font-medium transition-colors","active"===_.status?"bg-green-600 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Faol ",2),l("button",{onClick:t[3]||(t[3]=e=>_.status="draft"),class:d(["px-3 py-1.5 rounded text-xs font-medium transition-colors","draft"===_.status?"bg-gray-500 dark:bg-gray-600 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Qoralama ",2),l("button",{onClick:t[4]||(t[4]=e=>_.status="paused"),class:d(["px-3 py-1.5 rounded text-xs font-medium transition-colors","paused"===_.status?"bg-yellow-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Pauza ",2)]),l("button",{onClick:t[5]||(t[5]=e=>_.is_ai_enabled=!_.is_ai_enabled),class:d(["flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors",_.is_ai_enabled?"bg-purple-600 text-white shadow-sm":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])},[...t[31]||(t[31]=[l("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),c(" AI ",-1)])],2),t[37]||(t[37]=l("div",{class:"h-6 w-px bg-gray-300 dark:bg-gray-600"},null,-1)),l("div",T,[l("button",{onClick:nt,class:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-600 dark:text-gray-300"},[...t[32]||(t[32]=[l("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])]),l("span",S,u(Math.round(100*C.value))+"%",1),l("button",{onClick:lt,class:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-600 dark:text-gray-300"},[...t[33]||(t[33]=[l("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),l("button",{onClick:it,class:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-600 dark:text-gray-300"},[...t[34]||(t[34]=[l("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)])])]),t[38]||(t[38]=l("div",{class:"h-6 w-px bg-gray-300 dark:bg-gray-600"},null,-1)),l("button",{onClick:It,disabled:ot.value||!_.name,class:d(["inline-flex items-center px-5 py-2 text-sm font-medium rounded-lg transition-colors shadow-sm",_.name?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed"])},[ot.value?(s(),o("svg",D,[...t[35]||(t[35]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):(s(),o("svg",Y,[...t[36]||(t[36]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),c(" "+u(ot.value?"Saqlanmoqda...":"Saqlash"),1)],10,$)])]),l("div",q,[l("div",Z,[t[54]||(t[54]=l("div",{class:"p-4 border-b border-gray-200 dark:border-gray-700"},[l("h3",{class:"font-semibold text-gray-900 dark:text-white text-sm"},"Elementlar"),l("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Canvas'ga tortib tashlang")],-1)),l("div",W,[l("div",N,[t[43]||(t[43]=l("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 px-1"},"Triggerlar",-1)),l("div",{draggable:"true",onDragstart:t[6]||(t[6]=e=>pt(e,"trigger_keyword_dm")),class:"p-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-purple-500/20 transition-all mb-2"},[...t[39]||(t[39]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>DM Kalit so&#39;z</p><p class="text-xs opacity-80" data-v-a28b40ea>DMda so&#39;z topilganda</p></div></div>',1)])],32),l("div",{draggable:"true",onDragstart:t[7]||(t[7]=e=>pt(e,"trigger_keyword_comment")),class:"p-3 bg-gradient-to-r from-pink-600 to-rose-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-pink-500/20 transition-all mb-2"},[...t[40]||(t[40]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Comment Kalit so&#39;z</p><p class="text-xs opacity-80" data-v-a28b40ea>Commentda topilganda</p></div></div>',1)])],32),l("div",{draggable:"true",onDragstart:t[8]||(t[8]=e=>pt(e,"trigger_story_mention")),class:"p-3 bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-orange-500/20 transition-all mb-2"},[...t[41]||(t[41]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Story Mention</p><p class="text-xs opacity-80" data-v-a28b40ea>Storyda etiketlanganda</p></div></div>',1)])],32),l("div",{draggable:"true",onDragstart:t[9]||(t[9]=e=>pt(e,"trigger_new_follower")),class:"p-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-cyan-500/20 transition-all"},[...t[42]||(t[42]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Yangi Follower</p><p class="text-xs opacity-80" data-v-a28b40ea>Follow qilganda</p></div></div>',1)])],32)]),l("div",G,[t[46]||(t[46]=l("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 px-1"},"Shartlar",-1)),l("div",{draggable:"true",onDragstart:t[10]||(t[10]=e=>pt(e,"condition_is_follower")),class:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-yellow-500/20 transition-all mb-2"},[...t[44]||(t[44]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Follower tekshir</p><p class="text-xs opacity-80" data-v-a28b40ea>Obunachimi?</p></div></div>',1)])],32),l("div",{draggable:"true",onDragstart:t[11]||(t[11]=e=>pt(e,"condition_has_tag")),class:"p-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-emerald-500/20 transition-all"},[...t[45]||(t[45]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Tag tekshir</p><p class="text-xs opacity-80" data-v-a28b40ea>Tag mavjudmi?</p></div></div>',1)])],32)]),l("div",K,[t[53]||(t[53]=l("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 px-1"},"Harakatlar",-1)),l("div",{draggable:"true",onDragstart:t[12]||(t[12]=e=>pt(e,"action_send_dm")),class:"p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-blue-500/20 transition-all mb-2"},[...t[47]||(t[47]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>DM Yuborish</p><p class="text-xs opacity-80" data-v-a28b40ea>Xabar yozish</p></div></div>',1)])],32),l("div",{draggable:"true",onDragstart:t[13]||(t[13]=e=>pt(e,"action_send_media")),class:"p-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-pink-500/20 transition-all mb-2"},[...t[48]||(t[48]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Media Yuborish</p><p class="text-xs opacity-80" data-v-a28b40ea>Rasm/Video</p></div></div>',1)])],32),l("div",{draggable:"true",onDragstart:t[14]||(t[14]=e=>pt(e,"action_ai_response")),class:"p-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-violet-500/20 transition-all mb-2"},[...t[49]||(t[49]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>AI Javob</p><p class="text-xs opacity-80" data-v-a28b40ea>Sun&#39;iy intellekt</p></div></div>',1)])],32),l("div",{draggable:"true",onDragstart:t[15]||(t[15]=e=>pt(e,"action_add_tag")),class:"p-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-green-500/20 transition-all mb-2"},[...t[50]||(t[50]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Tag Qo&#39;shish</p><p class="text-xs opacity-80" data-v-a28b40ea>Belgilash</p></div></div>',1)])],32),l("div",{draggable:"true",onDragstart:t[16]||(t[16]=e=>pt(e,"action_delay")),class:"p-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-gray-500/20 transition-all mb-2"},[...t[51]||(t[51]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Kutish</p><p class="text-xs opacity-80" data-v-a28b40ea>Vaqt kechiktirish</p></div></div>',1)])],32),l("div",{draggable:"true",onDragstart:t[17]||(t[17]=e=>pt(e,"action_reply_comment")),class:"p-3 bg-gradient-to-r from-indigo-600 to-blue-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-indigo-500/20 transition-all"},[...t[52]||(t[52]=[g('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Commentga Javob</p><p class="text-xs opacity-80" data-v-a28b40ea>Reply qilish</p></div></div>',1)])],32)])])]),l("div",{ref_key:"canvasContainer",ref:M,class:"flex-1 overflow-hidden relative bg-gray-100 dark:bg-gray-900",onDragover:t[18]||(t[18]=p(()=>{},["prevent"])),onDrop:vt,onMousedown:ct,onMousemove:ut,onMouseup:gt,onMouseleave:gt,onWheel:dt},[t[67]||(t[67]=l("div",{class:"absolute inset-0 pointer-events-none canvas-grid"},null,-1)),l("div",{ref_key:"canvas",ref:j,class:"absolute",style:h({transform:`translate(${z.x}px, ${z.y}px) scale(${C.value})`,transformOrigin:"0 0"})},[(s(),o("svg",{class:"absolute top-0 left-0 w-[5000px] h-[5000px]",onMouseup:yt,onMousemove:bt},[t[55]||(t[55]=g('<defs data-v-a28b40ea><marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" data-v-a28b40ea><polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6" data-v-a28b40ea></polygon></marker><marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" data-v-a28b40ea><polygon points="0 0, 10 3.5, 0 7" fill="#22c55e" data-v-a28b40ea></polygon></marker><marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" data-v-a28b40ea><polygon points="0 0, 10 3.5, 0 7" fill="#ef4444" data-v-a28b40ea></polygon></marker></defs>',1)),(s(!0),o(x,null,m(Xe.value,e=>(s(),o("g",{key:`${e.from}-${e.to}-${e.type||"default"}`},[l("path",{d:wt(e),fill:"none",stroke:_t(e),"stroke-width":"2.5","marker-end":`url(#${Mt(e)})`,class:"transition-all duration-200 cursor-pointer hover:stroke-opacity-70",onClick:p(t=>(e=>{Xe.value=Xe.value.filter(t=>!(t.from===e.from&&t.to===e.to&&t.type===e.type))})(e),["stop"])},null,8,P),"true"===e.type||"false"===e.type?(s(),o("text",{key:0,x:jt(e).x,y:jt(e).y,fill:"true"===e.type?"#22c55e":"#ef4444","font-size":"11","font-weight":"600",class:"pointer-events-none select-none"},u("true"===e.type?"Ha":"Yo'q"),9,U)):v("",!0)]))),128)),Re.value?(s(),o("path",{key:0,d:ft(),fill:"none",stroke:Re.value?"true"===Re.value.type?"#22c55e":"false"===Re.value.type?"#ef4444":"#8b5cf6":"#8b5cf6","stroke-width":"2.5","stroke-dasharray":"8,4",class:"animate-pulse"},null,8,X)):v("",!0)],32)),(s(!0),o(x,null,m(Pe.value,e=>{return s(),o("div",{key:e.id,style:h({position:"absolute",left:`${e.x}px`,top:`${e.y}px`,width:"240px"}),onMousedown:p(t=>((e,t)=>{const a=M.value.getBoundingClientRect();Je.x=(e.clientX-a.left-z.x)/C.value-t.x,Je.y=(e.clientY-a.top-z.y)/C.value-t.y,Fe.value=t})(t,e),["stop"]),onClick:p(t=>(e=>{Ue.value=e})(e),["stop"]),class:d(["rounded-xl shadow-lg transition-all cursor-move group",Ue.value?.id===e.id?"ring-2 ring-purple-500 ring-offset-2 ring-offset-gray-100 dark:ring-offset-gray-900":""])},[l("div",{class:d(["rounded-t-xl px-4 py-3 flex items-center justify-between",(a=e.type,{trigger_keyword_dm:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white",trigger_keyword_comment:"bg-gradient-to-r from-pink-600 to-rose-600 text-white",trigger_story_mention:"bg-gradient-to-r from-orange-500 to-amber-500 text-white",trigger_story_reply:"bg-gradient-to-r from-orange-500 to-amber-500 text-white",trigger_new_follower:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",condition_is_follower:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white",condition_has_tag:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white",action_send_dm:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",action_send_media:"bg-gradient-to-r from-pink-500 to-rose-500 text-white",action_ai_response:"bg-gradient-to-r from-violet-600 to-purple-600 text-white",action_add_tag:"bg-gradient-to-r from-green-600 to-emerald-600 text-white",action_delay:"bg-gradient-to-r from-gray-600 to-gray-700 text-white",action_reply_comment:"bg-gradient-to-r from-indigo-600 to-blue-600 text-white"}[a]||"bg-gradient-to-r from-gray-600 to-gray-700 text-white")])},[l("div",J,[l("div",{class:"w-7 h-7 bg-white/20 rounded-lg flex items-center justify-center",innerHTML:zt(e.type)},null,8,R),l("span",E,u(e.name||Ct(e.type)),1)]),l("button",{onClick:p(t=>xt(e.id),["stop"]),class:"p-1 hover:bg-white/20 rounded opacity-0 group-hover:opacity-100 transition-opacity"},[...t[56]||(t[56]=[l("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,O)],2),l("div",Q,[e.type.startsWith("trigger_")?(s(),o(x,{key:0},[e.keywords?.length?(s(),o("p",ee,[t[57]||(t[57]=c(" Kalit so'zlar: ",-1)),l("span",te,u(e.keywords.join(", ")),1)])):(s(),o("p",ae,"Sozlamalarni kiriting..."))],64)):v("",!0),e.type.startsWith("condition_")?(s(),o("div",re,[l("div",oe,[t[58]||(t[58]=l("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),l("span",null,u(Bt(e)),1)])])):v("",!0),e.type.startsWith("action_")?(s(),o(x,{key:2},[e.data?.message?(s(),o("p",se,u(e.data.message),1)):e.data?.delay_seconds?(s(),o("p",le,u(e.data.delay_seconds)+" soniya kutish ",1)):e.data?.tag?(s(),o("p",ne,[t[59]||(t[59]=c(" Tag: ",-1)),l("span",ie,"#"+u(e.data.tag),1)])):(s(),o("p",de,"Sozlamalarni kiriting..."))],64)):v("",!0),l("div",ce,[e.type.startsWith("trigger_")?(s(),o("div",ge)):(s(),o("div",{key:0,class:d(["w-6 h-6 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-purple-500 transition-colors",{"ring-2 ring-purple-400 ring-offset-1 ring-offset-white dark:ring-offset-gray-800":Re.value&&Re.value.from!==e.id}]),onMouseup:p(t=>((e,t)=>{if(t&&(t.preventDefault(),t.stopPropagation()),Re.value&&Re.value.from!==e){const t=Re.value.type||"default";Xe.value=Xe.value.filter(e=>!(e.from===Re.value.from&&e.type===t)),Xe.value.push({from:Re.value.from,to:e,type:t})}Re.value=null})(e.id,t),["stop"]),title:"Kirish nuqtasi"},[...t[60]||(t[60]=[l("svg",{class:"w-3 h-3 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1)])],42,ue)),e.type.startsWith("condition_")?(s(),o("div",pe,[l("div",ve,[l("div",{class:"w-6 h-6 bg-green-900/50 text-green-400 rounded-full flex items-center justify-center cursor-pointer hover:bg-green-500 hover:text-white transition-colors",onMousedown:p(t=>mt(e.id,t,"true"),["stop"]),title:"Ha - shart bajarilsa"},[...t[61]||(t[61]=[l("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],40,he),t[62]||(t[62]=l("span",{class:"text-[10px] font-medium text-green-400"},"Ha",-1))]),l("div",xe,[l("div",{class:"w-6 h-6 bg-red-900/50 text-red-400 rounded-full flex items-center justify-center cursor-pointer hover:bg-red-500 hover:text-white transition-colors",onMousedown:p(t=>mt(e.id,t,"false"),["stop"]),title:"Yo'q - shart bajarilmasa"},[...t[63]||(t[63]=[l("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],40,me),t[64]||(t[64]=l("span",{class:"text-[10px] font-medium text-red-400"},"Yo'q",-1))])])):(s(),o("div",{key:3,class:"w-6 h-6 bg-purple-900/50 text-purple-400 rounded-full flex items-center justify-center cursor-pointer hover:bg-purple-500 hover:text-white transition-colors",onMousedown:p(t=>mt(e.id,t,"default"),["stop"]),title:"Chiqish nuqtasi - tortib tashlang"},[...t[65]||(t[65]=[l("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)])],40,ye))])])],46,F);var a}),128))],4),0===Pe.value.length?(s(),o("div",be,[...t[66]||(t[66]=[g('<div class="text-center" data-v-a28b40ea><div class="w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4" data-v-a28b40ea><svg class="w-10 h-10 text-gray-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" data-v-a28b40ea></path></svg></div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2" data-v-a28b40ea>Flow bo&#39;sh</h3><p class="text-gray-500 dark:text-gray-400 text-sm" data-v-a28b40ea>Chap paneldan triggerlarni tortib tashlang</p></div>',1)])])):v("",!0)],544),l("div",ke,[l("div",we,[l("h3",fe,u(Ue.value?"Element tahrirlash":"Element tanlang"),1)]),Ue.value?(s(),o("div",Me,[l("div",null,[t[69]||(t[69]=l("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Element nomi",-1)),n(l("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>Ue.value.name=e),type:"text",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Element nomini kiriting..."},null,512),[[i,Ue.value.name]])]),Ue.value.type.startsWith("trigger_")?(s(),o(x,{key:0},[["trigger_keyword_dm","trigger_keyword_comment"].includes(Ue.value.type)?(s(),o("div",je,[t[71]||(t[71]=l("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Kalit so'zlar",-1)),l("div",Ce,[n(l("input",{"onUpdate:modelValue":t[20]||(t[20]=e=>Oe.value=e),type:"text",onKeydown:y(p(kt,["prevent"]),["enter"]),class:"flex-1 px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Kalit so'z..."},null,40,ze),[[i,Oe.value]]),l("button",{onClick:kt,class:"px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors"}," + ")]),Ue.value.keywords?.length?(s(),o("div",Be,[(s(!0),o(x,null,m(Ue.value.keywords,(e,a)=>(s(),o("span",{key:a,class:"inline-flex items-center px-2 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 text-xs rounded-full"},[c(u(e)+" ",1),l("button",{onClick:e=>{return t=a,void(Ue.value?.keywords&&Ue.value.keywords.splice(t,1));var t},class:"ml-1 hover:text-white"},[...t[70]||(t[70]=[l("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ie)]))),128))])):v("",!0)])):v("",!0)],64)):v("",!0),Ue.value.type.startsWith("condition_")?(s(),o(x,{key:1},["condition_has_tag"===Ue.value.type?(s(),o("div",Ve,[t[72]||(t[72]=l("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Tekshiriladigan tag",-1)),n(l("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>Ue.value.data.tag=e),type:"text",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Tag nomini kiriting..."},null,512),[[i,Ue.value.data.tag]])])):v("",!0)],64)):v("",!0),Ue.value.type.startsWith("action_")?(s(),o(x,{key:2},["action_send_dm"===Ue.value.type?(s(),o("div",Le,[t[74]||(t[74]=l("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Xabar matni",-1)),n(l("textarea",{ref_key:"dmMessageTextarea",ref:Qe,"onUpdate:modelValue":t[22]||(t[22]=e=>Ue.value.data.message=e),rows:"4",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Xabar matni..."},null,512),[[i,Ue.value.data.message]]),l("div",He,[t[73]||(t[73]=l("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"O'zgaruvchilar:",-1)),(s(),o(x,null,m(at,e=>l("button",{key:e.value,onClick:t=>rt(e.value,"dmMessageTextarea"),type:"button",class:"px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded-md hover:bg-purple-200 dark:hover:bg-purple-900 transition-colors cursor-pointer"},u(e.label),9,Ae)),64))])])):v("",!0),"action_ai_response"===Ue.value.type?(s(),o("div",Te,[t[76]||(t[76]=l("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"AI uchun kontekst",-1)),n(l("textarea",{ref_key:"aiContextTextarea",ref:et,"onUpdate:modelValue":t[23]||(t[23]=e=>Ue.value.data.ai_context=e),rows:"4",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"AI qanday javob berishi kerak..."},null,512),[[i,Ue.value.data.ai_context]]),l("div",Se,[t[75]||(t[75]=l("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"O'zgaruvchilar:",-1)),(s(),o(x,null,m(at,e=>l("button",{key:e.value,onClick:t=>rt(e.value,"aiContextTextarea"),type:"button",class:"px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded-md hover:bg-purple-200 dark:hover:bg-purple-900 transition-colors cursor-pointer"},u(e.label),9,$e)),64))])])):v("",!0),"action_delay"===Ue.value.type?(s(),o("div",De,[t[77]||(t[77]=l("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Kutish vaqti (soniya)",-1)),n(l("input",{"onUpdate:modelValue":t[24]||(t[24]=e=>Ue.value.data.delay_seconds=e),type:"number",min:"1",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"5"},null,512),[[i,Ue.value.data.delay_seconds,void 0,{number:!0}]])])):v("",!0),"action_add_tag"===Ue.value.type?(s(),o("div",Ye,[t[78]||(t[78]=l("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Qo'shiladigan tag",-1)),n(l("input",{"onUpdate:modelValue":t[25]||(t[25]=e=>Ue.value.data.tag=e),type:"text",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Tag nomi..."},null,512),[[i,Ue.value.data.tag]])])):v("",!0),"action_reply_comment"===Ue.value.type?(s(),o("div",qe,[t[80]||(t[80]=l("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Javob matni",-1)),n(l("textarea",{ref_key:"replyCommentTextarea",ref:tt,"onUpdate:modelValue":t[26]||(t[26]=e=>Ue.value.data.message=e),rows:"3",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Commentga javob..."},null,512),[[i,Ue.value.data.message]]),l("div",Ze,[t[79]||(t[79]=l("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"O'zgaruvchilar:",-1)),(s(),o(x,null,m(at,e=>l("button",{key:e.value,onClick:t=>rt(e.value,"replyCommentTextarea"),type:"button",class:"px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded-md hover:bg-purple-200 dark:hover:bg-purple-900 transition-colors cursor-pointer"},u(e.label),9,We)),64))])])):v("",!0)],64)):v("",!0),l("div",Ne,[l("button",{onClick:t[27]||(t[27]=e=>xt(Ue.value.id)),class:"w-full px-4 py-2 bg-red-50 dark:bg-red-900/30 hover:bg-red-100 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-2"},[...t[81]||(t[81]=[l("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c(" Elementni o'chirish ",-1)])])])])):(s(),o("div",_e,[...t[68]||(t[68]=[l("div",{class:"text-center text-gray-500 dark:text-gray-400"},[l("svg",{class:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})]),l("p",{class:"text-sm"},"Canvas'dan element tanlang")],-1)])]))])])]))}},[["__scopeId","data-v-a28b40ea"]]),Ke={key:0,class:"rounded-2xl p-8 md:p-12 text-center bg-white dark:bg-gray-800/30 shadow-sm"},Pe={key:1,class:"rounded-2xl p-12 text-center"},Ue={key:2,class:"space-y-5"},Xe={class:"bg-gray-100 dark:bg-gray-800/50 rounded-xl p-1.5 flex gap-1.5"},Fe=["onClick"],Je={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Re={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ee={key:2,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Oe={key:0,class:"space-y-6"},Qe={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},et={class:"bg-white dark:bg-gray-800/60 rounded-2xl p-5 hover:bg-gray-50 dark:hover:bg-gray-800/80 transition-all group shadow-sm border border-gray-100 dark:border-transparent"},tt={class:"text-3xl font-bold text-gray-900 dark:text-white"},at={class:"text-sm text-gray-500 dark:text-gray-400"},rt={class:"bg-white dark:bg-gray-800/60 rounded-2xl p-5 hover:bg-gray-50 dark:hover:bg-gray-800/80 transition-all group shadow-sm border border-gray-100 dark:border-transparent"},ot={class:"text-3xl font-bold text-gray-900 dark:text-white"},st={class:"text-sm text-gray-500 dark:text-gray-400"},lt={class:"bg-white dark:bg-gray-800/60 rounded-2xl p-5 hover:bg-gray-50 dark:hover:bg-gray-800/80 transition-all group shadow-sm border border-gray-100 dark:border-transparent"},nt={class:"text-3xl font-bold text-gray-900 dark:text-white"},it={class:"text-sm text-gray-500"},dt={class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-5 hover:bg-gray-50 dark:hover:bg-gray-800/80 transition-all group"},ct={class:"text-3xl font-bold text-gray-900 dark:text-white"},ut={class:"grid lg:grid-cols-2 gap-6"},gt={class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-6"},pt={key:0,class:"space-y-3"},vt={class:"font-semibold text-gray-900 dark:text-white"},ht={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2"},xt={class:"text-right"},mt={class:"text-sm font-bold text-green-400"},yt={key:1,class:"text-center py-10"},bt={class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-6"},kt={key:0,class:"space-y-3"},wt=["onClick"],ft=["src"],_t={key:1,class:"w-11 h-11 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center"},Mt={class:"text-white font-bold"},jt={class:"flex-1 min-w-0"},Ct={class:"font-semibold text-gray-900 dark:text-white truncate"},zt={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},Bt={class:"text-xs text-gray-500"},It={key:1,class:"text-center py-10"},Vt={key:1,class:"space-y-4"},Lt={class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-4 flex items-center justify-between"},Ht={class:"flex items-center gap-3"},At={class:"text-sm text-gray-500 dark:text-gray-400"},Tt={key:0,class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-12 text-center"},St={key:1,class:"grid gap-4"},$t={class:"p-5"},Dt={class:"flex items-start justify-between"},Yt={class:"flex gap-4 flex-1"},qt={class:"flex-shrink-0 relative"},Zt={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},Wt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Nt={key:2,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Gt={key:0,class:"absolute inset-0 w-12 h-12 rounded-xl bg-green-500/40 animate-ping",style:{"animation-duration":"2s"}},Kt={class:"flex-1 min-w-0"},Pt={class:"flex items-center gap-3 mb-2 flex-wrap"},Ut={class:"text-lg font-bold text-gray-900 dark:text-white"},Xt={key:0,class:"text-xs px-2.5 py-1 rounded-full font-medium bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-300 flex items-center gap-1"},Ft={key:0,class:"text-gray-500 dark:text-gray-400 text-sm mb-3"},Jt={key:1,class:"flex flex-wrap gap-2 mb-3"},Rt={key:0,class:"text-purple-500 dark:text-purple-400"},Et={class:"flex items-center gap-6 text-sm"},Ot={class:"flex items-center gap-1.5 text-gray-500 dark:text-gray-400"},Qt={class:"font-medium text-gray-700 dark:text-gray-300"},ea={class:"flex items-center gap-1.5 text-gray-500 dark:text-gray-400"},ta={class:"font-medium text-gray-700 dark:text-gray-300"},aa={class:"flex items-center gap-1.5"},ra={class:"font-bold text-green-600 dark:text-green-400"},oa={class:"flex items-center gap-2 ml-4"},sa=["onClick","title"],la={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},na={key:1,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},ia={class:"flex items-center gap-1"},da=["onClick"],ca=["onClick"],ua=["onClick"],ga={key:2,class:"grid lg:grid-cols-3 gap-6"},pa={class:"lg:col-span-1 bg-white dark:bg-gray-800/60 rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-transparent"},va={class:"p-4 border-b border-gray-200 dark:border-gray-700/50 flex items-center justify-between"},ha={class:"text-xs px-2 py-1 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 rounded-full"},xa={class:"divide-y divide-gray-200 dark:divide-gray-700/50 max-h-[600px] overflow-y-auto"},ma=["onClick"],ya={class:"flex items-center gap-3"},ba={class:"w-11 h-11 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0"},ka={class:"text-white font-bold"},wa={class:"flex-1 min-w-0"},fa={class:"font-semibold text-gray-900 dark:text-white truncate"},_a={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},Ma={key:0,class:"w-3 h-3 bg-red-500 rounded-full animate-pulse"},ja={key:0,class:"p-10 text-center"},Ca={class:"lg:col-span-2 bg-white dark:bg-gray-800/60 rounded-2xl overflow-hidden flex flex-col shadow-sm border border-gray-100 dark:border-transparent",style:{height:"600px"}},za={class:"p-4 border-b border-gray-200 dark:border-gray-700/50 flex items-center gap-3 bg-gray-50 dark:bg-gray-700/30"},Ba={class:"w-11 h-11 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center"},Ia={class:"text-white font-bold"},Va={class:"flex-1"},La={class:"font-bold text-gray-900 dark:text-white"},Ha={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2"},Aa={class:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-100 dark:bg-gray-900/30"},Ta={class:"leading-relaxed"},Sa={key:0,class:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-[10px] uppercase"},$a={class:"p-4 border-t border-gray-200 dark:border-gray-700/50 bg-gray-50 dark:bg-gray-800/50"},Da={class:"flex gap-2"},Ya={key:1,class:"flex-1 flex flex-col items-center justify-center text-gray-400"},qa={key:3,class:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4"},Za={class:"bg-gray-900 rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col"},Wa={class:"bg-gradient-to-r from-purple-600 via-pink-500 to-rose-500 p-6 relative"},Na={class:"relative"},Ga={class:"flex items-center justify-between mb-6"},Ka={class:"text-xl font-bold text-white flex items-center gap-3"},Pa={class:"flex items-center gap-2"},Ua={class:"flex items-center justify-between"},Xa={class:"flex items-center gap-2"},Fa={class:"text-sm font-medium text-white/90 hidden sm:block"},Ja={class:"flex-1 overflow-y-auto p-6"},Ra={key:0,class:"space-y-6"},Ea={class:"flex items-center gap-2 mb-2"},Oa={key:0,class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Qa={key:1,class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},er={key:2,class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tr={class:"text-sm font-semibold text-gray-300"},ar={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},rr=["onClick"],or={class:"flex items-start gap-3"},sr={key:0,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lr={key:1,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},nr={key:2,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ir={key:3,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},dr={key:4,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},cr={key:5,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ur={class:"font-semibold text-gray-900 dark:text-white"},gr={class:"text-sm text-gray-500 dark:text-gray-400"},pr={key:0,class:"bg-gray-800/50 rounded-2xl p-5 mt-6 border border-gray-700"},vr={class:"flex gap-2 mb-3"},hr={key:0,class:"flex flex-wrap gap-2"},xr=["onClick"],mr={key:1,class:"text-sm text-gray-500"},yr={key:1,class:"space-y-6"},br={key:0,class:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4 flex items-center gap-3"},kr={class:"font-semibold text-gray-900 dark:text-white"},wr={key:0,class:"ml-auto flex gap-1"},fr={key:0,class:"px-2 py-1 bg-purple-500/20 text-purple-300 text-xs rounded-lg"},_r={class:"space-y-4"},Mr={key:0,class:"absolute -top-4 left-5 w-0.5 h-4 bg-gradient-to-b from-pink-500 to-purple-500"},jr={class:"bg-gray-800 rounded-2xl p-5 border border-gray-700"},Cr={class:"flex items-center justify-between mb-4"},zr={class:"flex items-center gap-3"},Br={class:"w-8 h-8 bg-gradient-to-br from-pink-500 to-purple-500 rounded-lg flex items-center justify-center text-white text-sm font-bold"},Ir=["onClick"],Vr={class:"grid grid-cols-2 sm:grid-cols-3 gap-2 mb-4"},Lr=["onClick"],Hr={class:"flex items-center gap-2"},Ar={key:0,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Tr={key:1,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Sr={key:2,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$r={key:3,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Dr={key:4,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Yr={key:0,class:"space-y-3"},qr=["onUpdate:modelValue"],Zr={class:"flex items-center justify-between text-xs"},Wr={class:"flex gap-2"},Nr=["onClick"],Gr=["onClick"],Kr={key:1,class:"flex items-center gap-4"},Pr=["onUpdate:modelValue"],Ur={key:2,class:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4"},Xr={key:2,class:"space-y-6"},Fr={class:"bg-gray-800 rounded-2xl p-5 border border-gray-700"},Jr={class:"bg-gray-800 rounded-2xl p-5 border border-gray-700"},Rr={class:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-2xl p-5"},Er={class:"flex items-center justify-between"},Or={class:"bg-gray-800 rounded-2xl p-5 border border-gray-700"},Qr={class:"grid grid-cols-3 gap-3"},eo={class:"bg-gray-800/50 rounded-2xl p-5 border border-gray-700"},to={class:"space-y-3 text-sm"},ao={class:"flex items-center gap-2"},ro={class:"text-white"},oo={class:"flex items-center gap-2"},so={class:"text-white"},lo={key:0,class:"flex items-center gap-2"},no={class:"text-white"},io={class:"p-6 border-t border-gray-800 flex justify-between bg-gray-900/80"},co={key:1},uo={class:"flex gap-3"},go=["disabled"],po=["disabled"],vo={key:4,class:"fixed inset-0 z-50"},ho="/integrations/instagram/chatbot/api",xo={__name:"Index",props:{business:Object,account:Object,hasAccount:Boolean},setup(e){z();const r=e,g=t(!0),p=t("dashboard"),h=t(null),C=t([]),B=t([]),I=t(null),V=t([]),L=t([]),H=t([]),A=t(!1),T=t(!1),S=t(null),$=t({nodes:[],connections:[]}),D=t(1),Y=[{id:"dm",name:"DM Triggerlar",icon:"chat",color:"from-purple-500 to-indigo-600",triggers:[{type:"keyword_dm",name:"Kalit so'z",description:"DM da ma'lum so'z yozilganda",icon:"key"},{type:"any_dm",name:"Har qanday xabar",description:"Istalgan DM kelganda",icon:"inbox"}]},{id:"engagement",name:"Faollik Triggerlar",icon:"heart",color:"from-pink-500 to-rose-600",triggers:[{type:"keyword_comment",name:"Comment kalit so'z",description:"Commentda kalit so'z bo'lganda",icon:"comment"},{type:"story_mention",name:"Story mention",description:"Sizni storyda etiketlaganda",icon:"at"},{type:"story_reply",name:"Story javob",description:"Storyngizga javob kelganda",icon:"reply"}]},{id:"follower",name:"Follower Triggerlar",icon:"users",color:"from-blue-500 to-cyan-600",triggers:[{type:"new_follower",name:"Yangi follower",description:"Kimdir follow qilganda",icon:"user-plus"}]}],q=[{type:"send_dm",name:"DM yuborish",description:"Foydalanuvchiga xabar yuborish",icon:"paper-airplane",color:"purple"},{type:"send_media",name:"Media yuborish",description:"Rasm yoki video yuborish",icon:"photo",color:"pink"},{type:"delay",name:"Kutish",description:"Ma'lum vaqt kutish",icon:"clock",color:"blue"},{type:"add_tag",name:"Tag qo'shish",description:"Foydalanuvchiga tag biriktirish",icon:"tag",color:"green"},{type:"ai_response",name:"AI javob",description:"Sun'iy intellekt orqali javob",icon:"sparkles",color:"amber"}],Z=t({name:"",description:"",type:"keyword",status:"draft",is_ai_enabled:!1,triggers:[{trigger_type:"keyword_dm",keywords:[],exact_match:!1}],actions:[{action_type:"send_dm",message_template:"",delay_seconds:0}]}),W=t(""),N=()=>{D.value<3&&D.value++},G=()=>{D.value>1&&D.value--},K=b(()=>{if(1===D.value)return Z.value.triggers[0]?.trigger_type;if(2===D.value){const e=Z.value.actions.length>0,t=Z.value.actions[0];return"send_dm"===t?.action_type?e&&t.message_template?.trim():e}return 3!==D.value||Z.value.name?.trim()}),P=b(()=>{const e=Z.value.triggers[0]?.trigger_type;for(const t of Y){const a=t.triggers.find(t=>t.type===e);if(a)return{...a,category:t}}return null}),U=t(""),X=[{id:"dashboard",label:"Dashboard",icon:"chart-bar"},{id:"automations",label:"Avtomatlar",icon:"bolt"},{id:"conversations",label:"Suhbatlar",icon:"chat"}],F=async()=>{try{const e=await M.get(`${ho}/dashboard`);h.value=e.data}catch(e){}},J=async()=>{try{const e=await M.get(`${ho}/automations`);C.value=e.data.automations||[]}catch(e){}},R=async()=>{try{const e=await M.get(`${ho}/conversations`);B.value=e.data.data||[]}catch(e){}},E=async()=>{try{const e=await M.get(`${ho}/trigger-types`);L.value=e.data.trigger_types||[]}catch(e){}},O=async()=>{try{const e=await M.get(`${ho}/action-types`);H.value=e.data.action_types||[]}catch(e){}},Q=()=>{S.value=null,Z.value={name:"",description:"",type:"flow",status:"draft",is_ai_enabled:!1},$.value={nodes:[],connections:[]},T.value=!0},ee=async()=>{try{S.value?await M.put(`${ho}/automations/${S.value.id}`,Z.value):await M.post(`${ho}/automations`,Z.value),A.value=!1,await J()}catch(e){alert("Xatolik yuz berdi")}},te=e=>{W.value.trim()&&(Z.value.triggers[e].keywords||(Z.value.triggers[e].keywords=[]),Z.value.triggers[e].keywords.push(W.value.trim()),W.value="")},ae=()=>{Z.value.actions.push({action_type:"send_dm",message_template:""})},re=async e=>{I.value=e;try{const t=await M.get(`${ho}/conversations/${e.id}`);V.value=t.data.messages||[]}catch(t){}},oe=async()=>{if(U.value.trim()&&I.value)try{await M.post(`${ho}/conversations/${I.value.id}/message`,{message:U.value}),U.value="",await re(I.value)}catch(e){alert("Xabar yuborishda xatolik")}},se=e=>{switch(e){case"active":return"bg-green-500/20 text-green-600 dark:text-green-400 border border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 border border-yellow-500/30";default:return"bg-gray-500/20 text-gray-600 dark:text-gray-400 border border-gray-500/30"}},le=e=>{switch(e){case"active":return"Faol";case"paused":return"To'xtatilgan";case"draft":return"Qoralama";default:return e}},ne=e=>{switch(e){case"active":return"border-l-green-500";case"paused":return"border-l-yellow-500";default:return"border-l-gray-400"}},ie=()=>{A.value=!1,$.value={nodes:[],connections:[]},T.value=!0},de=e=>{if(S.value=e,e.flow_data){const t=e.flow_data.nodes||[],a=e.flow_data.edges||[],r=t.map(e=>({id:e.node_id,type:e.node_type,name:e.data?.name||ce(e.node_type),x:e.position?.x||100,y:e.position?.y||100,data:e.data||{},keywords:e.data?.keywords||[]})),o=a.map(e=>({from:e.source_node_id,to:e.target_node_id,type:e.source_handle||"default"}));$.value={nodes:r,connections:o}}else $.value={nodes:[],connections:[]};T.value=!0},ce=e=>({trigger_keyword_dm:"DM Kalit so'z",trigger_keyword_comment:"Comment Kalit so'z",trigger_story_mention:"Story Mention",trigger_story_reply:"Story Javob",trigger_new_follower:"Yangi Follower",action_send_dm:"DM Yuborish",action_reply_comment:"Commentga Javob",action_ai_response:"AI Javob",action_delay:"Kutish",action_add_tag:"Tag Qo'shish",condition_keyword:"Kalit So'z Sharti",condition_is_follower:"Follower Tekshirish",condition_has_tag:"Tag Tekshirish"}[e]||"Element"),ue=()=>{T.value=!1,S.value=null,$.value={nodes:[],connections:[]}},ge=async e=>{try{const t=(e.nodes||[]).map(e=>({node_id:e.id,node_type:e.type,position:{x:e.x,y:e.y},data:{...e.data,keywords:e.keywords||[],name:e.name}})),a=(e.connections||[]).map((e,t)=>({edge_id:`edge-${t}-${Date.now()}`,source_node_id:e.from,target_node_id:e.to,source_handle:"default"!==e.type?e.type:null})),r={name:e.settings?.name||"Yangi Flow",description:e.settings?.description||"",status:e.settings?.status||"draft",nodes:t,edges:a};S.value?await M.put(`${ho}/flow-automations/${S.value.id}`,r):await M.post(`${ho}/flow-automations`,r),ue(),await J()}catch(t){let e="Saqlashda xatolik yuz berdi";if(t.response?.data?.error)e=t.response.data.error;else if(t.response?.data?.message)e=t.response.data.message;else if(t.response?.data?.errors){e=Object.values(t.response.data.errors).flat().join("\n")}alert(e)}};return a(()=>{r.hasAccount?(async()=>{g.value=!0,await Promise.all([F(),J(),R(),E(),O()]),g.value=!1})():g.value=!1}),(t,a)=>(s(),o(x,null,[k(w(_),{title:"Instagram Chatbot"}),k(j,null,{default:f(()=>[l("div",{class:"bg-gradient-to-r from-purple-600 via-pink-500 to-rose-500 relative overflow-hidden -mx-4 sm:-mx-6 lg:-mx-8 -mt-6 mb-6"},[a[14]||(a[14]=l("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"},null,-1)),l("div",{class:"px-4 sm:px-6 lg:px-8 py-6 relative"},[l("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},[a[13]||(a[13]=l("div",{class:"flex items-center gap-4"},[l("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[l("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})])]),l("div",null,[l("h1",{class:"text-xl md:text-2xl font-bold text-white"},"Instagram Chatbot"),l("p",{class:"text-pink-100 text-sm"},"DM avtomatizatsiyasi va suhbat boshqaruvi")])],-1)),l("button",{onClick:Q,class:"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-pink-50 flex items-center gap-2 text-sm font-semibold transition-all"},[...a[12]||(a[12]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Yangi avtomat ",-1)])])])])]),e.hasAccount?g.value?(s(),o("div",Pe,[...a[16]||(a[16]=[l("div",{class:"relative w-16 h-16 mx-auto mb-4"},[l("div",{class:"absolute inset-0 border-4 border-purple-200 dark:border-purple-900/50 rounded-full"}),l("div",{class:"absolute inset-0 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})],-1),l("p",{class:"text-gray-500 dark:text-gray-400"},"Yuklanmoqda...",-1)])])):(s(),o("div",Ue,[l("div",Xe,[(s(),o(x,null,m(X,e=>l("button",{key:e.id,onClick:t=>p.value=e.id,class:d(["flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2",p.value===e.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-700/50"])},["chart-bar"===e.icon?(s(),o("svg",Je,[...a[17]||(a[17]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])])):v("",!0),"bolt"===e.icon?(s(),o("svg",Re,[...a[18]||(a[18]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)])])):v("",!0),"chat"===e.icon?(s(),o("svg",Ee,[...a[19]||(a[19]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},null,-1)])])):v("",!0),c(" "+u(e.label),1)],10,Fe)),64))]),"dashboard"===p.value?(s(),o("div",Oe,[l("div",Qe,[l("div",et,[a[20]||(a[20]=l("div",{class:"flex items-center justify-between mb-3"},[l("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Faol avtomatlar"),l("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform"},[l("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])])],-1)),l("div",tt,u(h.value?.automations?.active||0),1),l("div",at,"/ "+u(h.value?.automations?.total||0)+" jami",1)]),l("div",rt,[a[21]||(a[21]=l("div",{class:"flex items-center justify-between mb-3"},[l("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Bugungi triggerlar"),l("div",{class:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform"},[l("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])])],-1)),l("div",ot,u(h.value?.triggers?.today||0),1),l("div",st,u(h.value?.triggers?.week||0)+" haftalik",1)]),l("div",lt,[a[22]||(a[22]=l("div",{class:"flex items-center justify-between mb-3"},[l("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Suhbatlar"),l("div",{class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform"},[l("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})])])],-1)),l("div",nt,u(h.value?.conversations?.active||0),1),l("div",it,u(h.value?.conversations?.total||0)+" jami",1)]),l("div",dt,[a[23]||(a[23]=l("div",{class:"flex items-center justify-between mb-3"},[l("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Avtomatizatsiya"),l("div",{class:"w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform"},[l("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])])],-1)),l("div",ct,u(h.value?.messages?.automation_rate||0)+"%",1),a[24]||(a[24]=l("div",{class:"text-sm text-gray-500"},"xabarlar avtomatik",-1))])]),l("div",ut,[l("div",gt,[a[28]||(a[28]=l("div",{class:"flex items-center justify-between mb-4"},[l("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Top avtomatlar"),l("div",{class:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center"},[l("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])])],-1)),h.value?.top_automations?.length?(s(),o("div",pt,[(s(!0),o(x,null,m(h.value.top_automations,e=>(s(),o("div",{key:e.id,class:"flex items-center justify-between p-4 bg-gray-100 dark:bg-gray-700/50 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors cursor-pointer"},[l("div",null,[l("div",vt,u(e.name),1),l("div",ht,[a[25]||(a[25]=l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),c(" "+u(e.triggers)+" trigger ",1)])]),l("div",xt,[l("div",mt,u(e.conversion_rate)+"%",1),l("span",{class:d([se(e.status),"text-xs px-2.5 py-1 rounded-full font-medium"])},u(le(e.status)),3)])]))),128))])):(s(),o("div",yt,[a[26]||(a[26]=l("div",{class:"w-16 h-16 bg-gray-200 dark:bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-4"},[l("svg",{class:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),a[27]||(a[27]=l("p",{class:"text-gray-400"},"Hozircha avtomatlar yo'q",-1)),l("button",{onClick:Q,class:"mt-3 text-sm text-purple-400 hover:underline"}," Yangi avtomat yaratish ")]))]),l("div",bt,[a[30]||(a[30]=l("div",{class:"flex items-center justify-between mb-4"},[l("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"So'nggi suhbatlar"),l("div",{class:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center"},[l("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])])],-1)),h.value?.recent_conversations?.length?(s(),o("div",kt,[(s(!0),o(x,null,m(h.value.recent_conversations,e=>(s(),o("div",{key:e.id,class:"flex items-center gap-3 p-3 bg-gray-100 dark:bg-gray-700/50 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer transition-colors",onClick:t=>{p.value="conversations",re(e)}},[e.profile_picture?(s(),o("img",{key:0,src:e.profile_picture,class:"w-11 h-11 rounded-full object-cover"},null,8,ft)):(s(),o("div",_t,[l("span",Mt,u((e.username||"U")[0].toUpperCase()),1)])),l("div",jt,[l("div",Ct,"@"+u(e.username||"Foydalanuvchi"),1),l("div",zt,u(e.last_message||"Xabar yo'q"),1)]),l("div",Bt,u(e.last_message_at),1)],8,wt))),128))])):(s(),o("div",It,[...a[29]||(a[29]=[l("div",{class:"w-16 h-16 bg-gray-200 dark:bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-4"},[l("svg",{class:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1),l("p",{class:"text-gray-400"},"Hozircha suhbatlar yo'q",-1),l("p",{class:"text-xs text-gray-500 mt-1"},"Suhbatlar avtomatik paydo bo'ladi",-1)])]))])]),a[31]||(a[31]=l("div",{class:"bg-gradient-to-r from-purple-600 via-pink-500 to-rose-500 rounded-2xl p-6 text-white relative overflow-hidden"},[l("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),l("div",{class:"relative"},[l("div",{class:"flex items-center gap-3 mb-4"},[l("div",{class:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[l("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})])]),l("h3",{class:"text-xl font-bold"},"Chatbot qanday ishlaydi?")]),l("div",{class:"grid md:grid-cols-3 gap-4"},[l("div",{class:"bg-white/10 backdrop-blur-sm rounded-xl p-5 hover:bg-white/20 transition-colors"},[l("div",{class:"flex items-center gap-3 mb-3"},[l("div",{class:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-xl font-bold"},"1"),l("span",{class:"font-bold text-lg"},"Trigger")]),l("p",{class:"text-white/80 text-sm leading-relaxed"},"Kalit so'z, comment yoki story mention kabi hodisalar triggerlarni ishga tushiradi")]),l("div",{class:"bg-white/10 backdrop-blur-sm rounded-xl p-5 hover:bg-white/20 transition-colors"},[l("div",{class:"flex items-center gap-3 mb-3"},[l("div",{class:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-xl font-bold"},"2"),l("span",{class:"font-bold text-lg"},"Action")]),l("p",{class:"text-white/80 text-sm leading-relaxed"},"Avtomatik DM yuborish, tag qo'shish yoki AI javob berish kabi harakatlar bajariladi")]),l("div",{class:"bg-white/10 backdrop-blur-sm rounded-xl p-5 hover:bg-white/20 transition-colors"},[l("div",{class:"flex items-center gap-3 mb-3"},[l("div",{class:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-xl font-bold"},"3"),l("span",{class:"font-bold text-lg"},"Natija")]),l("p",{class:"text-white/80 text-sm leading-relaxed"},"Lead yig'ish, mijozlarni segmentlash va sotuvlarni oshirish")])])])],-1))])):v("",!0),"automations"===p.value?(s(),o("div",Vt,[l("div",Lt,[l("div",Ht,[a[33]||(a[33]=l("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center"},[l("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),l("div",null,[a[32]||(a[32]=l("h3",{class:"font-bold text-gray-900 dark:text-white"},"Avtomatlar",-1)),l("p",At,u(C.value.length)+" ta avtomat",1)])]),l("button",{onClick:Q,class:"px-5 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 transition-all flex items-center gap-2"},[...a[34]||(a[34]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Yangi avtomat ",-1)])])]),0===C.value.length?(s(),o("div",Tt,[a[36]||(a[36]=l("div",{class:"w-20 h-20 bg-purple-100 dark:bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4"},[l("svg",{class:"w-10 h-10 text-purple-500 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),a[37]||(a[37]=l("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"},"Hozircha avtomatlar yo'q",-1)),a[38]||(a[38]=l("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"Yangi avtomat yaratib Instagram DM avtomatizatsiyasini boshlang",-1)),l("button",{onClick:Q,class:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 transition-all"},[...a[35]||(a[35]=[l("span",{class:"flex items-center gap-2"},[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})]),c(" Yangi avtomat yaratish ")],-1)])])])):(s(),o("div",St,[(s(!0),o(x,null,m(C.value,e=>(s(),o("div",{key:e.id,class:d(["bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent overflow-hidden transition-all hover:shadow-md","border-l-4",ne(e.status)])},[l("div",$t,[l("div",Dt,[l("div",Yt,[l("div",qt,[l("div",{class:d(["w-12 h-12 rounded-xl flex items-center justify-center relative","active"===e.status?"bg-green-500/20":"paused"===e.status?"bg-yellow-500/20":"bg-gray-200 dark:bg-gray-700"])},[l("div",{class:d(["w-8 h-8 rounded-lg flex items-center justify-center z-10","active"===e.status?"bg-green-500 text-white":"paused"===e.status?"bg-yellow-500 text-white":"bg-gray-400 dark:bg-gray-500 text-white"])},["active"===e.status?(s(),o("svg",Zt,[...a[39]||(a[39]=[l("path",{d:"M8 5v14l11-7z"},null,-1)])])):"paused"===e.status?(s(),o("svg",Wt,[...a[40]||(a[40]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 9v6m4-6v6"},null,-1)])])):(s(),o("svg",Nt,[...a[41]||(a[41]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])]))],2)],2),"active"===e.status?(s(),o("div",Gt)):v("",!0)]),l("div",Kt,[l("div",Pt,[l("h3",Ut,u(e.name),1),l("span",{class:d([se(e.status),"text-xs px-3 py-1 rounded-full font-semibold inline-flex items-center gap-1.5"])},[l("span",{class:d(["w-2 h-2 rounded-full","active"===e.status?"bg-green-500 animate-pulse":"paused"===e.status?"bg-yellow-500":"bg-gray-400"])},null,2),c(" "+u(le(e.status)),1)],2),e.is_flow_based?(s(),o("span",Xt,[...a[42]||(a[42]=[l("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})],-1),c(" Flow ",-1)])])):v("",!0)]),e.description?(s(),o("p",Ft,u(e.description),1)):v("",!0),e.triggers?.length?(s(),o("div",Jt,[(s(!0),o(x,null,m(e.triggers,e=>(s(),o("span",{key:e.id,class:"px-3 py-1.5 bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-300 text-sm rounded-full"},[c(u(e.trigger_type_label)+" ",1),e.keywords?.length?(s(),o("span",Rt," ("+u(e.keywords.join(", "))+") ",1)):v("",!0)]))),128))])):v("",!0),l("div",Et,[l("span",Ot,[a[43]||(a[43]=l("svg",{class:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),l("span",Qt,u(e.trigger_count||0),1),a[44]||(a[44]=c(" trigger ",-1))]),l("span",ea,[a[45]||(a[45]=l("svg",{class:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),l("span",ta,u(e.conversion_count||0),1),a[46]||(a[46]=c(" konversiya ",-1))]),l("span",aa,[a[47]||(a[47]=l("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)),l("span",ra,u(e.conversion_rate||0)+"%",1),a[48]||(a[48]=l("span",{class:"text-gray-400"},"CR",-1))])])])]),l("div",oa,[l("button",{onClick:t=>(async e=>{try{await M.post(`${ho}/automations/${e.id}/toggle`),await J()}catch(t){}})(e),class:d(["px-4 py-2 rounded-xl font-medium text-sm flex items-center gap-2 transition-all hover:scale-105","active"===e.status?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-700 dark:text-yellow-300 hover:bg-yellow-200 dark:hover:bg-yellow-900/60":"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/60"]),title:"active"===e.status?"To'xtatish":"Ishga tushirish"},["active"===e.status?(s(),o("svg",la,[...a[49]||(a[49]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 9v6m4-6v6"},null,-1)])])):(s(),o("svg",na,[...a[50]||(a[50]=[l("path",{d:"M8 5v14l11-7z"},null,-1)])])),c(" "+u("active"===e.status?"To'xtatish":"Ishga tushirish"),1)],10,sa),l("div",ia,[l("button",{onClick:t=>de(e),class:"p-2.5 bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-300 rounded-xl hover:bg-purple-200 dark:hover:bg-purple-900/60 transition-all",title:"Visual Builder"},[...a[51]||(a[51]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})],-1)])],8,da),l("button",{onClick:t=>(e=>{de(e)})(e),class:"p-2.5 bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-300 rounded-xl hover:bg-blue-200 dark:hover:bg-blue-900/60 transition-all",title:"Tahrirlash"},[...a[52]||(a[52]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,ca),l("button",{onClick:t=>(async e=>{if(confirm("Rostdan ham o'chirmoqchimisiz?"))try{await M.delete(`${ho}/automations/${e.id}`),await J()}catch(t){}})(e),class:"p-2.5 bg-red-100 dark:bg-red-900/40 text-red-600 dark:text-red-300 rounded-xl hover:bg-red-200 dark:hover:bg-red-900/60 transition-all",title:"O'chirish"},[...a[53]||(a[53]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ua)])])])])],2))),128))]))])):v("",!0),"conversations"===p.value?(s(),o("div",ga,[l("div",pa,[l("div",va,[a[54]||(a[54]=l("h3",{class:"font-bold text-gray-900 dark:text-white"},"Suhbatlar",-1)),l("span",ha,u(B.value.length),1)]),l("div",xa,[(s(!0),o(x,null,m(B.value,e=>(s(),o("div",{key:e.id,onClick:t=>re(e),class:d([I.value?.id===e.id?"bg-purple-100 dark:bg-purple-900/30":"hover:bg-gray-100 dark:hover:bg-gray-700/50","p-4 cursor-pointer transition-colors"])},[l("div",ya,[l("div",ba,[l("span",ka,u((e.participant_username||"U")[0].toUpperCase()),1)]),l("div",wa,[l("div",fa,"@"+u(e.participant_username||"Foydalanuvchi"),1),l("div",_a,u(e.latestMessage?.content||"Xabar yo'q"),1)]),e.needs_human?(s(),o("div",Ma)):v("",!0)])],10,ma))),128)),0===B.value.length?(s(),o("div",ja,[...a[55]||(a[55]=[l("div",{class:"w-14 h-14 bg-gray-200 dark:bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-3"},[l("svg",{class:"w-7 h-7 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1),l("p",{class:"text-gray-400 text-sm"},"Suhbatlar yo'q",-1)])])):v("",!0)])]),l("div",Ca,[I.value?(s(),o(x,{key:0},[l("div",za,[l("div",Ba,[l("span",Ia,u((I.value.participant_username||"U")[0].toUpperCase()),1)]),l("div",Va,[l("div",La,"@"+u(I.value.participant_username),1),l("div",Ha,[a[56]||(a[56]=l("span",{class:"w-2 h-2 bg-green-500 rounded-full"},null,-1)),c(" "+u(I.value.status),1)])])]),l("div",Aa,[(s(!0),o(x,null,m(V.value,e=>(s(),o("div",{key:e.id,class:d("outgoing"===e.direction?"flex justify-end":"flex justify-start")},[l("div",{class:d(["outgoing"===e.direction?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm","max-w-[70%] px-4 py-3 rounded-2xl"])},[l("p",Ta,u(e.content),1),l("div",{class:d(["outgoing"===e.direction?"text-white/70":"text-gray-500 dark:text-gray-400","text-xs mt-1.5 flex items-center gap-2"])},[c(u(e.time_ago)+" ",1),e.is_automated?(s(),o("span",Sa,"Bot")):v("",!0)],2)],2)],2))),128))]),l("div",$a,[l("div",Da,[n(l("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>U.value=e),onKeyup:y(oe,["enter"]),type:"text",placeholder:"Xabar yozing...",class:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-400"},null,544),[[i,U.value]]),l("button",{onClick:oe,class:"px-5 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all"},[...a[57]||(a[57]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)])])])])],64)):(s(),o("div",Ya,[...a[58]||(a[58]=[l("div",{class:"w-20 h-20 bg-gray-200 dark:bg-gray-700/50 rounded-full flex items-center justify-center mb-4"},[l("svg",{class:"w-10 h-10 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1),l("p",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Suhbat tanlang",-1),l("p",{class:"text-sm text-gray-500 mt-1"},"Chap paneldan suhbatni tanlang",-1)])]))])])):v("",!0)])):(s(),o("div",Ke,[...a[15]||(a[15]=[l("div",{class:"mx-auto w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mb-6"},[l("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})])],-1),l("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-3"},"Instagram ulanmagan",-1),l("p",{class:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto"}," Chatbot ishlatish uchun avval Instagram akkountingizni ulang. ",-1),l("a",{href:"/integrations/instagram",class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl hover:from-purple-600 hover:to-pink-700 font-semibold transition-all"},[l("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})]),c(" Instagram ulash ")],-1)])])),A.value?(s(),o("div",qa,[l("div",Za,[l("div",Wa,[a[62]||(a[62]=l("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"},null,-1)),l("div",Na,[l("div",Ga,[l("h2",Ka,[a[59]||(a[59]=l("div",{class:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[l("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),c(" "+u(S.value?"Avtomatni tahrirlash":"Yangi avtomat yaratish"),1)]),l("div",Pa,[l("button",{onClick:ie,class:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors text-sm font-medium"},[...a[60]||(a[60]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})],-1),c(" Visual Builder ",-1)])]),l("button",{onClick:a[1]||(a[1]=e=>A.value=!1),class:"text-white/70 hover:text-white p-2 hover:bg-white/10 rounded-lg transition-colors"},[...a[61]||(a[61]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),l("div",Ua,[(s(),o(x,null,m(3,e=>l("div",{key:e,class:d(["flex items-center",e<3?"flex-1":""])},[l("div",Xa,[l("div",{class:d(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all",D.value>=e?"bg-white text-purple-600":"bg-white/20 text-white/60"])},u(e),3),l("span",Fa,u(1===e?"Trigger":2===e?"Harakat":"Sozlamalar"),1)]),e<3?(s(),o("div",{key:0,class:d(["flex-1 h-0.5 mx-3",D.value>e?"bg-white":"bg-white/20"])},null,2)):v("",!0)],2)),64))])])]),l("div",Ja,[1===D.value?(s(),o("div",Ra,[a[75]||(a[75]=l("div",{class:"text-center mb-6"},[l("h3",{class:"text-xl font-bold text-white mb-2"},"Qachon ishga tushsin?"),l("p",{class:"text-gray-400"},"Avtomatni qanday holatda boshlashini tanlang")],-1)),(s(),o(x,null,m(Y,e=>l("div",{key:e.id,class:"space-y-3"},[l("div",Ea,[l("div",{class:d(["w-6 h-6 rounded-lg bg-gradient-to-br flex items-center justify-center",e.color])},["chat"===e.icon?(s(),o("svg",Oa,[...a[63]||(a[63]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},null,-1)])])):"heart"===e.icon?(s(),o("svg",Qa,[...a[64]||(a[64]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])])):(s(),o("svg",er,[...a[65]||(a[65]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"},null,-1)])]))],2),l("span",tr,u(e.name),1)]),l("div",ar,[(s(!0),o(x,null,m(e.triggers,e=>(s(),o("button",{key:e.type,onClick:t=>{return a=e.type,Z.value.triggers[0].trigger_type=a,void(Z.value.triggers[0].keywords=[]);var a},class:d(["p-4 rounded-xl text-left transition-all border-2",Z.value.triggers[0]?.trigger_type===e.type?"bg-purple-500/20 border-purple-500 ring-2 ring-purple-500/30":"bg-gray-800/50 border-gray-700 hover:border-gray-600 hover:bg-gray-800"])},[l("div",or,[l("div",{class:d(["w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",Z.value.triggers[0]?.trigger_type===e.type?"bg-purple-500":"bg-gray-700"])},["key"===e.icon?(s(),o("svg",sr,[...a[66]||(a[66]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"},null,-1)])])):"inbox"===e.icon?(s(),o("svg",lr,[...a[67]||(a[67]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"},null,-1)])])):"comment"===e.icon?(s(),o("svg",nr,[...a[68]||(a[68]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},null,-1)])])):"at"===e.icon?(s(),o("svg",ir,[...a[69]||(a[69]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"},null,-1)])])):"reply"===e.icon?(s(),o("svg",dr,[...a[70]||(a[70]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"},null,-1)])])):(s(),o("svg",cr,[...a[71]||(a[71]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"},null,-1)])]))],2),l("div",null,[l("div",ur,u(e.name),1),l("div",gr,u(e.description),1)])])],10,rr))),128))])])),64)),"keyword_dm"===Z.value.triggers[0]?.trigger_type||"keyword_comment"===Z.value.triggers[0]?.trigger_type?(s(),o("div",pr,[a[74]||(a[74]=l("h4",{class:"font-semibold text-white mb-3 flex items-center gap-2"},[l("svg",{class:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})]),c(" Kalit so'zlarni kiriting ")],-1)),l("div",vr,[n(l("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>W.value=e),onKeyup:a[3]||(a[3]=y(e=>te(0),["enter"])),type:"text",placeholder:"Masalan: narx, baho, price...",class:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 text-white rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-400"},null,544),[[i,W.value]]),l("button",{onClick:a[4]||(a[4]=e=>te(0)),type:"button",class:"px-5 py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 font-medium transition-colors"}," Qo'shish ")]),Z.value.triggers[0]?.keywords?.length?(s(),o("div",hr,[(s(!0),o(x,null,m(Z.value.triggers[0].keywords,(e,t)=>(s(),o("span",{key:t,class:"px-3 py-2 bg-purple-500/20 border border-purple-500/50 text-purple-300 rounded-xl text-sm flex items-center gap-2 group"},[a[73]||(a[73]=l("svg",{class:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})],-1)),c(" "+u(e)+" ",1),l("button",{onClick:e=>{return a=0,r=t,void Z.value.triggers[a].keywords.splice(r,1);var a,r},type:"button",class:"text-purple-400 hover:text-white transition-colors"},[...a[72]||(a[72]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,xr)]))),128))])):(s(),o("p",mr,"Hech bo'lmaganda bitta kalit so'z kiriting"))])):v("",!0)])):v("",!0),2===D.value?(s(),o("div",yr,[a[89]||(a[89]=l("div",{class:"text-center mb-6"},[l("h3",{class:"text-xl font-bold text-white mb-2"},"Nima qilsin?"),l("p",{class:"text-gray-400"},"Trigger ishga tushganda qanday harakat bajarilsin")],-1)),P.value?(s(),o("div",br,[a[77]||(a[77]=l("div",{class:"w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center"},[l("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),l("div",null,[a[76]||(a[76]=l("div",{class:"text-sm text-purple-400"},"Trigger",-1)),l("div",kr,u(P.value.name),1)]),Z.value.triggers[0]?.keywords?.length?(s(),o("div",wr,[(s(!0),o(x,null,m(Z.value.triggers[0].keywords.slice(0,3),e=>(s(),o("span",{key:e,class:"px-2 py-1 bg-purple-500/20 text-purple-300 text-xs rounded-lg"},"#"+u(e),1))),128)),Z.value.triggers[0].keywords.length>3?(s(),o("span",fr,"+"+u(Z.value.triggers[0].keywords.length-3),1)):v("",!0)])):v("",!0)])):v("",!0),l("div",_r,[(s(!0),o(x,null,m(Z.value.actions,(e,t)=>(s(),o("div",{key:t,class:"relative"},[t>0?(s(),o("div",Mr)):v("",!0),l("div",jr,[l("div",Cr,[l("div",zr,[l("div",Br,u(t+1),1),a[78]||(a[78]=l("span",{class:"font-medium text-white"},"Harakat",-1))]),Z.value.actions.length>1?(s(),o("button",{key:0,onClick:e=>(e=>{Z.value.actions.length>1&&Z.value.actions.splice(e,1)})(t),type:"button",class:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors"},[...a[79]||(a[79]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ir)):v("",!0)]),l("div",Vr,[(s(),o(x,null,m(q,t=>l("button",{key:t.type,onClick:a=>e.action_type=t.type,class:d(["p-3 rounded-xl text-left transition-all border",e.action_type===t.type?"bg-pink-500/20 border-pink-500":"bg-gray-700/50 border-gray-600 hover:border-gray-500"])},[l("div",Hr,[l("div",{class:d(["w-8 h-8 rounded-lg flex items-center justify-center",e.action_type===t.type?"bg-pink-500":"bg-gray-600"])},["paper-airplane"===t.icon?(s(),o("svg",Ar,[...a[80]||(a[80]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},null,-1)])])):"clock"===t.icon?(s(),o("svg",Tr,[...a[81]||(a[81]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):"tag"===t.icon?(s(),o("svg",Sr,[...a[82]||(a[82]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"},null,-1)])])):"sparkles"===t.icon?(s(),o("svg",$r,[...a[83]||(a[83]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"},null,-1)])])):(s(),o("svg",Dr,[...a[84]||(a[84]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))],2),l("span",{class:d(["text-sm font-medium",e.action_type===t.type?"text-white":"text-gray-300"])},u(t.name),3)])],10,Lr)),64))]),"send_dm"===e.action_type?(s(),o("div",Yr,[n(l("textarea",{"onUpdate:modelValue":t=>e.message_template=t,rows:"4",placeholder:"Salom {name}! Bizga yozganingiz uchun rahmat...",class:"w-full px-4 py-3 bg-gray-700 border border-gray-600 text-white rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent placeholder-gray-400 resize-none"},null,8,qr),[[i,e.message_template]]),l("div",Zr,[a[85]||(a[85]=l("span",{class:"text-gray-500"},"O'zgaruvchilar:",-1)),l("div",Wr,[l("button",{type:"button",onClick:t=>e.message_template+=" {name}",class:"px-2 py-1 bg-gray-700 text-gray-300 rounded hover:bg-gray-600"},"{name}",8,Nr),l("button",{type:"button",onClick:t=>e.message_template+=" {username}",class:"px-2 py-1 bg-gray-700 text-gray-300 rounded hover:bg-gray-600"},"{username}",8,Gr)])])])):v("",!0),"delay"===e.action_type?(s(),o("div",Kr,[n(l("input",{"onUpdate:modelValue":t=>e.delay_seconds=t,type:"number",min:"1",max:"3600",placeholder:"60",class:"w-24 px-4 py-3 bg-gray-700 border border-gray-600 text-white rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent text-center"},null,8,Pr),[[i,e.delay_seconds,void 0,{number:!0}]]),a[86]||(a[86]=l("span",{class:"text-gray-400"},"soniya kutish",-1))])):v("",!0),"ai_response"===e.action_type?(s(),o("div",Ur,[...a[87]||(a[87]=[l("div",{class:"flex items-center gap-2 text-amber-400"},[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})]),l("span",{class:"font-medium"},"AI avtomatik javob beradi")],-1),l("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},"Sun'iy intellekt xabarni tahlil qilib mos javob yuboradi",-1)])])):v("",!0)])]))),128)),l("button",{onClick:ae,type:"button",class:"w-full py-4 border-2 border-dashed border-gray-600 text-gray-400 rounded-2xl hover:border-pink-500 hover:text-pink-400 hover:bg-pink-500/5 transition-all flex items-center justify-center gap-2"},[...a[88]||(a[88]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Yana harakat qo'shish ",-1)])])])])):v("",!0),3===D.value?(s(),o("div",Xr,[a[104]||(a[104]=l("div",{class:"text-center mb-6"},[l("h3",{class:"text-xl font-bold text-white mb-2"},"Oxirgi sozlamalar"),l("p",{class:"text-gray-400"},"Avtomatingizga nom bering va ishga tushiring")],-1)),l("div",Fr,[a[90]||(a[90]=l("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Avtomat nomi *",-1)),n(l("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>Z.value.name=e),type:"text",placeholder:"Masalan: Narx so'rovlariga javob",class:"w-full px-4 py-4 bg-gray-700 border border-gray-600 text-white text-lg rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-400"},null,512),[[i,Z.value.name]])]),l("div",Jr,[a[91]||(a[91]=l("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Tavsif (ixtiyoriy)",-1)),n(l("textarea",{"onUpdate:modelValue":a[6]||(a[6]=e=>Z.value.description=e),rows:"2",placeholder:"Bu avtomat nima ish qiladi...",class:"w-full px-4 py-3 bg-gray-700 border border-gray-600 text-white rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-400 resize-none"},null,512),[[i,Z.value.description]])]),l("div",Rr,[l("div",Er,[a[92]||(a[92]=l("div",{class:"flex items-center gap-3"},[l("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center"},[l("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})])]),l("div",null,[l("div",{class:"font-semibold text-gray-900 dark:text-white"},"AI yordamchisi"),l("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Sun'iy intellekt xabarlarni tahlil qilsin")])],-1)),l("button",{onClick:a[7]||(a[7]=e=>Z.value.is_ai_enabled=!Z.value.is_ai_enabled),class:d(["w-14 h-8 rounded-full transition-all relative",Z.value.is_ai_enabled?"bg-purple-500":"bg-gray-600"])},[l("div",{class:d(["w-6 h-6 bg-white rounded-full absolute top-1 transition-all shadow",Z.value.is_ai_enabled?"right-1":"left-1"])},null,2)],2)])]),l("div",Or,[a[96]||(a[96]=l("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Boshlang'ich holati",-1)),l("div",Qr,[l("button",{onClick:a[8]||(a[8]=e=>Z.value.status="active"),type:"button",class:d(["p-3 rounded-xl border transition-all text-center","active"===Z.value.status?"bg-green-500/20 border-green-500 text-green-400":"bg-gray-700 border-gray-600 text-gray-400 hover:border-gray-500"])},[...a[93]||(a[93]=[l("div",{class:"font-medium"},"Faol",-1),l("div",{class:"text-xs mt-1 opacity-70"},"Darhol ishlaydi",-1)])],2),l("button",{onClick:a[9]||(a[9]=e=>Z.value.status="draft"),type:"button",class:d(["p-3 rounded-xl border transition-all text-center","draft"===Z.value.status?"bg-gray-500/20 border-gray-500 text-gray-300":"bg-gray-700 border-gray-600 text-gray-400 hover:border-gray-500"])},[...a[94]||(a[94]=[l("div",{class:"font-medium"},"Qoralama",-1),l("div",{class:"text-xs mt-1 opacity-70"},"Keyinroq",-1)])],2),l("button",{onClick:a[10]||(a[10]=e=>Z.value.status="paused"),type:"button",class:d(["p-3 rounded-xl border transition-all text-center","paused"===Z.value.status?"bg-yellow-500/20 border-yellow-500 text-yellow-400":"bg-gray-700 border-gray-600 text-gray-400 hover:border-gray-500"])},[...a[95]||(a[95]=[l("div",{class:"font-medium"},"To'xtatilgan",-1),l("div",{class:"text-xs mt-1 opacity-70"},"Pauza",-1)])],2)])]),l("div",eo,[a[103]||(a[103]=l("h4",{class:"font-semibold text-white mb-4 flex items-center gap-2"},[l("svg",{class:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),c(" Xulosa ")],-1)),l("div",to,[l("div",ao,[a[97]||(a[97]=l("div",{class:"w-2 h-2 bg-purple-500 rounded-full"},null,-1)),a[98]||(a[98]=l("span",{class:"text-gray-400"},"Trigger:",-1)),l("span",ro,u(P.value?.name||"Tanlanmagan"),1)]),l("div",oo,[a[99]||(a[99]=l("div",{class:"w-2 h-2 bg-pink-500 rounded-full"},null,-1)),a[100]||(a[100]=l("span",{class:"text-gray-400"},"Harakatlar:",-1)),l("span",so,u(Z.value.actions.length)+" ta",1)]),Z.value.triggers[0]?.keywords?.length?(s(),o("div",lo,[a[101]||(a[101]=l("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)),a[102]||(a[102]=l("span",{class:"text-gray-400"},"Kalit so'zlar:",-1)),l("span",no,u(Z.value.triggers[0].keywords.join(", ")),1)])):v("",!0)])])])):v("",!0)]),l("div",io,[D.value>1?(s(),o("button",{key:0,onClick:G,class:"px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 font-medium transition-colors flex items-center gap-2"},[...a[105]||(a[105]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),c(" Orqaga ",-1)])])):(s(),o("div",co)),l("div",uo,[l("button",{onClick:a[11]||(a[11]=e=>A.value=!1),class:"px-6 py-3 text-gray-400 hover:text-white font-medium transition-colors"}," Bekor qilish "),D.value<3?(s(),o("button",{key:0,onClick:N,disabled:!K.value,class:d(["px-6 py-3 rounded-xl font-semibold transition-all flex items-center gap-2",K.value?"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600":"bg-gray-700 text-gray-500 cursor-not-allowed"])},[...a[106]||(a[106]=[c(" Davom etish ",-1),l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],10,go)):(s(),o("button",{key:1,onClick:ee,disabled:!K.value,class:d(["px-8 py-3 rounded-xl font-semibold transition-all flex items-center gap-2",K.value?"bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600":"bg-gray-700 text-gray-500 cursor-not-allowed"])},[a[107]||(a[107]=l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),c(" "+u(S.value?"Saqlash":"Yaratish"),1)],10,po))])])])])):v("",!0),T.value?(s(),o("div",vo,[k(Ge,{"automation-id":S.value?.id,"automation-name":S.value?.name||"","automation-status":S.value?.status||"draft","automation-ai-enabled":S.value?.is_ai_enabled||!1,"initial-nodes":$.value.nodes,"initial-connections":$.value.connections,onClose:ue,onSave:ge},null,8,["automation-id","automation-name","automation-status","automation-ai-enabled","initial-nodes","initial-connections"])])):v("",!0)]),_:1})],64))}};export{xo as default};

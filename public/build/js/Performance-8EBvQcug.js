import{D as e,z as t,E as r,r as a,v as s,x as l,y as o,A as d,C as n,H as x,I as y,J as g,B as c,F as i,G as p,L as b,W as u}from"./chunk-7Urb0kxg.js";import{h as m,l as f}from"./chunk-DKkye6wf.js";import{_ as k}from"./chunk-BB8-4400.js";import{u as h}from"./app-DFslr8vl.js";import{r as w}from"./chunk-BbNzHEQQ.js";import{r as v}from"./chunk-BugzYCIx.js";import{r as _}from"./chunk-CROtfHv8.js";import{r as j}from"./chunk-DS-Zp4Qb.js";import{r as C}from"./chunk-D3xK5Dso.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-Di7Oc7TS.js";function R(a,s){return r(),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}const L={class:"py-12"},O={class:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4"},A={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3"},S={class:"mt-2 text-gray-600 dark:text-gray-400"},E={class:"flex gap-2"},U={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8"},D={class:"flex flex-wrap items-end gap-4"},z={class:"flex-1 min-w-[200px]"},F={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},I={class:"flex-1 min-w-[200px]"},M={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},B={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md mb-8"},N={class:"border-b border-gray-200 dark:border-gray-700"},P={class:"flex -mb-px"},V={class:"flex items-center justify-center gap-2"},W={class:"flex items-center justify-center gap-2"},G={class:"flex items-center justify-center gap-2"},H={class:"p-6"},Z={key:0},q={class:"overflow-x-auto"},J={class:"w-full"},K={class:"py-4 px-4"},X={class:"flex items-center gap-2"},Q={key:0,class:"w-6 h-6 bg-yellow-100 dark:bg-yellow-900/50 rounded-full flex items-center justify-center"},Y={class:"font-medium text-gray-900 dark:text-gray-100"},$={class:"py-4 px-4 text-right text-gray-700 dark:text-gray-300"},ee={class:"py-4 px-4 text-right font-semibold text-green-600 dark:text-green-400"},te={class:"py-4 px-4 text-right"},re={class:"font-semibold text-purple-600 dark:text-purple-400"},ae={class:"py-4 px-4 text-right font-semibold text-blue-600 dark:text-blue-400"},se={class:"py-4 px-4 text-right text-gray-700 dark:text-gray-300"},le={class:"py-4 px-4 text-center"},oe={key:1,class:"text-center py-12"},de={class:"mt-4 text-gray-500 dark:text-gray-400"},ne={class:"p-6"},xe={key:0},ye={class:"overflow-x-auto"},ge={class:"w-full"},ce={class:"py-4 px-4"},ie={class:"flex items-center gap-2"},pe={key:0,class:"w-6 h-6 bg-yellow-100 dark:bg-yellow-900/50 rounded-full flex items-center justify-center"},be={class:"font-medium text-gray-900 dark:text-gray-100"},ue={class:"py-4 px-4 text-center"},me={class:"inline-block px-3 py-1 bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300 rounded-full text-sm font-bold"},fe={class:"py-4 px-4 text-right text-gray-700 dark:text-gray-300"},ke={class:"py-4 px-4 text-right font-semibold text-green-600 dark:text-green-400"},he={class:"py-4 px-4 text-right"},we={class:"font-semibold text-purple-600 dark:text-purple-400"},ve={class:"py-4 px-4 text-right font-semibold text-blue-600 dark:text-blue-400"},_e={class:"py-4 px-4 text-right"},je={key:1,class:"text-center py-12"},Ce={class:"mt-4 text-gray-500 dark:text-gray-400"},Re={class:"p-6"},Le={key:0},Oe={class:"overflow-x-auto"},Te={class:"w-full"},Ae={class:"py-4 px-4"},Se={class:"flex items-center gap-2"},Ee={key:0,class:"w-6 h-6 bg-yellow-100 dark:bg-yellow-900/50 rounded-full flex items-center justify-center"},Ue={class:"font-medium text-gray-900 dark:text-gray-100"},De={class:"py-4 px-4 text-center"},ze={class:"inline-block px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs font-medium"},Fe={class:"py-4 px-4 text-right text-gray-700 dark:text-gray-300"},Ie={class:"py-4 px-4 text-right font-semibold text-green-600 dark:text-green-400"},Me={class:"py-4 px-4 text-right"},Be={class:"font-semibold text-purple-600 dark:text-purple-400"},Ne={class:"py-4 px-4 text-right font-semibold text-blue-600 dark:text-blue-400"},Pe={class:"py-4 px-4 text-right text-gray-700 dark:text-gray-300"},Ve={class:"py-4 px-4 text-right"},We={class:"py-4 px-4 text-right"},Ge={class:"font-semibold text-orange-600 dark:text-orange-400"},He={key:1,class:"text-center py-12"},Ze={class:"mt-4 text-gray-500 dark:text-gray-400"},qe={__name:"Performance",props:{dream_buyer_performance:{type:Array,default:()=>[]},offer_performance:{type:Array,default:()=>[]},source_analysis:{type:Array,default:()=>[]},filters:Object},setup(qe){const{t:Je}=h(),Ke=qe,Xe=a(Ke.filters?.date_from||""),Qe=a(Ke.filters?.date_to||""),Ye=a("dream-buyers"),$e=e=>new Intl.NumberFormat("uz-UZ").format(e)+" so'm",et=e=>e?.toFixed(1)||"0",tt=e=>e>=30?{bg:"bg-green-100 dark:bg-green-900/50",text:"text-green-800 dark:text-green-300",label:"Excellent"}:e>=20?{bg:"bg-blue-100 dark:bg-blue-900/50",text:"text-blue-800 dark:text-blue-300",label:"Good"}:e>=10?{bg:"bg-yellow-100 dark:bg-yellow-900/50",text:"text-yellow-800 dark:text-yellow-300",label:"Average"}:{bg:"bg-red-100 dark:bg-red-900/50",text:"text-red-800 dark:text-red-300",label:"Poor"},rt=e=>e>=200?{bg:"bg-green-100 dark:bg-green-900/50",text:"text-green-800 dark:text-green-300",label:"Excellent"}:e>=100?{bg:"bg-blue-100 dark:bg-blue-900/50",text:"text-blue-800 dark:text-blue-300",label:"Good"}:e>=0?{bg:"bg-yellow-100 dark:bg-yellow-900/50",text:"text-yellow-800 dark:text-yellow-300",label:"Break Even"}:{bg:"bg-red-100 dark:bg-red-900/50",text:"text-red-800 dark:text-red-300",label:"Loss"},at=()=>{window.location.href=route("business.analytics.performance",{date_from:Xe.value,date_to:Qe.value})},st=()=>{Xe.value="",Qe.value="",window.location.href=route("business.analytics.performance")};a(!1);const lt=a(!1),ot=async()=>{lt.value=!0;try{const e=await fetch(route("business.analytics.export.excel"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({report_type:"performance",date_from:Xe.value,date_to:Qe.value})});if(e.ok){const t=await e.blob(),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="performance_report.xlsx",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a)}else alert(Je("common.error"))}catch(e){alert(Je("common.error"))}finally{lt.value=!1}};return(a,h)=>(r(),s(k,{title:d(Je)("analytics.performance_reports")},{default:l(()=>[o(d(m),{title:d(Je)("analytics.performance_reports")},null,8,["title"]),t("div",L,[t("div",O,[t("div",T,[t("div",null,[t("h1",A,[o(d(w),{class:"w-10 h-10 text-yellow-600 dark:text-yellow-400"}),n(" "+x(d(Je)("analytics.performance_reports")),1)]),t("p",S,x(d(Je)("analytics.performance_desc")),1)]),t("div",E,[o(d(f),{href:a.route("business.analytics.index"),class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors gap-2"},{default:l(()=>[o(d(v),{class:"w-4 h-4"}),h[5]||(h[5]=n(" Dashboard ",-1))]),_:1},8,["href"]),t("button",{onClick:ot,class:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors gap-2"},[o(d(_),{class:"w-4 h-4"}),h[6]||(h[6]=n(" Excel ",-1))])])]),t("div",U,[t("div",D,[t("div",z,[t("label",F,x(d(Je)("reports.filter.start_date")),1),y(t("input",{"onUpdate:modelValue":h[0]||(h[0]=e=>Xe.value=e),type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-yellow-500 focus:border-transparent"},null,512),[[g,Xe.value]])]),t("div",I,[t("label",M,x(d(Je)("reports.filter.end_date")),1),y(t("input",{"onUpdate:modelValue":h[1]||(h[1]=e=>Qe.value=e),type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-yellow-500 focus:border-transparent"},null,512),[[g,Qe.value]])]),t("button",{onClick:at,class:"px-6 py-2 bg-yellow-600 hover:bg-yellow-700 text-white font-medium rounded-lg transition-colors"},x(d(Je)("common.filter")),1),t("button",{onClick:st,class:"px-6 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors"},x(d(Je)("reports.filter.reset")),1)])]),t("div",B,[t("div",N,[t("nav",P,[t("button",{onClick:h[2]||(h[2]=e=>Ye.value="dream-buyers"),class:c(["dream-buyers"===Ye.value?"border-yellow-600 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300","flex-1 py-4 px-1 text-center border-b-2 font-medium text-sm transition-colors"])},[t("div",V,[o(d(j),{class:"w-5 h-5"}),t("span",null,x(d(Je)("dashboard.ideal_customers")),1)])],2),t("button",{onClick:h[3]||(h[3]=e=>Ye.value="offers"),class:c(["offers"===Ye.value?"border-yellow-600 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300","flex-1 py-4 px-1 text-center border-b-2 font-medium text-sm transition-colors"])},[t("div",W,[o(d(C),{class:"w-5 h-5"}),h[7]||(h[7]=t("span",null,"Offers",-1))])],2),t("button",{onClick:h[4]||(h[4]=e=>Ye.value="sources"),class:c(["sources"===Ye.value?"border-yellow-600 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300","flex-1 py-4 px-1 text-center border-b-2 font-medium text-sm transition-colors"])},[t("div",G,[o(d(R),{class:"w-5 h-5"}),h[8]||(h[8]=t("span",null,"Lead Sources",-1))])],2)])]),y(t("div",H,[qe.dream_buyer_performance&&qe.dream_buyer_performance.length>0?(r(),e("div",Z,[t("div",q,[t("table",J,[h[9]||(h[9]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-700"},[t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Ideal Mijoz"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Total Leads"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Won Deals"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Conversion Rate"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Total Revenue"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Avg Deal Size"),t("th",{class:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Performance")])],-1)),t("tbody",null,[(r(!0),e(i,null,p(qe.dream_buyer_performance,(a,s)=>(r(),e("tr",{key:a.dream_buyer_id,class:c([s%2==0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700/50","hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-colors"])},[t("td",K,[t("div",X,[0===s?(r(),e("div",Q,[o(d(w),{class:"w-4 h-4 text-yellow-600 dark:text-yellow-400"})])):b("",!0),t("span",Y,x(a.dream_buyer_name),1)])]),t("td",$,x(a.total_leads),1),t("td",ee,x(a.won_leads),1),t("td",te,[t("span",re,x(et(a.conversion_rate))+"%",1)]),t("td",ae,x($e(a.total_revenue)),1),t("td",se,x($e(a.avg_deal_size)),1),t("td",le,[t("span",{class:c([tt(a.conversion_rate).bg,tt(a.conversion_rate).text,"inline-block px-3 py-1 rounded-full text-xs font-semibold"])},x(tt(a.conversion_rate).label),3)])],2))),128))])])])])):(r(),e("div",oe,[o(d(j),{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),t("p",de,x(d(Je)("reports.no_data")),1)]))],512),[[u,"dream-buyers"===Ye.value]]),y(t("div",ne,[qe.offer_performance&&qe.offer_performance.length>0?(r(),e("div",xe,[t("div",ye,[t("table",ge,[h[10]||(h[10]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-700"},[t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Offer"),t("th",{class:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Value Score"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Total Leads"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Won Deals"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Conversion Rate"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Total Revenue"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"ROI")])],-1)),t("tbody",null,[(r(!0),e(i,null,p(qe.offer_performance,(a,s)=>(r(),e("tr",{key:a.offer_id,class:c([s%2==0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700/50","hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-colors"])},[t("td",ce,[t("div",ie,[0===s?(r(),e("div",pe,[o(d(w),{class:"w-4 h-4 text-yellow-600 dark:text-yellow-400"})])):b("",!0),t("span",be,x(a.offer_name),1)])]),t("td",ue,[t("span",me,x(a.value_score||"N/A"),1)]),t("td",fe,x(a.total_leads),1),t("td",ke,x(a.won_leads),1),t("td",he,[t("span",we,x(et(a.conversion_rate))+"%",1)]),t("td",ve,x($e(a.total_revenue)),1),t("td",_e,[t("span",{class:c([rt(a.roi).text,"font-semibold"])},x(et(a.roi))+"% ",3)])],2))),128))])])])])):(r(),e("div",je,[o(d(C),{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),t("p",Ce,x(d(Je)("reports.no_data")),1)]))],512),[[u,"offers"===Ye.value]]),y(t("div",Re,[qe.source_analysis&&qe.source_analysis.length>0?(r(),e("div",Le,[t("div",Oe,[t("table",Te,[h[11]||(h[11]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-700"},[t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Source"),t("th",{class:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Type"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Total Leads"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Won Deals"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Conversion Rate"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Total Revenue"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"Cost per Lead"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"ROI"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700 dark:text-gray-300"},"ROAS")])],-1)),t("tbody",null,[(r(!0),e(i,null,p(qe.source_analysis,(a,s)=>(r(),e("tr",{key:a.source_id,class:c([s%2==0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700/50","hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-colors"])},[t("td",Ae,[t("div",Se,[0===s?(r(),e("div",Ee,[o(d(w),{class:"w-4 h-4 text-yellow-600 dark:text-yellow-400"})])):b("",!0),t("span",Ue,x(a.source_name),1)])]),t("td",De,[t("span",ze,x(a.channel_type),1)]),t("td",Fe,x(a.total_leads),1),t("td",Ie,x(a.won_leads),1),t("td",Me,[t("span",Be,x(et(a.conversion_rate))+"%",1)]),t("td",Ne,x($e(a.total_revenue)),1),t("td",Pe,x($e(a.cost_per_lead)),1),t("td",Ve,[t("span",{class:c([rt(a.roi).text,"font-semibold"])},x(et(a.roi))+"% ",3)]),t("td",We,[t("span",Ge,x(a.roas?.toFixed(2)||"0.00")+"x",1)])],2))),128))])])])])):(r(),e("div",He,[o(d(R),{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),t("p",Ze,x(d(Je)("reports.no_data")),1)]))],512),[[u,"sources"===Ye.value]])])])])]),_:1},8,["title"]))}};export{qe as default};

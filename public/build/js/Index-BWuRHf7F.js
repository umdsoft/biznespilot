import{D as t,z as e,E as a,r,b as s,v as l,x as d,y as i,A as o,H as n,B as x,I as g,J as c,L as p,F as u,G as y,P as m,C as h,K as b}from"./chunk-7Urb0kxg.js";import{h as k}from"./chunk-DKkye6wf.js";import{_ as v}from"./chunk-L0R09JI1.js";import{f}from"./chunk-Dm-LAqtr.js";import{r as w}from"./chunk-2nni-FlR.js";import{r as j}from"./chunk-C3XJH04c.js";import{r as _}from"./chunk-COgkU9mi.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";function C(r,s){return a(),t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}const I={class:"space-y-6"},E={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},A={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},q={class:"flex items-center gap-3"},B={class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center"},K={class:"text-2xl font-bold text-green-600"},S={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},z={class:"flex items-center gap-3"},L={class:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center"},V={class:"text-2xl font-bold text-red-600"},O={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},X={class:"flex items-center gap-3"},U={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center"},F={class:"text-2xl font-bold text-blue-600"},D={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},H={class:"flex items-center gap-3"},P={class:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center"},G={class:"text-2xl font-bold text-orange-600"},J={class:"border-b border-gray-200 dark:border-gray-700"},M={class:"flex gap-4"},Q={class:"relative max-w-md"},T={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden"},N={class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},W={class:"divide-y divide-gray-200 dark:divide-gray-700"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"flex items-center"},$={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center"},tt={class:"text-sm font-medium text-green-600 dark:text-green-400"},et={class:"ml-4"},at={class:"text-sm font-medium text-gray-900 dark:text-white"},rt={class:"text-sm text-gray-500 dark:text-gray-400"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},ot={class:"px-6 py-4 whitespace-nowrap text-right"},nt=["onClick"],xt={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},gt={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden"},ct={class:"overflow-x-auto"},pt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ut={class:"divide-y divide-gray-200 dark:divide-gray-700"},yt={class:"px-6 py-4 whitespace-nowrap"},mt={class:"flex items-center"},ht={class:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"},bt={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},kt={class:"ml-4"},vt={class:"text-sm font-medium text-gray-900 dark:text-white"},ft={class:"text-sm text-gray-500 dark:text-gray-400"},wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},_t={class:"px-6 py-4 whitespace-nowrap"},Ct={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate"},It={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Et={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},At={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},qt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full mx-4 p-6"},Bt={class:"text-gray-600 dark:text-gray-400 mb-4"},Kt={class:"space-y-4"},St=["value"],zt={class:"flex justify-end gap-3 mt-6"},Lt={__name:"Index",props:{activeEmployees:Array,terminatedEmployees:Array,stats:Object,currentBusiness:Object},setup(Lt){const Vt=Lt,Ot=r(""),Xt=r("active"),Ut=r(!1),Ft=r(null),Dt=r({termination_type:"voluntary",termination_date:(new Date).toISOString().split("T")[0],reason:"",notes:""}),Ht=[{value:"voluntary",label:"O'z xohishi bilan"},{value:"involuntary",label:"Ish beruvchi qaroriga ko'ra"},{value:"retirement",label:"Pensiyaga chiqish"},{value:"contract_end",label:"Shartnoma muddati tugashi"}],Pt=s(()=>Ot.value?Vt.activeEmployees?.filter(t=>t.name?.toLowerCase().includes(Ot.value.toLowerCase()))||[]:Vt.activeEmployees||[]),Gt=s(()=>Ot.value?Vt.terminatedEmployees?.filter(t=>t.name?.toLowerCase().includes(Ot.value.toLowerCase()))||[]:Vt.terminatedEmployees||[]),Jt=t=>{const e=Ht.find(e=>e.value===t);return e?.label||t},Mt=()=>{Ft.value&&(Ut.value=!1)};return(r,s)=>(a(),l(v,{title:"Ishdan bo'shatish"},{default:d(()=>[i(o(k),{title:"Ishdan bo'shatish"}),e("div",I,[s[15]||(s[15]=e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Ishdan bo'shatish "),e("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Xodimlarni ishdan bo'shatish va ketish jarayoni ")])],-1)),e("div",E,[e("div",A,[e("div",q,[e("div",B,[i(o(f),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),e("div",null,[s[7]||(s[7]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Faol xodimlar",-1)),e("p",K,n(Lt.stats?.active_employees||0),1)])])]),e("div",S,[e("div",z,[e("div",L,[i(o(w),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),e("div",null,[s[8]||(s[8]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Bu yil ketganlar",-1)),e("p",V,n(Lt.stats?.terminated_this_year||0),1)])])]),e("div",O,[e("div",X,[e("div",U,[i(o(C),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),e("div",null,[s[9]||(s[9]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"O'z xohishi bilan",-1)),e("p",F,n(Lt.stats?.voluntary||0),1)])])]),e("div",D,[e("div",H,[e("div",P,[i(o(j),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})]),e("div",null,[s[10]||(s[10]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Ish beruvchi qarori",-1)),e("p",G,n(Lt.stats?.involuntary||0),1)])])])]),e("div",J,[e("nav",M,[e("button",{onClick:s[0]||(s[0]=t=>Xt.value="active"),class:x(["py-3 px-4 text-sm font-medium border-b-2 transition-colors","active"===Xt.value?"border-purple-600 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"])}," Faol xodimlar ("+n(Lt.activeEmployees?.length||0)+") ",3),e("button",{onClick:s[1]||(s[1]=t=>Xt.value="terminated"),class:x(["py-3 px-4 text-sm font-medium border-b-2 transition-colors","terminated"===Xt.value?"border-purple-600 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"])}," Ketganlar tarixi ("+n(Lt.terminatedEmployees?.length||0)+") ",3)])]),e("div",Q,[i(o(_),{class:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),g(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>Ot.value=t),type:"text",placeholder:"Xodim qidirish...",class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[c,Ot.value]])]),"active"===Xt.value?(a(),t("div",T,[e("div",N,[e("table",R,[s[11]||(s[11]=e("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Xodim"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Bo'lim"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Lavozim"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Qo'shilgan"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Staj (oy)"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Amallar")])],-1)),e("tbody",W,[(a(!0),t(u,null,y(Pt.value,r=>(a(),t("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[e("td",Y,[e("div",Z,[e("div",$,[e("span",tt,n(r.name?.charAt(0)||"?"),1)]),e("div",et,[e("div",at,n(r.name),1),e("div",rt,n(r.email),1)])])]),e("td",st,n(r.department),1),e("td",lt,n(r.position),1),e("td",dt,n(r.joined_at),1),e("td",it,n(r.tenure_months),1),e("td",ot,[e("button",{onClick:t=>(t=>{Ft.value=t,Ut.value=!0})(r),class:"px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors"}," Ishdan bo'shatish ",8,nt)])]))),128))])])]),0===Pt.value.length?(a(),t("div",xt,[i(o(f),{class:"w-12 h-12 mx-auto opacity-50 mb-3"}),s[12]||(s[12]=e("p",null,"Xodimlar topilmadi",-1))])):p("",!0)])):(a(),t("div",gt,[e("div",ct,[e("table",pt,[s[13]||(s[13]=e("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Xodim"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Bo'lim"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Ketish sanasi"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Ketish turi"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sabab"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Staj (oy)")])],-1)),e("tbody",ut,[(a(!0),t(u,null,y(Gt.value,r=>{return a(),t("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[e("td",yt,[e("div",mt,[e("div",ht,[e("span",bt,n(r.name?.charAt(0)||"?"),1)]),e("div",kt,[e("div",vt,n(r.name),1),e("div",ft,n(r.email),1)])])]),e("td",wt,n(r.department||"—"),1),e("td",jt,n(r.termination_date),1),e("td",_t,[e("span",{class:x(["px-3 py-1 text-xs font-medium rounded-full",(s=r.termination_type,{voluntary:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",involuntary:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",retirement:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",contract_end:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}[s]||"bg-gray-100 text-gray-800")])},n(Jt(r.termination_type)),3)]),e("td",Ct,n(r.reason||"—"),1),e("td",It,n(r.tenure_months||"—"),1)]);var s}),128))])])]),0===Gt.value.length?(a(),t("div",Et,[i(o(w),{class:"w-12 h-12 mx-auto opacity-50 mb-3"}),s[14]||(s[14]=e("p",null,"Ketgan xodimlar tarixi mavjud emas",-1))])):p("",!0)]))]),(a(),l(m,{to:"body"},[Ut.value?(a(),t("div",At,[e("div",qt,[s[20]||(s[20]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Ishdan bo'shatish ",-1)),e("p",Bt,[e("strong",null,n(Ft.value?.name),1),s[16]||(s[16]=h(" ni ishdan bo'shatmoqchimisiz? ",-1))]),e("div",Kt,[e("div",null,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Ketish turi ",-1)),g(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>Dt.value.termination_type=t),class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"},[(a(),t(u,null,y(Ht,t=>e("option",{key:t.value,value:t.value},n(t.label),9,St)),64))],512),[[b,Dt.value.termination_type]])]),e("div",null,[s[18]||(s[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Ketish sanasi ",-1)),g(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>Dt.value.termination_date=t),type:"date",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"},null,512),[[c,Dt.value.termination_date]])]),e("div",null,[s[19]||(s[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Sabab ",-1)),g(e("textarea",{"onUpdate:modelValue":s[5]||(s[5]=t=>Dt.value.reason=t),rows:"3",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",placeholder:"Ishdan ketish sababi..."},null,512),[[c,Dt.value.reason]])])]),e("div",zt,[e("button",{onClick:s[6]||(s[6]=t=>Ut.value=!1),class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg"}," Bekor qilish "),e("button",{onClick:Mt,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Ishdan bo'shatish ")])])])):p("",!0)]))]),_:1}))}};export{Lt as default};

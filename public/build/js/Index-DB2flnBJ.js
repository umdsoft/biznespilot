import{r as e,b as t,v as r,x as a,z as l,D as s,L as d,H as o,A as n,C as i,E as c,F as g,G as x,B as m,S as p,Q as y,I as u,K as k,J as b}from"./chunk-7Urb0kxg.js";import{r as h}from"./chunk-DKkye6wf.js";import{_ as v}from"./chunk-k4W8urQJ.js";import{u as w}from"./app-DFslr8vl.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-DmCyVuil.js";import"./chunk-Be6I8nOg.js";import"./chunk-DpGbuIFK.js";import"./chunk-78n7fhob.js";import"./chunk-Di7Oc7TS.js";const f={class:"mb-8"},j={class:"flex items-center justify-between flex-wrap gap-4"},_={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},M={class:"mt-2 text-gray-600 dark:text-gray-400"},C={class:"mt-3 flex flex-wrap gap-2"},z={href:"/sales-head/kpi/data-entry",class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"},B={class:"flex gap-3"},S=["onClick"],H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},R={class:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg p-6 text-white"},L={class:"text-emerald-100 text-sm font-medium mb-1"},F={class:"text-3xl font-bold"},U={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white"},V={class:"text-green-100 text-sm font-medium mb-1"},A={class:"text-3xl font-bold"},T={class:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl shadow-lg p-6 text-white"},I={class:"text-yellow-100 text-sm font-medium mb-1"},K={class:"text-3xl font-bold"},q={class:"bg-gradient-to-br from-red-500 to-pink-600 rounded-xl shadow-lg p-6 text-white"},D={class:"text-red-100 text-sm font-medium mb-1"},O={class:"text-3xl font-bold"},E={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden mb-8"},N={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},P={class:"flex items-center justify-between"},Z={class:"text-lg font-semibold text-gray-900 dark:text-white"},G={class:"text-sm text-gray-500 dark:text-gray-400"},J={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"},Q={class:"flex flex-wrap gap-2"},Y=["onClick","disabled"],$={class:"overflow-x-auto"},W={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},X={class:"bg-gray-50 dark:bg-gray-700"},ee={class:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},te={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},re={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},ae={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},le={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},se={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},de={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},oe={class:"px-6 py-4 whitespace-nowrap"},ne={class:"flex items-center"},ie=["innerHTML"],ce={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},ge={class:"text-xs text-gray-500 dark:text-gray-400"},xe={class:"px-6 py-4 whitespace-nowrap text-center"},me={class:"px-6 py-4 whitespace-nowrap text-center"},pe={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},ye={class:"text-xs text-gray-500 dark:text-gray-400"},ue={class:"px-6 py-4 whitespace-nowrap text-center"},ke={class:"text-sm font-bold text-gray-900 dark:text-gray-100"},be={class:"px-6 py-4 whitespace-nowrap"},he={class:"flex flex-col items-center"},ve={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},we={class:"px-6 py-4 whitespace-nowrap text-center"},fe={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden mb-8"},je={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},_e={class:"flex items-center justify-between"},Me={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ce={class:"text-sm text-gray-500 dark:text-gray-400"},ze={class:"overflow-x-auto"},Be={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Se={class:"bg-gray-50 dark:bg-gray-700"},He={class:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Re={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Le={class:"px-6 py-4 text-center text-xs font-medium uppercase bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300"},Fe={class:"px-6 py-4 text-center text-xs font-medium uppercase border-l-2 border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},Ue={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Ve={class:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Ae={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Te={class:"px-6 py-4 whitespace-nowrap"},Ie={class:"flex items-center"},Ke=["innerHTML"],qe={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},De={class:"text-xs text-gray-500 dark:text-gray-400"},Oe={class:"px-6 py-4 whitespace-nowrap text-center"},Ee={class:"px-6 py-4 text-center bg-emerald-50/50 dark:bg-emerald-900/20"},Ne={class:"text-sm font-bold text-emerald-700 dark:text-emerald-300"},Pe={class:"px-6 py-4 text-center border-l-2 border-blue-500 bg-blue-50/50 dark:bg-blue-900/20"},Ze={class:"text-sm font-bold text-blue-700 dark:text-blue-300"},Ge={class:"px-6 py-4 whitespace-nowrap"},Je={class:"flex flex-col items-center"},Qe={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},Ye={class:"px-6 py-4 whitespace-nowrap text-center"},$e={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden mb-8"},We={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Xe={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},et={class:"overflow-x-auto"},tt={class:"w-full"},rt={class:"bg-gray-50 dark:bg-gray-700/50"},at={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},lt={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},st={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},dt={class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},ot={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},nt={class:"divide-y divide-gray-200 dark:divide-gray-700"},it={class:"px-6 py-4 whitespace-nowrap"},ct={class:"flex items-center"},gt={class:"w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-700 dark:text-emerald-400 font-medium text-sm"},xt={class:"ml-3 font-medium text-gray-900 dark:text-white"},mt={class:"px-6 py-4 whitespace-nowrap text-center text-gray-700 dark:text-gray-300"},pt={class:"px-6 py-4 whitespace-nowrap text-center"},yt={class:"px-6 py-4 whitespace-nowrap text-center"},ut={class:"px-6 py-4 whitespace-nowrap text-right text-gray-900 dark:text-white font-medium"},kt={key:0},bt={colspan:"5",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},ht={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},vt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full"},wt={class:"border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between"},ft={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},jt={class:"grid grid-cols-2 gap-4"},_t={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},Mt=["value"],Ct=["value"],zt=["value"],Bt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},St=["value"],Ht={class:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},Rt={class:"text-sm text-emerald-800 dark:text-emerald-300"},Lt={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},Ft=["placeholder"],Ut={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},Vt=["placeholder"],At={key:0,class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4"},Tt={class:"text-sm text-gray-600 dark:text-gray-400"},It={class:"text-lg font-bold text-emerald-600 dark:text-emerald-400 ml-2"},Kt={class:"flex justify-end gap-3 pt-4"},qt={type:"submit",class:"px-4 py-2 rounded-lg font-medium bg-emerald-600 text-white hover:bg-emerald-700"},Dt={__name:"Index",props:{activePlan:Object,kpiPlans:Array,dailyEntries:Object,kpiMetrics:Array,teamKpi:Array,period:String,dateRange:Object,panelType:String},setup(Dt){const{t:Ot}=w(),Et=Dt,Nt=[{key:"daily",label:Ot("common.daily")},{key:"weekly",label:Ot("common.weekly")},{key:"monthly",label:Ot("common.monthly")}],Pt=[Ot("common.months.january"),Ot("common.months.february"),Ot("common.months.march"),Ot("common.months.april"),Ot("common.months.may"),Ot("common.months.june"),Ot("common.months.july"),Ot("common.months.august"),Ot("common.months.september"),Ot("common.months.october"),Ot("common.months.november"),Ot("common.months.december")],Zt=(new Date).getFullYear(),Gt=(new Date).getMonth()+1,Jt=e(!1),Qt=e(Et.dateRange?.selected_day||Et.dateRange?.current_day||1),Yt=e({year:Zt,month:Gt+1>12?1:Gt+1,new_sales:"",avg_check:""}),$t=t(()=>Et.kpiMetrics?.filter(e=>e.achievement>=100).length||0),Wt=t(()=>Et.kpiMetrics?.filter(e=>e.achievement>=50&&e.achievement<100).length||0),Xt=t(()=>Et.kpiMetrics?.filter(e=>e.achievement<50).length||0),er=(e,t)=>null==e?"-":"som"===t?tr(e):"foiz"===t?e+"%":new Intl.NumberFormat("uz-UZ").format(e)+("dona"===t?"":" "+t),tr=e=>e?e>=1e9?(e/1e9).toFixed(1)+" mlrd so'm":e>=1e6?(e/1e6).toFixed(1)+" mln so'm":new Intl.NumberFormat("uz-UZ").format(e)+" so'm":"0 so'm",rr=e=>e>=100?"text-green-600 dark:text-green-400":e>=75?"text-blue-600 dark:text-blue-400":e>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",ar=e=>e>=100?"bg-green-500":e>=75?"bg-blue-500":e>=50?"bg-yellow-500":"bg-red-500",lr=e=>Ot(e>=100?"kpi.completed":e>=75?"kpi.good":e>=50?"kpi.average":"kpi.attention"),sr=e=>{const t=e===Et.dateRange?.current_day,r=e===Qt.value;Et.dateRange;return e>Et.dateRange?.current_day?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":r?"bg-emerald-600 text-white border-emerald-600":t?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 border-emerald-300 dark:border-emerald-700":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"},dr=()=>{h.post("/sales-head/kpi/plan",Yt.value,{preserveScroll:!0,onSuccess:()=>{Jt.value=!1,Yt.value={year:Zt,month:Gt+1>12?1:Gt+1,new_sales:"",avg_check:""}}})};return(e,t)=>(c(),r(v,{title:n(Ot)("nav.kpi")},{default:a(()=>[l("div",f,[l("div",j,[l("div",null,[l("h2",_,o(n(Ot)("kpi.sales_kpi_indicators")),1),l("p",M,o(n(Ot)("kpi.sales_efficiency_indicators")),1),l("div",C,[l("button",{onClick:t[0]||(t[0]=e=>Jt.value=!0),class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 hover:bg-emerald-200 dark:hover:bg-emerald-800 transition-colors"},[t[7]||(t[7]=l("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),i(" "+o(n(Ot)("kpi.add_sales_plan")),1)]),l("a",z,[t[8]||(t[8]=l("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),i(" "+o(n(Ot)("kpi.enter_daily_data")),1)])])]),l("div",B,[(c(),s(g,null,x(Nt,e=>l("button",{key:e.key,onClick:t=>{return r=e.key,void h.get("/sales-head/kpi",{period:r},{preserveState:!0,preserveScroll:!0});var r},class:m(["px-4 py-2 rounded-lg font-medium transition-all",Dt.period===e.key?"bg-emerald-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])},o(e.label),11,S)),64))])])]),l("div",H,[l("div",R,[t[9]||(t[9]=l("div",{class:"flex items-center justify-between mb-4"},[l("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[l("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),l("p",L,o(n(Ot)("kpi.total_kpi")),1),l("p",F,o(Dt.kpiMetrics.length),1)]),l("div",U,[t[10]||(t[10]=l("div",{class:"flex items-center justify-between mb-4"},[l("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[l("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),l("p",V,o(n(Ot)("kpi.achieved")),1),l("p",A,o($t.value),1)]),l("div",T,[t[11]||(t[11]=l("div",{class:"flex items-center justify-between mb-4"},[l("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[l("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),l("p",I,o(n(Ot)("kpi.in_progress")),1),l("p",K,o(Wt.value),1)]),l("div",q,[t[12]||(t[12]=l("div",{class:"flex items-center justify-between mb-4"},[l("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[l("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),l("p",D,o(n(Ot)("kpi.not_achieved")),1),l("p",O,o(Xt.value),1)])]),"daily"===Dt.period?(c(),s("div",E,[l("div",N,[l("div",P,[l("h3",Z,o(n(Ot)("common.daily"))+" "+o(n(Ot)("saleshead.monitoring")),1),l("span",G,o(Dt.dateRange.current_month),1)])]),l("div",J,[l("div",Q,[(c(!0),s(g,null,x(Dt.dateRange.days_in_month,e=>(c(),s("button",{key:e,onClick:t=>(e=>{Qt.value=e,h.get("/sales-head/kpi",{period:"daily",day:e},{preserveState:!0,preserveScroll:!0})})(e),class:m(["px-3 py-2 rounded-lg text-sm font-medium transition-all border",sr(e)]),disabled:e>Dt.dateRange.current_day},o(e),11,Y))),128))])]),l("div",$,[l("table",W,[l("thead",X,[l("tr",null,[l("th",ee,o(n(Ot)("kpi.indicator")),1),l("th",te,o(n(Ot)("kpi.category")),1),l("th",re,o(n(Ot)("kpi.plan")),1),l("th",ae,o(n(Ot)("kpi.current")),1),l("th",le,o(n(Ot)("kpi.achievement")),1),l("th",se,o(n(Ot)("common.status")),1)])]),l("tbody",de,[(c(!0),s(g,null,x(Dt.kpiMetrics,e=>(c(),s("tr",{key:e.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[l("td",oe,[l("div",ne,[l("div",{class:m(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",e.iconBg])},[(c(),s("svg",{class:m(["w-5 h-5",e.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:e.iconSvg},null,10,ie))],2),l("div",null,[l("div",ce,o(e.name),1),l("div",ge,o(e.description),1)])])]),l("td",xe,[l("span",{class:m(["px-3 py-1 rounded-full text-xs font-medium","sotuv"===e.category?"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300":"moliyaviy"===e.category?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},o(e.category),3)]),l("td",me,[l("div",pe,o(er(e.plan,e.unit)),1),l("div",ye,o(e.targetLabel||n(Ot)("common.daily")),1)]),l("td",ue,[l("div",ke,o(er(e.current,e.unit)),1)]),l("td",be,[l("div",he,[l("div",{class:m(["text-sm font-bold mb-2",rr(e.achievement)])},o(e.achievement)+"% ",3),l("div",ve,[l("div",{class:m(["h-2.5 rounded-full transition-all duration-500",ar(e.achievement)]),style:p({width:Math.min(e.achievement,100)+"%"})},null,6)])])]),l("td",we,[l("span",{class:m(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",e.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":e.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":e.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},o(lr(e.achievement)),3)])]))),128))])])])])):(c(),s("div",fe,[l("div",je,[l("div",_e,[l("h3",Me,o("weekly"===Dt.period?n(Ot)("common.weekly"):n(Ot)("common.monthly"))+" "+o(n(Ot)("kpi.kpi_indicators")),1),l("span",Ce,o(Dt.dateRange.current_month),1)])]),l("div",ze,[l("table",Be,[l("thead",Se,[l("tr",null,[l("th",He,o(n(Ot)("kpi.indicator")),1),l("th",Re,o(n(Ot)("kpi.category")),1),l("th",Le,o(n(Ot)("kpi.plan")),1),l("th",Fe,o(n(Ot)("kpi.current")),1),l("th",Ue,o(n(Ot)("kpi.achievement")),1),l("th",Ve,o(n(Ot)("common.status")),1)])]),l("tbody",Ae,[(c(!0),s(g,null,x(Dt.kpiMetrics,e=>(c(),s("tr",{key:e.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[l("td",Te,[l("div",Ie,[l("div",{class:m(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",e.iconBg])},[(c(),s("svg",{class:m(["w-5 h-5",e.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",innerHTML:e.iconSvg},null,10,Ke))],2),l("div",null,[l("div",qe,o(e.name),1),l("div",De,o(e.description),1)])])]),l("td",Oe,[l("span",{class:m(["px-3 py-1 rounded-full text-xs font-medium","sotuv"===e.category?"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300":"moliyaviy"===e.category?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},o(e.category),3)]),l("td",Ee,[l("div",Ne,o(er(e.plan,e.unit)),1)]),l("td",Pe,[l("div",Ze,o(er(e.current,e.unit)),1)]),l("td",Ge,[l("div",Je,[l("div",{class:m(["text-sm font-bold mb-2",rr(e.achievement)])},o(e.achievement)+"% ",3),l("div",Qe,[l("div",{class:m(["h-2.5 rounded-full transition-all duration-500",ar(e.achievement)]),style:p({width:Math.min(e.achievement,100)+"%"})},null,6)])])]),l("td",Ye,[l("span",{class:m(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",e.achievement>=100?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":e.achievement>=75?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":e.achievement>=50?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"])},o(lr(e.achievement)),3)])]))),128))])])])])),l("div",$e,[l("div",We,[l("h3",Xe,[t[13]||(t[13]=l("svg",{class:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),i(" "+o(n(Ot)("saleshead.team_performance")),1)])]),l("div",et,[l("table",tt,[l("thead",rt,[l("tr",null,[l("th",at,o(n(Ot)("saleshead.employee")),1),l("th",lt,o(n(Ot)("sales.leads")),1),l("th",st,o(n(Ot)("saleshead.deal_won")),1),l("th",dt,o(n(Ot)("saleshead.conversion"))+"%",1),l("th",ot,o(n(Ot)("saleshead.revenue")),1)])]),l("tbody",nt,[(c(!0),s(g,null,x(Dt.teamKpi,e=>(c(),s("tr",{key:e.name,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[l("td",it,[l("div",ct,[l("div",gt,o(e.avatar),1),l("span",xt,o(e.name),1)])]),l("td",mt,o(e.leads),1),l("td",pt,[l("span",{class:m(e.won>0?"text-emerald-600 dark:text-emerald-400 font-medium":"text-gray-500")},o(e.won),3)]),l("td",yt,[l("span",{class:m(["font-medium",e.conversion>=30?"text-green-600 dark:text-green-400":e.conversion>=15?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"])},o(e.conversion)+"%",3)]),l("td",ut,o(tr(e.revenue)),1)]))),128)),0===Dt.teamKpi.length?(c(),s("tr",kt,[l("td",bt,o(n(Ot)("saleshead.no_team_members")),1)])):d("",!0)])])])]),Jt.value?(c(),s("div",ht,[l("div",vt,[l("div",wt,[l("h3",ft,o(n(Ot)("kpi.add_sales_plan")),1),l("button",{onClick:t[1]||(t[1]=e=>Jt.value=!1),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[...t[14]||(t[14]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),l("form",{onSubmit:y(dr,["prevent"]),class:"p-6 space-y-4"},[l("div",jt,[l("div",null,[l("label",_t,o(n(Ot)("common.year")),1),u(l("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Yt.value.year=e),class:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[l("option",{value:n(Zt)-1},o(n(Zt)-1),9,Mt),l("option",{value:n(Zt)},o(n(Zt)),9,Ct),l("option",{value:n(Zt)+1},o(n(Zt)+1),9,zt)],512),[[k,Yt.value.year]])]),l("div",null,[l("label",Bt,o(n(Ot)("common.month")),1),u(l("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>Yt.value.month=e),class:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[(c(),s(g,null,x(12,e=>l("option",{key:e,value:e},o(Pt[e-1]),9,St)),64))],512),[[k,Yt.value.month]])])]),l("div",Ht,[l("p",Rt,[l("strong",null,o(n(Ot)("kpi.note"))+":",1),i(" "+o(n(Ot)("kpi.plan_note")),1)])]),l("div",null,[l("label",Lt,[i(o(n(Ot)("kpi.sales_count"))+" ",1),t[15]||(t[15]=l("span",{class:"text-red-500"},"*",-1))]),u(l("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>Yt.value.new_sales=e),type:"number",min:"0",required:"",class:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:n(Ot)("kpi.example")+": 50"},null,8,Ft),[[b,Yt.value.new_sales,void 0,{number:!0}]])]),l("div",null,[l("label",Ut,[i(o(n(Ot)("kpi.avg_check"))+" ",1),t[16]||(t[16]=l("span",{class:"text-red-500"},"*",-1))]),u(l("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>Yt.value.avg_check=e),type:"number",min:"0",required:"",class:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:n(Ot)("kpi.example")+": 1000000"},null,8,Vt),[[b,Yt.value.avg_check,void 0,{number:!0}]])]),Yt.value.new_sales&&Yt.value.avg_check?(c(),s("div",At,[l("p",Tt,[l("strong",null,o(n(Ot)("kpi.calculated_revenue"))+":",1),l("span",It,o(tr(Yt.value.new_sales*Yt.value.avg_check)),1)])])):d("",!0),l("div",Kt,[l("button",{type:"button",onClick:t[6]||(t[6]=e=>Jt.value=!1),class:"px-4 py-2 rounded-lg font-medium bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"},o(n(Ot)("common.cancel")),1),l("button",qt,o(n(Ot)("common.save")),1)])],32)])])):d("",!0)]),_:1},8,["title"]))}};export{Dt as default};

import{r as t,v as e,x as a,y as s,C as r,I as l,z as n,A as o,F as i,H as d,G as c,B as g,D as x,J as p,K as u}from"./chunk-CpmtkKLp.js";import{r as y,a as m}from"./chunk-BhZp3z4u.js";import{_ as b}from"./chunk-DbFbpSR2.js";import{u as v}from"./app-C-ZlocOh.js";import"./chunk-D7SyfRoT.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-Bsc1JRL5.js";import"./chunk-BuJDoypK.js";import"./chunk-BWiubfpN.js";const h={class:"py-12"},k={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},f={class:"mb-8"},w={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},_={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},j={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8"},C={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},z={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},M={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},V={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},B={class:"mt-4"},F={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},H={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-md p-6 text-white"},A={class:"flex items-center justify-between"},I={class:"text-sm opacity-90"},L={class:"text-3xl font-bold mt-2"},O={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-md p-6 text-white"},R={class:"flex items-center justify-between"},U={class:"text-sm opacity-90"},q={class:"text-3xl font-bold mt-2"},K={class:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-md p-6 text-white"},T={class:"flex items-center justify-between"},W={class:"text-sm opacity-90"},D={class:"text-3xl font-bold mt-2"},G={class:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-md p-6 text-white"},J={class:"flex items-center justify-between"},S={class:"text-sm opacity-90"},$={class:"text-3xl font-bold mt-2"},E={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},N={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},P={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},Q={class:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400"},X={class:"text-center"},Y={class:"text-sm"},Z={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},tt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},et={class:"space-y-4"},at={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},st={class:"text-sm text-gray-700 dark:text-gray-300"},rt={class:"text-lg font-bold text-green-600 dark:text-green-400"},lt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},nt={class:"text-sm text-gray-700 dark:text-gray-300"},ot={class:"text-lg font-bold text-gray-600 dark:text-gray-300"},it={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},dt={class:"text-sm text-gray-700 dark:text-gray-300"},ct={class:"text-lg font-bold text-purple-600 dark:text-purple-400"},gt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},xt={class:"text-sm text-gray-700 dark:text-gray-300"},pt={class:"text-lg font-bold text-blue-600 dark:text-blue-400"},ut={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},yt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},mt={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},bt={class:"space-y-3"},vt={class:"text-center mb-4"},ht={class:"text-3xl font-bold text-purple-600 dark:text-purple-400"},kt={class:"text-sm text-gray-600 dark:text-gray-400"},ft={key:0,class:"space-y-2"},wt={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},_t={class:"text-sm font-bold text-purple-600 dark:text-purple-400"},jt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},Ct={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},zt={class:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400"},Mt={class:"text-center"},Vt={class:"text-sm"},Bt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},Ft={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},Ht={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},At={class:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl"},It={class:"text-sm text-blue-700 dark:text-blue-300 mb-2"},Lt={class:"text-3xl font-bold text-blue-600 dark:text-blue-400"},Ot={class:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl"},Rt={class:"text-sm text-green-700 dark:text-green-300 mb-2"},Ut={class:"text-3xl font-bold text-green-600 dark:text-green-400"},qt={class:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 rounded-xl"},Kt={class:"text-sm text-purple-700 dark:text-purple-300 mb-2"},Tt={class:"text-3xl font-bold text-purple-600 dark:text-purple-400"},Wt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Dt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto"},Gt={class:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},Jt={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},St={class:"p-6"},$t={key:0,class:"overflow-x-auto"},Et={class:"min-w-full"},Nt={class:"border-b border-gray-200 dark:border-gray-700"},Pt={class:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"},Qt={class:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100"},Xt={class:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100"},Yt={class:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100"},Zt={class:"px-4 py-3"},te={class:"flex items-center"},ee={class:"text-xl mr-2"},ae={class:"font-medium text-gray-900 dark:text-gray-100"},se={class:"px-4 py-3 text-center text-gray-900 dark:text-gray-100"},re={class:"px-4 py-3 text-center text-gray-900 dark:text-gray-100"},le={class:"px-4 py-3 text-center"},ne={class:"px-3 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 rounded-full font-semibold"},oe={__name:"Channels",props:{analytics:Object,selectedChannel:String,dateRange:Object,currentBusiness:Object},setup(oe){const{t:ie}=v(),de=oe,ce=t(de.selectedChannel||"whatsapp"),ge=t(de.dateRange?.start||""),xe=t(de.dateRange?.end||""),pe=t(!1),ue=t(null),ye=()=>{y.get(route("business.analytics.channels.index"),{channel:ce.value,start_date:ge.value,end_date:xe.value})},me=()=>{y.get(route("business.analytics.channels.index"),{channel:ce.value,start_date:ge.value,end_date:xe.value})},be=async()=>{try{const t=await m.post(route("business.analytics.channels.compare"),{start_date:ge.value,end_date:xe.value});t.data.success&&(ue.value=t.data.comparison,pe.value=!0)}catch(t){alert(ie("common.error"))}},ve=t=>({whatsapp:"ðŸ’¬",instagram:"ðŸ“¸",telegram:"âœˆï¸",facebook:"ðŸ‘¥"}[t]||"ðŸ’¬"),he=t=>({whatsapp:"WhatsApp",instagram:"Instagram",telegram:"Telegram",facebook:"Facebook"}[t]||t);return(t,y)=>(x(),e(b,{title:o(ie)("analytics.channel_analysis")},{default:a(()=>[s("div",h,[s("div",k,[s("div",f,[s("h2",w,n(o(ie)("analytics.channel_analysis")),1),s("p",_,n(o(ie)("analytics.channel_analysis_desc")),1)]),s("div",j,[s("div",C,[s("div",null,[s("label",z,n(o(ie)("analytics.channel")),1),i(s("select",{"onUpdate:modelValue":y[0]||(y[0]=t=>ce.value=t),onChange:ye,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-purple-500 focus:border-purple-500"},[...y[4]||(y[4]=[s("option",{value:"whatsapp"},"WhatsApp",-1),s("option",{value:"instagram"},"Instagram",-1),s("option",{value:"telegram"},"Telegram",-1),s("option",{value:"facebook"},"Facebook",-1)])],544),[[d,ce.value]])]),s("div",null,[s("label",M,n(o(ie)("reports.filter.start_date")),1),i(s("input",{"onUpdate:modelValue":y[1]||(y[1]=t=>ge.value=t),onChange:me,type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-purple-500 focus:border-purple-500"},null,544),[[c,ge.value]])]),s("div",null,[s("label",V,n(o(ie)("reports.filter.end_date")),1),i(s("input",{"onUpdate:modelValue":y[2]||(y[2]=t=>xe.value=t),onChange:me,type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-purple-500 focus:border-purple-500"},null,544),[[c,xe.value]])])]),s("div",B,[s("button",{onClick:be,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700"},n(o(ie)("analytics.compare_channels")),1)])]),s("div",F,[s("div",H,[s("div",A,[s("div",null,[s("p",I,n(o(ie)("analytics.total_conversations")),1),s("p",L,n(oe.analytics.overview?.total_conversations||0),1)]),y[5]||(y[5]=s("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),s("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})])],-1))])]),s("div",O,[s("div",R,[s("div",null,[s("p",U,n(o(ie)("analytics.total_messages")),1),s("p",q,n(oe.analytics.overview?.total_messages||0),1)]),y[6]||(y[6]=s("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),s("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})])],-1))])]),s("div",K,[s("div",T,[s("div",null,[s("p",W,n(o(ie)("analytics.unique_customers")),1),s("p",D,n(oe.analytics.overview?.unique_customers||0),1)]),y[7]||(y[7]=s("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})])],-1))])]),s("div",G,[s("div",J,[s("div",null,[s("p",S,n(o(ie)("analytics.avg_response_time")),1),s("p",$,[g(n(oe.analytics.response_metrics?.avg_response_time_minutes?.toFixed(1)||0),1),y[8]||(y[8]=s("span",{class:"text-lg"},"min",-1))])]),y[9]||(y[9]=s("div",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})])],-1))])])]),s("div",E,[s("div",N,[s("h3",P,n(o(ie)("analytics.message_volume")),1),s("div",Q,[s("div",X,[y[10]||(y[10]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),s("p",Y," Kunlik: "+n(oe.analytics.message_volume?.daily?.length||0)+" kun ",1),y[11]||(y[11]=s("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1"}," Chart.js integratsiyasi kerak ",-1))])])]),s("div",Z,[s("h3",tt,n(o(ie)("analytics.engagement_metrics")),1),s("div",et,[s("div",at,[s("span",st,n(o(ie)("analytics.active_conversations")),1),s("span",rt,n(oe.analytics.engagement_metrics?.active_conversations||0),1)]),s("div",lt,[s("span",nt,n(o(ie)("analytics.closed_conversations")),1),s("span",ot,n(oe.analytics.engagement_metrics?.closed_conversations||0),1)]),s("div",it,[s("span",dt,n(o(ie)("analytics.avg_duration")),1),s("span",ct,n(oe.analytics.engagement_metrics?.avg_conversation_duration_minutes?.toFixed(1)||0)+" min ",1)]),s("div",gt,[s("span",xt,n(o(ie)("analytics.returning_customers")),1),s("span",pt,n(oe.analytics.engagement_metrics?.returning_customers||0),1)])])])]),s("div",ut,[s("div",yt,[s("h3",mt,n(o(ie)("analytics.conversion_funnel")),1),s("div",bt,[s("div",vt,[s("div",ht,n(oe.analytics.conversion_metrics?.conversion_rate||0)+"% ",1),s("div",kt,n(o(ie)("analytics.conversion_rate")),1)]),oe.analytics.conversion_metrics?.stages_distribution?(x(),r("div",ft,[(x(!0),r(p,null,u(oe.analytics.conversion_metrics.stages_distribution,(t,e)=>(x(),r("div",{key:e,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[s("span",wt,n(e),1),s("span",_t,n(t),1)]))),128))])):l("",!0)])]),s("div",jt,[s("h3",Ct,n(o(ie)("analytics.hourly_distribution")),1),s("div",zt,[s("div",Mt,[y[12]||(y[12]=s("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s("p",Vt,n(oe.analytics.hourly_distribution?.length||0)+" soatlik ma'lumot ",1),y[13]||(y[13]=s("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1"}," Chart.js integratsiyasi kerak ",-1))])])])]),s("div",Bt,[s("h3",Ft,n(o(ie)("analytics.response_metrics")),1),s("div",Ht,[s("div",At,[s("div",It,n(o(ie)("analytics.avg_response_time")),1),s("div",Lt,n(oe.analytics.response_metrics?.avg_response_time_seconds?.toFixed(1)||0)+"s ",1)]),s("div",Ot,[s("div",Rt,n(o(ie)("analytics.response_rate")),1),s("div",Ut,n(oe.analytics.response_metrics?.response_rate?.toFixed(1)||0)+"% ",1)]),s("div",qt,[s("div",Kt,n(o(ie)("analytics.avg_messages")),1),s("div",Tt,n(oe.analytics.overview?.avg_messages_per_conversation?.toFixed(1)||0),1)])])]),pe.value?(x(),r("div",Wt,[s("div",Dt,[s("div",Gt,[s("h3",Jt,n(o(ie)("analytics.channels_comparison")),1),s("button",{onClick:y[3]||(y[3]=t=>pe.value=!1),class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},[...y[14]||(y[14]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",St,[ue.value?(x(),r("div",$t,[s("table",Et,[s("thead",null,[s("tr",Nt,[s("th",Pt,n(o(ie)("analytics.channel")),1),s("th",Qt,n(o(ie)("analytics.conversations")),1),s("th",Xt,n(o(ie)("analytics.messages")),1),s("th",Yt,n(o(ie)("analytics.conversion_percent")),1)])]),s("tbody",null,[(x(!0),r(p,null,u(ue.value,(t,e)=>(x(),r("tr",{key:e,class:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"},[s("td",Zt,[s("div",te,[s("span",ee,n(ve(e)),1),s("span",ae,n(he(e)),1)])]),s("td",se,n(t.conversations),1),s("td",re,n(t.messages),1),s("td",le,[s("span",ne,n(t.conversion_rate)+"% ",1)])]))),128))])])])):l("",!0)])])])):l("",!0)])])]),_:1},8,["title"]))}};export{oe as default};

import{r as e,o as t,w as a,b as s,v as l,x as r,L as i,y as d,C as n,I as o,A as x,F as c,G as u,B as g,D as p,z as m,Q as b,E as v,J as y,K as h,N as f}from"./chunk-CpmtkKLp.js";import{b as k,h as w,a as _}from"./chunk-BhZp3z4u.js";import{_ as j}from"./chunk-DQR5_hTm.js";import{u as F}from"./app-C-ZlocOh.js";import{r as S}from"./chunk-CvscUVdi.js";import{s as B,m as I}from"./chunk-D7SyfRoT.js";import{r as M}from"./chunk-B3ILNJqD.js";import{r as O}from"./chunk-beXL1A--.js";import{r as z}from"./chunk-DNKDGYPp.js";import{r as q}from"./chunk-CnWZ_3GA.js";import{r as D}from"./chunk-eMHYSAeQ.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-Bsc1JRL5.js";import"./chunk-BuJDoypK.js";const K={class:"py-6 px-4 sm:px-6 lg:px-8"},R={class:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},U={class:"flex items-center gap-4"},C={key:0,class:"flex items-center justify-center py-20"},J={key:1,class:"space-y-8"},L={class:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 rounded-3xl p-8 shadow-2xl"},Q={class:"relative"},Z={class:"flex items-center gap-3 mb-4"},E={class:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center"},V={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6"},Y={class:"bg-white/10 backdrop-blur-sm rounded-xl p-6"},$={class:"text-4xl font-bold text-white"},A={class:"w-full bg-white/20 rounded-full h-2 mt-3"},N={class:"bg-white/10 backdrop-blur-sm rounded-xl p-6"},P={class:"text-4xl font-bold text-white"},G={class:"text-sm text-purple-200 mt-2"},T={class:"bg-white/10 backdrop-blur-sm rounded-xl p-6"},H={class:"text-4xl font-bold text-white"},W={class:"text-sm text-purple-200 mt-2"},X={class:"mt-6 text-purple-100 text-sm bg-white/10 rounded-lg p-3"},ee={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700"},te={class:"flex items-center justify-between mb-6"},ae={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center"},se={class:"flex items-center gap-4 text-sm"},le={class:"text-gray-500"},re={class:"overflow-x-auto"},ie={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},de={class:"divide-y divide-gray-200 dark:divide-gray-700"},ne={class:"px-4 py-4"},oe={class:"flex items-center"},xe={class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center text-white font-bold"},ce={class:"ml-3"},ue={class:"font-medium text-gray-900 dark:text-white"},ge={class:"text-xs text-gray-500"},pe={class:"px-4 py-4 text-right text-gray-500"},me={class:"px-4 py-4 text-right font-medium text-gray-900 dark:text-white"},be={class:"px-4 py-4 text-right text-gray-500"},ve={class:"px-4 py-4 text-right font-medium text-green-600"},ye={class:"px-4 py-4 text-right font-medium text-gray-900 dark:text-white"},he={class:"px-4 py-4 text-right"},fe={class:"px-4 py-4 text-left text-sm text-gray-500 max-w-xs"},ke={key:0,class:"text-center py-8 text-gray-500"},we={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},_e={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700"},je={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},Fe={class:"grid grid-cols-2 gap-4 mb-6"},Se={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4"},Be={class:"text-2xl font-bold text-green-600"},Ie={class:"space-y-3"},Me={class:"flex justify-between text-sm"},Oe={class:"font-medium"},ze={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3"},qe={class:"flex justify-between text-sm"},De={class:"font-medium text-green-600"},Ke={key:0,class:"mt-4 bg-red-50 dark:bg-red-900/20 rounded-lg p-3 flex items-center"},Re={class:"text-sm text-red-600"},Ue={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700"},Ce={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},Je={class:"flex items-center justify-center mb-6"},Le={class:"relative"},Qe={class:"w-32 h-32 rounded-full border-8 border-gray-200 dark:border-gray-700 flex items-center justify-center"},Ze={class:"text-center"},Ee={class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2"},Ve={class:"grid grid-cols-2 gap-4 mb-4"},Ye={class:"text-center"},$e={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ae={class:"text-center"},Ne={class:"text-2xl font-bold text-green-600"},Pe={class:"flex justify-between text-sm mb-2"},Ge={class:"font-medium"},Te={class:"flex justify-between text-sm mb-2"},He={class:"font-medium text-green-600"},We={class:"flex justify-between text-sm mb-2"},Xe={class:"font-medium text-red-600"},et={class:"flex justify-between text-sm"},tt={class:"font-medium text-blue-600"},at={key:0,class:"mt-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-3"},st={class:"text-sm text-yellow-700 dark:text-yellow-300 list-disc list-inside"},lt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700"},rt={class:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center"},it={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},dt={class:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 text-center"},nt={class:"text-3xl font-bold text-gray-900 dark:text-white"},ot={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 text-center"},xt={class:"text-3xl font-bold text-green-600"},ct={class:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 text-center"},ut={class:"text-3xl font-bold text-red-600"},gt={class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center"},pt={class:"text-3xl font-bold text-blue-600"},mt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bt={key:0,class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4"},vt={class:"flex items-center mb-2"},yt={class:"text-lg font-bold text-gray-900 dark:text-white"},ht={class:"text-sm text-gray-500"},ft={key:1,class:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4"},kt={class:"flex items-center mb-2"},wt={class:"text-lg font-bold text-gray-900 dark:text-white"},_t={class:"text-sm text-gray-500"},jt={class:"mt-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4"},Ft={key:2,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-12 text-center"},St={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full mx-4 p-6"},Bt={key:0,class:"space-y-4"},It={class:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4"},Mt={class:"text-2xl font-bold text-purple-600"},Ot={class:"grid grid-cols-2 gap-4"},zt={class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4"},qt={class:"text-xl font-bold text-blue-600"},Dt={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4"},Kt={class:"text-xl font-bold text-green-600"},Rt={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},Ut={class:"text-gray-600 dark:text-gray-400"},Ct={class:"font-medium"},Jt={class:"bg-green-100 dark:bg-green-900/30 rounded-xl p-4 flex justify-between items-center"},Lt={class:"text-2xl font-bold text-green-600"},Qt={class:"text-sm text-gray-500 text-center"},Zt={__name:"Dashboard",props:{currentBusiness:{type:Object,default:null}},setup(Zt){F(),k();const Et=Zt,Vt=e(!1),Yt=e((new Date).toISOString().slice(0,7)),$t=e(null),At=e(null),Nt=e(!1),Pt=e(1e7),Gt=async()=>{if(Et.currentBusiness?.id){Vt.value=!0;try{const e=await _.get(`/api/v1/businesses/${Et.currentBusiness.id}/marketing-integration/dashboard`,{params:{date:Yt.value+"-01"}});$t.value=e.data.data}catch(e){}finally{Vt.value=!1}}},Tt=async()=>{if(Et.currentBusiness?.id)try{const e=new Date(Yt.value+"-01"),t=e.toISOString().slice(0,10),a=new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().slice(0,10),s=await _.post(`/api/v1/businesses/${Et.currentBusiness.id}/marketing-integration/calculate-bonus`,{period_start:t,period_end:a,base_bonus_fund:Pt.value});At.value=s.data.data,Nt.value=!0}catch(e){}};t(()=>{Gt()}),a(Yt,()=>{Gt()});const Ht=s(()=>$t.value?.sales_linkage||{}),Wt=s(()=>$t.value?.channel_performance||{}),Xt=s(()=>$t.value?.budget_status||{}),ea=s(()=>$t.value?.lead_quality||{}),ta=s(()=>$t.value?.campaign_roi||{}),aa=e=>e>=200?"text-green-600 bg-green-100":e>=100?"text-blue-600 bg-blue-100":e>=50?"text-yellow-600 bg-yellow-100":e>=0?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100",sa=e=>e?new Intl.NumberFormat("uz-UZ").format(Math.round(e))+" UZS":"0 UZS",la=e=>e>=4.5?"text-green-600":e>=3.5?"text-blue-600":e>=2.5?"text-yellow-600":"text-red-600";return(e,t)=>(p(),l(j,null,{default:r(()=>[i(x(w),{title:"Marketing Dashboard - Sotuv bilan integratsiya"}),d("div",K,[d("div",R,[t[4]||(t[4]=d("div",null,[d("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Marketing - Sotuv integratsiyasi "),d("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," 70/30 qoidasi: Marketing bonusi 70% sotuvdan, 30% vazifalardan ")],-1)),d("div",U,[c(d("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>Yt.value=e),type:"month",class:"rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm"},null,512),[[u,Yt.value]]),d("button",{onClick:Tt,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center"},[i(x(S),{class:"w-5 h-5 mr-2"}),t[3]||(t[3]=g(" Bonus hisoblash ",-1))])])]),Vt.value?(p(),n("div",C,[...t[5]||(t[5]=[d("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"},null,-1)])])):$t.value?(p(),n("div",J,[d("div",L,[t[10]||(t[10]=d("div",{class:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"},null,-1)),t[11]||(t[11]=d("div",{class:"absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"},null,-1)),d("div",Q,[d("div",Z,[d("div",E,[i(x(B),{class:"w-6 h-6 text-white"})]),t[6]||(t[6]=d("div",null,[d("h2",{class:"text-2xl font-bold text-white"},"Marketing-Sotuv bog'liqligi"),d("p",{class:"text-purple-100"},"70% sotuvdan + 30% o'z vazifalaridan")],-1))]),d("div",V,[d("div",Y,[t[7]||(t[7]=d("p",{class:"text-sm text-purple-100 mb-1"},"Sotuv rejasi bajarilishi",-1)),d("p",$,m(Ht.value.sales_plan_completion?.toFixed(1)||0)+"% ",1),d("div",A,[d("div",{class:"h-2 rounded-full bg-white transition-all",style:b({width:Math.min(Ht.value.sales_plan_completion||0,100)+"%"})},null,4)])]),d("div",N,[t[8]||(t[8]=d("p",{class:"text-sm text-purple-100 mb-1"},"Sotuvdan bonus (70%)",-1)),d("p",P,m(Ht.value.marketing_bonus_impact?.contribution_percent?.toFixed(1)||0)+"% ",1),d("p",G," Maksimal: "+m(Ht.value.marketing_bonus_impact?.max_possible)+"% ",1)]),d("div",T,[t[9]||(t[9]=d("p",{class:"text-sm text-purple-100 mb-1"},"Vazifalar bajarilishi (30%)",-1)),d("p",H,m(Ht.value.avg_tasks_completion?.toFixed(1)||0)+"% ",1),d("p",W,m(Ht.value.total_marketing_kpis||0)+" ta KPI qayd etilgan ",1)])]),d("p",X,m(Ht.value.explanation),1)])]),d("div",ee,[d("div",te,[d("h3",ae,[i(x(I),{class:"w-5 h-5 mr-2 text-purple-600"}),t[12]||(t[12]=g(" Kanal samaradorligi ",-1))]),d("div",se,[d("span",le,[t[13]||(t[13]=g(" Umumiy ROI: ",-1)),d("span",{class:v([aa(Wt.value.overall_roi),"font-bold px-2 py-1 rounded-full ml-1"])},m(Wt.value.overall_roi?.toFixed(1)||0)+"% ",3)])])]),d("div",re,[d("table",ie,[t[14]||(t[14]=d("thead",null,[d("tr",null,[d("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kanal"),d("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Sarflangan"),d("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Lidlar"),d("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"CPL"),d("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Bitimlar"),d("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Daromad"),d("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"ROI"),d("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tavsiya")])],-1)),d("tbody",de,[(p(!0),n(y,null,h(Wt.value.channels,e=>(p(),n("tr",{key:e.channel_id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[d("td",ne,[d("div",oe,[d("div",xe,m(e.channel_name?.charAt(0)||"?"),1),d("div",ce,[d("p",ue,m(e.channel_name),1),d("p",ge,m(e.channel_type),1)])])]),d("td",pe,m(sa(e.spent)),1),d("td",me,m(e.leads),1),d("td",be,m(sa(e.cpl)),1),d("td",ve,m(e.deals),1),d("td",ye,m(sa(e.revenue)),1),d("td",he,[d("span",{class:v([aa(e.roi),"px-2 py-1 text-sm font-medium rounded-full"])},m(e.roi?.toFixed(1))+"% ",3)]),d("td",fe,m(e.recommendation),1)]))),128))])])]),Wt.value.channels?.length?o("",!0):(p(),n("div",ke," Kanal ma'lumotlari topilmadi "))]),d("div",we,[d("div",_e,[d("h3",je,[i(x(M),{class:"w-5 h-5 mr-2 text-green-600"}),t[15]||(t[15]=g(" Byudjet holati ",-1))]),d("div",Fe,[d("div",Se,[t[16]||(t[16]=d("p",{class:"text-sm text-gray-500"},"Jami limit",-1)),d("p",Be,m(sa(Xt.value.total_limit)),1)]),d("div",{class:v(["rounded-xl p-4",Xt.value.is_within_budget?"bg-blue-50 dark:bg-blue-900/20":"bg-red-50 dark:bg-red-900/20"])},[t[17]||(t[17]=d("p",{class:"text-sm text-gray-500"},"Sarflangan",-1)),d("p",{class:v(["text-2xl font-bold",Xt.value.is_within_budget?"text-blue-600":"text-red-600"])},m(sa(Xt.value.total_spent)),3)],2)]),d("div",Ie,[d("div",Me,[t[18]||(t[18]=d("span",{class:"text-gray-500"},"Foydalanish",-1)),d("span",Oe,m(Xt.value.usage_percent?.toFixed(1))+"%",1)]),d("div",ze,[d("div",{class:v(["h-3 rounded-full transition-all",Xt.value.usage_percent>100?"bg-red-500":Xt.value.usage_percent>80?"bg-yellow-500":"bg-green-500"]),style:b({width:Math.min(Xt.value.usage_percent||0,100)+"%"})},null,6)]),d("div",qe,[t[19]||(t[19]=d("span",{class:"text-gray-500"},"Qolgan",-1)),d("span",De,m(sa(Xt.value.total_remaining)),1)])]),Xt.value.over_budget_count>0?(p(),n("div",Ke,[i(x(O),{class:"w-5 h-5 text-red-600 mr-2"}),d("span",Re,m(Xt.value.over_budget_count)+" ta kanal byudjetdan oshgan! ",1)])):o("",!0)]),d("div",Ue,[d("h3",Ce,[i(x(z),{class:"w-5 h-5 mr-2 text-blue-600"}),t[20]||(t[20]=g(" Lid sifati (Sotuv feedbacki) ",-1))]),d("div",Je,[d("div",Le,[d("div",Qe,[d("div",Ze,[d("p",{class:v(["text-3xl font-bold",la(ea.value.avg_quality_score)])},m(ea.value.avg_quality_score?.toFixed(1)||0),3),t[21]||(t[21]=d("p",{class:"text-sm text-gray-500"},"/ 5.0",-1))])]),d("div",Ee,[d("span",{class:v(["px-3 py-1 text-sm font-medium rounded-full",la(ea.value.avg_quality_score),"bg-opacity-20"])},m(ea.value.quality_label),3)])])]),d("div",Ve,[d("div",Ye,[d("p",$e,m(ea.value.acceptance_rate?.toFixed(1)||0)+"% ",1),t[22]||(t[22]=d("p",{class:"text-sm text-gray-500"},"Qabul qilingan",-1))]),d("div",Ae,[d("p",Ne,m(ea.value.conversion_rate?.toFixed(1)||0)+"% ",1),t[23]||(t[23]=d("p",{class:"text-sm text-gray-500"},"Konversiya",-1))])]),d("div",Pe,[t[24]||(t[24]=d("span",{class:"text-gray-500"},"Jami lidlar:",-1)),d("span",Ge,m(ea.value.total_generated||0),1)]),d("div",Te,[t[25]||(t[25]=d("span",{class:"text-gray-500"},"Qabul qilingan:",-1)),d("span",He,m(ea.value.total_accepted||0),1)]),d("div",We,[t[26]||(t[26]=d("span",{class:"text-gray-500"},"Rad etilgan:",-1)),d("span",Xe,m(ea.value.total_rejected||0),1)]),d("div",et,[t[27]||(t[27]=d("span",{class:"text-gray-500"},"Bitimga aylangan:",-1)),d("span",tt,m(ea.value.total_converted||0),1)]),ea.value.improvement_areas?.length?(p(),n("div",at,[t[28]||(t[28]=d("p",{class:"text-sm text-yellow-800 dark:text-yellow-200 font-medium mb-1"},"Yaxshilash kerak:",-1)),d("ul",st,[(p(!0),n(y,null,h(ea.value.improvement_areas,e=>(p(),n("li",{key:e},m(e),1))),128))])])):o("",!0)])]),d("div",lt,[d("h3",rt,[i(x(q),{class:"w-5 h-5 mr-2 text-purple-600"}),t[29]||(t[29]=g(" Kampaniyalar ROI tahlili ",-1))]),d("div",it,[d("div",dt,[d("p",nt,m(ta.value.total_campaigns||0),1),t[30]||(t[30]=d("p",{class:"text-sm text-gray-500"},"Jami kampaniyalar",-1))]),d("div",ot,[d("p",xt,m(ta.value.profitable_count||0),1),t[31]||(t[31]=d("p",{class:"text-sm text-gray-500"},"Foydali",-1))]),d("div",ct,[d("p",ut,m(ta.value.unprofitable_count||0),1),t[32]||(t[32]=d("p",{class:"text-sm text-gray-500"},"Zararli",-1))]),d("div",gt,[d("p",pt,m(ta.value.avg_roi?.toFixed(1)||0)+"% ",1),t[33]||(t[33]=d("p",{class:"text-sm text-gray-500"},"O'rtacha ROI",-1))])]),d("div",mt,[ta.value.best_campaign?(p(),n("div",bt,[d("div",vt,[i(x(D),{class:"w-5 h-5 text-green-600 mr-2"}),t[34]||(t[34]=d("span",{class:"font-medium text-green-800 dark:text-green-200"},"Eng yaxshi kampaniya",-1))]),d("p",yt,m(ta.value.best_campaign.name),1),d("p",ht," ROI: "+m(ta.value.best_campaign.roi?.toFixed(1))+"% | Daromad: "+m(sa(ta.value.best_campaign.revenue_generated)),1)])):o("",!0),ta.value.worst_campaign?(p(),n("div",ft,[d("div",kt,[i(x(O),{class:"w-5 h-5 text-red-600 mr-2"}),t[35]||(t[35]=d("span",{class:"font-medium text-red-800 dark:text-red-200"},"Eng yomon kampaniya",-1))]),d("p",wt,m(ta.value.worst_campaign.name),1),d("p",_t," ROI: "+m(ta.value.worst_campaign.roi?.toFixed(1))+"% | Daromad: "+m(sa(ta.value.worst_campaign.revenue_generated)),1)])):o("",!0)]),d("div",jt,[t[36]||(t[36]=d("p",{class:"text-sm text-gray-500"},"Umumiy foyda:",-1)),d("p",{class:v(["text-2xl font-bold",(ta.value.total_profit||0)>=0?"text-green-600":"text-red-600"])},m(sa(ta.value.total_profit)),3)])])])):Vt.value?o("",!0):(p(),n("div",Ft,[i(x(I),{class:"w-16 h-16 mx-auto text-gray-400 mb-4"}),t[37]||(t[37]=d("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"}," Ma'lumot topilmadi ",-1)),t[38]||(t[38]=d("p",{class:"text-gray-500"}," Marketing ma'lumotlari mavjud emas ",-1))]))]),Nt.value?(p(),n("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:t[2]||(t[2]=f(e=>Nt.value=!1,["self"]))},[d("div",St,[t[43]||(t[43]=d("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-4"}," Marketing bonus hisoblash natijasi ",-1)),At.value?(p(),n("div",Bt,[d("div",It,[t[39]||(t[39]=d("p",{class:"text-sm text-gray-500"},"Bazaviy bonus fondi",-1)),d("p",Mt,m(sa(At.value.base_fund)),1)]),d("div",Ot,[d("div",zt,[t[40]||(t[40]=d("p",{class:"text-sm text-gray-500"},"Sotuv bajarilishi",-1)),d("p",qt,m(At.value.sales_completion?.toFixed(1))+"% ",1)]),d("div",Dt,[t[41]||(t[41]=d("p",{class:"text-sm text-gray-500"},"Vazifalar bajarilishi",-1)),d("p",Kt,m(At.value.tasks_completion?.toFixed(1))+"% ",1)])]),d("div",Rt,[(p(!0),n(y,null,h(At.value.breakdown,e=>(p(),n("div",{key:e.name,class:"flex justify-between py-2"},[d("span",Ut,m(e.name)+" ("+m(e.completion?.toFixed(1))+"%) ",1),d("span",Ct,m(sa(e.amount)),1)]))),128))]),d("div",Jt,[t[42]||(t[42]=d("span",{class:"font-medium text-green-800 dark:text-green-200"},"Jami bonus:",-1)),d("span",Lt,m(sa(At.value.total_bonus)),1)]),d("p",Qt," Bazadan "+m(At.value.bonus_percent?.toFixed(1))+"% olindi ",1)])):o("",!0),d("button",{onClick:t[1]||(t[1]=e=>Nt.value=!1),class:"mt-6 w-full py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors"}," Yopish ")])])):o("",!0)]),_:1}))}};export{Zt as default};

import"./chunk-BhZp3z4u.js";import{r as t,C as e,y as a,E as r,v as l,O as o,z as s,I as n,B as i,J as c,K as d,D as g}from"./chunk-CpmtkKLp.js";const y={class:"space-y-6"},f={class:"flex items-center gap-4"},p={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},m={class:"text-sm text-gray-500 dark:text-gray-400"},x={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-12 text-center"},u={class:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3"},b={class:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto"},k=["disabled"],h={key:0,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},C={class:"flex items-center justify-between mb-2"},v={class:"text-sm text-gray-500 dark:text-gray-400"},w={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},j={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"},T={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},I={class:"font-bold text-gray-900 dark:text-gray-100"},B={class:"overflow-x-auto"},q={class:"w-full"},A={class:"bg-gray-50 dark:bg-gray-900/50"},O={class:"divide-y divide-gray-200 dark:divide-gray-700"},S={__name:"AIChannelPage",props:{channel:Object,metrics:Array,panelType:{type:String,required:!0,validator:t=>["business","marketing","finance","operator","saleshead"].includes(t)},platformConfig:{type:Object,required:!0}},setup(S){const z=t(!1),E=async()=>{z.value=!0;try{const t=await fetch(route("integrations.meta.auth-url"),{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content,Accept:"application/json"}}),e=await t.json();e.url?window.location.href=e.url:alert("Integratsiya xatosi. Qayta urinib ko'ring.")}catch(t){alert("Integratsiya xatosi. Qayta urinib ko'ring.")}finally{z.value=!1}};return(t,_)=>(g(),e("div",y,[a("div",f,[a("div",{class:r(["w-14 h-14 rounded-2xl flex items-center justify-center text-white shadow-lg",S.platformConfig.headerGradient])},[(g(),l(o(S.platformConfig.icon),{class:"w-8 h-8"}))],2),a("div",null,[a("h1",p,s(S.platformConfig.title),1),a("p",m,s(S.platformConfig.subtitle),1)])]),S.channel?(g(),e(c,{key:1},[a("div",{class:r(["grid gap-6",`grid-cols-1 md:grid-cols-${S.platformConfig.metricsConfig.length>3?4:S.platformConfig.metricsConfig.length}`])},[(g(!0),e(c,null,d(S.platformConfig.metricsConfig,t=>(g(),e("div",{key:t.key,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6"},[a("div",C,[a("span",v,s(t.label),1),a("span",{class:r(t.iconColor)},s(t.icon),3)]),a("p",w,s(t.prefix||"")+s(S.channel.metrics?.[t.key]||0)+s(t.suffix||""),1)]))),128))],2),S.metrics&&S.metrics.length>0?(g(),e("div",j,[a("div",T,[a("h3",I,s(S.platformConfig.tableTitle||"Statistika"),1)]),a("div",B,[a("table",q,[a("thead",A,[a("tr",null,[(g(!0),e(c,null,d(S.platformConfig.tableColumns,t=>(g(),e("th",{key:t.key,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},s(t.label),1))),128))])]),a("tbody",O,[(g(!0),e(c,null,d(S.metrics,t=>(g(),e("tr",{key:t.id},[(g(!0),e(c,null,d(S.platformConfig.tableColumns,a=>(g(),e("td",{key:a.key,class:"px-6 py-4 text-sm text-gray-900 dark:text-gray-100"},s(a.prefix||"")+s(t[a.key])+s(a.suffix||""),1))),128))]))),128))])])])])):n("",!0)],64)):(g(),e("div",x,[a("div",{class:r(["w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-6",S.platformConfig.emptyIconBg])},[(g(),l(o(S.platformConfig.icon),{class:r(["w-10 h-10",S.platformConfig.emptyIconColor])},null,8,["class"]))],2),a("h3",u,s(S.platformConfig.connectTitle),1),a("p",b,s(S.platformConfig.connectDescription),1),a("button",{onClick:E,disabled:z.value,class:r(["px-8 py-3 text-white font-medium rounded-xl transition-all inline-flex items-center gap-2",S.platformConfig.connectButtonClass,z.value?"opacity-70 cursor-wait":""])},[z.value?(g(),e("svg",h,[..._[0]||(_[0]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):n("",!0),i(" "+s(z.value?"Ulanmoqda...":S.platformConfig.connectButtonText),1)],10,k)]))]))}};export{S as _};

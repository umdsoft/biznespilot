import{r as m,v as B,x as f,y as n,z as e,D as o,L as k,A as a,H as l,C as v,E as d,F as c,G as b,B as C,Q as h,I as g,K as V,J as x}from"./chunk-BcTZxe-J.js";import{u as j,h as U,l as $,r as A}from"./chunk-BYRtWSr0.js";import{_ as I}from"./chunk-D8H5eHXP.js";import{u as z}from"./app-CncQRLgv.js";import{a as _,r as w}from"./chunk-D58UsNjm.js";import{r as F}from"./chunk-gCWBLgcy.js";import"./chunk-BnC_-OK6.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CJsSO8V8.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";import"./chunk-C1xeNfMu.js";const N={class:"space-y-6"},D={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},M={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Y={class:"text-sm text-gray-500 dark:text-gray-400"},K={class:"flex items-center gap-3"},L={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},R={class:"flex items-start justify-between mb-3"},E={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},H={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mt-1"},J={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"},G={class:"space-y-1 text-xs text-gray-500 dark:text-gray-400"},Q={class:"flex justify-between"},O={class:"font-medium"},P={class:"flex justify-between"},W={class:"font-medium text-red-600 dark:text-red-400"},X={class:"flex justify-between"},Z={class:"font-medium text-yellow-600 dark:text-yellow-400"},ee={key:0,class:"col-span-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl p-8 text-center"},te={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},re={key:0,class:"overflow-x-auto"},ae={class:"w-full"},se={class:"divide-y divide-gray-200 dark:divide-gray-700"},le={class:"px-6 py-4 whitespace-nowrap"},de={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},ie={class:"px-6 py-4 whitespace-nowrap"},ge={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},ye={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate"},pe={class:"px-6 py-4 whitespace-nowrap"},ue={class:"px-6 py-4 whitespace-nowrap text-sm"},xe=["onClick"],me={key:1,class:"text-gray-400"},ce={key:1,class:"p-12 text-center text-gray-500 dark:text-gray-400"},be={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},fe=["value"],ke={class:"grid grid-cols-2 gap-4"},ve={class:"grid grid-cols-2 gap-4"},he={class:"flex justify-end gap-3 pt-4"},_e=["disabled"],we={key:0},Te={key:1},Oe={__name:"Index",props:{requests:{type:Array,default:()=>[]},balances:{type:Array,default:()=>[]},leaveTypes:{type:Array,default:()=>[]},selectedUserId:{type:String,default:null},selectedStatus:{type:String,default:null},selectedYear:{type:Number,default:new Date().getFullYear()}},setup(y){const{t:i}=z(),p=m(!1);m(!1),m(null);const s=j({leave_type_id:"",start_date:"",end_date:"",reason:"",notes:"",emergency_contact:"",emergency_phone:""}),T=()=>{s.post(route("hr.leave.store"),{preserveScroll:!0,onSuccess:()=>{p.value=!1,s.reset()}})},S=u=>{confirm("Ta'til so'rovini bekor qilmoqchimisiz?")&&A.post(route("hr.leave.cancel",u.id),{},{preserveScroll:!0})},q=u=>({pending:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400",approved:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",rejected:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400",cancelled:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"})[u]||"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300";return(u,t)=>(d(),B(I,{title:a(i)("hr.leave")},{default:f(()=>[n(a(U),{title:a(i)("hr.leave_management")},null,8,["title"]),e("div",N,[e("div",D,[e("div",null,[e("h1",M,l(a(i)("hr.leave_management")),1),e("p",Y,l(a(i)("hr.leave_subtitle")),1)]),e("div",K,[n(a($),{href:u.route("hr.leave.calendar"),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},{default:f(()=>[n(a(_),{class:"w-5 h-5 inline mr-2"}),v(" "+l(a(i)("hr.leave_calendar")),1)]),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=r=>p.value=!0),class:"px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2"},[n(a(F),{class:"w-5 h-5"}),v(" "+l(a(i)("hr.request_leave")),1)])])]),e("div",L,[(d(!0),o(c,null,b(y.balances,r=>(d(),o("div",{key:r.id,class:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700"},[e("div",R,[e("div",null,[e("p",E,l(r.leave_type.name),1),e("p",H,l(r.available_days),1)]),e("div",J,[n(a(w),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])]),e("div",G,[e("div",Q,[t[9]||(t[9]=e("span",null,"Jami:",-1)),e("span",O,l(r.total_days)+" kun",1)]),e("div",P,[t[10]||(t[10]=e("span",null,"Ishlatilgan:",-1)),e("span",W,l(r.used_days)+" kun",1)]),e("div",X,[t[11]||(t[11]=e("span",null,"Kutilmoqda:",-1)),e("span",Z,l(r.pending_days)+" kun",1)])])]))),128)),y.balances.length===0?(d(),o("div",ee,[n(a(w),{class:"w-12 h-12 mx-auto text-gray-400 mb-3"}),t[12]||(t[12]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Ta'til balanslari topilmadi",-1))])):k("",!0)]),e("div",te,[t[15]||(t[15]=e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Ta'til So'rovlari")],-1)),y.requests.length>0?(d(),o("div",re,[e("table",ae,[t[13]||(t[13]=e("thead",{class:"bg-gray-50 dark:bg-gray-900/50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Turi"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Boshlanish"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Tugash"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Kunlar"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Sabab"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Holat"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Amallar")])],-1)),e("tbody",se,[(d(!0),o(c,null,b(y.requests,r=>(d(),o("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-900/50"},[e("td",le,[e("span",de,l(r.leave_type.name),1)]),e("td",oe,l(r.start_date_formatted),1),e("td",ne,l(r.end_date_formatted),1),e("td",ie,[e("span",ge,l(r.total_days)+" kun ",1)]),e("td",ye,l(r.reason),1),e("td",pe,[e("span",{class:C(["px-2 py-1 text-xs font-medium rounded-full",q(r.status)])},l(r.status_label),3)]),e("td",ue,[r.status==="pending"?(d(),o("button",{key:0,onClick:Se=>S(r),class:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300"}," Bekor qilish ",8,xe)):(d(),o("span",me,"-"))])]))),128))])])])):(d(),o("div",ce,[n(a(_),{class:"w-12 h-12 mx-auto mb-4 opacity-50"}),t[14]||(t[14]=e("p",null,"Ta'til so'rovlari topilmadi",-1))]))])]),p.value?(d(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t[8]||(t[8]=h(r=>p.value=!1,["self"]))},[e("div",be,[t[23]||(t[23]=e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-xl font-bold text-gray-900 dark:text-gray-100"},"Ta'til So'rash")],-1)),e("form",{onSubmit:h(T,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Ta'til Turi * ",-1)),g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>a(s).leave_type_id=r),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500"},[t[16]||(t[16]=e("option",{value:""},"Tanlang",-1)),(d(!0),o(c,null,b(y.leaveTypes,r=>(d(),o("option",{key:r.id,value:r.id},l(r.name),9,fe))),128))],512),[[V,a(s).leave_type_id]])]),e("div",ke,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Boshlanish Sanasi * ",-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>a(s).start_date=r),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500"},null,512),[[x,a(s).start_date]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Tugash Sanasi * ",-1)),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>a(s).end_date=r),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500"},null,512),[[x,a(s).end_date]])])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Sababi * ",-1)),g(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=r=>a(s).reason=r),required:"",rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500",placeholder:"Ta'til sababini yozing..."},null,512),[[x,a(s).reason]])]),e("div",ve,[e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Favqulodda Aloqa ",-1)),g(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>a(s).emergency_contact=r),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500",placeholder:"Ism"},null,512),[[x,a(s).emergency_contact]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Telefon Raqami ",-1)),g(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>a(s).emergency_phone=r),type:"tel",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500",placeholder:"+998"},null,512),[[x,a(s).emergency_phone]])])]),e("div",he,[e("button",{type:"button",onClick:t[7]||(t[7]=r=>p.value=!1),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600"}," Bekor qilish "),e("button",{type:"submit",disabled:a(s).processing,class:"px-6 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed"},[a(s).processing?(d(),o("span",we,"Yuklanmoqda...")):(d(),o("span",Te,"Yuborish"))],8,_e)])],32)])])):k("",!0)]),_:1},8,["title"]))}};export{Oe as default};

import{r as v,o as K,w as L,b as h,v as Q,x as U,y as x,z as t,D as r,L as c,A as g,I as J,J as N,C as y,E as l,H as s,S as I,B as m,F as S,G as B,Q as P}from"./chunk-BcTZxe-J.js";import{b as Z,h as T,a as C}from"./chunk-BYRtWSr0.js";import{_ as Y}from"./chunk-D4ZonPD2.js";import{u as A}from"./app-CncQRLgv.js";import{r as G}from"./chunk-DNp5bQOL.js";import{q as H,l as $}from"./chunk-BnC_-OK6.js";import{r as W}from"./chunk-D58UsNjm.js";import{r as q}from"./chunk-CJsSO8V8.js";import{r as X}from"./chunk-CQoMtUf7.js";import{r as tt}from"./chunk-CO1aUxMi.js";import{r as et}from"./chunk-Rs1WNzbn.js";import"./chunk-C1xeNfMu.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";const st={class:"py-6 px-4 sm:px-6 lg:px-8"},at={class:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},ot={class:"flex items-center gap-4"},lt={key:0,class:"flex items-center justify-center py-20"},rt={key:1,class:"space-y-8"},it={class:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 rounded-3xl p-8 shadow-2xl"},dt={class:"relative"},nt={class:"flex items-center gap-3 mb-4"},ut={class:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center"},xt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6"},gt={class:"bg-white/10 backdrop-blur-sm rounded-xl p-6"},pt={class:"text-4xl font-bold text-white"},ct={class:"w-full bg-white/20 rounded-full h-2 mt-3"},mt={class:"bg-white/10 backdrop-blur-sm rounded-xl p-6"},bt={class:"text-4xl font-bold text-white"},_t={class:"text-sm text-purple-200 mt-2"},vt={class:"bg-white/10 backdrop-blur-sm rounded-xl p-6"},yt={class:"text-4xl font-bold text-white"},ft={class:"text-sm text-purple-200 mt-2"},ht={class:"mt-6 text-purple-100 text-sm bg-white/10 rounded-lg p-3"},wt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700"},kt={class:"flex items-center justify-between mb-6"},jt={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center"},Ft={class:"flex items-center gap-4 text-sm"},St={class:"text-gray-500"},Bt={class:"overflow-x-auto"},Mt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Dt={class:"divide-y divide-gray-200 dark:divide-gray-700"},zt={class:"px-4 py-4"},It={class:"flex items-center"},Ct={class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center text-white font-bold"},$t={class:"ml-3"},qt={class:"font-medium text-gray-900 dark:text-white"},Ot={class:"text-xs text-gray-500"},Rt={class:"px-4 py-4 text-right text-gray-500"},Et={class:"px-4 py-4 text-right font-medium text-gray-900 dark:text-white"},Vt={class:"px-4 py-4 text-right text-gray-500"},Kt={class:"px-4 py-4 text-right font-medium text-green-600"},Lt={class:"px-4 py-4 text-right font-medium text-gray-900 dark:text-white"},Qt={class:"px-4 py-4 text-right"},Ut={class:"px-4 py-4 text-left text-sm text-gray-500 max-w-xs"},Jt={key:0,class:"text-center py-8 text-gray-500"},Nt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Pt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700"},Zt={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},Tt={class:"grid grid-cols-2 gap-4 mb-6"},Yt={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4"},At={class:"text-2xl font-bold text-green-600"},Gt={class:"space-y-3"},Ht={class:"flex justify-between text-sm"},Wt={class:"font-medium"},Xt={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3"},te={class:"flex justify-between text-sm"},ee={class:"font-medium text-green-600"},se={key:0,class:"mt-4 bg-red-50 dark:bg-red-900/20 rounded-lg p-3 flex items-center"},ae={class:"text-sm text-red-600"},oe={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700"},le={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},re={class:"flex items-center justify-center mb-6"},ie={class:"relative"},de={class:"w-32 h-32 rounded-full border-8 border-gray-200 dark:border-gray-700 flex items-center justify-center"},ne={class:"text-center"},ue={class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2"},xe={class:"grid grid-cols-2 gap-4 mb-4"},ge={class:"text-center"},pe={class:"text-2xl font-bold text-gray-900 dark:text-white"},ce={class:"text-center"},me={class:"text-2xl font-bold text-green-600"},be={class:"flex justify-between text-sm mb-2"},_e={class:"font-medium"},ve={class:"flex justify-between text-sm mb-2"},ye={class:"font-medium text-green-600"},fe={class:"flex justify-between text-sm mb-2"},he={class:"font-medium text-red-600"},we={class:"flex justify-between text-sm"},ke={class:"font-medium text-blue-600"},je={key:0,class:"mt-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-3"},Fe={class:"text-sm text-yellow-700 dark:text-yellow-300 list-disc list-inside"},Se={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700"},Be={class:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center"},Me={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},De={class:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 text-center"},ze={class:"text-3xl font-bold text-gray-900 dark:text-white"},Ie={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 text-center"},Ce={class:"text-3xl font-bold text-green-600"},$e={class:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 text-center"},qe={class:"text-3xl font-bold text-red-600"},Oe={class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center"},Re={class:"text-3xl font-bold text-blue-600"},Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={key:0,class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4"},Ke={class:"flex items-center mb-2"},Le={class:"text-lg font-bold text-gray-900 dark:text-white"},Qe={class:"text-sm text-gray-500"},Ue={key:1,class:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4"},Je={class:"flex items-center mb-2"},Ne={class:"text-lg font-bold text-gray-900 dark:text-white"},Pe={class:"text-sm text-gray-500"},Ze={class:"mt-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4"},Te={key:2,class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-12 text-center"},Ye={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full mx-4 p-6"},Ae={key:0,class:"space-y-4"},Ge={class:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4"},He={class:"text-2xl font-bold text-purple-600"},We={class:"grid grid-cols-2 gap-4"},Xe={class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4"},ts={class:"text-xl font-bold text-blue-600"},es={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4"},ss={class:"text-xl font-bold text-green-600"},as={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},os={class:"text-gray-600 dark:text-gray-400"},ls={class:"font-medium"},rs={class:"bg-green-100 dark:bg-green-900/30 rounded-xl p-4 flex justify-between items-center"},is={class:"text-2xl font-bold text-green-600"},ds={class:"text-sm text-gray-500 text-center"},Cs={__name:"Dashboard",props:{currentBusiness:{type:Object,default:null}},setup(O){A(),Z();const w=O,k=v(!1),f=v(new Date().toISOString().slice(0,7)),b=v(null),p=v(null),j=v(!1),R=v(1e7),M=async()=>{if(w.currentBusiness?.id){k.value=!0;try{const o=await C.get(`/api/v1/businesses/${w.currentBusiness.id}/marketing-integration/dashboard`,{params:{date:f.value+"-01"}});b.value=o.data.data}catch(o){console.error("Error fetching marketing dashboard:",o)}finally{k.value=!1}}},E=async()=>{if(w.currentBusiness?.id)try{const o=new Date(f.value+"-01"),e=o.toISOString().slice(0,10),a=new Date(o.getFullYear(),o.getMonth()+1,0).toISOString().slice(0,10),V=await C.post(`/api/v1/businesses/${w.currentBusiness.id}/marketing-integration/calculate-bonus`,{period_start:e,period_end:a,base_bonus_fund:R.value});p.value=V.data.data,j.value=!0}catch(o){console.error("Error calculating bonus:",o)}};K(()=>{M()}),L(f,()=>{M()});const _=h(()=>b.value?.sales_linkage||{}),F=h(()=>b.value?.channel_performance||{}),u=h(()=>b.value?.budget_status||{}),d=h(()=>b.value?.lead_quality||{}),i=h(()=>b.value?.campaign_roi||{}),D=o=>o>=200?"text-green-600 bg-green-100":o>=100?"text-blue-600 bg-blue-100":o>=50?"text-yellow-600 bg-yellow-100":o>=0?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100",n=o=>o?new Intl.NumberFormat("uz-UZ").format(Math.round(o))+" UZS":"0 UZS",z=o=>o>=4.5?"text-green-600":o>=3.5?"text-blue-600":o>=2.5?"text-yellow-600":"text-red-600";return(o,e)=>(l(),Q(Y,null,{default:U(()=>[x(g(T),{title:"Marketing Dashboard - Sotuv bilan integratsiya"}),t("div",st,[t("div",at,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Marketing - Sotuv integratsiyasi "),t("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," 70/30 qoidasi: Marketing bonusi 70% sotuvdan, 30% vazifalardan ")],-1)),t("div",ot,[J(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>f.value=a),type:"month",class:"rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm"},null,512),[[N,f.value]]),t("button",{onClick:E,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center"},[x(g(G),{class:"w-5 h-5 mr-2"}),e[3]||(e[3]=y(" Bonus hisoblash ",-1))])])]),k.value?(l(),r("div",lt,[...e[5]||(e[5]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"},null,-1)])])):b.value?(l(),r("div",rt,[t("div",it,[e[10]||(e[10]=t("div",{class:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"},null,-1)),e[11]||(e[11]=t("div",{class:"absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"},null,-1)),t("div",dt,[t("div",nt,[t("div",ut,[x(g(H),{class:"w-6 h-6 text-white"})]),e[6]||(e[6]=t("div",null,[t("h2",{class:"text-2xl font-bold text-white"},"Marketing-Sotuv bog'liqligi"),t("p",{class:"text-purple-100"},"70% sotuvdan + 30% o'z vazifalaridan")],-1))]),t("div",xt,[t("div",gt,[e[7]||(e[7]=t("p",{class:"text-sm text-purple-100 mb-1"},"Sotuv rejasi bajarilishi",-1)),t("p",pt,s(_.value.sales_plan_completion?.toFixed(1)||0)+"% ",1),t("div",ct,[t("div",{class:"h-2 rounded-full bg-white transition-all",style:I({width:Math.min(_.value.sales_plan_completion||0,100)+"%"})},null,4)])]),t("div",mt,[e[8]||(e[8]=t("p",{class:"text-sm text-purple-100 mb-1"},"Sotuvdan bonus (70%)",-1)),t("p",bt,s(_.value.marketing_bonus_impact?.contribution_percent?.toFixed(1)||0)+"% ",1),t("p",_t," Maksimal: "+s(_.value.marketing_bonus_impact?.max_possible)+"% ",1)]),t("div",vt,[e[9]||(e[9]=t("p",{class:"text-sm text-purple-100 mb-1"},"Vazifalar bajarilishi (30%)",-1)),t("p",yt,s(_.value.avg_tasks_completion?.toFixed(1)||0)+"% ",1),t("p",ft,s(_.value.total_marketing_kpis||0)+" ta KPI qayd etilgan ",1)])]),t("p",ht,s(_.value.explanation),1)])]),t("div",wt,[t("div",kt,[t("h3",jt,[x(g($),{class:"w-5 h-5 mr-2 text-purple-600"}),e[12]||(e[12]=y(" Kanal samaradorligi ",-1))]),t("div",Ft,[t("span",St,[e[13]||(e[13]=y(" Umumiy ROI: ",-1)),t("span",{class:m([D(F.value.overall_roi),"font-bold px-2 py-1 rounded-full ml-1"])},s(F.value.overall_roi?.toFixed(1)||0)+"% ",3)])])]),t("div",Bt,[t("table",Mt,[e[14]||(e[14]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kanal"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Sarflangan"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Lidlar"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"CPL"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Bitimlar"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Daromad"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"ROI"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tavsiya")])],-1)),t("tbody",Dt,[(l(!0),r(S,null,B(F.value.channels,a=>(l(),r("tr",{key:a.channel_id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",zt,[t("div",It,[t("div",Ct,s(a.channel_name?.charAt(0)||"?"),1),t("div",$t,[t("p",qt,s(a.channel_name),1),t("p",Ot,s(a.channel_type),1)])])]),t("td",Rt,s(n(a.spent)),1),t("td",Et,s(a.leads),1),t("td",Vt,s(n(a.cpl)),1),t("td",Kt,s(a.deals),1),t("td",Lt,s(n(a.revenue)),1),t("td",Qt,[t("span",{class:m([D(a.roi),"px-2 py-1 text-sm font-medium rounded-full"])},s(a.roi?.toFixed(1))+"% ",3)]),t("td",Ut,s(a.recommendation),1)]))),128))])])]),F.value.channels?.length?c("",!0):(l(),r("div",Jt," Kanal ma'lumotlari topilmadi "))]),t("div",Nt,[t("div",Pt,[t("h3",Zt,[x(g(W),{class:"w-5 h-5 mr-2 text-green-600"}),e[15]||(e[15]=y(" Byudjet holati ",-1))]),t("div",Tt,[t("div",Yt,[e[16]||(e[16]=t("p",{class:"text-sm text-gray-500"},"Jami limit",-1)),t("p",At,s(n(u.value.total_limit)),1)]),t("div",{class:m(["rounded-xl p-4",u.value.is_within_budget?"bg-blue-50 dark:bg-blue-900/20":"bg-red-50 dark:bg-red-900/20"])},[e[17]||(e[17]=t("p",{class:"text-sm text-gray-500"},"Sarflangan",-1)),t("p",{class:m(["text-2xl font-bold",u.value.is_within_budget?"text-blue-600":"text-red-600"])},s(n(u.value.total_spent)),3)],2)]),t("div",Gt,[t("div",Ht,[e[18]||(e[18]=t("span",{class:"text-gray-500"},"Foydalanish",-1)),t("span",Wt,s(u.value.usage_percent?.toFixed(1))+"%",1)]),t("div",Xt,[t("div",{class:m(["h-3 rounded-full transition-all",u.value.usage_percent>100?"bg-red-500":u.value.usage_percent>80?"bg-yellow-500":"bg-green-500"]),style:I({width:Math.min(u.value.usage_percent||0,100)+"%"})},null,6)]),t("div",te,[e[19]||(e[19]=t("span",{class:"text-gray-500"},"Qolgan",-1)),t("span",ee,s(n(u.value.total_remaining)),1)])]),u.value.over_budget_count>0?(l(),r("div",se,[x(g(q),{class:"w-5 h-5 text-red-600 mr-2"}),t("span",ae,s(u.value.over_budget_count)+" ta kanal byudjetdan oshgan! ",1)])):c("",!0)]),t("div",oe,[t("h3",le,[x(g(X),{class:"w-5 h-5 mr-2 text-blue-600"}),e[20]||(e[20]=y(" Lid sifati (Sotuv feedbacki) ",-1))]),t("div",re,[t("div",ie,[t("div",de,[t("div",ne,[t("p",{class:m(["text-3xl font-bold",z(d.value.avg_quality_score)])},s(d.value.avg_quality_score?.toFixed(1)||0),3),e[21]||(e[21]=t("p",{class:"text-sm text-gray-500"},"/ 5.0",-1))])]),t("div",ue,[t("span",{class:m(["px-3 py-1 text-sm font-medium rounded-full",z(d.value.avg_quality_score),"bg-opacity-20"])},s(d.value.quality_label),3)])])]),t("div",xe,[t("div",ge,[t("p",pe,s(d.value.acceptance_rate?.toFixed(1)||0)+"% ",1),e[22]||(e[22]=t("p",{class:"text-sm text-gray-500"},"Qabul qilingan",-1))]),t("div",ce,[t("p",me,s(d.value.conversion_rate?.toFixed(1)||0)+"% ",1),e[23]||(e[23]=t("p",{class:"text-sm text-gray-500"},"Konversiya",-1))])]),t("div",be,[e[24]||(e[24]=t("span",{class:"text-gray-500"},"Jami lidlar:",-1)),t("span",_e,s(d.value.total_generated||0),1)]),t("div",ve,[e[25]||(e[25]=t("span",{class:"text-gray-500"},"Qabul qilingan:",-1)),t("span",ye,s(d.value.total_accepted||0),1)]),t("div",fe,[e[26]||(e[26]=t("span",{class:"text-gray-500"},"Rad etilgan:",-1)),t("span",he,s(d.value.total_rejected||0),1)]),t("div",we,[e[27]||(e[27]=t("span",{class:"text-gray-500"},"Bitimga aylangan:",-1)),t("span",ke,s(d.value.total_converted||0),1)]),d.value.improvement_areas?.length?(l(),r("div",je,[e[28]||(e[28]=t("p",{class:"text-sm text-yellow-800 dark:text-yellow-200 font-medium mb-1"},"Yaxshilash kerak:",-1)),t("ul",Fe,[(l(!0),r(S,null,B(d.value.improvement_areas,a=>(l(),r("li",{key:a},s(a),1))),128))])])):c("",!0)])]),t("div",Se,[t("h3",Be,[x(g(tt),{class:"w-5 h-5 mr-2 text-purple-600"}),e[29]||(e[29]=y(" Kampaniyalar ROI tahlili ",-1))]),t("div",Me,[t("div",De,[t("p",ze,s(i.value.total_campaigns||0),1),e[30]||(e[30]=t("p",{class:"text-sm text-gray-500"},"Jami kampaniyalar",-1))]),t("div",Ie,[t("p",Ce,s(i.value.profitable_count||0),1),e[31]||(e[31]=t("p",{class:"text-sm text-gray-500"},"Foydali",-1))]),t("div",$e,[t("p",qe,s(i.value.unprofitable_count||0),1),e[32]||(e[32]=t("p",{class:"text-sm text-gray-500"},"Zararli",-1))]),t("div",Oe,[t("p",Re,s(i.value.avg_roi?.toFixed(1)||0)+"% ",1),e[33]||(e[33]=t("p",{class:"text-sm text-gray-500"},"O'rtacha ROI",-1))])]),t("div",Ee,[i.value.best_campaign?(l(),r("div",Ve,[t("div",Ke,[x(g(et),{class:"w-5 h-5 text-green-600 mr-2"}),e[34]||(e[34]=t("span",{class:"font-medium text-green-800 dark:text-green-200"},"Eng yaxshi kampaniya",-1))]),t("p",Le,s(i.value.best_campaign.name),1),t("p",Qe," ROI: "+s(i.value.best_campaign.roi?.toFixed(1))+"% | Daromad: "+s(n(i.value.best_campaign.revenue_generated)),1)])):c("",!0),i.value.worst_campaign?(l(),r("div",Ue,[t("div",Je,[x(g(q),{class:"w-5 h-5 text-red-600 mr-2"}),e[35]||(e[35]=t("span",{class:"font-medium text-red-800 dark:text-red-200"},"Eng yomon kampaniya",-1))]),t("p",Ne,s(i.value.worst_campaign.name),1),t("p",Pe," ROI: "+s(i.value.worst_campaign.roi?.toFixed(1))+"% | Daromad: "+s(n(i.value.worst_campaign.revenue_generated)),1)])):c("",!0)]),t("div",Ze,[e[36]||(e[36]=t("p",{class:"text-sm text-gray-500"},"Umumiy foyda:",-1)),t("p",{class:m(["text-2xl font-bold",(i.value.total_profit||0)>=0?"text-green-600":"text-red-600"])},s(n(i.value.total_profit)),3)])])])):k.value?c("",!0):(l(),r("div",Te,[x(g($),{class:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e[37]||(e[37]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"}," Ma'lumot topilmadi ",-1)),e[38]||(e[38]=t("p",{class:"text-gray-500"}," Marketing ma'lumotlari mavjud emas ",-1))]))]),j.value?(l(),r("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e[2]||(e[2]=P(a=>j.value=!1,["self"]))},[t("div",Ye,[e[43]||(e[43]=t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-4"}," Marketing bonus hisoblash natijasi ",-1)),p.value?(l(),r("div",Ae,[t("div",Ge,[e[39]||(e[39]=t("p",{class:"text-sm text-gray-500"},"Bazaviy bonus fondi",-1)),t("p",He,s(n(p.value.base_fund)),1)]),t("div",We,[t("div",Xe,[e[40]||(e[40]=t("p",{class:"text-sm text-gray-500"},"Sotuv bajarilishi",-1)),t("p",ts,s(p.value.sales_completion?.toFixed(1))+"% ",1)]),t("div",es,[e[41]||(e[41]=t("p",{class:"text-sm text-gray-500"},"Vazifalar bajarilishi",-1)),t("p",ss,s(p.value.tasks_completion?.toFixed(1))+"% ",1)])]),t("div",as,[(l(!0),r(S,null,B(p.value.breakdown,a=>(l(),r("div",{key:a.name,class:"flex justify-between py-2"},[t("span",os,s(a.name)+" ("+s(a.completion?.toFixed(1))+"%) ",1),t("span",ls,s(n(a.amount)),1)]))),128))]),t("div",rs,[e[42]||(e[42]=t("span",{class:"font-medium text-green-800 dark:text-green-200"},"Jami bonus:",-1)),t("span",is,s(n(p.value.total_bonus)),1)]),t("p",ds," Bazadan "+s(p.value.bonus_percent?.toFixed(1))+"% olindi ",1)])):c("",!0),t("button",{onClick:e[1]||(e[1]=a=>j.value=!1),class:"mt-6 w-full py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors"}," Yopish ")])])):c("",!0)]),_:1}))}};export{Cs as default};

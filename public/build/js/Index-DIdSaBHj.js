import{a as se,r as y,o as He,e as Se,C as a,F as l,z as e,J as I,K as V,B as m,E as b,H as d,N as A,Q as P,D as p,S as Ae,G as f,I as C,O as Ve,b as Le,y as Ie,A as De,x as Te}from"./chunk-KPSVwAyv.js";import{h as Ye,a as H}from"./chunk-BVrjkT6E.js";import{_ as Ne}from"./chunk-DjNoE40N.js";import{_ as qe}from"./chunk-DlAUqK2U.js";import{u as Ze}from"./app-906_W7J6.js";import"./chunk-S7b6IQvx.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-Dfha1x8d.js";import"./chunk-BgOPVSvg.js";import"./chunk-CYw1XsNK.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-CYZ54WJE.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";import"./chunk-BvkwlYlD.js";const Pe={class:"h-screen flex flex-col bg-gray-50 dark:bg-gray-900"},Fe={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between shadow-sm"},Ke={class:"flex items-center gap-4"},We={class:"flex items-center gap-3"},Xe={class:"flex items-center gap-3"},Ge={class:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1"},Ue={class:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1"},Ee={class:"text-xs font-medium w-12 text-center text-gray-600 dark:text-gray-300"},Je=["disabled"],Oe={key:0,class:"animate-spin w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24"},Qe={key:1,class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Re={class:"flex-1 flex overflow-hidden"},et={class:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col"},tt={class:"flex-1 overflow-y-auto p-3 space-y-2"},rt={class:"mb-3"},ot={class:"mb-3"},st={class:"mb-3"},at=["d","stroke","marker-end","onClick"],lt=["x","y","fill"],nt=["d","stroke"],it=["onMousedown","onClick"],dt={class:"flex items-center gap-2"},ut=["innerHTML"],gt={class:"font-medium text-sm truncate"},pt=["onClick"],vt={class:"bg-white dark:bg-gray-800 rounded-b-xl p-3 border border-gray-200 dark:border-gray-700 border-t-0"},ct={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},xt={class:"text-purple-600 dark:text-purple-400"},mt={key:1,class:"text-xs text-gray-400 dark:text-gray-500 italic"},ht={key:1,class:"text-xs space-y-1"},yt={class:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400"},bt={key:0,class:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2"},kt={key:1,class:"text-xs text-gray-600 dark:text-gray-400"},ft={key:2,class:"text-xs text-gray-600 dark:text-gray-400"},wt={class:"text-green-600 dark:text-green-400"},_t={key:3,class:"text-xs text-gray-400 dark:text-gray-500 italic"},Mt={class:"flex justify-between mt-3 pt-3 border-t border-gray-200 dark:border-gray-700"},Ct=["onMouseup"],jt={key:1,class:"w-6"},zt={key:2,class:"flex gap-2"},Bt={class:"flex flex-col items-center gap-1"},$t=["onMousedown"],It={class:"flex flex-col items-center gap-1"},Vt=["onMousedown"],At=["onMousedown"],Lt={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},Ht={class:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col"},St={class:"p-4 border-b border-gray-200 dark:border-gray-700"},Dt={class:"font-semibold text-gray-900 dark:text-white text-sm"},Tt={key:0,class:"flex-1 flex items-center justify-center p-4"},Yt={key:1,class:"flex-1 overflow-y-auto p-4 space-y-4"},Nt={key:0},qt={class:"flex gap-2 mb-2"},Zt=["onKeydown"],Pt={key:0,class:"flex flex-wrap gap-1"},Ft=["onClick"],Kt={key:0},Wt={key:0},Xt={class:"flex items-center gap-1 mt-2"},Gt=["onClick"],Ut={key:1},Et={class:"flex items-center gap-1 mt-2"},Jt=["onClick"],Ot={key:2},Qt={key:3},Rt={key:4},er={class:"flex items-center gap-1 mt-2"},tr=["onClick"],rr={class:"pt-4 border-t border-gray-200 dark:border-gray-700"},or={__name:"InstagramFlowBuilder",props:{automationId:[String,Number],automationName:String,automationStatus:{type:String,default:"draft"},automationAiEnabled:{type:Boolean,default:!1},initialNodes:{type:Array,default:()=>[]},initialConnections:{type:Array,default:()=>[]}},emits:["close","save"],setup(ae,{emit:he}){const D=ae,K=he,h=se({name:D.automationName||"",description:"",status:D.automationStatus||"draft",is_ai_enabled:D.automationAiEnabled||!1}),T=y(null),E=y(null),k=y(1),M=se({x:100,y:100}),Q=y(!1),J=se({x:0,y:0}),z=y([]),u=y(null),_=y([]),L=y(null),j=se({x:0,y:0}),w=y(null),Y=se({x:0,y:0}),g=y(""),W=y(null),le=y(null),ne=y(null),X=[{label:"{username}",value:"{username}"},{label:"{full_name}",value:"{full_name}"}],R=(n,r)=>{const v={dmMessageTextarea:W,aiContextTextarea:le,replyCommentTextarea:ne}[r]?.value;if(!v||!u.value)return;const B=v.selectionStart,N=v.selectionEnd;let q="",Z="";r==="dmMessageTextarea"?(q=u.value.data?.message||"",Z="message"):r==="aiContextTextarea"?(q=u.value.data?.ai_context||"",Z="ai_context"):r==="replyCommentTextarea"&&(q=u.value.data?.message||"",Z="message");const me=q.substring(0,B)+n+q.substring(N);u.value.data||(u.value.data={}),u.value.data[Z]=me,setTimeout(()=>{v.focus();const O=B+n.length;v.setSelectionRange(O,O)},0)},F=y(!1),G=()=>{w.value&&(w.value=null)};He(()=>{D.initialNodes.length>0&&(z.value=D.initialNodes.map(n=>({...n,x:n.position?.x??n.x??100,y:n.position?.y??n.y??100,data:n.data||{},keywords:n.keywords||[]}))),D.initialConnections.length>0&&(_.value=[...D.initialConnections]),document.addEventListener("mouseup",G)}),Se(()=>{document.removeEventListener("mouseup",G)});const ie=()=>{k.value=Math.min(2,k.value+.1)},de=()=>{k.value=Math.max(.25,k.value-.1)},U=()=>{k.value=1,M.x=100,M.y=100},ye=n=>{n.preventDefault(),n.deltaY<0?ie():de()},be=n=>{(n.target===T.value||n.target.tagName==="svg")&&(Q.value=!0,J.x=n.clientX-M.x,J.y=n.clientY-M.y)},ke=n=>{if(Y.x=(n.clientX-M.x)/k.value,Y.y=(n.clientY-T.value?.getBoundingClientRect().top-M.y)/k.value,Q.value&&(M.x=n.clientX-J.x,M.y=n.clientY-J.y),L.value){const r=T.value.getBoundingClientRect();L.value.x=(n.clientX-r.left-M.x)/k.value-j.x,L.value.y=(n.clientY-r.top-M.y)/k.value-j.y}},ue=()=>{Q.value=!1,L.value=null,w.value&&(w.value=null)},$=(n,r)=>{n.dataTransfer.setData("nodeType",r)},fe=n=>{const r=n.dataTransfer.getData("nodeType");if(!r)return;const o=T.value.getBoundingClientRect(),v=(n.clientX-o.left-M.x)/k.value,B=(n.clientY-o.top-M.y)/k.value,N={id:`node-${Date.now()}`,name:t(r),type:r,x:v,y:B,data:we(r),keywords:r.includes("keyword")?[]:void 0};z.value.push(N),u.value=N},we=n=>{switch(n){case"action_send_dm":case"action_reply_comment":return{message:""};case"action_ai_response":return{ai_context:""};case"action_delay":return{delay_seconds:5};case"action_add_tag":case"condition_has_tag":return{tag:""};default:return{}}},_e=(n,r)=>{const o=T.value.getBoundingClientRect();j.x=(n.clientX-o.left-M.x)/k.value-r.x,j.y=(n.clientY-o.top-M.y)/k.value-r.y,L.value=r},Me=n=>{u.value=n},ee=n=>{const r=z.value.findIndex(o=>o.id===n);r>-1&&(z.value.splice(r,1),_.value=_.value.filter(o=>o.from!==n&&o.to!==n),u.value?.id===n&&(u.value=null))},te=(n,r,o="default")=>{r.preventDefault(),r.stopPropagation(),w.value={from:n,type:o}},Ce=(n,r)=>{if(r&&(r.preventDefault(),r.stopPropagation()),w.value&&w.value.from!==n){const o=w.value.type||"default";_.value=_.value.filter(v=>!(v.from===w.value.from&&v.type===o)),_.value.push({from:w.value.from,to:n,type:o})}w.value=null},je=()=>{w.value=null},re=n=>{if(!w.value)return;const r=T.value?.getBoundingClientRect();r&&(Y.x=(n.clientX-r.left-M.x)/k.value,Y.y=(n.clientY-r.top-M.y)/k.value)},ge=n=>{_.value=_.value.filter(r=>!(r.from===n.from&&r.to===n.to&&r.type===n.type))},oe=()=>{!u.value||!g.value.trim()||(u.value.keywords||(u.value.keywords=[]),u.value.keywords.push(g.value.trim().toLowerCase()),g.value="")},pe=n=>{u.value?.keywords&&u.value.keywords.splice(n,1)},ze=n=>{const r=z.value.find(O=>O.id===n.from),o=z.value.find(O=>O.id===n.to);if(!r||!o)return"";let v,B;r.type.startsWith("condition_")?n.type==="true"?(v=r.x+80,B=r.y+130):n.type==="false"?(v=r.x+160,B=r.y+130):(v=r.x+120,B=r.y+120):(v=r.x+120,B=r.y+120);const N=o.x+120,q=o.y+10,Z=Math.abs(q-B),me=Math.min(Z*.5,80);return`M ${v} ${B} C ${v} ${B+me}, ${N} ${q-me}, ${N} ${q}`},Be=()=>{if(!w.value)return"";const n=z.value.find(N=>N.id===w.value.from);if(!n)return"";let r,o;n.type.startsWith("condition_")?w.value.type==="true"?(r=n.x+80,o=n.y+130):w.value.type==="false"?(r=n.x+160,o=n.y+130):(r=n.x+120,o=n.y+120):(r=n.x+120,o=n.y+120);const v=Math.abs(Y.y-o),B=Math.min(v*.4,60);return`M ${r} ${o} C ${r} ${o+B}, ${Y.x} ${Y.y-B}, ${Y.x} ${Y.y}`},ve=n=>n.type==="true"?"#22c55e":n.type==="false"?"#ef4444":"#8b5cf6",$e=n=>n.type==="true"?"arrowhead-green":n.type==="false"?"arrowhead-red":"arrowhead",ce=()=>w.value?w.value.type==="true"?"#22c55e":w.value.type==="false"?"#ef4444":"#8b5cf6":"#8b5cf6",xe=n=>{const r=z.value.find(Z=>Z.id===n.from),o=z.value.find(Z=>Z.id===n.to);if(!r||!o)return{x:0,y:0};let v;r.type.startsWith("condition_")?n.type==="true"?v=r.x+80:n.type==="false"?v=r.x+160:v=r.x+120:v=r.x+120;const B=r.type.startsWith("condition_")?r.y+130:r.y+120,N=o.x+120,q=o.y+10;return{x:(v+N)/2-10,y:(B+q)/2}},i=n=>({trigger_keyword_dm:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white",trigger_keyword_comment:"bg-gradient-to-r from-pink-600 to-rose-600 text-white",trigger_story_mention:"bg-gradient-to-r from-orange-500 to-amber-500 text-white",trigger_story_reply:"bg-gradient-to-r from-orange-500 to-amber-500 text-white",trigger_new_follower:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",condition_is_follower:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white",condition_has_tag:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white",action_send_dm:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",action_send_media:"bg-gradient-to-r from-pink-500 to-rose-500 text-white",action_ai_response:"bg-gradient-to-r from-violet-600 to-purple-600 text-white",action_add_tag:"bg-gradient-to-r from-green-600 to-emerald-600 text-white",action_delay:"bg-gradient-to-r from-gray-600 to-gray-700 text-white",action_reply_comment:"bg-gradient-to-r from-indigo-600 to-blue-600 text-white"})[n]||"bg-gradient-to-r from-gray-600 to-gray-700 text-white",t=n=>({trigger_keyword_dm:"DM Kalit so'z",trigger_keyword_comment:"Comment Kalit so'z",trigger_story_mention:"Story Mention",trigger_story_reply:"Story Javob",trigger_new_follower:"Yangi Follower",condition_is_follower:"Follower tekshir",condition_has_tag:"Tag tekshir",action_send_dm:"DM Yuborish",action_send_media:"Media Yuborish",action_ai_response:"AI Javob",action_add_tag:"Tag Qo'shish",action_delay:"Kutish",action_reply_comment:"Comment Javob"})[n]||n,s=n=>({trigger_keyword_dm:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>',trigger_keyword_comment:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" /></svg>',trigger_story_mention:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" /></svg>',trigger_story_reply:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" /></svg>',trigger_new_follower:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" /></svg>',condition_is_follower:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>',condition_has_tag:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" /></svg>',action_send_dm:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" /></svg>',action_send_media:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>',action_ai_response:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>',action_add_tag:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" /></svg>',action_delay:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>',action_reply_comment:'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" /></svg>'})[n]||'<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>',c=n=>{switch(n.type){case"condition_is_follower":return"Foydalanuvchi followermi?";case"condition_has_tag":return n.data?.tag?`Tag: #${n.data.tag}`:"Tag tekshirish";default:return"Shart"}},x=async()=>{if(!h.name){alert("Avtomatizatsiya nomini kiriting");return}F.value=!0;try{const n={settings:{name:h.name,description:h.description,status:h.status,is_ai_enabled:h.is_ai_enabled},nodes:z.value.map(r=>({id:r.id,type:r.type,name:r.name,x:Math.round(r.x),y:Math.round(r.y),data:r.data,keywords:r.keywords})),connections:_.value};K("save",n)}catch(n){console.error("Save error:",n),alert("Saqlashda xatolik")}finally{F.value=!1}};return(n,r)=>(l(),a("div",Pe,[e("div",Fe,[e("div",Ke,[e("button",{onClick:r[0]||(r[0]=o=>n.$emit("close")),class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},[...r[28]||(r[28]=[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),e("div",We,[r[30]||(r[30]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg shadow-purple-500/20"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),e("div",null,[I(e("input",{"onUpdate:modelValue":r[1]||(r[1]=o=>h.name=o),type:"text",class:"bg-transparent text-lg font-bold text-gray-900 dark:text-white border-none focus:outline-none focus:ring-0 p-0 w-64 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Avtomatizatsiya nomi..."},null,512),[[V,h.name]]),r[29]||(r[29]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Visual Flow Builder",-1))])])]),e("div",Xe,[e("div",Ge,[e("button",{onClick:r[2]||(r[2]=o=>h.status="active"),class:m(["px-3 py-1.5 rounded text-xs font-medium transition-colors",h.status==="active"?"bg-green-600 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Faol ",2),e("button",{onClick:r[3]||(r[3]=o=>h.status="draft"),class:m(["px-3 py-1.5 rounded text-xs font-medium transition-colors",h.status==="draft"?"bg-gray-500 dark:bg-gray-600 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Qoralama ",2),e("button",{onClick:r[4]||(r[4]=o=>h.status="paused"),class:m(["px-3 py-1.5 rounded text-xs font-medium transition-colors",h.status==="paused"?"bg-yellow-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Pauza ",2)]),e("button",{onClick:r[5]||(r[5]=o=>h.is_ai_enabled=!h.is_ai_enabled),class:m(["flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors",h.is_ai_enabled?"bg-purple-600 text-white shadow-sm":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])},[...r[31]||(r[31]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),b(" AI ",-1)])],2),r[37]||(r[37]=e("div",{class:"h-6 w-px bg-gray-300 dark:bg-gray-600"},null,-1)),e("div",Ue,[e("button",{onClick:de,class:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-600 dark:text-gray-300"},[...r[32]||(r[32]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])]),e("span",Ee,d(Math.round(k.value*100))+"%",1),e("button",{onClick:ie,class:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-600 dark:text-gray-300"},[...r[33]||(r[33]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),e("button",{onClick:U,class:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-600 dark:text-gray-300"},[...r[34]||(r[34]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)])])]),r[38]||(r[38]=e("div",{class:"h-6 w-px bg-gray-300 dark:bg-gray-600"},null,-1)),e("button",{onClick:x,disabled:F.value||!h.name,class:m(["inline-flex items-center px-5 py-2 text-sm font-medium rounded-lg transition-colors shadow-sm",h.name?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed"])},[F.value?(l(),a("svg",Oe,[...r[35]||(r[35]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):(l(),a("svg",Qe,[...r[36]||(r[36]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),b(" "+d(F.value?"Saqlanmoqda...":"Saqlash"),1)],10,Je)])]),e("div",Re,[e("div",et,[r[54]||(r[54]=e("div",{class:"p-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-semibold text-gray-900 dark:text-white text-sm"},"Elementlar"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Canvas'ga tortib tashlang")],-1)),e("div",tt,[e("div",rt,[r[43]||(r[43]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 px-1"},"Triggerlar",-1)),e("div",{draggable:"true",onDragstart:r[6]||(r[6]=o=>$(o,"trigger_keyword_dm")),class:"p-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-purple-500/20 transition-all mb-2"},[...r[39]||(r[39]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>DM Kalit so&#39;z</p><p class="text-xs opacity-80" data-v-a28b40ea>DMda so&#39;z topilganda</p></div></div>',1)])],32),e("div",{draggable:"true",onDragstart:r[7]||(r[7]=o=>$(o,"trigger_keyword_comment")),class:"p-3 bg-gradient-to-r from-pink-600 to-rose-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-pink-500/20 transition-all mb-2"},[...r[40]||(r[40]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Comment Kalit so&#39;z</p><p class="text-xs opacity-80" data-v-a28b40ea>Commentda topilganda</p></div></div>',1)])],32),e("div",{draggable:"true",onDragstart:r[8]||(r[8]=o=>$(o,"trigger_story_mention")),class:"p-3 bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-orange-500/20 transition-all mb-2"},[...r[41]||(r[41]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Story Mention</p><p class="text-xs opacity-80" data-v-a28b40ea>Storyda etiketlanganda</p></div></div>',1)])],32),e("div",{draggable:"true",onDragstart:r[9]||(r[9]=o=>$(o,"trigger_new_follower")),class:"p-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-cyan-500/20 transition-all"},[...r[42]||(r[42]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Yangi Follower</p><p class="text-xs opacity-80" data-v-a28b40ea>Follow qilganda</p></div></div>',1)])],32)]),e("div",ot,[r[46]||(r[46]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 px-1"},"Shartlar",-1)),e("div",{draggable:"true",onDragstart:r[10]||(r[10]=o=>$(o,"condition_is_follower")),class:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-yellow-500/20 transition-all mb-2"},[...r[44]||(r[44]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Follower tekshir</p><p class="text-xs opacity-80" data-v-a28b40ea>Obunachimi?</p></div></div>',1)])],32),e("div",{draggable:"true",onDragstart:r[11]||(r[11]=o=>$(o,"condition_has_tag")),class:"p-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-emerald-500/20 transition-all"},[...r[45]||(r[45]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Tag tekshir</p><p class="text-xs opacity-80" data-v-a28b40ea>Tag mavjudmi?</p></div></div>',1)])],32)]),e("div",st,[r[53]||(r[53]=e("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 px-1"},"Harakatlar",-1)),e("div",{draggable:"true",onDragstart:r[12]||(r[12]=o=>$(o,"action_send_dm")),class:"p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-blue-500/20 transition-all mb-2"},[...r[47]||(r[47]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>DM Yuborish</p><p class="text-xs opacity-80" data-v-a28b40ea>Xabar yozish</p></div></div>',1)])],32),e("div",{draggable:"true",onDragstart:r[13]||(r[13]=o=>$(o,"action_send_media")),class:"p-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-pink-500/20 transition-all mb-2"},[...r[48]||(r[48]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Media Yuborish</p><p class="text-xs opacity-80" data-v-a28b40ea>Rasm/Video</p></div></div>',1)])],32),e("div",{draggable:"true",onDragstart:r[14]||(r[14]=o=>$(o,"action_ai_response")),class:"p-3 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-violet-500/20 transition-all mb-2"},[...r[49]||(r[49]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>AI Javob</p><p class="text-xs opacity-80" data-v-a28b40ea>Sun&#39;iy intellekt</p></div></div>',1)])],32),e("div",{draggable:"true",onDragstart:r[15]||(r[15]=o=>$(o,"action_add_tag")),class:"p-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-green-500/20 transition-all mb-2"},[...r[50]||(r[50]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Tag Qo&#39;shish</p><p class="text-xs opacity-80" data-v-a28b40ea>Belgilash</p></div></div>',1)])],32),e("div",{draggable:"true",onDragstart:r[16]||(r[16]=o=>$(o,"action_delay")),class:"p-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-gray-500/20 transition-all mb-2"},[...r[51]||(r[51]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Kutish</p><p class="text-xs opacity-80" data-v-a28b40ea>Vaqt kechiktirish</p></div></div>',1)])],32),e("div",{draggable:"true",onDragstart:r[17]||(r[17]=o=>$(o,"action_reply_comment")),class:"p-3 bg-gradient-to-r from-indigo-600 to-blue-600 text-white rounded-lg cursor-move hover:shadow-lg hover:shadow-indigo-500/20 transition-all"},[...r[52]||(r[52]=[A('<div class="flex items-center gap-2" data-v-a28b40ea><div class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center" data-v-a28b40ea><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" data-v-a28b40ea></path></svg></div><div data-v-a28b40ea><p class="font-medium text-sm" data-v-a28b40ea>Commentga Javob</p><p class="text-xs opacity-80" data-v-a28b40ea>Reply qilish</p></div></div>',1)])],32)])])]),e("div",{ref_key:"canvasContainer",ref:T,class:"flex-1 overflow-hidden relative bg-gray-100 dark:bg-gray-900",onDragover:r[18]||(r[18]=P(()=>{},["prevent"])),onDrop:fe,onMousedown:be,onMousemove:ke,onMouseup:ue,onMouseleave:ue,onWheel:ye},[r[67]||(r[67]=e("div",{class:"absolute inset-0 pointer-events-none canvas-grid"},null,-1)),e("div",{ref_key:"canvas",ref:E,class:"absolute",style:Ae({transform:`translate(${M.x}px, ${M.y}px) scale(${k.value})`,transformOrigin:"0 0"})},[(l(),a("svg",{class:"absolute top-0 left-0 w-[5000px] h-[5000px]",onMouseup:je,onMousemove:re},[r[55]||(r[55]=A('<defs data-v-a28b40ea><marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" data-v-a28b40ea><polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6" data-v-a28b40ea></polygon></marker><marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" data-v-a28b40ea><polygon points="0 0, 10 3.5, 0 7" fill="#22c55e" data-v-a28b40ea></polygon></marker><marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" data-v-a28b40ea><polygon points="0 0, 10 3.5, 0 7" fill="#ef4444" data-v-a28b40ea></polygon></marker></defs>',1)),(l(!0),a(f,null,C(_.value,o=>(l(),a("g",{key:`${o.from}-${o.to}-${o.type||"default"}`},[e("path",{d:ze(o),fill:"none",stroke:ve(o),"stroke-width":"2.5","marker-end":`url(#${$e(o)})`,class:"transition-all duration-200 cursor-pointer hover:stroke-opacity-70",onClick:P(v=>ge(o),["stop"])},null,8,at),o.type==="true"||o.type==="false"?(l(),a("text",{key:0,x:xe(o).x,y:xe(o).y,fill:o.type==="true"?"#22c55e":"#ef4444","font-size":"11","font-weight":"600",class:"pointer-events-none select-none"},d(o.type==="true"?"Ha":"Yo'q"),9,lt)):p("",!0)]))),128)),w.value?(l(),a("path",{key:0,d:Be(),fill:"none",stroke:ce(),"stroke-width":"2.5","stroke-dasharray":"8,4",class:"animate-pulse"},null,8,nt)):p("",!0)],32)),(l(!0),a(f,null,C(z.value,o=>(l(),a("div",{key:o.id,style:Ae({position:"absolute",left:`${o.x}px`,top:`${o.y}px`,width:"240px"}),onMousedown:P(v=>_e(v,o),["stop"]),onClick:P(v=>Me(o),["stop"]),class:m(["rounded-xl shadow-lg transition-all cursor-move group",u.value?.id===o.id?"ring-2 ring-purple-500 ring-offset-2 ring-offset-gray-100 dark:ring-offset-gray-900":""])},[e("div",{class:m(["rounded-t-xl px-4 py-3 flex items-center justify-between",i(o.type)])},[e("div",dt,[e("div",{class:"w-7 h-7 bg-white/20 rounded-lg flex items-center justify-center",innerHTML:s(o.type)},null,8,ut),e("span",gt,d(o.name||t(o.type)),1)]),e("button",{onClick:P(v=>ee(o.id),["stop"]),class:"p-1 hover:bg-white/20 rounded opacity-0 group-hover:opacity-100 transition-opacity"},[...r[56]||(r[56]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,pt)],2),e("div",vt,[o.type.startsWith("trigger_")?(l(),a(f,{key:0},[o.keywords?.length?(l(),a("p",ct,[r[57]||(r[57]=b(" Kalit so'zlar: ",-1)),e("span",xt,d(o.keywords.join(", ")),1)])):(l(),a("p",mt,"Sozlamalarni kiriting..."))],64)):p("",!0),o.type.startsWith("condition_")?(l(),a("div",ht,[e("div",yt,[r[58]||(r[58]=e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,d(c(o)),1)])])):p("",!0),o.type.startsWith("action_")?(l(),a(f,{key:2},[o.data?.message?(l(),a("p",bt,d(o.data.message),1)):o.data?.delay_seconds?(l(),a("p",kt,d(o.data.delay_seconds)+" soniya kutish ",1)):o.data?.tag?(l(),a("p",ft,[r[59]||(r[59]=b(" Tag: ",-1)),e("span",wt,"#"+d(o.data.tag),1)])):(l(),a("p",_t,"Sozlamalarni kiriting..."))],64)):p("",!0),e("div",Mt,[o.type.startsWith("trigger_")?(l(),a("div",jt)):(l(),a("div",{key:0,class:m(["w-6 h-6 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-purple-500 transition-colors",{"ring-2 ring-purple-400 ring-offset-1 ring-offset-white dark:ring-offset-gray-800":w.value&&w.value.from!==o.id}]),onMouseup:P(v=>Ce(o.id,v),["stop"]),title:"Kirish nuqtasi"},[...r[60]||(r[60]=[e("svg",{class:"w-3 h-3 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1)])],42,Ct)),o.type.startsWith("condition_")?(l(),a("div",zt,[e("div",Bt,[e("div",{class:"w-6 h-6 bg-green-900/50 text-green-400 rounded-full flex items-center justify-center cursor-pointer hover:bg-green-500 hover:text-white transition-colors",onMousedown:P(v=>te(o.id,v,"true"),["stop"]),title:"Ha - shart bajarilsa"},[...r[61]||(r[61]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],40,$t),r[62]||(r[62]=e("span",{class:"text-[10px] font-medium text-green-400"},"Ha",-1))]),e("div",It,[e("div",{class:"w-6 h-6 bg-red-900/50 text-red-400 rounded-full flex items-center justify-center cursor-pointer hover:bg-red-500 hover:text-white transition-colors",onMousedown:P(v=>te(o.id,v,"false"),["stop"]),title:"Yo'q - shart bajarilmasa"},[...r[63]||(r[63]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],40,Vt),r[64]||(r[64]=e("span",{class:"text-[10px] font-medium text-red-400"},"Yo'q",-1))])])):(l(),a("div",{key:3,class:"w-6 h-6 bg-purple-900/50 text-purple-400 rounded-full flex items-center justify-center cursor-pointer hover:bg-purple-500 hover:text-white transition-colors",onMousedown:P(v=>te(o.id,v,"default"),["stop"]),title:"Chiqish nuqtasi - tortib tashlang"},[...r[65]||(r[65]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)])],40,At))])])],46,it))),128))],4),z.value.length===0?(l(),a("div",Lt,[...r[66]||(r[66]=[A('<div class="text-center" data-v-a28b40ea><div class="w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4" data-v-a28b40ea><svg class="w-10 h-10 text-gray-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a28b40ea><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" data-v-a28b40ea></path></svg></div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2" data-v-a28b40ea>Flow bo&#39;sh</h3><p class="text-gray-500 dark:text-gray-400 text-sm" data-v-a28b40ea>Chap paneldan triggerlarni tortib tashlang</p></div>',1)])])):p("",!0)],544),e("div",Ht,[e("div",St,[e("h3",Dt,d(u.value?"Element tahrirlash":"Element tanlang"),1)]),u.value?(l(),a("div",Yt,[e("div",null,[r[69]||(r[69]=e("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Element nomi",-1)),I(e("input",{"onUpdate:modelValue":r[19]||(r[19]=o=>u.value.name=o),type:"text",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Element nomini kiriting..."},null,512),[[V,u.value.name]])]),u.value.type.startsWith("trigger_")?(l(),a(f,{key:0},[["trigger_keyword_dm","trigger_keyword_comment"].includes(u.value.type)?(l(),a("div",Nt,[r[71]||(r[71]=e("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Kalit so'zlar",-1)),e("div",qt,[I(e("input",{"onUpdate:modelValue":r[20]||(r[20]=o=>g.value=o),type:"text",onKeydown:Ve(P(oe,["prevent"]),["enter"]),class:"flex-1 px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Kalit so'z..."},null,40,Zt),[[V,g.value]]),e("button",{onClick:oe,class:"px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors"}," + ")]),u.value.keywords?.length?(l(),a("div",Pt,[(l(!0),a(f,null,C(u.value.keywords,(o,v)=>(l(),a("span",{key:v,class:"inline-flex items-center px-2 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 text-xs rounded-full"},[b(d(o)+" ",1),e("button",{onClick:B=>pe(v),class:"ml-1 hover:text-white"},[...r[70]||(r[70]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ft)]))),128))])):p("",!0)])):p("",!0)],64)):p("",!0),u.value.type.startsWith("condition_")?(l(),a(f,{key:1},[u.value.type==="condition_has_tag"?(l(),a("div",Kt,[r[72]||(r[72]=e("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Tekshiriladigan tag",-1)),I(e("input",{"onUpdate:modelValue":r[21]||(r[21]=o=>u.value.data.tag=o),type:"text",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Tag nomini kiriting..."},null,512),[[V,u.value.data.tag]])])):p("",!0)],64)):p("",!0),u.value.type.startsWith("action_")?(l(),a(f,{key:2},[u.value.type==="action_send_dm"?(l(),a("div",Wt,[r[74]||(r[74]=e("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Xabar matni",-1)),I(e("textarea",{ref_key:"dmMessageTextarea",ref:W,"onUpdate:modelValue":r[22]||(r[22]=o=>u.value.data.message=o),rows:"4",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Xabar matni..."},null,512),[[V,u.value.data.message]]),e("div",Xt,[r[73]||(r[73]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"O'zgaruvchilar:",-1)),(l(),a(f,null,C(X,o=>e("button",{key:o.value,onClick:v=>R(o.value,"dmMessageTextarea"),type:"button",class:"px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded-md hover:bg-purple-200 dark:hover:bg-purple-900 transition-colors cursor-pointer"},d(o.label),9,Gt)),64))])])):p("",!0),u.value.type==="action_ai_response"?(l(),a("div",Ut,[r[76]||(r[76]=e("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"AI uchun kontekst",-1)),I(e("textarea",{ref_key:"aiContextTextarea",ref:le,"onUpdate:modelValue":r[23]||(r[23]=o=>u.value.data.ai_context=o),rows:"4",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"AI qanday javob berishi kerak..."},null,512),[[V,u.value.data.ai_context]]),e("div",Et,[r[75]||(r[75]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"O'zgaruvchilar:",-1)),(l(),a(f,null,C(X,o=>e("button",{key:o.value,onClick:v=>R(o.value,"aiContextTextarea"),type:"button",class:"px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded-md hover:bg-purple-200 dark:hover:bg-purple-900 transition-colors cursor-pointer"},d(o.label),9,Jt)),64))])])):p("",!0),u.value.type==="action_delay"?(l(),a("div",Ot,[r[77]||(r[77]=e("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Kutish vaqti (soniya)",-1)),I(e("input",{"onUpdate:modelValue":r[24]||(r[24]=o=>u.value.data.delay_seconds=o),type:"number",min:"1",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"5"},null,512),[[V,u.value.data.delay_seconds,void 0,{number:!0}]])])):p("",!0),u.value.type==="action_add_tag"?(l(),a("div",Qt,[r[78]||(r[78]=e("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Qo'shiladigan tag",-1)),I(e("input",{"onUpdate:modelValue":r[25]||(r[25]=o=>u.value.data.tag=o),type:"text",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Tag nomi..."},null,512),[[V,u.value.data.tag]])])):p("",!0),u.value.type==="action_reply_comment"?(l(),a("div",Rt,[r[80]||(r[80]=e("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1"},"Javob matni",-1)),I(e("textarea",{ref_key:"replyCommentTextarea",ref:ne,"onUpdate:modelValue":r[26]||(r[26]=o=>u.value.data.message=o),rows:"3",class:"w-full px-3 py-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Commentga javob..."},null,512),[[V,u.value.data.message]]),e("div",er,[r[79]||(r[79]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"O'zgaruvchilar:",-1)),(l(),a(f,null,C(X,o=>e("button",{key:o.value,onClick:v=>R(o.value,"replyCommentTextarea"),type:"button",class:"px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded-md hover:bg-purple-200 dark:hover:bg-purple-900 transition-colors cursor-pointer"},d(o.label),9,tr)),64))])])):p("",!0)],64)):p("",!0),e("div",rr,[e("button",{onClick:r[27]||(r[27]=o=>ee(u.value.id)),class:"w-full px-4 py-2 bg-red-50 dark:bg-red-900/30 hover:bg-red-100 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-2"},[...r[81]||(r[81]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),b(" Elementni o'chirish ",-1)])])])])):(l(),a("div",Tt,[...r[68]||(r[68]=[e("div",{class:"text-center text-gray-500 dark:text-gray-400"},[e("svg",{class:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})]),e("p",{class:"text-sm"},"Canvas'dan element tanlang")],-1)])]))])])]))}},sr=qe(or,[["__scopeId","data-v-a28b40ea"]]),ar={key:0,class:"rounded-2xl p-8 md:p-12 text-center bg-white dark:bg-gray-800/30 shadow-sm"},lr={key:1,class:"rounded-2xl p-12 text-center"},nr={key:2,class:"space-y-5"},ir={class:"bg-gray-100 dark:bg-gray-800/50 rounded-xl p-1.5 flex gap-1.5"},dr=["onClick"],ur={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},gr={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pr={key:2,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},vr={key:0,class:"space-y-6"},cr={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},xr={class:"bg-white dark:bg-gray-800/60 rounded-2xl p-5 hover:bg-gray-50 dark:hover:bg-gray-800/80 transition-all group shadow-sm border border-gray-100 dark:border-transparent"},mr={class:"text-3xl font-bold text-gray-900 dark:text-white"},hr={class:"text-sm text-gray-500 dark:text-gray-400"},yr={class:"bg-white dark:bg-gray-800/60 rounded-2xl p-5 hover:bg-gray-50 dark:hover:bg-gray-800/80 transition-all group shadow-sm border border-gray-100 dark:border-transparent"},br={class:"text-3xl font-bold text-gray-900 dark:text-white"},kr={class:"text-sm text-gray-500 dark:text-gray-400"},fr={class:"bg-white dark:bg-gray-800/60 rounded-2xl p-5 hover:bg-gray-50 dark:hover:bg-gray-800/80 transition-all group shadow-sm border border-gray-100 dark:border-transparent"},wr={class:"text-3xl font-bold text-gray-900 dark:text-white"},_r={class:"text-sm text-gray-500"},Mr={class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-5 hover:bg-gray-50 dark:hover:bg-gray-800/80 transition-all group"},Cr={class:"text-3xl font-bold text-gray-900 dark:text-white"},jr={class:"grid lg:grid-cols-2 gap-6"},zr={class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-6"},Br={key:0,class:"space-y-3"},$r={class:"font-semibold text-gray-900 dark:text-white"},Ir={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2"},Vr={class:"text-right"},Ar={class:"text-sm font-bold text-green-400"},Lr={key:1,class:"text-center py-10"},Hr={class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-6"},Sr={key:0,class:"space-y-3"},Dr=["onClick"],Tr=["src"],Yr={key:1,class:"w-11 h-11 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center"},Nr={class:"text-white font-bold"},qr={class:"flex-1 min-w-0"},Zr={class:"font-semibold text-gray-900 dark:text-white truncate"},Pr={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},Fr={class:"text-xs text-gray-500"},Kr={key:1,class:"text-center py-10"},Wr={key:1,class:"space-y-4"},Xr={class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-4 flex items-center justify-between"},Gr={class:"flex items-center gap-3"},Ur={class:"text-sm text-gray-500 dark:text-gray-400"},Er={key:0,class:"bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent p-12 text-center"},Jr={key:1,class:"grid gap-4"},Or={class:"p-5"},Qr={class:"flex items-start justify-between"},Rr={class:"flex gap-4 flex-1"},eo={class:"flex-shrink-0 relative"},to={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},ro={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},oo={key:2,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},so={key:0,class:"absolute inset-0 w-12 h-12 rounded-xl bg-green-500/40 animate-ping",style:{"animation-duration":"2s"}},ao={class:"flex-1 min-w-0"},lo={class:"flex items-center gap-3 mb-2 flex-wrap"},no={class:"text-lg font-bold text-gray-900 dark:text-white"},io={key:0,class:"text-xs px-2.5 py-1 rounded-full font-medium bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-300 flex items-center gap-1"},uo={key:0,class:"text-gray-500 dark:text-gray-400 text-sm mb-3"},go={key:1,class:"flex flex-wrap gap-2 mb-3"},po={key:0,class:"text-purple-500 dark:text-purple-400"},vo={class:"flex items-center gap-6 text-sm"},co={class:"flex items-center gap-1.5 text-gray-500 dark:text-gray-400"},xo={class:"font-medium text-gray-700 dark:text-gray-300"},mo={class:"flex items-center gap-1.5 text-gray-500 dark:text-gray-400"},ho={class:"font-medium text-gray-700 dark:text-gray-300"},yo={class:"flex items-center gap-1.5"},bo={class:"font-bold text-green-600 dark:text-green-400"},ko={class:"flex items-center gap-2 ml-4"},fo=["onClick","title"],wo={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_o={key:1,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},Mo={class:"flex items-center gap-1"},Co=["onClick"],jo=["onClick"],zo=["onClick"],Bo={key:2,class:"grid lg:grid-cols-3 gap-6"},$o={class:"lg:col-span-1 bg-white dark:bg-gray-800/60 rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-transparent"},Io={class:"p-4 border-b border-gray-200 dark:border-gray-700/50 flex items-center justify-between"},Vo={class:"text-xs px-2 py-1 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 rounded-full"},Ao={class:"divide-y divide-gray-200 dark:divide-gray-700/50 max-h-[600px] overflow-y-auto"},Lo=["onClick"],Ho={class:"flex items-center gap-3"},So={class:"w-11 h-11 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0"},Do={class:"text-white font-bold"},To={class:"flex-1 min-w-0"},Yo={class:"font-semibold text-gray-900 dark:text-white truncate"},No={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},qo={key:0,class:"w-3 h-3 bg-red-500 rounded-full animate-pulse"},Zo={key:0,class:"p-10 text-center"},Po={class:"lg:col-span-2 bg-white dark:bg-gray-800/60 rounded-2xl overflow-hidden flex flex-col shadow-sm border border-gray-100 dark:border-transparent",style:{height:"600px"}},Fo={class:"p-4 border-b border-gray-200 dark:border-gray-700/50 flex items-center gap-3 bg-gray-50 dark:bg-gray-700/30"},Ko={class:"w-11 h-11 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center"},Wo={class:"text-white font-bold"},Xo={class:"flex-1"},Go={class:"font-bold text-gray-900 dark:text-white"},Uo={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2"},Eo={class:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-100 dark:bg-gray-900/30"},Jo={class:"leading-relaxed"},Oo={key:0,class:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-[10px] uppercase"},Qo={class:"p-4 border-t border-gray-200 dark:border-gray-700/50 bg-gray-50 dark:bg-gray-800/50"},Ro={class:"flex gap-2"},es={key:1,class:"flex-1 flex flex-col items-center justify-center text-gray-400"},ts={key:3,class:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4"},rs={class:"bg-gray-900 rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col"},os={class:"bg-gradient-to-r from-purple-600 via-pink-500 to-rose-500 p-6 relative"},ss={class:"relative"},as={class:"flex items-center justify-between mb-6"},ls={class:"text-xl font-bold text-white flex items-center gap-3"},ns={class:"flex items-center gap-2"},is={class:"flex items-center justify-between"},ds={class:"flex items-center gap-2"},us={class:"text-sm font-medium text-white/90 hidden sm:block"},gs={class:"flex-1 overflow-y-auto p-6"},ps={key:0,class:"space-y-6"},vs={class:"flex items-center gap-2 mb-2"},cs={key:0,class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xs={key:1,class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ms={key:2,class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},hs={class:"text-sm font-semibold text-gray-300"},ys={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},bs=["onClick"],ks={class:"flex items-start gap-3"},fs={key:0,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ws={key:1,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_s={key:2,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ms={key:3,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Cs={key:4,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},js={key:5,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},zs={class:"font-semibold text-gray-900 dark:text-white"},Bs={class:"text-sm text-gray-500 dark:text-gray-400"},$s={key:0,class:"bg-gray-800/50 rounded-2xl p-5 mt-6 border border-gray-700"},Is={class:"flex gap-2 mb-3"},Vs={key:0,class:"flex flex-wrap gap-2"},As=["onClick"],Ls={key:1,class:"text-sm text-gray-500"},Hs={key:1,class:"space-y-6"},Ss={key:0,class:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4 flex items-center gap-3"},Ds={class:"font-semibold text-gray-900 dark:text-white"},Ts={key:0,class:"ml-auto flex gap-1"},Ys={key:0,class:"px-2 py-1 bg-purple-500/20 text-purple-300 text-xs rounded-lg"},Ns={class:"space-y-4"},qs={key:0,class:"absolute -top-4 left-5 w-0.5 h-4 bg-gradient-to-b from-pink-500 to-purple-500"},Zs={class:"bg-gray-800 rounded-2xl p-5 border border-gray-700"},Ps={class:"flex items-center justify-between mb-4"},Fs={class:"flex items-center gap-3"},Ks={class:"w-8 h-8 bg-gradient-to-br from-pink-500 to-purple-500 rounded-lg flex items-center justify-center text-white text-sm font-bold"},Ws=["onClick"],Xs={class:"grid grid-cols-2 sm:grid-cols-3 gap-2 mb-4"},Gs=["onClick"],Us={class:"flex items-center gap-2"},Es={key:0,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Js={key:1,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Os={key:2,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Qs={key:3,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Rs={key:4,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ea={key:0,class:"space-y-3"},ta=["onUpdate:modelValue"],ra={class:"flex items-center justify-between text-xs"},oa={class:"flex gap-2"},sa=["onClick"],aa=["onClick"],la={key:1,class:"flex items-center gap-4"},na=["onUpdate:modelValue"],ia={key:2,class:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4"},da={key:2,class:"space-y-6"},ua={class:"bg-gray-800 rounded-2xl p-5 border border-gray-700"},ga={class:"bg-gray-800 rounded-2xl p-5 border border-gray-700"},pa={class:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-2xl p-5"},va={class:"flex items-center justify-between"},ca={class:"bg-gray-800 rounded-2xl p-5 border border-gray-700"},xa={class:"grid grid-cols-3 gap-3"},ma={class:"bg-gray-800/50 rounded-2xl p-5 border border-gray-700"},ha={class:"space-y-3 text-sm"},ya={class:"flex items-center gap-2"},ba={class:"text-white"},ka={class:"flex items-center gap-2"},fa={class:"text-white"},wa={key:0,class:"flex items-center gap-2"},_a={class:"text-white"},Ma={class:"p-6 border-t border-gray-800 flex justify-between bg-gray-900/80"},Ca={key:1},ja={class:"flex gap-3"},za=["disabled"],Ba=["disabled"],$a={key:4,class:"fixed inset-0 z-50"},Ia=3,S="/integrations/instagram/chatbot/api",el={__name:"Index",props:{business:Object,account:Object,hasAccount:Boolean},setup(ae){Ze();const he=ae,D=y(!0),K=y("dashboard"),h=y(null),T=y([]),E=y([]),k=y(null),M=y([]),Q=y([]),J=y([]),z=y(!1),u=y(!1),_=y(null),L=y({nodes:[],connections:[]}),j=y(1),w=[{id:"dm",name:"DM Triggerlar",icon:"chat",color:"from-purple-500 to-indigo-600",triggers:[{type:"keyword_dm",name:"Kalit so'z",description:"DM da ma'lum so'z yozilganda",icon:"key"},{type:"any_dm",name:"Har qanday xabar",description:"Istalgan DM kelganda",icon:"inbox"}]},{id:"engagement",name:"Faollik Triggerlar",icon:"heart",color:"from-pink-500 to-rose-600",triggers:[{type:"keyword_comment",name:"Comment kalit so'z",description:"Commentda kalit so'z bo'lganda",icon:"comment"},{type:"story_mention",name:"Story mention",description:"Sizni storyda etiketlaganda",icon:"at"},{type:"story_reply",name:"Story javob",description:"Storyngizga javob kelganda",icon:"reply"}]},{id:"follower",name:"Follower Triggerlar",icon:"users",color:"from-blue-500 to-cyan-600",triggers:[{type:"new_follower",name:"Yangi follower",description:"Kimdir follow qilganda",icon:"user-plus"}]}],Y=[{type:"send_dm",name:"DM yuborish",description:"Foydalanuvchiga xabar yuborish",icon:"paper-airplane",color:"purple"},{type:"send_media",name:"Media yuborish",description:"Rasm yoki video yuborish",icon:"photo",color:"pink"},{type:"delay",name:"Kutish",description:"Ma'lum vaqt kutish",icon:"clock",color:"blue"},{type:"add_tag",name:"Tag qo'shish",description:"Foydalanuvchiga tag biriktirish",icon:"tag",color:"green"},{type:"ai_response",name:"AI javob",description:"Sun'iy intellekt orqali javob",icon:"sparkles",color:"amber"}],g=y({name:"",description:"",type:"keyword",status:"draft",is_ai_enabled:!1,triggers:[{trigger_type:"keyword_dm",keywords:[],exact_match:!1}],actions:[{action_type:"send_dm",message_template:"",delay_seconds:0}]}),W=y(""),le=()=>{j.value<Ia&&j.value++},ne=()=>{j.value>1&&j.value--},X=Le(()=>{if(j.value===1)return g.value.triggers[0]?.trigger_type;if(j.value===2){const i=g.value.actions.length>0,t=g.value.actions[0];return t?.action_type==="send_dm"?i&&t.message_template?.trim():i}return j.value===3?g.value.name?.trim():!0}),R=i=>{g.value.triggers[0].trigger_type=i,g.value.triggers[0].keywords=[]},F=Le(()=>{const i=g.value.triggers[0]?.trigger_type;for(const t of w){const s=t.triggers.find(c=>c.type===i);if(s)return{...s,category:t}}return null}),G=y(""),ie=[{id:"dashboard",label:"Dashboard",icon:"chart-bar"},{id:"automations",label:"Avtomatlar",icon:"bolt"},{id:"conversations",label:"Suhbatlar",icon:"chat"}],de=async()=>{try{const i=await H.get(`${S}/dashboard`);h.value=i.data}catch(i){console.error("Error loading dashboard:",i)}},U=async()=>{try{const i=await H.get(`${S}/automations`);T.value=i.data.automations||[]}catch(i){console.error("Error loading automations:",i)}},ye=async()=>{try{const i=await H.get(`${S}/conversations`);E.value=i.data.data||[]}catch(i){console.error("Error loading conversations:",i)}},be=async()=>{try{const i=await H.get(`${S}/trigger-types`);Q.value=i.data.trigger_types||[]}catch(i){console.error("Error loading trigger types:",i)}},ke=async()=>{try{const i=await H.get(`${S}/action-types`);J.value=i.data.action_types||[]}catch(i){console.error("Error loading action types:",i)}},ue=async()=>{D.value=!0,await Promise.all([de(),U(),ye(),be(),ke()]),D.value=!1},$=()=>{_.value=null,g.value={name:"",description:"",type:"flow",status:"draft",is_ai_enabled:!1},L.value={nodes:[],connections:[]},u.value=!0},fe=i=>{ve(i)},we=async()=>{try{_.value?await H.put(`${S}/automations/${_.value.id}`,g.value):await H.post(`${S}/automations`,g.value),z.value=!1,await U()}catch(i){console.error("Error saving automation:",i),alert("Xatolik yuz berdi")}},_e=async i=>{try{await H.post(`${S}/automations/${i.id}/toggle`),await U()}catch(t){console.error("Error toggling automation:",t)}},Me=async i=>{if(confirm("Rostdan ham o'chirmoqchimisiz?"))try{await H.delete(`${S}/automations/${i.id}`),await U()}catch(t){console.error("Error deleting automation:",t)}},ee=i=>{W.value.trim()&&(g.value.triggers[i].keywords||(g.value.triggers[i].keywords=[]),g.value.triggers[i].keywords.push(W.value.trim()),W.value="")},te=(i,t)=>{g.value.triggers[i].keywords.splice(t,1)},Ce=()=>{g.value.actions.push({action_type:"send_dm",message_template:""})},je=i=>{g.value.actions.length>1&&g.value.actions.splice(i,1)},re=async i=>{k.value=i;try{const t=await H.get(`${S}/conversations/${i.id}`);M.value=t.data.messages||[]}catch(t){console.error("Error loading conversation:",t)}},ge=async()=>{if(!(!G.value.trim()||!k.value))try{await H.post(`${S}/conversations/${k.value.id}/message`,{message:G.value}),G.value="",await re(k.value)}catch(i){console.error("Error sending message:",i),alert("Xabar yuborishda xatolik")}},oe=i=>{switch(i){case"active":return"bg-green-500/20 text-green-600 dark:text-green-400 border border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 border border-yellow-500/30";case"draft":return"bg-gray-500/20 text-gray-600 dark:text-gray-400 border border-gray-500/30";default:return"bg-gray-500/20 text-gray-600 dark:text-gray-400 border border-gray-500/30"}},pe=i=>{switch(i){case"active":return"Faol";case"paused":return"To'xtatilgan";case"draft":return"Qoralama";default:return i}},ze=i=>{switch(i){case"active":return"border-l-green-500";case"paused":return"border-l-yellow-500";case"draft":return"border-l-gray-400";default:return"border-l-gray-400"}},Be=()=>{z.value=!1,L.value={nodes:[],connections:[]},u.value=!0},ve=i=>{if(_.value=i,i.flow_data){const t=i.flow_data.nodes||[],s=i.flow_data.edges||[],c=t.map(n=>({id:n.node_id,type:n.node_type,name:n.data?.name||$e(n.node_type),x:n.position?.x||100,y:n.position?.y||100,data:n.data||{},keywords:n.data?.keywords||[]})),x=s.map(n=>({from:n.source_node_id,to:n.target_node_id,type:n.source_handle||"default"}));L.value={nodes:c,connections:x}}else L.value={nodes:[],connections:[]};u.value=!0},$e=i=>({trigger_keyword_dm:"DM Kalit so'z",trigger_keyword_comment:"Comment Kalit so'z",trigger_story_mention:"Story Mention",trigger_story_reply:"Story Javob",trigger_new_follower:"Yangi Follower",action_send_dm:"DM Yuborish",action_reply_comment:"Commentga Javob",action_ai_response:"AI Javob",action_delay:"Kutish",action_add_tag:"Tag Qo'shish",condition_keyword:"Kalit So'z Sharti",condition_is_follower:"Follower Tekshirish",condition_has_tag:"Tag Tekshirish"})[i]||"Element",ce=()=>{u.value=!1,_.value=null,L.value={nodes:[],connections:[]}},xe=async i=>{try{const t=(i.nodes||[]).map(x=>({node_id:x.id,node_type:x.type,position:{x:x.x,y:x.y},data:{...x.data,keywords:x.keywords||[],name:x.name}})),s=(i.connections||[]).map((x,n)=>({edge_id:`edge-${n}-${Date.now()}`,source_node_id:x.from,target_node_id:x.to,source_handle:x.type!=="default"?x.type:null})),c={name:i.settings?.name||"Yangi Flow",description:i.settings?.description||"",status:i.settings?.status||"draft",nodes:t,edges:s};_.value?await H.put(`${S}/flow-automations/${_.value.id}`,c):await H.post(`${S}/flow-automations`,c),ce(),await U()}catch(t){console.error("Error saving flow:",t);let s="Saqlashda xatolik yuz berdi";t.response?.data?.error?s=t.response.data.error:t.response?.data?.message?s=t.response.data.message:t.response?.data?.errors&&(s=Object.values(t.response.data.errors).flat().join(`
`)),alert(s)}};return He(()=>{he.hasAccount?ue():D.value=!1}),(i,t)=>(l(),a(f,null,[Ie(De(Ye),{title:"Instagram Chatbot"}),Ie(Ne,null,{default:Te(()=>[e("div",{class:"bg-gradient-to-r from-purple-600 via-pink-500 to-rose-500 relative overflow-hidden -mx-4 sm:-mx-6 lg:-mx-8 -mt-6 mb-6"},[t[14]||(t[14]=e("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"},null,-1)),e("div",{class:"px-4 sm:px-6 lg:px-8 py-6 relative"},[e("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},[t[13]||(t[13]=e("div",{class:"flex items-center gap-4"},[e("div",{class:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})])]),e("div",null,[e("h1",{class:"text-xl md:text-2xl font-bold text-white"},"Instagram Chatbot"),e("p",{class:"text-pink-100 text-sm"},"DM avtomatizatsiyasi va suhbat boshqaruvi")])],-1)),e("button",{onClick:$,class:"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-pink-50 flex items-center gap-2 text-sm font-semibold transition-all"},[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Yangi avtomat ",-1)])])])])]),ae.hasAccount?D.value?(l(),a("div",lr,[...t[16]||(t[16]=[e("div",{class:"relative w-16 h-16 mx-auto mb-4"},[e("div",{class:"absolute inset-0 border-4 border-purple-200 dark:border-purple-900/50 rounded-full"}),e("div",{class:"absolute inset-0 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})],-1),e("p",{class:"text-gray-500 dark:text-gray-400"},"Yuklanmoqda...",-1)])])):(l(),a("div",nr,[e("div",ir,[(l(),a(f,null,C(ie,s=>e("button",{key:s.id,onClick:c=>K.value=s.id,class:m(["flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2",K.value===s.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-700/50"])},[s.icon==="chart-bar"?(l(),a("svg",ur,[...t[17]||(t[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])])):p("",!0),s.icon==="bolt"?(l(),a("svg",gr,[...t[18]||(t[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)])])):p("",!0),s.icon==="chat"?(l(),a("svg",pr,[...t[19]||(t[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},null,-1)])])):p("",!0),b(" "+d(s.label),1)],10,dr)),64))]),K.value==="dashboard"?(l(),a("div",vr,[e("div",cr,[e("div",xr,[t[20]||(t[20]=e("div",{class:"flex items-center justify-between mb-3"},[e("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Faol avtomatlar"),e("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])])],-1)),e("div",mr,d(h.value?.automations?.active||0),1),e("div",hr,"/ "+d(h.value?.automations?.total||0)+" jami",1)]),e("div",yr,[t[21]||(t[21]=e("div",{class:"flex items-center justify-between mb-3"},[e("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Bugungi triggerlar"),e("div",{class:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])])],-1)),e("div",br,d(h.value?.triggers?.today||0),1),e("div",kr,d(h.value?.triggers?.week||0)+" haftalik",1)]),e("div",fr,[t[22]||(t[22]=e("div",{class:"flex items-center justify-between mb-3"},[e("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Suhbatlar"),e("div",{class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})])])],-1)),e("div",wr,d(h.value?.conversations?.active||0),1),e("div",_r,d(h.value?.conversations?.total||0)+" jami",1)]),e("div",Mr,[t[23]||(t[23]=e("div",{class:"flex items-center justify-between mb-3"},[e("span",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Avtomatizatsiya"),e("div",{class:"w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])])],-1)),e("div",Cr,d(h.value?.messages?.automation_rate||0)+"%",1),t[24]||(t[24]=e("div",{class:"text-sm text-gray-500"},"xabarlar avtomatik",-1))])]),e("div",jr,[e("div",zr,[t[28]||(t[28]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Top avtomatlar"),e("div",{class:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])])],-1)),h.value?.top_automations?.length?(l(),a("div",Br,[(l(!0),a(f,null,C(h.value.top_automations,s=>(l(),a("div",{key:s.id,class:"flex items-center justify-between p-4 bg-gray-100 dark:bg-gray-700/50 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors cursor-pointer"},[e("div",null,[e("div",$r,d(s.name),1),e("div",Ir,[t[25]||(t[25]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),b(" "+d(s.triggers)+" trigger ",1)])]),e("div",Vr,[e("div",Ar,d(s.conversion_rate)+"%",1),e("span",{class:m([oe(s.status),"text-xs px-2.5 py-1 rounded-full font-medium"])},d(pe(s.status)),3)])]))),128))])):(l(),a("div",Lr,[t[26]||(t[26]=e("div",{class:"w-16 h-16 bg-gray-200 dark:bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),t[27]||(t[27]=e("p",{class:"text-gray-400"},"Hozircha avtomatlar yo'q",-1)),e("button",{onClick:$,class:"mt-3 text-sm text-purple-400 hover:underline"}," Yangi avtomat yaratish ")]))]),e("div",Hr,[t[30]||(t[30]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"So'nggi suhbatlar"),e("div",{class:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])])],-1)),h.value?.recent_conversations?.length?(l(),a("div",Sr,[(l(!0),a(f,null,C(h.value.recent_conversations,s=>(l(),a("div",{key:s.id,class:"flex items-center gap-3 p-3 bg-gray-100 dark:bg-gray-700/50 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer transition-colors",onClick:c=>{K.value="conversations",re(s)}},[s.profile_picture?(l(),a("img",{key:0,src:s.profile_picture,class:"w-11 h-11 rounded-full object-cover"},null,8,Tr)):(l(),a("div",Yr,[e("span",Nr,d((s.username||"U")[0].toUpperCase()),1)])),e("div",qr,[e("div",Zr,"@"+d(s.username||"Foydalanuvchi"),1),e("div",Pr,d(s.last_message||"Xabar yo'q"),1)]),e("div",Fr,d(s.last_message_at),1)],8,Dr))),128))])):(l(),a("div",Kr,[...t[29]||(t[29]=[e("div",{class:"w-16 h-16 bg-gray-200 dark:bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1),e("p",{class:"text-gray-400"},"Hozircha suhbatlar yo'q",-1),e("p",{class:"text-xs text-gray-500 mt-1"},"Suhbatlar avtomatik paydo bo'ladi",-1)])]))])]),t[31]||(t[31]=e("div",{class:"bg-gradient-to-r from-purple-600 via-pink-500 to-rose-500 rounded-2xl p-6 text-white relative overflow-hidden"},[e("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),e("div",{class:"relative"},[e("div",{class:"flex items-center gap-3 mb-4"},[e("div",{class:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})])]),e("h3",{class:"text-xl font-bold"},"Chatbot qanday ishlaydi?")]),e("div",{class:"grid md:grid-cols-3 gap-4"},[e("div",{class:"bg-white/10 backdrop-blur-sm rounded-xl p-5 hover:bg-white/20 transition-colors"},[e("div",{class:"flex items-center gap-3 mb-3"},[e("div",{class:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-xl font-bold"},"1"),e("span",{class:"font-bold text-lg"},"Trigger")]),e("p",{class:"text-white/80 text-sm leading-relaxed"},"Kalit so'z, comment yoki story mention kabi hodisalar triggerlarni ishga tushiradi")]),e("div",{class:"bg-white/10 backdrop-blur-sm rounded-xl p-5 hover:bg-white/20 transition-colors"},[e("div",{class:"flex items-center gap-3 mb-3"},[e("div",{class:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-xl font-bold"},"2"),e("span",{class:"font-bold text-lg"},"Action")]),e("p",{class:"text-white/80 text-sm leading-relaxed"},"Avtomatik DM yuborish, tag qo'shish yoki AI javob berish kabi harakatlar bajariladi")]),e("div",{class:"bg-white/10 backdrop-blur-sm rounded-xl p-5 hover:bg-white/20 transition-colors"},[e("div",{class:"flex items-center gap-3 mb-3"},[e("div",{class:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-xl font-bold"},"3"),e("span",{class:"font-bold text-lg"},"Natija")]),e("p",{class:"text-white/80 text-sm leading-relaxed"},"Lead yig'ish, mijozlarni segmentlash va sotuvlarni oshirish")])])])],-1))])):p("",!0),K.value==="automations"?(l(),a("div",Wr,[e("div",Xr,[e("div",Gr,[t[33]||(t[33]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),e("div",null,[t[32]||(t[32]=e("h3",{class:"font-bold text-gray-900 dark:text-white"},"Avtomatlar",-1)),e("p",Ur,d(T.value.length)+" ta avtomat",1)])]),e("button",{onClick:$,class:"px-5 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 transition-all flex items-center gap-2"},[...t[34]||(t[34]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Yangi avtomat ",-1)])])]),T.value.length===0?(l(),a("div",Er,[t[36]||(t[36]=e("div",{class:"w-20 h-20 bg-purple-100 dark:bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-10 h-10 text-purple-500 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),t[37]||(t[37]=e("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"},"Hozircha avtomatlar yo'q",-1)),t[38]||(t[38]=e("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"Yangi avtomat yaratib Instagram DM avtomatizatsiyasini boshlang",-1)),e("button",{onClick:$,class:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 transition-all"},[...t[35]||(t[35]=[e("span",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})]),b(" Yangi avtomat yaratish ")],-1)])])])):(l(),a("div",Jr,[(l(!0),a(f,null,C(T.value,s=>(l(),a("div",{key:s.id,class:m(["bg-white dark:bg-gray-800/60 rounded-2xl shadow-sm border border-gray-100 dark:border-transparent overflow-hidden transition-all hover:shadow-md","border-l-4",ze(s.status)])},[e("div",Or,[e("div",Qr,[e("div",Rr,[e("div",eo,[e("div",{class:m(["w-12 h-12 rounded-xl flex items-center justify-center relative",s.status==="active"?"bg-green-500/20":s.status==="paused"?"bg-yellow-500/20":"bg-gray-200 dark:bg-gray-700"])},[e("div",{class:m(["w-8 h-8 rounded-lg flex items-center justify-center z-10",s.status==="active"?"bg-green-500 text-white":s.status==="paused"?"bg-yellow-500 text-white":"bg-gray-400 dark:bg-gray-500 text-white"])},[s.status==="active"?(l(),a("svg",to,[...t[39]||(t[39]=[e("path",{d:"M8 5v14l11-7z"},null,-1)])])):s.status==="paused"?(l(),a("svg",ro,[...t[40]||(t[40]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 9v6m4-6v6"},null,-1)])])):(l(),a("svg",oo,[...t[41]||(t[41]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])]))],2)],2),s.status==="active"?(l(),a("div",so)):p("",!0)]),e("div",ao,[e("div",lo,[e("h3",no,d(s.name),1),e("span",{class:m([oe(s.status),"text-xs px-3 py-1 rounded-full font-semibold inline-flex items-center gap-1.5"])},[e("span",{class:m(["w-2 h-2 rounded-full",s.status==="active"?"bg-green-500 animate-pulse":s.status==="paused"?"bg-yellow-500":"bg-gray-400"])},null,2),b(" "+d(pe(s.status)),1)],2),s.is_flow_based?(l(),a("span",io,[...t[42]||(t[42]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})],-1),b(" Flow ",-1)])])):p("",!0)]),s.description?(l(),a("p",uo,d(s.description),1)):p("",!0),s.triggers?.length?(l(),a("div",go,[(l(!0),a(f,null,C(s.triggers,c=>(l(),a("span",{key:c.id,class:"px-3 py-1.5 bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-300 text-sm rounded-full"},[b(d(c.trigger_type_label)+" ",1),c.keywords?.length?(l(),a("span",po," ("+d(c.keywords.join(", "))+") ",1)):p("",!0)]))),128))])):p("",!0),e("div",vo,[e("span",co,[t[43]||(t[43]=e("svg",{class:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),e("span",xo,d(s.trigger_count||0),1),t[44]||(t[44]=b(" trigger ",-1))]),e("span",mo,[t[45]||(t[45]=e("svg",{class:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",ho,d(s.conversion_count||0),1),t[46]||(t[46]=b(" konversiya ",-1))]),e("span",yo,[t[47]||(t[47]=e("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)),e("span",bo,d(s.conversion_rate||0)+"%",1),t[48]||(t[48]=e("span",{class:"text-gray-400"},"CR",-1))])])])]),e("div",ko,[e("button",{onClick:c=>_e(s),class:m(["px-4 py-2 rounded-xl font-medium text-sm flex items-center gap-2 transition-all hover:scale-105",s.status==="active"?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-700 dark:text-yellow-300 hover:bg-yellow-200 dark:hover:bg-yellow-900/60":"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/60"]),title:s.status==="active"?"To'xtatish":"Ishga tushirish"},[s.status==="active"?(l(),a("svg",wo,[...t[49]||(t[49]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 9v6m4-6v6"},null,-1)])])):(l(),a("svg",_o,[...t[50]||(t[50]=[e("path",{d:"M8 5v14l11-7z"},null,-1)])])),b(" "+d(s.status==="active"?"To'xtatish":"Ishga tushirish"),1)],10,fo),e("div",Mo,[e("button",{onClick:c=>ve(s),class:"p-2.5 bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-300 rounded-xl hover:bg-purple-200 dark:hover:bg-purple-900/60 transition-all",title:"Visual Builder"},[...t[51]||(t[51]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})],-1)])],8,Co),e("button",{onClick:c=>fe(s),class:"p-2.5 bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-300 rounded-xl hover:bg-blue-200 dark:hover:bg-blue-900/60 transition-all",title:"Tahrirlash"},[...t[52]||(t[52]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,jo),e("button",{onClick:c=>Me(s),class:"p-2.5 bg-red-100 dark:bg-red-900/40 text-red-600 dark:text-red-300 rounded-xl hover:bg-red-200 dark:hover:bg-red-900/60 transition-all",title:"O'chirish"},[...t[53]||(t[53]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,zo)])])])])],2))),128))]))])):p("",!0),K.value==="conversations"?(l(),a("div",Bo,[e("div",$o,[e("div",Io,[t[54]||(t[54]=e("h3",{class:"font-bold text-gray-900 dark:text-white"},"Suhbatlar",-1)),e("span",Vo,d(E.value.length),1)]),e("div",Ao,[(l(!0),a(f,null,C(E.value,s=>(l(),a("div",{key:s.id,onClick:c=>re(s),class:m([k.value?.id===s.id?"bg-purple-100 dark:bg-purple-900/30":"hover:bg-gray-100 dark:hover:bg-gray-700/50","p-4 cursor-pointer transition-colors"])},[e("div",Ho,[e("div",So,[e("span",Do,d((s.participant_username||"U")[0].toUpperCase()),1)]),e("div",To,[e("div",Yo,"@"+d(s.participant_username||"Foydalanuvchi"),1),e("div",No,d(s.latestMessage?.content||"Xabar yo'q"),1)]),s.needs_human?(l(),a("div",qo)):p("",!0)])],10,Lo))),128)),E.value.length===0?(l(),a("div",Zo,[...t[55]||(t[55]=[e("div",{class:"w-14 h-14 bg-gray-200 dark:bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-3"},[e("svg",{class:"w-7 h-7 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1),e("p",{class:"text-gray-400 text-sm"},"Suhbatlar yo'q",-1)])])):p("",!0)])]),e("div",Po,[k.value?(l(),a(f,{key:0},[e("div",Fo,[e("div",Ko,[e("span",Wo,d((k.value.participant_username||"U")[0].toUpperCase()),1)]),e("div",Xo,[e("div",Go,"@"+d(k.value.participant_username),1),e("div",Uo,[t[56]||(t[56]=e("span",{class:"w-2 h-2 bg-green-500 rounded-full"},null,-1)),b(" "+d(k.value.status),1)])])]),e("div",Eo,[(l(!0),a(f,null,C(M.value,s=>(l(),a("div",{key:s.id,class:m(s.direction==="outgoing"?"flex justify-end":"flex justify-start")},[e("div",{class:m([s.direction==="outgoing"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm","max-w-[70%] px-4 py-3 rounded-2xl"])},[e("p",Jo,d(s.content),1),e("div",{class:m([s.direction==="outgoing"?"text-white/70":"text-gray-500 dark:text-gray-400","text-xs mt-1.5 flex items-center gap-2"])},[b(d(s.time_ago)+" ",1),s.is_automated?(l(),a("span",Oo,"Bot")):p("",!0)],2)],2)],2))),128))]),e("div",Qo,[e("div",Ro,[I(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>G.value=s),onKeyup:Ve(ge,["enter"]),type:"text",placeholder:"Xabar yozing...",class:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-400"},null,544),[[V,G.value]]),e("button",{onClick:ge,class:"px-5 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all"},[...t[57]||(t[57]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)])])])])],64)):(l(),a("div",es,[...t[58]||(t[58]=[e("div",{class:"w-20 h-20 bg-gray-200 dark:bg-gray-700/50 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-10 h-10 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1),e("p",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Suhbat tanlang",-1),e("p",{class:"text-sm text-gray-500 mt-1"},"Chap paneldan suhbatni tanlang",-1)])]))])])):p("",!0)])):(l(),a("div",ar,[...t[15]||(t[15]=[e("div",{class:"mx-auto w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mb-6"},[e("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})])],-1),e("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-3"},"Instagram ulanmagan",-1),e("p",{class:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto"}," Chatbot ishlatish uchun avval Instagram akkountingizni ulang. ",-1),e("a",{href:"/integrations/instagram",class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl hover:from-purple-600 hover:to-pink-700 font-semibold transition-all"},[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})]),b(" Instagram ulash ")],-1)])])),z.value?(l(),a("div",ts,[e("div",rs,[e("div",os,[t[62]||(t[62]=e("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"},null,-1)),e("div",ss,[e("div",as,[e("h2",ls,[t[59]||(t[59]=e("div",{class:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),b(" "+d(_.value?"Avtomatni tahrirlash":"Yangi avtomat yaratish"),1)]),e("div",ns,[e("button",{onClick:Be,class:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors text-sm font-medium"},[...t[60]||(t[60]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})],-1),b(" Visual Builder ",-1)])]),e("button",{onClick:t[1]||(t[1]=s=>z.value=!1),class:"text-white/70 hover:text-white p-2 hover:bg-white/10 rounded-lg transition-colors"},[...t[61]||(t[61]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",is,[(l(),a(f,null,C(3,s=>e("div",{key:s,class:m(["flex items-center",s<3?"flex-1":""])},[e("div",ds,[e("div",{class:m(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all",j.value>=s?"bg-white text-purple-600":"bg-white/20 text-white/60"])},d(s),3),e("span",us,d(s===1?"Trigger":s===2?"Harakat":"Sozlamalar"),1)]),s<3?(l(),a("div",{key:0,class:m(["flex-1 h-0.5 mx-3",j.value>s?"bg-white":"bg-white/20"])},null,2)):p("",!0)],2)),64))])])]),e("div",gs,[j.value===1?(l(),a("div",ps,[t[75]||(t[75]=e("div",{class:"text-center mb-6"},[e("h3",{class:"text-xl font-bold text-white mb-2"},"Qachon ishga tushsin?"),e("p",{class:"text-gray-400"},"Avtomatni qanday holatda boshlashini tanlang")],-1)),(l(),a(f,null,C(w,s=>e("div",{key:s.id,class:"space-y-3"},[e("div",vs,[e("div",{class:m(["w-6 h-6 rounded-lg bg-gradient-to-br flex items-center justify-center",s.color])},[s.icon==="chat"?(l(),a("svg",cs,[...t[63]||(t[63]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},null,-1)])])):s.icon==="heart"?(l(),a("svg",xs,[...t[64]||(t[64]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])])):(l(),a("svg",ms,[...t[65]||(t[65]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"},null,-1)])]))],2),e("span",hs,d(s.name),1)]),e("div",ys,[(l(!0),a(f,null,C(s.triggers,c=>(l(),a("button",{key:c.type,onClick:x=>R(c.type),class:m(["p-4 rounded-xl text-left transition-all border-2",g.value.triggers[0]?.trigger_type===c.type?"bg-purple-500/20 border-purple-500 ring-2 ring-purple-500/30":"bg-gray-800/50 border-gray-700 hover:border-gray-600 hover:bg-gray-800"])},[e("div",ks,[e("div",{class:m(["w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",g.value.triggers[0]?.trigger_type===c.type?"bg-purple-500":"bg-gray-700"])},[c.icon==="key"?(l(),a("svg",fs,[...t[66]||(t[66]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"},null,-1)])])):c.icon==="inbox"?(l(),a("svg",ws,[...t[67]||(t[67]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"},null,-1)])])):c.icon==="comment"?(l(),a("svg",_s,[...t[68]||(t[68]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"},null,-1)])])):c.icon==="at"?(l(),a("svg",Ms,[...t[69]||(t[69]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"},null,-1)])])):c.icon==="reply"?(l(),a("svg",Cs,[...t[70]||(t[70]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"},null,-1)])])):(l(),a("svg",js,[...t[71]||(t[71]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"},null,-1)])]))],2),e("div",null,[e("div",zs,d(c.name),1),e("div",Bs,d(c.description),1)])])],10,bs))),128))])])),64)),g.value.triggers[0]?.trigger_type==="keyword_dm"||g.value.triggers[0]?.trigger_type==="keyword_comment"?(l(),a("div",$s,[t[74]||(t[74]=e("h4",{class:"font-semibold text-white mb-3 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})]),b(" Kalit so'zlarni kiriting ")],-1)),e("div",Is,[I(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>W.value=s),onKeyup:t[3]||(t[3]=Ve(s=>ee(0),["enter"])),type:"text",placeholder:"Masalan: narx, baho, price...",class:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 text-white rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-400"},null,544),[[V,W.value]]),e("button",{onClick:t[4]||(t[4]=s=>ee(0)),type:"button",class:"px-5 py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 font-medium transition-colors"}," Qo'shish ")]),g.value.triggers[0]?.keywords?.length?(l(),a("div",Vs,[(l(!0),a(f,null,C(g.value.triggers[0].keywords,(s,c)=>(l(),a("span",{key:c,class:"px-3 py-2 bg-purple-500/20 border border-purple-500/50 text-purple-300 rounded-xl text-sm flex items-center gap-2 group"},[t[73]||(t[73]=e("svg",{class:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})],-1)),b(" "+d(s)+" ",1),e("button",{onClick:x=>te(0,c),type:"button",class:"text-purple-400 hover:text-white transition-colors"},[...t[72]||(t[72]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,As)]))),128))])):(l(),a("p",Ls,"Hech bo'lmaganda bitta kalit so'z kiriting"))])):p("",!0)])):p("",!0),j.value===2?(l(),a("div",Hs,[t[89]||(t[89]=e("div",{class:"text-center mb-6"},[e("h3",{class:"text-xl font-bold text-white mb-2"},"Nima qilsin?"),e("p",{class:"text-gray-400"},"Trigger ishga tushganda qanday harakat bajarilsin")],-1)),F.value?(l(),a("div",Ss,[t[77]||(t[77]=e("div",{class:"w-10 h-10 bg-purple-500 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),e("div",null,[t[76]||(t[76]=e("div",{class:"text-sm text-purple-400"},"Trigger",-1)),e("div",Ds,d(F.value.name),1)]),g.value.triggers[0]?.keywords?.length?(l(),a("div",Ts,[(l(!0),a(f,null,C(g.value.triggers[0].keywords.slice(0,3),s=>(l(),a("span",{key:s,class:"px-2 py-1 bg-purple-500/20 text-purple-300 text-xs rounded-lg"},"#"+d(s),1))),128)),g.value.triggers[0].keywords.length>3?(l(),a("span",Ys,"+"+d(g.value.triggers[0].keywords.length-3),1)):p("",!0)])):p("",!0)])):p("",!0),e("div",Ns,[(l(!0),a(f,null,C(g.value.actions,(s,c)=>(l(),a("div",{key:c,class:"relative"},[c>0?(l(),a("div",qs)):p("",!0),e("div",Zs,[e("div",Ps,[e("div",Fs,[e("div",Ks,d(c+1),1),t[78]||(t[78]=e("span",{class:"font-medium text-white"},"Harakat",-1))]),g.value.actions.length>1?(l(),a("button",{key:0,onClick:x=>je(c),type:"button",class:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors"},[...t[79]||(t[79]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ws)):p("",!0)]),e("div",Xs,[(l(),a(f,null,C(Y,x=>e("button",{key:x.type,onClick:n=>s.action_type=x.type,class:m(["p-3 rounded-xl text-left transition-all border",s.action_type===x.type?"bg-pink-500/20 border-pink-500":"bg-gray-700/50 border-gray-600 hover:border-gray-500"])},[e("div",Us,[e("div",{class:m(["w-8 h-8 rounded-lg flex items-center justify-center",s.action_type===x.type?"bg-pink-500":"bg-gray-600"])},[x.icon==="paper-airplane"?(l(),a("svg",Es,[...t[80]||(t[80]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},null,-1)])])):x.icon==="clock"?(l(),a("svg",Js,[...t[81]||(t[81]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):x.icon==="tag"?(l(),a("svg",Os,[...t[82]||(t[82]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"},null,-1)])])):x.icon==="sparkles"?(l(),a("svg",Qs,[...t[83]||(t[83]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"},null,-1)])])):(l(),a("svg",Rs,[...t[84]||(t[84]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))],2),e("span",{class:m(["text-sm font-medium",s.action_type===x.type?"text-white":"text-gray-300"])},d(x.name),3)])],10,Gs)),64))]),s.action_type==="send_dm"?(l(),a("div",ea,[I(e("textarea",{"onUpdate:modelValue":x=>s.message_template=x,rows:"4",placeholder:"Salom {name}! Bizga yozganingiz uchun rahmat...",class:"w-full px-4 py-3 bg-gray-700 border border-gray-600 text-white rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent placeholder-gray-400 resize-none"},null,8,ta),[[V,s.message_template]]),e("div",ra,[t[85]||(t[85]=e("span",{class:"text-gray-500"},"O'zgaruvchilar:",-1)),e("div",oa,[e("button",{type:"button",onClick:x=>s.message_template+=" {name}",class:"px-2 py-1 bg-gray-700 text-gray-300 rounded hover:bg-gray-600"},"{name}",8,sa),e("button",{type:"button",onClick:x=>s.message_template+=" {username}",class:"px-2 py-1 bg-gray-700 text-gray-300 rounded hover:bg-gray-600"},"{username}",8,aa)])])])):p("",!0),s.action_type==="delay"?(l(),a("div",la,[I(e("input",{"onUpdate:modelValue":x=>s.delay_seconds=x,type:"number",min:"1",max:"3600",placeholder:"60",class:"w-24 px-4 py-3 bg-gray-700 border border-gray-600 text-white rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent text-center"},null,8,na),[[V,s.delay_seconds,void 0,{number:!0}]]),t[86]||(t[86]=e("span",{class:"text-gray-400"},"soniya kutish",-1))])):p("",!0),s.action_type==="ai_response"?(l(),a("div",ia,[...t[87]||(t[87]=[e("div",{class:"flex items-center gap-2 text-amber-400"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})]),e("span",{class:"font-medium"},"AI avtomatik javob beradi")],-1),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},"Sun'iy intellekt xabarni tahlil qilib mos javob yuboradi",-1)])])):p("",!0)])]))),128)),e("button",{onClick:Ce,type:"button",class:"w-full py-4 border-2 border-dashed border-gray-600 text-gray-400 rounded-2xl hover:border-pink-500 hover:text-pink-400 hover:bg-pink-500/5 transition-all flex items-center justify-center gap-2"},[...t[88]||(t[88]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Yana harakat qo'shish ",-1)])])])])):p("",!0),j.value===3?(l(),a("div",da,[t[104]||(t[104]=e("div",{class:"text-center mb-6"},[e("h3",{class:"text-xl font-bold text-white mb-2"},"Oxirgi sozlamalar"),e("p",{class:"text-gray-400"},"Avtomatingizga nom bering va ishga tushiring")],-1)),e("div",ua,[t[90]||(t[90]=e("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Avtomat nomi *",-1)),I(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>g.value.name=s),type:"text",placeholder:"Masalan: Narx so'rovlariga javob",class:"w-full px-4 py-4 bg-gray-700 border border-gray-600 text-white text-lg rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-400"},null,512),[[V,g.value.name]])]),e("div",ga,[t[91]||(t[91]=e("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Tavsif (ixtiyoriy)",-1)),I(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=s=>g.value.description=s),rows:"2",placeholder:"Bu avtomat nima ish qiladi...",class:"w-full px-4 py-3 bg-gray-700 border border-gray-600 text-white rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-400 resize-none"},null,512),[[V,g.value.description]])]),e("div",pa,[e("div",va,[t[92]||(t[92]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})])]),e("div",null,[e("div",{class:"font-semibold text-gray-900 dark:text-white"},"AI yordamchisi"),e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Sun'iy intellekt xabarlarni tahlil qilsin")])],-1)),e("button",{onClick:t[7]||(t[7]=s=>g.value.is_ai_enabled=!g.value.is_ai_enabled),class:m(["w-14 h-8 rounded-full transition-all relative",g.value.is_ai_enabled?"bg-purple-500":"bg-gray-600"])},[e("div",{class:m(["w-6 h-6 bg-white rounded-full absolute top-1 transition-all shadow",g.value.is_ai_enabled?"right-1":"left-1"])},null,2)],2)])]),e("div",ca,[t[96]||(t[96]=e("label",{class:"block text-sm font-semibold text-gray-300 mb-3"},"Boshlang'ich holati",-1)),e("div",xa,[e("button",{onClick:t[8]||(t[8]=s=>g.value.status="active"),type:"button",class:m(["p-3 rounded-xl border transition-all text-center",g.value.status==="active"?"bg-green-500/20 border-green-500 text-green-400":"bg-gray-700 border-gray-600 text-gray-400 hover:border-gray-500"])},[...t[93]||(t[93]=[e("div",{class:"font-medium"},"Faol",-1),e("div",{class:"text-xs mt-1 opacity-70"},"Darhol ishlaydi",-1)])],2),e("button",{onClick:t[9]||(t[9]=s=>g.value.status="draft"),type:"button",class:m(["p-3 rounded-xl border transition-all text-center",g.value.status==="draft"?"bg-gray-500/20 border-gray-500 text-gray-300":"bg-gray-700 border-gray-600 text-gray-400 hover:border-gray-500"])},[...t[94]||(t[94]=[e("div",{class:"font-medium"},"Qoralama",-1),e("div",{class:"text-xs mt-1 opacity-70"},"Keyinroq",-1)])],2),e("button",{onClick:t[10]||(t[10]=s=>g.value.status="paused"),type:"button",class:m(["p-3 rounded-xl border transition-all text-center",g.value.status==="paused"?"bg-yellow-500/20 border-yellow-500 text-yellow-400":"bg-gray-700 border-gray-600 text-gray-400 hover:border-gray-500"])},[...t[95]||(t[95]=[e("div",{class:"font-medium"},"To'xtatilgan",-1),e("div",{class:"text-xs mt-1 opacity-70"},"Pauza",-1)])],2)])]),e("div",ma,[t[103]||(t[103]=e("h4",{class:"font-semibold text-white mb-4 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),b(" Xulosa ")],-1)),e("div",ha,[e("div",ya,[t[97]||(t[97]=e("div",{class:"w-2 h-2 bg-purple-500 rounded-full"},null,-1)),t[98]||(t[98]=e("span",{class:"text-gray-400"},"Trigger:",-1)),e("span",ba,d(F.value?.name||"Tanlanmagan"),1)]),e("div",ka,[t[99]||(t[99]=e("div",{class:"w-2 h-2 bg-pink-500 rounded-full"},null,-1)),t[100]||(t[100]=e("span",{class:"text-gray-400"},"Harakatlar:",-1)),e("span",fa,d(g.value.actions.length)+" ta",1)]),g.value.triggers[0]?.keywords?.length?(l(),a("div",wa,[t[101]||(t[101]=e("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)),t[102]||(t[102]=e("span",{class:"text-gray-400"},"Kalit so'zlar:",-1)),e("span",_a,d(g.value.triggers[0].keywords.join(", ")),1)])):p("",!0)])])])):p("",!0)]),e("div",Ma,[j.value>1?(l(),a("button",{key:0,onClick:ne,class:"px-6 py-3 border border-gray-600 text-gray-300 rounded-xl hover:bg-gray-800 font-medium transition-colors flex items-center gap-2"},[...t[105]||(t[105]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),b(" Orqaga ",-1)])])):(l(),a("div",Ca)),e("div",ja,[e("button",{onClick:t[11]||(t[11]=s=>z.value=!1),class:"px-6 py-3 text-gray-400 hover:text-white font-medium transition-colors"}," Bekor qilish "),j.value<3?(l(),a("button",{key:0,onClick:le,disabled:!X.value,class:m(["px-6 py-3 rounded-xl font-semibold transition-all flex items-center gap-2",X.value?"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600":"bg-gray-700 text-gray-500 cursor-not-allowed"])},[...t[106]||(t[106]=[b(" Davom etish ",-1),e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],10,za)):(l(),a("button",{key:1,onClick:we,disabled:!X.value,class:m(["px-8 py-3 rounded-xl font-semibold transition-all flex items-center gap-2",X.value?"bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600":"bg-gray-700 text-gray-500 cursor-not-allowed"])},[t[107]||(t[107]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),b(" "+d(_.value?"Saqlash":"Yaratish"),1)],10,Ba))])])])])):p("",!0),u.value?(l(),a("div",$a,[Ie(sr,{"automation-id":_.value?.id,"automation-name":_.value?.name||"","automation-status":_.value?.status||"draft","automation-ai-enabled":_.value?.is_ai_enabled||!1,"initial-nodes":L.value.nodes,"initial-connections":L.value.connections,onClose:ce,onSave:xe},null,8,["automation-id","automation-name","automation-status","automation-ai-enabled","initial-nodes","initial-connections"])])):p("",!0)]),_:1})],64))}};export{el as default};

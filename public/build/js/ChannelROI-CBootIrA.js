import{r as t,o as e,v as a,x as s,y as l,z as r,A as n,D as o,L as i,I as m,J as c,E as d,F as x,H as p,B as u,G as g,C as y}from"./chunk-7Urb0kxg.js";import{h,a as v}from"./chunk-DKkye6wf.js";import{_ as b}from"./chunk-BB8-4400.js";import"./chunk-Dm-LAqtr.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";const w={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},f={class:"mb-6 flex gap-4 items-end"},k={key:0,class:"flex justify-center py-12"},j={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},_={class:"bg-white rounded-lg shadow p-6"},M={class:"text-2xl font-bold text-gray-900"},z={class:"bg-white rounded-lg shadow p-6"},I={class:"text-2xl font-bold text-green-600"},K={class:"bg-white rounded-lg shadow p-6"},O={key:0,class:"bg-white rounded-lg shadow p-6"},R={class:"text-lg font-bold text-indigo-600"},B={class:"text-sm text-gray-500"},V={class:"bg-white rounded-lg shadow overflow-hidden"},q={class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200"},C={class:"divide-y divide-gray-200"},U={class:"px-6 py-4 whitespace-nowrap"},D={class:"text-sm font-medium text-gray-900"},H={class:"text-xs text-gray-500"},J={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900"},A={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-green-600 font-medium"},E={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900"},F={class:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900"},S={class:"px-6 py-4 whitespace-nowrap text-right text-sm text-green-600 font-medium"},T={class:"px-6 py-4 whitespace-nowrap text-center"},X={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium text-indigo-600"},Y={class:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900"},G={class:"px-6 py-4 whitespace-nowrap text-center"},N={class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Z=["d"],P={key:0,class:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Q={__name:"ChannelROI",props:{lazyLoad:Boolean},setup(Q){const W=t(!0),$=t(null),tt=t(""),et=t(""),at=async()=>{W.value=!0;try{const t={};tt.value&&(t.date_from=tt.value),et.value&&(t.date_to=et.value);const e=await v.get(route("business.analytics.api.channel-roi"),{params:t});$.value=e.data}catch(t){}finally{W.value=!1}};e(()=>{at()});const st=t=>t?new Intl.NumberFormat("uz-UZ").format(t):"0",lt=t=>{const e={scale_up:{text:"Byudjetni oshiring",color:"bg-green-100 text-green-800",icon:"M5 10l7-7m0 0l7 7m-7-7v18"},maintain:{text:"Davom eting",color:"bg-blue-100 text-blue-800",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},optimize:{text:"Optimizatsiya qiling",color:"bg-yellow-100 text-yellow-800",icon:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"},test_more:{text:"Ko'proq test qiling",color:"bg-gray-100 text-gray-800",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},reduce:{text:"Kamaytiring",color:"bg-red-100 text-red-800",icon:"M19 14l-7 7m0 0l-7-7m7 7V3"}};return e[t]||e.maintain};return(t,e)=>(d(),a(b,{title:"Marketing Kanallar ROI"},{default:s(()=>[l(n(h),{title:"Marketing Kanallar ROI"}),r("div",w,[e[12]||(e[12]=r("div",{class:"mb-8"},[r("h1",{class:"text-2xl font-bold text-gray-900"},"Marketing Kanallar ROI"),r("p",{class:"mt-1 text-sm text-gray-500"},"Har bir marketing kanalingizning qaytimi va samaradorligini kuzating")],-1)),r("div",f,[r("div",null,[e[2]||(e[2]=r("label",{class:"block text-sm font-medium text-gray-700"},"Boshlanish",-1)),m(r("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=t=>tt.value=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[c,tt.value]])]),r("div",null,[e[3]||(e[3]=r("label",{class:"block text-sm font-medium text-gray-700"},"Tugash",-1)),m(r("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=t=>et.value=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[c,et.value]])]),r("button",{onClick:at,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"}," Yangilash ")]),W.value?(d(),o("div",k,[...e[4]||(e[4]=[r("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},null,-1)])])):$.value?(d(),o(x,{key:1},[r("div",j,[r("div",_,[e[5]||(e[5]=r("p",{class:"text-sm text-gray-500"},"Jami xarajat",-1)),r("p",M,p(st($.value.summary?.total_spend))+" so'm",1)]),r("div",z,[e[6]||(e[6]=r("p",{class:"text-sm text-gray-500"},"Jami daromad",-1)),r("p",I,p(st($.value.summary?.total_revenue))+" so'm",1)]),r("div",K,[e[7]||(e[7]=r("p",{class:"text-sm text-gray-500"},"Umumiy ROI",-1)),r("p",{class:u(["text-2xl font-bold",$.value.summary?.overall_roi>0?"text-green-600":"text-red-600"])},p($.value.summary?.overall_roi)+"% ",3)]),$.value.summary?.best_channel?(d(),o("div",O,[e[8]||(e[8]=r("p",{class:"text-sm text-gray-500"},"Eng yaxshi kanal",-1)),r("p",R,p($.value.summary?.best_channel?.channel_name),1),r("p",B,"ROI: "+p($.value.summary?.best_channel?.roi)+"%",1)])):i("",!0)]),r("div",V,[e[10]||(e[10]=r("div",{class:"px-6 py-4 border-b border-gray-200"},[r("h3",{class:"text-lg font-medium text-gray-900"},"Kanallar bo'yicha tahlil")],-1)),r("div",q,[r("table",L,[e[9]||(e[9]=r("thead",{class:"bg-gray-50"},[r("tr",null,[r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kanal"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"Lidlar"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"Yutilgan"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"Konversiya"),r("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Xarajat"),r("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Daromad"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"ROI"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"ROAS"),r("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Lid narxi"),r("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"Tavsiya")])],-1)),r("tbody",C,[(d(!0),o(x,null,g($.value.channels,t=>{return d(),o("tr",{key:t.channel_id,class:"hover:bg-gray-50"},[r("td",U,[r("div",null,[r("div",D,p(t.channel_name),1),r("div",H,p(t.channel_type),1)])]),r("td",J,p(t.total_leads),1),r("td",A,p(t.won_leads),1),r("td",E,p(t.conversion_rate)+"%",1),r("td",F,p(st(t.spend)),1),r("td",S,p(st(t.revenue)),1),r("td",T,[r("span",{class:u(["px-2 py-1 text-sm font-bold rounded",(e=t.roi,e>200?"text-green-600 bg-green-100":e>100?"text-green-500 bg-green-50":e>0?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50")])},p(t.roi)+"% ",3)]),r("td",X,p(t.roas)+"x",1),r("td",Y,p(st(t.cost_per_lead)),1),r("td",G,[r("span",{class:u(["inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full",lt(t.recommendation).color])},[(d(),o("svg",N,[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:lt(t.recommendation).icon},null,8,Z)])),y(" "+p(lt(t.recommendation).text),1)],2)])]);var e}),128))])])])]),0===$.value.summary?.total_spend?(d(),o("div",P,[...e[11]||(e[11]=[r("div",{class:"flex items-start gap-3"},[r("svg",{class:"h-5 w-5 text-yellow-600 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),r("div",null,[r("h4",{class:"font-medium text-yellow-800"},"Xarajat ma'lumotlari yo'q"),r("p",{class:"text-sm text-yellow-700 mt-1"}," ROI ni to'g'ri hisoblash uchun Marketing Kanallar sozlamalarida oylik byudjetni kiriting. Sozlamalar > Marketing Kanallar bo'limiga o'ting. ")])],-1)])])):i("",!0)],64)):i("",!0)])]),_:1}))}};export{Q as default};

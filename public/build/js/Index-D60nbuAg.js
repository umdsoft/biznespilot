import{r as e,b as t,v as a,x as r,L as l,y as s,A as d,B as i,z as o,F as p,G as n,C as u,D as c,J as x,K as g,H as m,I as y,E as h}from"./chunk-CpmtkKLp.js";import{h as b}from"./chunk-BhZp3z4u.js";import{_ as v}from"./chunk-BDBDdGhv.js";import{r as k}from"./chunk-BiBvtcLb.js";import{r as f}from"./chunk-BYA8ViGa.js";import{r as w}from"./chunk-yvcCPqrN.js";import{r as j}from"./chunk-BaJGWy5z.js";import{r as _}from"./chunk-BVPTQeUf.js";import"./chunk-D7SyfRoT.js";import"./app-C-ZlocOh.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-DCXiFUg-.js";import"./chunk-Bsc1JRL5.js";import"./chunk-BuJDoypK.js";const M={class:"space-y-6"},C={class:"flex items-center justify-between"},z={class:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700"},B={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},L={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},S={class:"flex items-center gap-3"},A={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center"},U={class:"text-2xl font-bold text-gray-900 dark:text-white"},V={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},X={class:"flex items-center gap-3"},Y={class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center"},I={class:"text-2xl font-bold text-green-600"},J={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},T={class:"flex items-center gap-3"},q={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center"},D={class:"text-2xl font-bold text-blue-600"},E={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm"},F={class:"flex items-center gap-3"},G={class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl flex items-center justify-center"},H={class:"text-2xl font-bold text-yellow-600"},K={class:"flex flex-wrap items-center gap-4"},O={class:"flex-1 min-w-[200px]"},W={class:"relative"},$=["value"],N=["value"],P={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden"},Q={class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Z={class:"divide-y divide-gray-200 dark:divide-gray-700"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"flex items-center"},ae={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center"},re={class:"text-sm font-medium text-purple-600 dark:text-purple-400"},le={class:"ml-4"},se={class:"text-sm font-medium text-gray-900 dark:text-white"},de={class:"text-sm text-gray-500 dark:text-gray-400"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},oe={class:"px-6 py-4 whitespace-nowrap"},pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ue={class:"px-6 py-4 whitespace-nowrap text-right"},ce={class:"flex items-center justify-end gap-2"},xe=["onClick"],ge={class:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",title:"Chop etish"},me={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},ye={__name:"Index",props:{employees:Array,currentBusiness:Object},setup(ye){const he=ye,be=e(""),ve=e(""),ke=e(""),fe=e(!1),we=e(null),je=[{value:"",label:"Barcha turlar"},{value:"unlimited",label:"Muddatsiz"},{value:"fixed",label:"Muddatli"},{value:"probation",label:"Sinov muddati"},{value:"part_time",label:"Yarim stavka"}],_e=t(()=>[{value:"",label:"Barcha bo'limlar"},...[...new Set(he.employees?.map(e=>e.department).filter(Boolean))].map(e=>({value:e,label:e}))]),Me=t(()=>he.employees?.filter(e=>{const t=!be.value||e.name?.toLowerCase().includes(be.value.toLowerCase())||e.position?.toLowerCase().includes(be.value.toLowerCase()),a=!ve.value||e.department===ve.value,r=!ke.value||e.contract_type===ke.value;return t&&a&&r})||[]),Ce=e=>({unlimited:"Muddatsiz",fixed:"Muddatli",probation:"Sinov muddati",part_time:"Yarim stavka"}[e]||e),ze=t(()=>({total:he.employees?.length||0,unlimited:he.employees?.filter(e=>"unlimited"===e.contract_type).length||0,fixed:he.employees?.filter(e=>"fixed"===e.contract_type).length||0,probation:he.employees?.filter(e=>"probation"===e.contract_type).length||0}));return(e,t)=>(c(),a(v,{title:"Mehnat shartnomalari"},{default:r(()=>[l(d(b),{title:"Mehnat shartnomalari"}),s("div",M,[s("div",C,[t[4]||(t[4]=s("div",null,[s("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Mehnat shartnomalari "),s("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Xodimlar bilan tuzilgan mehnat shartnomalari ")],-1)),s("button",z,[l(d(k),{class:"w-5 h-5"}),t[3]||(t[3]=i(" Yangi shartnoma ",-1))])]),s("div",B,[s("div",L,[s("div",S,[s("div",A,[l(d(f),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),s("div",null,[t[5]||(t[5]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jami shartnomalar",-1)),s("p",U,o(ze.value.total),1)])])]),s("div",V,[s("div",X,[s("div",Y,[l(d(f),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),s("div",null,[t[6]||(t[6]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Muddatsiz",-1)),s("p",I,o(ze.value.unlimited),1)])])]),s("div",J,[s("div",T,[s("div",q,[l(d(f),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),s("div",null,[t[7]||(t[7]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Muddatli",-1)),s("p",D,o(ze.value.fixed),1)])])]),s("div",E,[s("div",F,[s("div",G,[l(d(f),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),s("div",null,[t[8]||(t[8]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Sinov muddati",-1)),s("p",H,o(ze.value.probation),1)])])])]),s("div",K,[s("div",O,[s("div",W,[l(d(w),{class:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),p(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>be.value=e),type:"text",placeholder:"Xodim qidirish...",class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[n,be.value]])])]),p(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>ve.value=e),class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg"},[(c(!0),u(x,null,g(_e.value,e=>(c(),u("option",{key:e.value,value:e.value},o(e.label),9,$))),128))],512),[[m,ve.value]]),p(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>ke.value=e),class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg"},[(c(),u(x,null,g(je,e=>s("option",{key:e.value,value:e.value},o(e.label),9,N)),64))],512),[[m,ke.value]])]),s("div",P,[s("div",Q,[s("table",R,[t[9]||(t[9]=s("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Xodim"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Lavozim"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Shartnoma turi"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Boshlanish"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Tugash"),s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Amallar")])],-1)),s("tbody",Z,[(c(!0),u(x,null,g(Me.value,e=>{return c(),u("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[s("td",ee,[s("div",te,[s("div",ae,[s("span",re,o(e.name?.charAt(0)||"?"),1)]),s("div",le,[s("div",se,o(e.name),1),s("div",de,o(e.department_label),1)])])]),s("td",ie,o(e.position),1),s("td",oe,[s("span",{class:h(["px-3 py-1 text-xs font-medium rounded-full",(t=e.contract_type,{unlimited:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",fixed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",probation:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",part_time:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}[t]||"bg-gray-100 text-gray-800")])},o(Ce(e.contract_type)),3)]),s("td",pe,o(e.contract_start||e.joined_at),1),s("td",ne,o(e.contract_end||"â€”"),1),s("td",ue,[s("div",ce,[s("button",{onClick:t=>(e=>{we.value=e,fe.value=!0})(e),class:"p-2 text-gray-400 hover:text-purple-600 dark:hover:text-purple-400",title:"Tahrirlash"},[l(d(j),{class:"w-5 h-5"})],8,xe),s("button",ge,[l(d(_),{class:"w-5 h-5"})])])])]);var t}),128))])])]),0===Me.value.length?(c(),u("div",me,[l(d(f),{class:"w-12 h-12 mx-auto opacity-50 mb-3"}),t[10]||(t[10]=s("p",null,"Shartnomalar topilmadi",-1))])):y("",!0)])])]),_:1}))}};export{ye as default};

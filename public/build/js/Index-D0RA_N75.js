import{h as q,l as f}from"./chunk-BVrjkT6E.js";import{_ as j}from"./chunk-D0p8mG4-.js";import{u as S}from"./app-DMGwzSHW.js";import{r as A}from"./chunk-CYZ54WJE.js";import{r as z}from"./chunk-cX3qDKmH.js";import{r as I}from"./chunk-BL-22xYA.js";import{r as $}from"./chunk-Tj_a7zxz.js";import{r as M}from"./chunk-CPI6G2q3.js";import{b as k,v,x as u,y as d,z as e,A as i,H as o,E as y,F as l,C as g,D as B,S as x,G as D,I as E}from"./chunk-KPSVwAyv.js";import"./chunk-C_PbB7ed.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-Dfha1x8d.js";import"./chunk-BgOPVSvg.js";import"./chunk-CYw1XsNK.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";import"./chunk-BvkwlYlD.js";const N={class:"space-y-5"},O={class:"flex items-center justify-between"},V={class:"text-sm text-gray-500 dark:text-gray-400"},G={class:"flex items-center gap-2"},T={class:"inline-flex items-center px-3 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700"},Y={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 overflow-x-auto border border-gray-200 dark:border-gray-800"},L={class:"min-w-max flex flex-col items-center"},Q={class:"bg-gray-900 dark:bg-gray-800 rounded-lg shadow-xl w-72 overflow-hidden"},H={class:"p-4"},K={class:"text-white font-semibold text-base text-center"},X={class:"text-gray-400 text-sm text-center mt-0.5"},J={class:"bg-gray-800/50 dark:bg-gray-700/50 px-4 py-2.5 border-t border-gray-700"},P={class:"text-xs text-gray-400 text-center"},R={key:0,class:"relative flex items-center"},U={class:"flex gap-3"},W={class:"w-56 rounded-lg overflow-hidden shadow-lg"},Z={class:"text-white font-semibold text-sm"},ee={class:"text-white/70 text-xs mt-0.5"},te={class:"bg-white dark:bg-gray-800 max-h-64 overflow-y-auto"},re={class:"font-medium text-gray-900 dark:text-white text-sm"},se={key:0,class:"text-xs text-gray-600 dark:text-gray-300 mt-1.5 leading-relaxed"},ae={key:1,class:"px-4 py-8 text-center"},oe={class:"text-xs text-center leading-snug text-white font-medium"},ie={class:"mt-8 w-full max-w-3xl"},le={class:"bg-gray-900 dark:bg-gray-800 rounded-lg px-6 py-4 text-center"},ne={class:"text-white text-sm font-medium"},$e={__name:"Index",props:{orgStructure:Object,business:Object,systemDepartments:Array,departments:Object,ownerInfo:Object},setup(n){const{t:_}=S(),c=n,p={sales_head:{bg:"#059669",light:"#D1FAE5",text:"#10B981",darkBg:"#064E3B"},sales_operator:{bg:"#059669",light:"#D1FAE5",text:"#10B981",darkBg:"#064E3B"},marketing:{bg:"#7C3AED",light:"#EDE9FE",text:"#A78BFA",darkBg:"#4C1D95"},hr:{bg:"#DB2777",light:"#FCE7F3",text:"#F472B6",darkBg:"#831843"},finance:{bg:"#EA580C",light:"#FFEDD5",text:"#FB923C",darkBg:"#7C2D12"},default:{bg:"#475569",light:"#F1F5F9",text:"#94A3B8",darkBg:"#1E293B"}},m=k(()=>{if(!c.systemDepartments)return[];const r=[],t={code:"sales",name:"Sotuv bo'limi",employees:[],positions:[],employee_count:0};let s=!1;return c.systemDepartments.forEach(a=>{a.code==="sales_head"||a.code==="sales_operator"?(t.employees=[...t.employees,...a.employees],t.positions=[...t.positions,...a.positions],t.employee_count+=a.employee_count,s=!0):r.push(a)}),(s||c.systemDepartments.some(a=>a.code==="sales_head"||a.code==="sales_operator"))&&r.unshift(t),r}),h=r=>r==="sales"||r==="sales_head"||r==="sales_operator"?p.sales_head:p[r]||p.default,w={sales:"Sotuvlarni amalga oshirish va daromadni ko'paytirish",marketing:"Brend qiymatini oshirish va sifatli lidlar generatsiya qilish",hr:"Malakali kadrlarni jalb qilish va samaradorlikni oshirish",finance:"Moliyaviy barqarorlikni ta'minlash"},F=r=>r==="sales"||r==="sales_head"||r==="sales_operator"?w.sales:w[r]||"",b=k(()=>{let r=0,t=0;return m.value.forEach(s=>{r+=s.employee_count||0,t+=s.positions?.length||0}),{departments:m.value.length,employees:r,positions:t}}),C=k(()=>c.orgStructure?.description||"Mijozlarga yuqori sifatli xizmat ko'rsatish va biznesni barqaror rivojlantirish");return(r,t)=>(l(),v(j,{title:i(_)("hr.org_structure")},{default:u(()=>[d(i(q),{title:i(_)("hr.org_structure")},null,8,["title"]),e("div",N,[e("div",O,[e("div",null,[t[0]||(t[0]=e("h1",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Tashkiliy tuzilma ",-1)),e("p",V,o(b.value.departments)+" bo'lim · "+o(b.value.employees)+" xodim · "+o(b.value.positions)+" lavozim ",1)]),e("div",G,[d(i(f),{href:r.route("hr.job-descriptions.index"),class:"inline-flex items-center px-3 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700"},{default:u(()=>[d(i(A),{class:"w-4 h-4 mr-1.5"}),t[1]||(t[1]=y(" Lavozimlar ",-1))]),_:1},8,["href"]),e("button",T,[d(i(z),{class:"w-4 h-4 mr-1.5"}),t[2]||(t[2]=y(" Chop etish ",-1))]),n.orgStructure?(l(),v(i(f),{key:0,href:r.route("hr.org-structure.edit",n.orgStructure.id),class:"inline-flex items-center px-3 py-2 text-sm bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-100"},{default:u(()=>[d(i(I),{class:"w-4 h-4 mr-1.5"}),t[3]||(t[3]=y(" Tahrirlash ",-1))]),_:1},8,["href"])):(l(),v(i(f),{key:1,href:r.route("hr.org-structure.create"),class:"inline-flex items-center px-3 py-2 text-sm bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-100"},{default:u(()=>[d(i($),{class:"w-4 h-4 mr-1.5"}),t[4]||(t[4]=y(" Yaratish ",-1))]),_:1},8,["href"]))])]),e("div",Y,[e("div",L,[e("div",Q,[t[6]||(t[6]=e("div",{class:"bg-gray-800 dark:bg-gray-700 px-4 py-2.5"},[e("p",{class:"text-xs font-semibold text-gray-400 uppercase tracking-wider text-center"},"Direktor")],-1)),e("div",H,[e("p",K,o(n.ownerInfo?.name||n.business?.name),1),e("p",X,o(n.ownerInfo?.position||"Bosh direktor"),1)]),e("div",J,[e("p",P,[t[5]||(t[5]=e("span",{class:"text-yellow-500 font-medium"},"YQM:",-1)),y(" "+o(n.ownerInfo?.yqm||"Korxonani boshqarish va rivojlantirish"),1)])])]),t[9]||(t[9]=e("div",{class:"w-px h-8 bg-gray-300 dark:bg-gray-600"},null,-1)),m.value.length>1?(l(),g("div",R,[e("div",{class:"h-px bg-gray-300 dark:bg-gray-600",style:x({width:`${(m.value.length-1)*232+(m.value.length-1)*12}px`})},null,4)])):B("",!0),e("div",U,[(l(!0),g(D,null,E(m.value,s=>(l(),g("div",{key:s.code,class:"flex flex-col items-center"},[t[8]||(t[8]=e("div",{class:"w-px h-6 bg-gray-300 dark:bg-gray-600"},null,-1)),e("div",W,[e("div",{class:"px-4 py-3 text-center",style:x({backgroundColor:h(s.code).bg})},[e("p",Z,o(s.name),1),e("p",ee,o(s.employee_count)+" xodim",1)],4),e("div",te,[s.employees?.length>0?(l(!0),g(D,{key:0},E(s.employees,a=>(l(),g("div",{key:a.id,class:"px-3 py-2.5 border-b border-gray-100 dark:border-gray-700 last:border-b-0"},[e("p",re,o(a.name),1),e("p",{class:"text-xs mt-0.5 font-medium",style:x({color:h(s.code).text})},o(a.position),5),a.yqm?(l(),g("p",se,[e("span",{class:"font-medium",style:x({color:h(s.code).text})},"YQM:",4),y(" "+o(a.yqm),1)])):B("",!0)]))),128)):(l(),g("div",ae,[d(i(M),{class:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),t[7]||(t[7]=e("p",{class:"text-xs text-gray-400 dark:text-gray-500"},"Xodim yo'q",-1))]))]),e("div",{class:"px-3 py-2.5",style:x({backgroundColor:h(s.code).bg})},[e("p",oe,o(F(s.code)),1)],4)])]))),128))]),e("div",ie,[e("div",le,[e("p",ne,o(C.value),1)])])])])])]),_:1},8,["title"]))}};export{$e as default};

import{r as e,b as t,v as r,x as a,y as s,z as d,A as i,B as l,C as o,D as n,E as g,F as c,G as p,H as x,I as u,J as y,K as m}from"./chunk-CpmtkKLp.js";import{_ as k}from"./chunk-Dr248YzT.js";import{u as v}from"./app-C-ZlocOh.js";import"./chunk-D7SyfRoT.js";import"./chunk-BhZp3z4u.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-Bsc1JRL5.js";import"./chunk-BuJDoypK.js";import"./chunk-BWiubfpN.js";const h={class:"py-6"},b={class:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8"},f={class:"mb-6 flex items-center justify-between"},w={class:"text-xl font-semibold text-gray-900 dark:text-white"},_={class:"text-sm text-gray-500 dark:text-gray-400 mt-0.5"},j={class:"flex items-center gap-2"},C=["disabled"],z={class:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},M={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},B={class:"flex items-center gap-3"},V={class:"text-2xl font-semibold text-gray-900 dark:text-white"},H={class:"text-xs text-gray-500 dark:text-gray-400"},L={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},A={class:"flex items-center gap-3"},U={class:"text-2xl font-semibold text-gray-900 dark:text-white"},I={class:"text-xs text-gray-500 dark:text-gray-400"},K={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},O={class:"flex items-center gap-3"},Y={class:"text-2xl font-semibold text-red-600 dark:text-red-400"},q={class:"text-xs text-gray-500 dark:text-gray-400"},D={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},E={class:"flex items-center gap-3"},F={class:"text-2xl font-semibold text-gray-900 dark:text-white"},G={class:"text-xs text-gray-500 dark:text-gray-400"},J={class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},T={class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700"},X={class:"flex flex-wrap items-center gap-3"},Z={class:"flex-1 min-w-[200px]"},$={class:"relative"},N=["placeholder"],P={value:""},Q={value:"login"},R={value:"logout"},S={value:"create"},W={value:"update"},ee={value:"delete"},te={value:"error"},re={class:"overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},se={class:"bg-gray-50 dark:bg-gray-700/50"},de={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},ie={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},le={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},oe={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},ne={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},ge={class:"divide-y divide-gray-100 dark:divide-gray-700"},ce={class:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap"},pe={class:"px-4 py-3 whitespace-nowrap"},xe={class:"flex items-center gap-2"},ue={class:"w-7 h-7 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"},ye={class:"text-xs font-medium text-gray-600 dark:text-gray-300"},me={class:"text-sm font-medium text-gray-900 dark:text-white"},ke={class:"text-xs text-gray-500 dark:text-gray-400"},ve={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},he={class:"px-4 py-3 whitespace-nowrap"},be={class:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap"},fe={key:0},we={colspan:"5",class:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400"},_e={class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 text-sm text-gray-500 dark:text-gray-400"},je={class:"font-medium"},Ce={__name:"Index",props:{logs:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({today:0,this_week:0,errors:0,active_users:0})}},setup(Ce){const{t:ze}=v(),Me=Ce,Be=e(!1),Ve=e({search:"",type:"",date:""}),He=t(()=>{let e=[...Me.logs];if(Ve.value.search){const t=Ve.value.search.toLowerCase();e=e.filter(e=>e.description?.toLowerCase().includes(t)||e.user?.name?.toLowerCase().includes(t)||e.user?.email?.toLowerCase().includes(t))}return Ve.value.type&&(e=e.filter(e=>e.event===Ve.value.type)),e}),Le=e=>({login:"Kirish",logout:"Chiqish",create:"Yaratish",update:"Yangilash",delete:"O'chirish",error:"Xato"}[e]||e),Ae=()=>{Be.value=!0,window.location.reload()},Ue=()=>{window.location.href="/dashboard/activity-logs/export"};return(e,t)=>(n(),r(k,{title:i(ze)("admin.activity_logs.title")},{default:a(()=>[s("div",h,[s("div",b,[s("div",f,[s("div",null,[s("h1",w,d(i(ze)("admin.activity_logs.title")),1),s("p",_,d(i(ze)("admin.activity_logs.subtitle")),1)]),s("div",j,[s("button",{onClick:Ue,class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[t[3]||(t[3]=s("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),l(" "+d(i(ze)("admin.common.export")),1)]),s("button",{onClick:Ae,disabled:Be.value,class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors disabled:opacity-50"},[(n(),o("svg",{class:g(["w-4 h-4",Be.value?"animate-spin":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...t[4]||(t[4]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),l(" "+d(i(ze)("admin.analytics.refresh")),1)],8,C)])]),s("div",z,[s("div",M,[s("div",B,[t[5]||(t[5]=s("div",{class:"w-10 h-10 bg-blue-50 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),s("div",null,[s("p",V,d(Ce.stats.today),1),s("p",H,d(i(ze)("admin.activity_logs.today")),1)])])]),s("div",L,[s("div",A,[t[6]||(t[6]=s("div",{class:"w-10 h-10 bg-green-50 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),s("div",null,[s("p",U,d(Ce.stats.this_week),1),s("p",I,d(i(ze)("admin.activity_logs.this_week")),1)])])]),s("div",K,[s("div",O,[t[7]||(t[7]=s("div",{class:"w-10 h-10 bg-red-50 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),s("div",null,[s("p",Y,d(Ce.stats.errors),1),s("p",q,d(i(ze)("admin.activity_logs.errors")),1)])])]),s("div",D,[s("div",E,[t[8]||(t[8]=s("div",{class:"w-10 h-10 bg-purple-50 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})])],-1)),s("div",null,[s("p",F,d(Ce.stats.active_users),1),s("p",G,d(i(ze)("admin.activity_logs.active_users")),1)])])])]),s("div",J,[s("div",T,[s("div",X,[s("div",Z,[s("div",$,[c(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>Ve.value.search=e),type:"text",placeholder:i(ze)("admin.activity_logs.search_placeholder"),class:"w-full pl-9 pr-3 py-2 text-sm border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},null,8,N),[[p,Ve.value.search]]),t[9]||(t[9]=s("svg",{class:"w-4 h-4 text-gray-400 absolute left-3 top-2.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),c(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>Ve.value.type=e),class:"px-3 py-2 text-sm border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},[s("option",P,d(i(ze)("admin.activity_logs.all_types")),1),s("option",Q,d(i(ze)("admin.activity_logs.type_login")),1),s("option",R,d(i(ze)("admin.activity_logs.type_logout")),1),s("option",S,d(i(ze)("admin.activity_logs.type_create")),1),s("option",W,d(i(ze)("admin.activity_logs.type_update")),1),s("option",ee,d(i(ze)("admin.activity_logs.type_delete")),1),s("option",te,d(i(ze)("admin.activity_logs.type_error")),1)],512),[[x,Ve.value.type]]),c(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>Ve.value.date=e),type:"date",class:"px-3 py-2 text-sm border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent"},null,512),[[p,Ve.value.date]])])]),s("div",re,[s("table",ae,[s("thead",se,[s("tr",null,[s("th",de,d(i(ze)("admin.activity_logs.time")),1),s("th",ie,d(i(ze)("admin.activity_logs.user")),1),s("th",le,d(i(ze)("admin.activity_logs.activity")),1),s("th",oe,d(i(ze)("admin.activity_logs.type")),1),s("th",ne,d(i(ze)("admin.activity_logs.ip")),1)])]),s("tbody",ge,[(n(!0),o(y,null,m(He.value,e=>{return n(),o("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[s("td",ce,d(e.created_at),1),s("td",pe,[s("div",xe,[s("div",ue,[s("span",ye,d(e.user?.name?.charAt(0).toUpperCase()||"?"),1)]),s("div",null,[s("p",me,d(e.user?.name||"Tizim"),1),s("p",ke,d(e.user?.email||""),1)])])]),s("td",ve,d(e.description),1),s("td",he,[s("span",{class:g(["px-2 py-0.5 text-xs font-medium rounded",(t=e.event,{login:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",logout:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300",create:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",update:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",delete:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",error:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}[t]||"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300")])},d(Le(e.event)),3)]),s("td",be,d(e.properties?.ip||"-"),1)]);var t}),128)),0===He.value.length?(n(),o("tr",fe,[s("td",we,d(i(ze)("admin.activity_logs.not_found")),1)])):u("",!0)])])]),s("div",_e,[l(d(i(ze)("admin.common.showing"))+": ",1),s("span",je,d(He.value.length),1),l(" "+d(i(ze)("admin.activity_logs.records")),1)])])])])]),_:1},8,["title"]))}};export{Ce as default};

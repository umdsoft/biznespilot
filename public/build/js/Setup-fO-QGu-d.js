import{r as v}from"./chunk-BYRtWSr0.js";import{_ as f}from"./chunk-BEiRu0xm.js";import{r as b,v as w,x as _,z as e,D as o,L as m,E as s,H as a,S as z,F as x,G as h,B as c,C as d}from"./chunk-BcTZxe-J.js";import"./chunk-AyRJdOJv.js";import"./app-BC9IivQF.js";import"./chunk-C1xeNfMu.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CJsSO8V8.js";import"./chunk-CrR1zWIb.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";import"./chunk-Dy6aDPCS.js";import"./chunk-CKHdppiT.js";import"./chunk-Sr2jsNPC.js";import"./chunk-Bv_bj7dx.js";const j={class:"max-w-4xl mx-auto"},B={key:0,class:"mb-8"},C={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},S={class:"flex items-center justify-between mb-4"},M={class:"text-sm text-emerald-600 font-medium"},T={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4"},q={class:"flex flex-wrap gap-2"},V={class:"mb-8"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L=["onClick"],K={key:0,class:"absolute -top-2 -right-2"},P={key:1,class:"absolute top-4 right-4"},H={class:"text-lg font-bold text-gray-900 dark:text-white mb-2"},D={class:"text-sm text-gray-600 dark:text-gray-400 mb-4"},F={class:"flex flex-wrap gap-3"},N={class:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},O={class:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400"},A={class:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"},E={class:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700"},$={class:"text-xs text-gray-500 dark:text-gray-400"},G={key:0,class:"text-xs text-gray-400 ml-2"},J={class:"flex justify-center"},Q=["disabled"],R={key:0,class:"flex items-center"},U={key:1,class:"flex items-center"},_e={__name:"Setup",props:{progress:Object,templates:Array,steps:Object,industries:Object,panelType:String},setup(l){const i=b(null),n=b(!1),p=g=>{const t={it_services:"bg-blue-100 dark:bg-blue-900/30",retail:"bg-emerald-100 dark:bg-emerald-900/30",wholesale:"bg-purple-100 dark:bg-purple-900/30",education:"bg-yellow-100 dark:bg-yellow-900/30",real_estate:"bg-orange-100 dark:bg-orange-900/30",finance:"bg-green-100 dark:bg-green-900/30",healthcare:"bg-red-100 dark:bg-red-900/30",manufacturing:"bg-gray-100 dark:bg-gray-900/30",hospitality:"bg-pink-100 dark:bg-pink-900/30",other:"bg-indigo-100 dark:bg-indigo-900/30"};return t[g]||t.other},k=g=>{const t={it_services:"ðŸ’»",retail:"ðŸ›’",wholesale:"ðŸ“¦",education:"ðŸŽ“",real_estate:"ðŸ ",finance:"ðŸ’°",healthcare:"ðŸ¥",manufacturing:"ðŸ­",hospitality:"ðŸ¨",other:"ðŸ“Š"};return t[g]||t.other},y=()=>{i.value&&(n.value=!0,v.post("/sales-head/sales-kpi/apply-template",{template_id:i.value},{onFinish:()=>{n.value=!1}}))};return(g,t)=>(s(),w(f,{title:"KPI Sozlash"},{default:_(()=>[e("div",j,[t[9]||(t[9]=e("div",{class:"text-center mb-12"},[e("div",{class:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-6"},[e("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-3"}," KPI Tizimini Sozlash "),e("p",{class:"text-gray-600 dark:text-gray-400 max-w-xl mx-auto"}," Sotuv jamoangiz uchun professional KPI, Bonus va Jarima tizimini bir necha daqiqada sozlang. Tayyor shablonlardan birini tanlang yoki o'zingizning sozlamalaringizni yarating. ")],-1)),l.progress&&l.progress.status==="in_progress"?(s(),o("div",B,[e("div",C,[e("div",S,[t[0]||(t[0]=e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Sozlash jarayoni",-1)),e("span",M,a(l.progress.progress_percent)+"%",1)]),e("div",T,[e("div",{class:"bg-emerald-500 h-2 rounded-full transition-all",style:z({width:l.progress.progress_percent+"%"})},null,4)]),e("div",q,[(s(!0),o(x,null,h(l.steps,(r,u)=>(s(),o("span",{key:u,class:c(["px-3 py-1 rounded-full text-xs font-medium",l.progress.completed_steps?.includes(u)?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":l.progress.current_step===u?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400"])},a(r.name),3))),128))])])])):m("",!0),e("div",V,[t[6]||(t[6]=e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6"}," Shablonni tanlang ",-1)),e("div",I,[(s(!0),o(x,null,h(l.templates,r=>(s(),o("div",{key:r.id,onClick:u=>i.value=r.id,class:c(["relative bg-white dark:bg-gray-800 rounded-xl border-2 p-6 cursor-pointer transition-all hover:shadow-lg",i.value===r.id?"border-emerald-500 ring-2 ring-emerald-500/20":"border-gray-200 dark:border-gray-700 hover:border-emerald-300"])},[r.is_featured?(s(),o("div",K,[...t[1]||(t[1]=[e("span",{class:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg"}," Tavsiya ",-1)])])):m("",!0),i.value===r.id?(s(),o("div",P,[...t[2]||(t[2]=[e("div",{class:"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):m("",!0),e("div",{class:c(["w-14 h-14 rounded-xl flex items-center justify-center mb-4 text-2xl",p(r.industry)])},a(r.icon||k(r.industry)),3),e("h3",H,a(r.name),1),e("p",D,a(r.description),1),e("div",F,[e("span",N,[t[3]||(t[3]=e("svg",{class:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),d(" "+a(r.kpi_count)+" KPI ",1)]),e("span",O,[t[4]||(t[4]=e("svg",{class:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d(" "+a(r.bonus_count)+" Bonus ",1)]),e("span",A,[t[5]||(t[5]=e("svg",{class:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),d(" "+a(r.penalty_rules_count)+" Qoida ",1)])]),e("div",E,[e("span",$,a(r.industry_label),1),r.usage_count>0?(s(),o("span",G," â€¢ "+a(r.usage_count)+" marta ishlatilgan ",1)):m("",!0)])],10,L))),128))])]),e("div",J,[e("button",{onClick:y,disabled:!i.value||n.value,class:c(["px-8 py-4 rounded-xl font-semibold text-lg transition-all transform",i.value&&!n.value?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white hover:from-emerald-600 hover:to-teal-700 hover:scale-105 shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-500 cursor-not-allowed dark:bg-gray-700 dark:text-gray-400"])},[n.value?(s(),o("span",R,[...t[7]||(t[7]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),d(" Sozlanmoqda... ",-1)])])):(s(),o("span",U,[...t[8]||(t[8]=[d(" Shablonni qo'llash ",-1),e("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])]))],10,Q)]),t[10]||(t[10]=e("div",{class:"mt-8 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-6"},[e("div",{class:"flex"},[e("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",{class:"ml-4"},[e("h4",{class:"font-semibold text-blue-900 dark:text-blue-100 mb-1"},"Shablonni keyinroq o'zgartirish mumkin"),e("p",{class:"text-sm text-blue-700 dark:text-blue-300"},` Tanlangan shablon sizning biznesingiz uchun boshlang'ich nuqta bo'ladi. Barcha KPI sozlamalari, bonus va jarima qoidalarini keyinroq "Sozlamalar" bo'limida o'zgartirishingiz mumkin. `)])])],-1))])]),_:1}))}};export{_e as default};

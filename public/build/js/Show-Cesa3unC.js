import{r as e,v as a,x as t,L as r,y as s,A as d,B as l,z as o,C as c,I as n,E as i,D as b,O as g,J as k,K as u,F as m,G as y,H as p}from"./chunk-CpmtkKLp.js";import{h as x,l as f,r as h}from"./chunk-BhZp3z4u.js";import{_ as v}from"./chunk-Dr248YzT.js";import{u as w}from"./app-C-ZlocOh.js";import{r as j}from"./chunk-BuJDoypK.js";import{r as _,b as S,c as C,e as O,f as T,g as A,d as E}from"./chunk-D7SyfRoT.js";import{r as N,a as q}from"./chunk-CouA7u-j.js";import{r as F}from"./chunk-BiBvtcLb.js";import{r as K}from"./chunk-CPRcZoGz.js";import{r as U}from"./chunk-DCXiFUg-.js";import{r as J}from"./chunk-eMHYSAeQ.js";import"./chunk-BWiubfpN.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-Bsc1JRL5.js";const R={class:"max-w-5xl mx-auto space-y-6"},X={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},z={class:"lg:col-span-2 space-y-6"},P={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},V={class:"flex items-center gap-3"},D={class:"font-semibold text-lg"},L={class:"p-6"},$={class:"text-2xl font-bold text-gray-900 dark:text-white mb-4"},B={class:"prose prose-sm dark:prose-invert max-w-none"},G={class:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},H={key:0,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},I={class:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},Z={class:"grid grid-cols-2 gap-4"},M={key:0,class:"aspect-video bg-gray-100 dark:bg-gray-700"},Q=["src","alt"],W={key:1,class:"aspect-video bg-gray-100 dark:bg-gray-700 flex items-center justify-center"},Y={class:"p-3"},ee={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},ae={class:"text-xs text-gray-500 dark:text-gray-400"},te=["href"],re={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},se={class:"flex items-center justify-between mb-4"},de={class:"font-semibold text-gray-900 dark:text-white"},le={key:0,class:"mb-4"},oe=["placeholder"],ce={class:"flex justify-end gap-2 mt-2"},ne=["disabled"],ie={key:1,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},be={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap font-sans"},ge={key:2,class:"text-gray-500 dark:text-gray-400 text-sm"},ke={class:"space-y-6"},ue={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 space-y-4"},me={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ye=["value"],pe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},xe=["value"],fe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},he={class:"font-semibold text-gray-900 dark:text-white mb-4"},ve={class:"space-y-3"},we={key:0,class:"flex items-center gap-3"},je={class:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"},_e={class:"font-medium text-gray-900 dark:text-white"},Se={class:"text-sm text-gray-500 dark:text-gray-400"},Ce={key:1,class:"flex items-start gap-3 pt-3 border-t border-gray-200 dark:border-gray-700"},Oe={class:"text-sm text-gray-500 dark:text-gray-400"},Te={class:"font-medium text-gray-900 dark:text-white"},Ae={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Ee={class:"font-semibold text-gray-900 dark:text-white mb-4"},Ne={class:"space-y-3 text-sm"},qe={key:0,class:"flex items-start gap-3"},Fe={class:"min-w-0"},Ke={class:"text-gray-500 dark:text-gray-400"},Ue=["href"],Je={key:1,class:"flex items-start gap-3"},Re={class:"min-w-0"},Xe={class:"text-gray-500 dark:text-gray-400"},ze={class:"text-gray-700 dark:text-gray-300 break-all text-xs"},Pe={class:"flex items-start gap-3"},Ve={class:"text-gray-500 dark:text-gray-400"},De={class:"text-gray-700 dark:text-gray-300"},Le={key:2,class:"flex items-start gap-3"},$e={class:"text-gray-500 dark:text-gray-400"},Be={class:"text-gray-700 dark:text-gray-300"},Ge={key:0,class:"text-xs text-gray-500"},He={__name:"Show",props:{feedback:Object,statuses:Object,priorities:Object},setup(He){const{t:Ie}=w(),Ze=He,Me=e(Ze.feedback.status),Qe=e(Ze.feedback.priority),We=e(""),Ye=e(!1),ea=e(!1),aa={bug:S,suggestion:q,question:N,other:_},ta=e=>{const a={bug:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-red-200 dark:border-red-800/30",suggestion:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-800/30",question:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 border-purple-200 dark:border-purple-800/30",other:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400 border-gray-200 dark:border-gray-600"};return a[e]||a.other},ra=e=>{const a={pending:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",in_progress:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",resolved:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",closed:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"};return a[e]||a.pending},sa=e=>{const a={low:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",high:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",urgent:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};return a[e]||a.medium},da=async()=>{ea.value=!0;try{(await fetch(route("admin.feedback.update-status",Ze.feedback.id),{method:"PUT",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:Me.value})})).ok&&h.reload({preserveScroll:!0})}catch(e){}finally{ea.value=!1}},la=async()=>{ea.value=!0;try{(await fetch(route("admin.feedback.update-priority",Ze.feedback.id),{method:"PUT",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({priority:Qe.value})})).ok&&h.reload({preserveScroll:!0})}catch(e){}finally{ea.value=!1}},oa=async()=>{if(We.value.trim()){ea.value=!0;try{(await fetch(route("admin.feedback.add-note",Ze.feedback.id),{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({note:We.value})})).ok&&(We.value="",Ye.value=!1,h.reload({preserveScroll:!0}))}catch(e){}finally{ea.value=!1}}},ca=async()=>{if(confirm(Ie("admin.feedback.delete_confirm")))try{(await fetch(route("admin.feedback.destroy",Ze.feedback.id),{method:"DELETE",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json"}})).ok&&h.visit(route("admin.feedback.index"))}catch(e){}};return(e,h)=>(b(),a(v,{title:d(Ie)("admin.feedback.details")},{default:t(()=>[r(d(x),{title:`Feedback: ${He.feedback.title}`},null,8,["title"]),s("div",R,[r(d(f),{href:e.route("admin.feedback.index"),class:"inline-flex items-center gap-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"},{default:t(()=>[r(d(j),{class:"w-5 h-5"}),l(" "+o(d(Ie)("common.back")),1)]),_:1},8,["href"]),s("div",X,[s("div",z,[s("div",P,[s("div",{class:i(["px-6 py-4 border-b",ta(He.feedback.type)])},[s("div",V,[(b(),a(g(aa[He.feedback.type]),{class:"w-6 h-6"})),s("span",D,o(He.feedback.type_label),1)])],2),s("div",L,[s("h1",$,o(He.feedback.title),1),s("div",B,[s("p",G,o(He.feedback.description),1)])])]),He.feedback.attachments.length>0?(b(),c("div",H,[s("h3",I,[r(d(C),{class:"w-5 h-5"}),l(" "+o(d(Ie)("admin.feedback.attached_files"))+" ("+o(He.feedback.attachments.length)+") ",1)]),s("div",Z,[(b(!0),c(k,null,u(He.feedback.attachments,e=>(b(),c("div",{key:e.id,class:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden"},[e.is_image?(b(),c("div",M,[s("img",{src:e.url,alt:e.file_name,class:"w-full h-full object-cover"},null,8,Q)])):(b(),c("div",W,[r(d(C),{class:"w-12 h-12 text-gray-400"})])),s("div",Y,[s("p",ee,o(e.file_name),1),s("p",ae,o(e.file_size),1),s("a",{href:e.url,target:"_blank",class:"text-sm text-blue-600 dark:text-blue-400 hover:underline mt-1 inline-block"},o(d(Ie)("common.view")),9,te)])]))),128))])])):n("",!0),s("div",re,[s("div",se,[s("h3",de,o(d(Ie)("admin.feedback.admin_notes")),1),Ye.value?n("",!0):(b(),c("button",{key:0,onClick:h[0]||(h[0]=e=>Ye.value=!0),class:"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1"},[r(d(F),{class:"w-4 h-4"}),l(" "+o(d(Ie)("admin.feedback.add_note")),1)]))]),Ye.value?(b(),c("div",le,[m(s("textarea",{"onUpdate:modelValue":h[1]||(h[1]=e=>We.value=e),rows:"3",placeholder:d(Ie)("admin.feedback.write_note"),class:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white text-sm resize-none"},null,8,oe),[[y,We.value]]),s("div",ce,[s("button",{onClick:h[2]||(h[2]=e=>{Ye.value=!1,We.value=""}),class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-sm"},o(d(Ie)("common.cancel")),1),s("button",{onClick:oa,disabled:!We.value.trim()||ea.value,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm disabled:opacity-50"},o(d(Ie)("common.save")),9,ne)])])):n("",!0),He.feedback.admin_notes?(b(),c("div",ie,[s("pre",be,o(He.feedback.admin_notes),1)])):(b(),c("p",ge,o(d(Ie)("admin.feedback.no_notes")),1))])]),s("div",ke,[s("div",ue,[s("div",null,[s("label",me,o(d(Ie)("common.status")),1),m(s("select",{"onUpdate:modelValue":h[3]||(h[3]=e=>Me.value=e),onChange:da,class:i(["w-full px-4 py-2.5 rounded-xl text-sm font-medium border-0",ra(Me.value)])},[(b(!0),c(k,null,u(He.statuses,(e,a)=>(b(),c("option",{key:a,value:a},o(e),9,ye))),128))],34),[[p,Me.value]])]),s("div",null,[s("label",pe,o(d(Ie)("admin.feedback.priority")),1),m(s("select",{"onUpdate:modelValue":h[4]||(h[4]=e=>Qe.value=e),onChange:la,class:i(["w-full px-4 py-2.5 rounded-xl text-sm font-medium border-0",sa(Qe.value)])},[(b(!0),c(k,null,u(He.priorities,(e,a)=>(b(),c("option",{key:a,value:a},o(e),9,xe))),128))],34),[[p,Qe.value]])])]),s("div",fe,[s("h3",he,o(d(Ie)("admin.feedback.user")),1),s("div",ve,[He.feedback.user?(b(),c("div",we,[s("div",je,[r(d(O),{class:"w-5 h-5 text-gray-500"})]),s("div",null,[s("p",_e,o(He.feedback.user.name),1),s("p",Se,o(He.feedback.user.email),1)])])):n("",!0),He.feedback.business?(b(),c("div",Ce,[r(d(T),{class:"w-5 h-5 text-gray-400 mt-0.5"}),s("div",null,[s("p",Oe,o(d(Ie)("admin.feedback.business")),1),s("p",Te,o(He.feedback.business.name),1)])])):n("",!0)])]),s("div",Ae,[s("h3",Ee,o(d(Ie)("admin.feedback.technical_info")),1),s("div",Ne,[He.feedback.page_url?(b(),c("div",qe,[r(d(A),{class:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),s("div",Fe,[s("p",Ke,o(d(Ie)("admin.feedback.page_url")),1),s("a",{href:He.feedback.page_url,target:"_blank",class:"text-blue-600 dark:text-blue-400 hover:underline break-all"},o(He.feedback.page_url),9,Ue)])])):n("",!0),He.feedback.browser_info?(b(),c("div",Je,[r(d(K),{class:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),s("div",Re,[s("p",Xe,o(d(Ie)("admin.feedback.browser")),1),s("p",ze,o(He.feedback.browser_info),1)])])):n("",!0),s("div",Pe,[r(d(U),{class:"w-5 h-5 text-gray-400 mt-0.5"}),s("div",null,[s("p",Ve,o(d(Ie)("admin.feedback.created")),1),s("p",De,o(He.feedback.created_at),1)])]),He.feedback.resolved_at?(b(),c("div",Le,[r(d(J),{class:"w-5 h-5 text-green-500 mt-0.5"}),s("div",null,[s("p",$e,o(d(Ie)("admin.feedback.resolved")),1),s("p",Be,o(He.feedback.resolved_at),1),He.feedback.resolved_by?(b(),c("p",Ge,o(d(Ie)("admin.feedback.by"))+" "+o(He.feedback.resolved_by.name),1)):n("",!0)])])):n("",!0)])]),s("button",{onClick:ca,class:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-xl transition-colors"},[r(d(E),{class:"w-5 h-5"}),l(" "+o(d(Ie)("common.delete")),1)])])])])]),_:1},8,["title"]))}};export{He as default};

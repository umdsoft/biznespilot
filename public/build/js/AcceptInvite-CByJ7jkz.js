import{r as m,C as u,z as e,H as t,A as o,E as f,Q as g,D as _,J as h,K as b,F as p}from"./chunk-KPSVwAyv.js";import{u as y}from"./app-BtfI-58n.js";import"./chunk-BVrjkT6E.js";import"./chunk-BvkwlYlD.js";const w={class:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"},k={class:"w-full max-w-md"},j={class:"bg-white rounded-2xl shadow-xl p-8"},S={class:"text-center mb-8"},B={class:"text-2xl font-bold text-gray-900 mb-2"},C={class:"text-gray-600"},V={class:"font-semibold text-blue-600"},M={class:"bg-gray-50 rounded-xl p-4 mb-6 space-y-3"},N={class:"flex justify-between items-center"},O={class:"text-gray-500"},P={class:"font-medium text-gray-900"},T={class:"flex justify-between items-center"},q={class:"text-gray-500"},z={class:"font-medium text-gray-900"},A={class:"flex justify-between items-center"},D={class:"text-gray-500"},E={class:"font-medium text-gray-900"},F={class:"block text-sm font-medium text-gray-700 mb-2"},I=["placeholder"],U={class:"block text-sm font-medium text-gray-700 mb-2"},H=["placeholder"],J={class:"block text-sm font-medium text-gray-700 mb-2"},K=["placeholder"],L={key:0,class:"text-sm text-red-600"},Q=["disabled"],R={key:1,class:"space-y-4"},X={class:"text-center text-gray-600 text-sm"},Y={class:"font-medium"},G={key:0,class:"text-sm text-red-600 text-center"},W=["disabled"],Z={class:"mt-6 text-center text-sm text-gray-500"},$=["href"],ee={class:"mt-8 text-center text-xs text-gray-500"},ae={__name:"AcceptInvite",props:{token:String,business:Object,inviter:Object,department:String,role:String,email:String,needsPassword:Boolean},setup(r){const{t:s}=y(),v=r,i=m({name:"",password:"",password_confirmation:""}),d=m(!1),l=m(""),x=async()=>{d.value=!0,l.value="";try{const c=v.needsPassword?i.value:{},n=await fetch(route("invite.accept",v.token),{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}),a=await n.json();n.ok&&a.success?window.location.href=a.redirect||"/business":l.value=a.error||a.message||s("auth.error_occurred")}catch(c){console.error("Failed to accept invite:",c),l.value=s("auth.invite.network_error")}finally{d.value=!1}};return(c,n)=>(p(),u("div",w,[e("div",k,[e("div",j,[e("div",S,[n[3]||(n[3]=e("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4"},[e("svg",{class:"w-9 h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("h1",B,t(o(s)("auth.invite.title")),1),e("p",C,[f(t(o(s)("auth.invite.invited_to"))+" ",1),e("span",V,t(r.business?.name),1)])]),e("div",M,[e("div",N,[e("span",O,t(o(s)("auth.invite.inviter")),1),e("span",P,t(r.inviter?.name),1)]),e("div",T,[e("span",q,t(o(s)("auth.invite.department")),1),e("span",z,t(r.department),1)]),e("div",A,[e("span",D,t(o(s)("auth.invite.role")),1),e("span",E,t(r.role),1)])]),r.needsPassword?(p(),u("form",{key:0,onSubmit:g(x,["prevent"]),class:"space-y-5"},[e("div",null,[e("label",F,t(o(s)("auth.invite.your_name")),1),h(e("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>i.value.name=a),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:o(s)("auth.invite.full_name_placeholder")},null,8,I),[[b,i.value.name]])]),e("div",null,[e("label",U,t(o(s)("auth.password")),1),h(e("input",{"onUpdate:modelValue":n[1]||(n[1]=a=>i.value.password=a),type:"password",required:"",minlength:"8",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:o(s)("auth.password_min")},null,8,H),[[b,i.value.password]])]),e("div",null,[e("label",J,t(o(s)("auth.invite.confirm_password")),1),h(e("input",{"onUpdate:modelValue":n[2]||(n[2]=a=>i.value.password_confirmation=a),type:"password",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:o(s)("auth.password_reenter")},null,8,K),[[b,i.value.password_confirmation]])]),l.value?(p(),u("p",L,t(l.value),1)):_("",!0),e("button",{type:"submit",disabled:d.value,class:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t(d.value?o(s)("auth.loading"):o(s)("auth.invite.accept")),9,Q)],32)):(p(),u("div",R,[e("p",X,[n[4]||(n[4]=f(" Email: ",-1)),e("span",Y,t(r.email),1)]),l.value?(p(),u("p",G,t(l.value),1)):_("",!0),e("button",{onClick:x,disabled:d.value,class:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t(d.value?o(s)("auth.loading"):o(s)("auth.invite.accept")),9,W)])),e("p",Z,[f(t(o(s)("auth.invite.different_account"))+" ",1),e("a",{href:c.route("login"),class:"text-blue-600 hover:text-blue-700 font-medium"},t(o(s)("auth.login_link")),9,$)])]),e("p",ee," Â© "+t(new Date().getFullYear())+" BiznesPilot. "+t(o(s)("auth.copyright")),1)])]))}};export{ae as default};

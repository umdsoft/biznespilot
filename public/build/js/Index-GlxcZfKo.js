import{r as m,b as T,C as l,y as n,z as e,A as g,G as c,I as k,B as x,v as j,M as q,H as r,J as f,L as h,N as O,K as S,O as V,D,F as o}from"./chunk-KPSVwAyv.js";import{h as F,r as K}from"./chunk-BVrjkT6E.js";import{_ as M}from"./chunk-DtYJqrRc.js";import{r as w,a as N}from"./chunk-DMP3tXW5.js";import{r as $}from"./chunk-Dfha1x8d.js";import{r as H}from"./chunk-CYw1XsNK.js";import{r as I}from"./chunk-D-7B8ZCD.js";import{r as J}from"./chunk-uNG5YCqx.js";import"./app-Bx12lrZQ.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-BgOPVSvg.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-CYZ54WJE.js";import"./chunk-J14gS6og.js";const L={class:"space-y-6"},U={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},P={class:"flex items-center gap-3"},Q={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},X={class:"text-xs text-gray-500 dark:text-gray-400"},Y={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5"},Z={class:"flex items-center gap-3"},A={class:"w-10 h-10 rounded-lg flex items-center justify-center bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400"},E={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},G={class:"flex flex-wrap items-center gap-3"},R={class:"relative flex-1 min-w-[200px]"},W={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},ee={key:0,class:"overflow-x-auto"},te={class:"w-full"},ae={class:"divide-y divide-gray-100 dark:divide-gray-700"},re={class:"px-6 py-4 text-sm font-mono text-gray-900 dark:text-gray-100 whitespace-nowrap"},se={class:"px-6 py-4 text-sm text-gray-900 dark:text-gray-100 whitespace-nowrap"},oe={class:"px-6 py-4 whitespace-nowrap"},le={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},de={class:"px-6 py-4 whitespace-nowrap"},ie={class:"px-6 py-4 text-sm font-semibold text-gray-900 dark:text-gray-100 whitespace-nowrap"},ne={class:"px-6 py-4 whitespace-nowrap"},ge={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap"},ce={key:1,class:"text-center py-16"},xe={key:2,class:"border-t border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between"},pe={class:"text-sm text-gray-500 dark:text-gray-400"},ye={class:"flex gap-2"},ue=["href","innerHTML"],He=Object.assign({layout:M},{__name:"Index",props:{transactions:{type:Object,default:()=>({data:[]})},stats:{type:Object,default:()=>({total:0,paid:0,pending:0,failed:0,total_revenue:0})},filters:{type:Object,default:()=>({})}},setup(s){const i=s,p=m(i.filters.status||""),y=m(i.filters.provider||""),u=m(i.filters.search||""),b=()=>{K.get("/dashboard/billing-transactions",{status:p.value||void 0,provider:y.value||void 0,search:u.value||void 0},{preserveState:!0})},v=d=>d?new Intl.NumberFormat("uz-UZ").format(d):"0",_=d=>({created:"Yaratildi",waiting:"Kutilmoqda",processing:"Jarayonda",paid:"To'langan",cancelled:"Bekor qilindi",failed:"Xatolik",refunded:"Qaytarildi"})[d]||d,B=d=>({paid:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",created:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",waiting:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",processing:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",cancelled:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",failed:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",refunded:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"})[d]||"bg-gray-100 text-gray-700",C=T(()=>[{label:"Jami tranzaksiyalar",value:i.stats.total,icon:w,color:"blue"},{label:"To'langan",value:i.stats.paid,icon:$,color:"green"},{label:"Kutilayotgan",value:i.stats.pending,icon:H,color:"yellow"},{label:"Muvaffaqiyatsiz",value:i.stats.failed,icon:N,color:"red"}]),z={blue:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",green:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400",yellow:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400",red:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400"};return(d,a)=>(o(),l(c,null,[n(g(F),{title:"To'lovlar"}),e("div",L,[a[8]||(a[8]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"To'lovlar"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Barcha billing tranzaksiyalari")],-1)),e("div",U,[(o(!0),l(c,null,k(C.value,t=>(o(),l("div",{key:t.label,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5"},[e("div",P,[e("div",{class:x(["w-10 h-10 rounded-lg flex items-center justify-center",z[t.color]])},[(o(),j(q(t.icon),{class:"w-5 h-5"}))],2),e("div",null,[e("p",Q,r(t.value),1),e("p",X,r(t.label),1)])])]))),128)),e("div",Y,[e("div",Z,[e("div",A,[n(g(I),{class:"w-5 h-5"})]),e("div",null,[e("p",E,r(v(s.stats.total_revenue)),1),a[3]||(a[3]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Jami daromad (UZS)",-1))])])])]),e("div",G,[f(e("select",{"onUpdate:modelValue":a[0]||(a[0]=t=>p.value=t),onChange:b,class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl text-sm"},[...a[4]||(a[4]=[O('<option value="">Barcha holatlar</option><option value="paid">To&#39;langan</option><option value="created">Yaratildi</option><option value="waiting">Kutilmoqda</option><option value="processing">Jarayonda</option><option value="cancelled">Bekor qilindi</option><option value="failed">Xatolik</option>',7)])],544),[[h,p.value]]),f(e("select",{"onUpdate:modelValue":a[1]||(a[1]=t=>y.value=t),onChange:b,class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl text-sm"},[...a[5]||(a[5]=[e("option",{value:""},"Barcha provayderlar",-1),e("option",{value:"click"},"Click",-1),e("option",{value:"payme"},"Payme",-1)])],544),[[h,y.value]]),e("div",R,[n(g(J),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),f(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>u.value=t),onKeyup:V(b,["enter"]),type:"text",placeholder:"Order ID yoki biznes nomi bo'yicha qidirish...",class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-blue-500"},null,544),[[S,u.value]])])]),e("div",W,[s.transactions.data&&s.transactions.data.length>0?(o(),l("div",ee,[e("table",te,[a[6]||(a[6]=e("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Order ID"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Biznes"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Tarif"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Provider"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Summa"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Holat"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Sana")])],-1)),e("tbody",ae,[(o(!0),l(c,null,k(s.transactions.data,t=>(o(),l("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors"},[e("td",re,r(t.order_id),1),e("td",se,r(t.business_name),1),e("td",oe,[e("span",le,r(t.plan_name),1)]),e("td",de,[e("span",{class:x(["px-2.5 py-1 text-xs font-semibold rounded-md",t.provider==="click"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400"])},r(t.provider==="click"?"Click":"Payme"),3)]),e("td",ie,r(v(t.amount))+" "+r(t.currency),1),e("td",ne,[e("span",{class:x(["px-2.5 py-1 text-xs font-semibold rounded-md",B(t.status)])},r(_(t.status)),3)]),e("td",ge,r(t.created_at),1)]))),128))])])])):(o(),l("div",ce,[n(g(w),{class:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),a[7]||(a[7]=e("p",{class:"text-gray-500 dark:text-gray-400 text-lg"},"Hali tranzaksiyalar yo'q",-1))])),s.transactions.links&&s.transactions.last_page>1?(o(),l("div",xe,[e("p",pe,r(s.transactions.from)+"-"+r(s.transactions.to)+" / "+r(s.transactions.total),1),e("div",ye,[(o(!0),l(c,null,k(s.transactions.links,t=>(o(),l("a",{key:t.label,href:t.url,class:x(["px-3 py-1.5 text-sm rounded-lg transition-colors",t.active?"bg-blue-600 text-white":t.url?"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":"text-gray-300 dark:text-gray-600 cursor-not-allowed"]),innerHTML:t.label},null,10,ue))),128))])])):D("",!0)])])],64))}});export{He as default};

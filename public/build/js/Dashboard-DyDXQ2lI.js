import{h as f}from"./chunk-BYRtWSr0.js";import{_ as x}from"./chunk-Dd--AZOj.js";import{u as w}from"./app-DWC75jbx.js";import{L as y,B as k,D as g}from"./chunk-C8vBVJ1_.js";import{C,a as E,L as M,P as S,b as B,p as j,c as z,d as D,A,B as N}from"./chunk-CHxAOWeL.js";import{b as c,D as h,y as n,A as s,x as O,z as t,H as e,E as m,F as H}from"./chunk-BcTZxe-J.js";import"./chunk-CYarSvys.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-Rs1WNzbn.js";import"./chunk-CJsSO8V8.js";import"./chunk-CrR1zWIb.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";import"./chunk-Ba8J67bG.js";import"./chunk-BHX0ueEB.js";import"./chunk-C1xeNfMu.js";const L={class:"py-12"},T={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},I={class:"mb-8"},R={class:"text-3xl font-bold text-gray-900"},F={class:"mt-2 text-gray-600"},P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},V={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},X={class:"flex items-center"},U={class:"ml-5 w-0 flex-1"},q={class:"text-sm font-medium text-gray-500 truncate"},Q={class:"text-2xl font-semibold text-gray-900"},W={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},$={class:"flex items-center"},G={class:"ml-5 w-0 flex-1"},J={class:"text-sm font-medium text-gray-500 truncate"},K={class:"text-2xl font-semibold text-gray-900"},Y={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},Z={class:"flex items-center"},tt={class:"ml-5 w-0 flex-1"},st={class:"text-sm font-medium text-gray-500 truncate"},et={class:"text-2xl font-semibold text-gray-900"},ot={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},at={class:"flex items-center"},lt={class:"ml-5 w-0 flex-1"},it={class:"text-sm font-medium text-gray-500 truncate"},nt={class:"text-2xl font-semibold text-gray-900"},dt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},rt={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},ct={class:"text-lg font-semibold text-gray-900 mb-4"},ht={style:{height:"300px"}},mt={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},_t={class:"text-lg font-semibold text-gray-900 mb-4"},gt={style:{height:"300px"}},bt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ut={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},pt={class:"text-lg font-semibold text-gray-900 mb-4"},vt={style:{height:"300px"}},ft={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},xt={class:"text-lg font-semibold text-gray-900 mb-4"},wt={key:0,style:{height:"300px"}},yt={key:1,class:"flex items-center justify-center h-64 text-gray-500"},$t={__name:"Dashboard",props:{config:Object,stats:Object},setup(d){const{t:o}=w();C.register(E,M,S,B,j,z,D,A,N);const a=d,b=c(()=>({labels:a.stats.daily_chart.map(l=>l.date),datasets:[{label:"Suhbatlar",data:a.stats.daily_chart.map(l=>l.conversations),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4},{label:"Xabarlar",data:a.stats.daily_chart.map(l=>l.messages),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4},{label:"Lidlar",data:a.stats.daily_chart.map(l=>l.leads),borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",tension:.4}]})),u=c(()=>({labels:["Telegram","Instagram","Facebook"],datasets:[{data:[a.stats.channels.telegram,a.stats.channels.instagram,a.stats.channels.facebook],backgroundColor:["#0088cc","#E4405F","#1877F2"]}]})),p=c(()=>({labels:["Xabardorlik","Qiziqish","Mulohaza","Niyat","Xarid","Xariddan keyin"],datasets:[{label:"Suhbatlar",data:["AWARENESS","INTEREST","CONSIDERATION","INTENT","PURCHASE","POST_PURCHASE"].map(v=>a.stats.funnel[v]||0),backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"]}]})),_=c(()=>!a.stats.intents||Object.keys(a.stats.intents).length===0?null:{labels:Object.keys(a.stats.intents),datasets:[{data:Object.values(a.stats.intents),backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"]}]}),r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}};return(l,i)=>(m(),h(H,null,[n(s(f),{title:s(o)("chatbot.dashboard")},null,8,["title"]),n(x,{title:s(o)("chatbot.analytics")},{default:O(()=>[t("div",L,[t("div",T,[t("div",I,[t("h1",R,e(s(o)("chatbot.analytics")),1),t("p",F,e(s(o)("chatbot.analytics_desc")),1)]),t("div",P,[t("div",V,[t("div",X,[i[0]||(i[0]=t("div",{class:"flex-shrink-0 bg-blue-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),t("div",U,[t("dl",null,[t("dt",q,e(s(o)("chatbot.active_conversations")),1),t("dd",Q,e(d.stats.active_conversations),1)])])])]),t("div",W,[t("div",$,[i[1]||(i[1]=t("div",{class:"flex-shrink-0 bg-green-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})])],-1)),t("div",G,[t("dl",null,[t("dt",J,e(s(o)("common.today")),1),t("dd",K,e(d.stats.today.conversations),1)])])])]),t("div",Y,[t("div",Z,[i[2]||(i[2]=t("div",{class:"flex-shrink-0 bg-yellow-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",tt,[t("dl",null,[t("dt",st,e(s(o)("common.this_month")),1),t("dd",et,e(d.stats.month.conversations),1)])])])]),t("div",ot,[t("div",at,[i[3]||(i[3]=t("div",{class:"flex-shrink-0 bg-purple-500 rounded-md p-3"},[t("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 00 2-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",lt,[t("dl",null,[t("dt",it,e(s(o)("dashboard.conversion")),1),t("dd",nt,e(d.stats.month.conversion_rate)+"% ",1)])])])])]),t("div",dt,[t("div",rt,[t("h3",ct,e(s(o)("chatbot.daily_activity_30")),1),t("div",ht,[n(s(y),{data:b.value,options:r},null,8,["data"])])]),t("div",mt,[t("h3",_t,e(s(o)("chatbot.sales_funnel")),1),t("div",gt,[n(s(k),{data:p.value,options:r},null,8,["data"])])])]),t("div",bt,[t("div",ut,[t("h3",pt,e(s(o)("chatbot.by_channels")),1),t("div",vt,[n(s(g),{data:u.value,options:r},null,8,["data"])])]),t("div",ft,[t("h3",xt,e(s(o)("chatbot.intent_analysis")),1),_.value?(m(),h("div",wt,[n(s(g),{data:_.value,options:r},null,8,["data"])])):(m(),h("div",yt,e(s(o)("reports.no_data")),1))])])])])]),_:1},8,["title"])],64))}};export{$t as default};

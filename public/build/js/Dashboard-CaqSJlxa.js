import{h as z,a as N,r as O}from"./chunk-BVrjkT6E.js";import{_ as R}from"./chunk-C_LZBpOn.js";import{r as D}from"./chunk-BlCINui_.js";import{r as H}from"./chunk-DN454CZt.js";import{r as P}from"./chunk-D59q4lxq.js";import{a as f}from"./chunk-BgShz32H.js";import{r as V}from"./chunk-CYw1XsNK.js";import{r as v}from"./chunk-Ch0Q6XPl.js";import{c as W}from"./chunk-DMP3tXW5.js";import{r as E,C as a,y as n,A as c,x as p,z as t,B as d,H as o,D as x,F as i,G as m,I as u,E as h,S as K}from"./chunk-KPSVwAyv.js";import"./app-Bx12lrZQ.js";import"./chunk-BvkwlYlD.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Dfha1x8d.js";import"./chunk-BgOPVSvg.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-CYZ54WJE.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";const L={class:"flex items-center justify-between"},Q=["disabled"],Y={class:"py-6"},F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6"},G={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},J={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},U={class:"flex items-center justify-between"},X={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},Z={class:"flex items-center justify-between"},tt={class:"text-3xl font-bold mt-1 text-blue-600"},et={class:"p-3 rounded-full bg-blue-500"},st={class:"text-sm mt-2 text-blue-600"},rt={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},ot={class:"flex items-center justify-between"},lt={class:"text-3xl font-bold mt-1 text-purple-600"},at={class:"p-3 rounded-full bg-purple-500"},it={class:"text-sm mt-2 text-gray-500"},nt={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},dt={class:"flex items-center justify-between"},ct={class:"text-3xl font-bold mt-1 text-amber-600"},gt={class:"p-3 rounded-full bg-amber-500"},mt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ut={class:"lg:col-span-2 space-y-6"},xt={class:"bg-white rounded-xl shadow-sm border border-gray-100"},ht={class:"p-6 border-b border-gray-100"},bt={class:"flex items-center justify-between"},yt={class:"text-sm text-gray-500"},ft={class:"divide-y divide-gray-100"},vt={class:"flex items-start gap-4"},pt={class:"flex-1 min-w-0"},_t={class:"flex items-center gap-2 flex-wrap"},wt={class:"font-medium text-gray-900"},kt={class:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full"},jt={class:"text-sm text-gray-600 mt-1"},Ct={class:"mt-3 flex items-center gap-4 text-xs text-gray-500"},qt={class:"flex items-center gap-1"},Tt={class:"flex items-center gap-1"},At={class:"mt-3"},It={class:"text-sm text-indigo-600 cursor-pointer hover:text-indigo-800"},Mt={class:"mt-2 pl-4 space-y-1 text-sm text-gray-600 list-decimal"},Bt={class:"mt-2 p-2 bg-green-50 rounded-lg"},St={class:"text-xs text-green-700"},$t={key:0,class:"p-8 text-center text-gray-500"},zt={key:0,class:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl shadow-sm p-6 text-white"},Nt={class:"text-lg font-semibold flex items-center gap-2"},Ot={class:"mt-4 space-y-3"},Rt={class:"flex items-center justify-between"},Dt={class:"font-medium"},Ht={class:"text-sm opacity-80"},Pt={class:"text-sm opacity-80 mt-1"},Vt={class:"space-y-6"},Wt={class:"bg-white rounded-xl shadow-sm border border-gray-100"},Et={class:"p-4 space-y-4"},Kt={class:"flex items-center justify-between mb-2"},Lt={class:"font-medium text-gray-900"},Qt={class:"w-full bg-gray-200 rounded-full h-2"},Yt={class:"mt-2 flex items-center justify-between text-xs text-gray-500"},Ft={key:0},Gt={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100"},Jt={class:"p-4 space-y-3"},Ut={class:"flex items-start gap-2"},Xt={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-100"},Zt={class:"p-4 space-y-3"},te={class:"text-gray-900"},ee={class:"text-gray-500 text-xs mt-1"},Ce={__name:"Dashboard",props:{business:Object,overview:Object,modules:Object,predictions:Array,quickWins:Array,crossModuleInsights:Array,dataRecommendations:Array},setup(l){const b=E(!1);async function _(){b.value=!0;try{await N.post("/business/algorithm/api/refresh"),O.reload()}catch(r){console.error("Refresh error:",r)}finally{b.value=!1}}function y(r){return r>=80?"text-emerald-600":r>=60?"text-green-600":r>=40?"text-yellow-600":"text-red-600"}function w(r){return r>=80?"bg-emerald-500":r>=60?"bg-green-500":r>=40?"bg-yellow-500":"bg-red-500"}function k(r){return{excellent:"text-emerald-600",good:"text-green-600",average:"text-yellow-600",poor:"text-red-600"}[r]||"text-gray-600"}function j(r){return r>=80?"bg-emerald-500":r>=60?"bg-green-500":r>=40?"bg-yellow-500":"bg-red-500"}function C(r){return{high:"text-emerald-600",medium:"text-amber-600",low:"text-red-600"}[r]||"text-gray-600"}function q(r){return r===1?"bg-red-500":r===2?"bg-orange-500":r===3?"bg-yellow-500":r===4?"bg-blue-500":"bg-gray-500"}function T(r){return{critical:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-blue-100 text-blue-700",low:"bg-gray-100 text-gray-700"}[r]||"bg-gray-100 text-gray-700"}function A(r){return{critical:"Juda muhim",high:"Yuqori",medium:"O'rtacha",low:"Past"}[r]||r}function I(r){return{high:"Yuqori",medium:"O'rtacha",low:"Past"}[r]||r}function M(r){return{success:"bg-green-50 text-green-800",warning:"bg-yellow-50 text-yellow-800",opportunity:"bg-blue-50 text-blue-800"}[r]||"bg-gray-50 text-gray-800"}function B(r){return{success:"âœ…",warning:"âš ï¸",opportunity:"ðŸ’¡"}[r]||"ðŸ“Œ"}return(r,e)=>(i(),a(m,null,[n(c(z),{title:"Algoritm Tahlili"}),n(R,null,{header:p(()=>[t("div",L,[e[1]||(e[1]=t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-900"},"Algoritm Tahlili"),t("p",{class:"text-sm text-gray-500 mt-1"},"AI'siz - Tez va aniq algoritmik tahlil")],-1)),t("button",{onClick:_,disabled:b.value,class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50"},[n(c(W),{class:d(["w-5 h-5 mr-2",b.value&&"animate-spin"])},null,8,["class"]),e[0]||(e[0]=h(" Yangilash ",-1))],8,Q)])]),default:p(()=>[t("div",Y,[t("div",F,[t("div",G,[t("div",J,[t("div",U,[t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm text-gray-500"},"Salomatlik balli",-1)),t("p",{class:d(["text-3xl font-bold mt-1",y(l.overview.health_score?.score)])},o(l.overview.health_score?.score||0),3)]),t("div",{class:d(["p-3 rounded-full",w(l.overview.health_score?.score)])},[n(c(D),{class:"w-6 h-6 text-white"})],2)]),t("p",{class:d(["text-sm mt-2",k(l.overview.health_score?.status?.level)])},o(l.overview.health_score?.status?.label||"Hisoblanmoqda..."),3)]),t("div",X,[t("div",Z,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm text-gray-500"},"Ma'lumot aniqligi",-1)),t("p",tt,o(l.overview.data_accuracy?.score||0)+"% ",1)]),t("div",et,[n(c(H),{class:"w-6 h-6 text-white"})])]),t("p",st,o(l.overview.data_accuracy?.label||"Tekshirilmoqda..."),1)]),t("div",rt,[t("div",ot,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-gray-500"},"Ma'lumot sifati",-1)),t("p",lt,o(l.overview.data_quality?.grade||"-"),1)]),t("div",at,[n(c(P),{class:"w-6 h-6 text-white"})])]),t("p",it,o(l.overview.data_quality?.overall||0)+"% to'liqlik ",1)]),t("div",nt,[t("div",dt,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-500"},"Bashorat ishonchligi",-1)),t("p",ct,o(l.overview.prediction_confidence?.score||0)+"% ",1)]),t("div",gt,[n(c(f),{class:"w-6 h-6 text-white"})])]),t("p",{class:d(["text-sm mt-2",C(l.overview.prediction_confidence?.level)])},o(l.overview.prediction_confidence?.label||"Hisoblanmoqda..."),3)])]),t("div",mt,[t("div",ut,[t("div",xt,[t("div",ht,[t("div",bt,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Keyingi Qadamlar",-1)),t("span",yt,o(l.predictions.length)+" ta tavsiya",1)]),e[7]||(e[7]=t("p",{class:"text-sm text-gray-500 mt-1"},"Algoritmik tahlil asosida eng muhim harakatlar",-1))]),t("div",ft,[(i(!0),a(m,null,u(l.predictions,(s,g)=>(i(),a("div",{key:s.key,class:"p-4 hover:bg-gray-50 transition-colors"},[t("div",vt,[t("div",{class:d(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm",q(s.priority)])},o(s.priority),3),t("div",pt,[t("div",_t,[t("h4",wt,o(s.title),1),t("span",{class:d(["px-2 py-0.5 text-xs rounded-full",T(s.impact)])},o(A(s.impact)),3),t("span",kt,o(s.module_label),1)]),t("p",jt,o(s.reason),1),t("div",Ct,[t("span",qt,[n(c(V),{class:"w-4 h-4"}),h(" "+o(s.timeframe),1)]),t("span",Tt,[n(c(v),{class:"w-4 h-4"}),h(" Mehnat: "+o(I(s.effort)),1)])]),t("details",At,[t("summary",It," Qadamlarni ko'rish ("+o(s.steps?.length||0)+") ",1),t("ol",Mt,[(i(!0),a(m,null,u(s.steps,(S,$)=>(i(),a("li",{key:$},o(S),1))),128))])]),t("div",Bt,[t("p",St,[e[8]||(e[8]=t("strong",null,"Kutilayotgan natija:",-1)),h(" "+o(s.expected_outcome),1)])])])])]))),128)),l.predictions.length===0?(i(),a("div",$t,[n(c(f),{class:"w-12 h-12 mx-auto text-gray-300 mb-4"}),e[9]||(e[9]=t("p",null,"Tavsiyalar hisoblash uchun ma'lumotlar yetarli emas",-1))])):x("",!0)])]),l.quickWins.length>0?(i(),a("div",zt,[t("h3",Nt,[n(c(v),{class:"w-5 h-5"}),e[10]||(e[10]=h(" Tez Natijalar (Quick Wins) ",-1))]),e[11]||(e[11]=t("p",{class:"text-sm opacity-90 mt-1"},"Kam mehnat, yuqori ta'sir - darhol boshlanadigan ishlar",-1)),t("div",Ot,[(i(!0),a(m,null,u(l.quickWins,s=>(i(),a("div",{key:s.key,class:"bg-white/10 rounded-lg p-3"},[t("div",Rt,[t("span",Dt,o(s.title),1),t("span",Ht,o(s.timeframe),1)]),t("p",Pt,o(s.reason),1)]))),128))])])):x("",!0)]),t("div",Vt,[t("div",Wt,[e[12]||(e[12]=t("div",{class:"p-6 border-b border-gray-100"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Modullar Holati")],-1)),t("div",Et,[(i(!0),a(m,null,u(l.modules,(s,g)=>(i(),a("div",{key:g,class:"p-3 bg-gray-50 rounded-lg"},[t("div",Kt,[t("span",Lt,o(s.label),1),t("span",{class:d(["text-sm font-bold",y(s.health_score)])},o(s.health_score),3)]),t("div",Qt,[t("div",{class:d(["h-2 rounded-full",j(s.health_score)]),style:K({width:s.health_score+"%"})},null,6)]),t("div",Yt,[t("span",null,"Ma'lumot: "+o(s.data_completeness)+"%",1),s.trend?(i(),a("span",Ft," Trend: "+o(s.trend?.direction==="up"?"ðŸ“ˆ":s.trend?.direction==="down"?"ðŸ“‰":"âž¡ï¸"),1)):x("",!0)])]))),128))])]),l.crossModuleInsights.length>0?(i(),a("div",Gt,[e[13]||(e[13]=t("div",{class:"p-6 border-b border-gray-100"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Modullar Aro Tahlil")],-1)),t("div",Jt,[(i(!0),a(m,null,u(l.crossModuleInsights,(s,g)=>(i(),a("div",{key:g,class:d(["p-3 rounded-lg text-sm",M(s.type)])},[t("div",Ut,[t("span",null,o(B(s.type)),1),t("p",null,o(s.message),1)])],2))),128))])])):x("",!0),l.dataRecommendations.length>0?(i(),a("div",Xt,[e[14]||(e[14]=t("div",{class:"p-6 border-b border-gray-100"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Ma'lumotlar Tavsiyalari")],-1)),t("div",Zt,[(i(!0),a(m,null,u(l.dataRecommendations,(s,g)=>(i(),a("div",{key:g,class:"flex items-start gap-3 text-sm"},[t("span",{class:d(["flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs text-white",s.priority==="high"?"bg-red-500":"bg-yellow-500"])},o(g+1),3),t("div",null,[t("p",te,o(s.recommendation),1),t("p",ee,o(s.impact),1)])]))),128))])])):x("",!0)])])])])]),_:1})],64))}};export{Ce as default};

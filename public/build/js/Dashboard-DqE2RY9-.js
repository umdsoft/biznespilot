import{b as e,C as t,D as a,y as r,I as s,z as l,E as i,A as n,Q as o,J as d,K as c,v as u,R as g,B as m,r as p,w as v,o as y,F as b,H as x,L as h,x as f}from"./chunk-CpmtkKLp.js";import{l as w,a as k}from"./chunk-BhZp3z4u.js";import{u as _}from"./chunk-DgTeaoj4.js";import{u as S}from"./chunk-rb1KmzHm.js";import{u as j}from"./app-C-ZlocOh.js";import{_ as $}from"./chunk-BCo6x5W8.js";import"./chunk-BWiubfpN.js";const M={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow"},q={class:"flex items-center justify-between mb-4"},B={class:"flex items-center gap-3"},C={class:"text-3xl"},P={class:"text-sm font-medium text-gray-600"},I={key:0,class:"flex items-center gap-1"},K={key:0,class:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},z={key:1,class:"w-4 h-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},A={class:"mb-4"},D={class:"text-3xl font-bold text-gray-900 mb-1"},E={class:"text-sm text-gray-500"},H={class:"mb-3"},L={class:"flex items-center justify-between text-xs text-gray-600 mb-1"},U={class:"w-full bg-gray-200 rounded-full h-2 overflow-hidden"},O={class:"flex items-center gap-2"},R={__name:"SummaryCard",props:{icon:{type:String,required:!0},name:{type:String,required:!0},value:{type:String,required:!0},target:{type:String,required:!0},performancePercent:{type:Number,required:!0},performanceStatus:{type:String,required:!0},performanceColor:{type:String,required:!0},changePercent:{type:Number,default:null}},setup(d){const{t:c}=j(),u=d,g=e(()=>({green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"}[u.performanceColor]||"bg-gray-500")),m=e(()=>({green:"bg-green-100 text-green-800",yellow:"bg-yellow-100 text-yellow-800",red:"bg-red-100 text-red-800"}[u.performanceColor]||"bg-gray-100 text-gray-800")),p=e(()=>u.changePercent>0?"text-green-600":u.changePercent<0?"text-red-600":"text-gray-600");return(e,u)=>(a(),t("div",M,[r("div",q,[r("div",B,[r("div",C,l(d.icon),1),r("h3",P,l(d.name),1)]),null!==d.changePercent?(a(),t("div",I,[d.changePercent>0?(a(),t("svg",K,[...u[0]||(u[0]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"},null,-1)])])):d.changePercent<0?(a(),t("svg",z,[...u[1]||(u[1]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"},null,-1)])])):s("",!0),r("span",{class:i([p.value,"text-sm font-medium"])},l(Math.abs(d.changePercent))+"% ",3)])):s("",!0)]),r("div",A,[r("div",D,l(d.value),1),r("div",E,l(n(c)("kpi.target"))+": "+l(d.target),1)]),r("div",H,[r("div",L,[r("span",null,l(d.performanceStatus),1),r("span",null,l(d.performancePercent)+"%",1)]),r("div",U,[r("div",{class:i([g.value,"h-2 rounded-full transition-all duration-500"]),style:o({width:`${Math.min(d.performancePercent,100)}%`})},null,6)])]),r("div",O,[r("span",{class:i([m.value,"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(d.performanceStatus),3)])]))}},T=["width","height"],Y=["d","stroke"],Q=["cx","cy","fill"],N={__name:"Sparkline",props:{data:{type:Array,default:()=>[]},width:{type:Number,default:80},height:{type:Number,default:24},color:{type:String,default:"#6366f1"},showDot:{type:Boolean,default:!0}},setup(r){const l=r,i=e(()=>{if(!l.data||0===l.data.length)return[];const e=l.data.map(e=>("object"==typeof e?e.value:e)||0),t=Math.min(...e),a=Math.max(...e)-t||1,r=l.width-8,s=l.height-8;return e.map((l,i)=>({x:4+i/(e.length-1||1)*r,y:4+s-(l-t)/a*s}))}),n=e(()=>i.value.length<2?"":i.value.map((e,t)=>`${0===t?"M":"L"}${e.x},${e.y}`).join(" "));return(e,l)=>(a(),t("svg",{width:r.width,height:r.height,class:"overflow-visible"},[i.value.length>1?(a(),t("path",{key:0,d:n.value,fill:"none",stroke:r.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Y)):s("",!0),r.showDot&&i.value.length>0?(a(),t("circle",{key:1,cx:i.value[i.value.length-1].x,cy:i.value[i.value.length-1].y,r:"3",fill:r.color},null,8,Q)):s("",!0)],8,T))}},V={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},F={class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},J={class:"text-lg font-semibold text-gray-900"},X={key:0,class:"text-sm text-gray-500 mt-1"},G={class:"overflow-x-auto"},W={class:"bg-gray-100 px-6 py-3 border-b border-gray-200"},Z={class:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},ee={class:"min-w-full divide-y divide-gray-200"},te={class:"bg-gray-50"},ae={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},re={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},se={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},le={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ie={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ne={class:"bg-white divide-y divide-gray-200"},oe={class:"px-6 py-4 whitespace-nowrap"},de={class:"flex items-center gap-3"},ce={class:"text-xl"},ue={class:"text-sm font-medium text-gray-900"},ge={key:0,class:"text-xs text-gray-500"},me={class:"px-6 py-4 whitespace-nowrap"},pe={class:"text-sm font-semibold text-gray-900"},ve={class:"px-6 py-4 whitespace-nowrap"},ye={class:"text-sm text-gray-600"},be={class:"px-6 py-4 whitespace-nowrap"},xe={class:"flex flex-col gap-2"},he={class:"w-32 bg-gray-200 rounded-full h-1.5"},fe={class:"px-6 py-4 whitespace-nowrap"},we={class:"flex items-center gap-2"},ke={key:1,class:"text-xs text-gray-400"},_e={__name:"KpiTable",props:{title:{type:String,required:!0},subtitle:{type:String,default:null},sections:{type:Array,required:!0}},setup(e){const{t:g}=j(),m=e=>({green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"}[e]||"bg-gray-500");return(p,v)=>(a(),t("div",V,[r("div",F,[r("h2",J,l(e.title),1),e.subtitle?(a(),t("p",X,l(e.subtitle),1)):s("",!0)]),r("div",G,[(a(!0),t(d,null,c(e.sections,e=>(a(),t("div",{key:e.name,class:"border-b border-gray-200 last:border-b-0"},[r("div",W,[r("h3",Z,l(e.name),1)]),r("table",ee,[r("thead",te,[r("tr",null,[r("th",ae,l(n(g)("kpi.kpi")),1),r("th",re,l(n(g)("kpi.current")),1),r("th",se,l(n(g)("kpi.target")),1),r("th",le,l(n(g)("kpi.status")),1),r("th",ie,l(n(g)("kpi.trend")),1)])]),r("tbody",ne,[(a(!0),t(d,null,c(e.rows,e=>{return a(),t("tr",{key:e.kpi_code,class:"hover:bg-gray-50 transition-colors"},[r("td",oe,[r("div",de,[r("span",ce,l(e.icon),1),r("div",null,[r("div",ue,l(e.name),1),e.description?(a(),t("div",ge,l(e.description),1)):s("",!0)])])]),r("td",me,[r("div",pe,l(e.current_value),1)]),r("td",ve,[r("div",ye,l(e.target_value),1)]),r("td",be,[r("div",xe,[r("span",{class:i([(n=e.performance_color,{green:"bg-green-100 text-green-800",yellow:"bg-yellow-100 text-yellow-800",red:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800"),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium w-fit"])},l(e.performance_status)+" ("+l(e.performance_percent)+"%) ",3),r("div",he,[r("div",{class:i([m(e.performance_color),"h-1.5 rounded-full transition-all duration-300"]),style:o({width:`${Math.min(e.performance_percent,100)}%`})},null,6)])])]),r("td",fe,[r("div",we,[e.trend_data&&e.trend_data.length>0?(a(),u(N,{key:0,data:e.trend_data,color:e.performance_color,class:"w-20 h-10"},null,8,["data","color"])):(a(),t("span",ke,"N/A"))])])]);var n}),128))])])]))),128))])]))}},Se={class:"space-y-6 animate-pulse"},je={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},$e={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Me={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},qe={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Be={class:"p-6 space-y-4"},Ce=$({__name:"LoadingSkeleton",setup:e=>(e,s)=>(a(),t("div",Se,[s[6]||(s[6]=g('<div class="flex items-center justify-between" data-v-b79805bf><div class="space-y-2" data-v-b79805bf><div class="h-8 bg-gray-200 rounded w-64" data-v-b79805bf></div><div class="h-4 bg-gray-200 rounded w-48" data-v-b79805bf></div></div><div class="flex gap-3" data-v-b79805bf><div class="h-10 bg-gray-200 rounded w-32" data-v-b79805bf></div><div class="h-10 bg-gray-200 rounded w-24" data-v-b79805bf></div></div></div>',1)),r("div",je,[(a(),t(d,null,c(4,e=>r("div",{key:e,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},[...s[0]||(s[0]=[g('<div class="flex items-center justify-between mb-4" data-v-b79805bf><div class="h-6 bg-gray-200 rounded w-24" data-v-b79805bf></div><div class="h-6 bg-gray-200 rounded w-12" data-v-b79805bf></div></div><div class="space-y-2" data-v-b79805bf><div class="h-8 bg-gray-200 rounded w-32" data-v-b79805bf></div><div class="h-4 bg-gray-200 rounded w-24" data-v-b79805bf></div></div><div class="mt-4" data-v-b79805bf><div class="h-2 bg-gray-200 rounded w-full" data-v-b79805bf></div></div>',3)])])),64))]),r("div",$e,[s[2]||(s[2]=r("div",{class:"h-6 bg-gray-200 rounded w-32 mb-4"},null,-1)),r("div",Me,[(a(),t(d,null,c(3,e=>r("div",{key:e,class:"text-center space-y-2"},[...s[1]||(s[1]=[r("div",{class:"h-10 bg-gray-200 rounded w-16 mx-auto"},null,-1),r("div",{class:"h-4 bg-gray-200 rounded w-24 mx-auto"},null,-1)])])),64))]),s[3]||(s[3]=r("div",{class:"mt-6 space-y-2"},[r("div",{class:"h-4 bg-gray-200 rounded w-full"}),r("div",{class:"h-3 bg-gray-200 rounded w-full"})],-1))]),r("div",qe,[s[5]||(s[5]=r("div",{class:"px-6 py-4 border-b border-gray-200"},[r("div",{class:"h-6 bg-gray-200 rounded w-48"})],-1)),r("div",Be,[(a(),t(d,null,c(5,e=>r("div",{key:e,class:"flex items-center gap-4"},[...s[4]||(s[4]=[r("div",{class:"h-4 bg-gray-200 rounded flex-1"},null,-1),r("div",{class:"h-4 bg-gray-200 rounded w-24"},null,-1),r("div",{class:"h-4 bg-gray-200 rounded w-24"},null,-1),r("div",{class:"h-4 bg-gray-200 rounded w-20"},null,-1)])])),64))])])]))},[["__scopeId","data-v-b79805bf"]]),Pe={class:"bg-white rounded-lg shadow-sm border border-red-200 p-12 text-center"},Ie={class:"text-lg font-semibold text-gray-900 mb-2"},Ke={class:"text-gray-600 mb-6 max-w-md mx-auto"},ze={class:"flex items-center justify-center gap-3"},Ae={key:0,class:"mt-6 text-left"},De={class:"bg-red-50 rounded-lg p-4 text-sm"},Ee={class:"cursor-pointer font-medium text-red-800 mb-2"},He={class:"text-xs text-red-700 overflow-auto"},Le={__name:"ErrorState",props:{title:{type:String,default:null},message:{type:String,default:null},errorDetails:{type:[String,Object],default:null},showSupport:{type:Boolean,default:!0}},emits:["retry","contact-support"],setup(i){const{t:o}=j(),d=e(()=>!1);return(e,c)=>(a(),t("div",Pe,[c[4]||(c[4]=r("div",{class:"text-6xl mb-4"},"âš ï¸",-1)),r("h3",Ie,l(i.title||n(o)("kpi.error_occurred")),1),r("p",Ke,l(i.message||n(o)("kpi.error_loading_data")),1),r("div",ze,[r("button",{onClick:c[0]||(c[0]=t=>e.$emit("retry")),class:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},[c[2]||(c[2]=r("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),m(" "+l(n(o)("kpi.retry")),1)]),i.showSupport?(a(),t("button",{key:0,onClick:c[1]||(c[1]=t=>e.$emit("contact-support")),class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},[c[3]||(c[3]=r("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),m(" "+l(n(o)("kpi.get_help")),1)])):s("",!0)]),i.errorDetails&&d.value?(a(),t("div",Ae,[r("details",De,[r("summary",Ee,l(n(o)("kpi.error_details"))+" (Developer Mode) ",1),r("pre",He,l(i.errorDetails),1)])])):s("",!0)]))}},Ue={class:"space-y-6"},Oe={class:"flex items-center justify-between"},Re={class:"flex items-center gap-3 mb-2"},Te={key:0,class:"text-3xl"},Ye={class:"text-sm text-gray-500"},Qe={class:"font-medium"},Ne={key:0,class:"text-xs text-gray-400 mt-1"},Ve={class:"flex items-center gap-3"},Fe={key:0,class:"text-xs text-gray-500 mr-2"},Je=["disabled"],Xe=["disabled"],Ge=["disabled"],We={key:2},Ze={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"},et={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},tt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},at={class:"text-center"},rt={class:"text-3xl font-bold text-green-600 mb-1"},st={class:"text-center"},lt={class:"text-3xl font-bold text-yellow-600 mb-1"},it={class:"text-center"},nt={class:"text-3xl font-bold text-red-600 mb-1"},ot={class:"mt-6"},dt={class:"flex items-center justify-between text-sm text-gray-600 mb-2"},ct={class:"font-semibold"},ut={class:"w-full bg-gray-200 rounded-full h-3"},gt={key:3,class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-sm border border-blue-200 p-6 mt-6"},mt={class:"space-y-3"},pt={class:"flex items-start gap-3"},vt={class:"flex-1"},yt={class:"font-medium text-gray-900 mb-1"},bt={class:"text-sm text-gray-600"},xt={key:4,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},ht={class:"flex items-center justify-center gap-3"},ft={__name:"Dashboard",setup(j){const $=_(),M=S(),q=p(!0),B=p(null),C=p(30),P=p([]),I=p(null),K=p(null),z=p([]),A=p(""),D=p(""),E=p(""),H=p(""),L=p(null),U=e(()=>$.currentBusiness?.id||null),O=async(e=!1)=>{if(!U.value)return B.value={title:"Biznes Tanlanmagan",message:"Iltimos, avval biznesingizni tanlang.",action:"select-business"},void(q.value=!1);q.value=!0,B.value=null;try{const t=await k.get("/api/kpi-dashboard",{params:{business_id:U.value,days:C.value}}),a=t.data.data||t.data;if(!a)throw new Error("Ma'lumot topilmadi");P.value=a.summary_cards||[],I.value=a.kpi_table||{sections:[]},K.value=a.performance_overview||null,z.value=a.recommendations||[],L.value=new Date,a.business?(E.value=a.business.name||"Biznes",A.value=a.business.industry_name||"Umumiy Biznes",D.value=a.business.industry_icon||"ðŸ“Š",H.value=a.business.category||a.business.original_industry||""):A.value=a.industry_name||"Biznes",e&&M.success("Ma'lumotlar muvaffaqiyatli yangilandi")}catch(t){B.value={title:"Xatolik Yuz Berdi",message:t.response?.data?.message||t.message||"KPI ma'lumotlarini yuklashda xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.",details:null},M.error(B.value.message)}finally{q.value=!1}},T=()=>{B.value=null,O(!0)};v(U,(e,t)=>{e&&e!==t&&O()});const Y=e=>{if(!e)return"";const t=new Date,a=Math.floor((t-e)/1e3);if(a<60)return`${a} soniya oldin`;if(a<3600)return`${Math.floor(a/60)} daqiqa oldin`;if(a<86400)return`${Math.floor(a/3600)} soat oldin`;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},Q=async()=>{try{M.info("Eksport tayyorlanmoqda...");const e={business:E.value,industry:A.value,period:`${C.value} kun`,summary_cards:P.value,kpi_table:I.value,performance_overview:K.value,recommendations:z.value,exported_at:(new Date).toISOString()},t=N(e),a=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),s=URL.createObjectURL(a);r.setAttribute("href",s),r.setAttribute("download",`kpi-dashboard-${E.value}-${(new Date).toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),M.success("Eksport muvaffaqiyatli amalga oshirildi")}catch(e){M.error("Eksport qilishda xatolik yuz berdi")}},N=e=>{let t=`KPI Boshqaruv Paneli - ${e.business}\n`;return t+=`Soha: ${e.industry}\n`,t+=`Davr: ${e.period}\n`,t+=`Eksport vaqti: ${(new Date).toLocaleString()}\n\n`,t+="UMUMIY KO'RSATKICHLAR\n",t+="KPI,Joriy Qiymat,Maqsad,Bajarilish %,Holat\n",e.summary_cards.forEach(e=>{t+=`"${e.name}","${e.value}","${e.target}",${e.performance_percent},"${e.performance_status}"\n`}),t+="\n",t+="BATAFSIL KPI'LAR\n",e.kpi_table.sections?.forEach(e=>{t+=`\n${e.name}\n`,t+="KPI,Joriy,Maqsad,Bajarilish %,Holat\n",e.rows?.forEach(e=>{t+=`"${e.name}","${e.current_value}","${e.target_value}",${e.performance_percent},"${e.performance_status}"\n`})}),t};return y(()=>{O()}),(e,p)=>{return a(),t("div",Ue,[r("div",Oe,[r("div",null,[r("div",Re,[D.value?(a(),t("span",Te,l(D.value),1)):s("",!0),p[4]||(p[4]=r("h1",{class:"text-2xl font-bold text-gray-900"},"KPI Boshqaruv Paneli",-1))]),r("p",Ye,[r("span",Qe,l(E.value),1),m(" - "+l(A.value),1)]),H.value?(a(),t("p",Ne," Kategoriya: "+l(H.value),1)):s("",!0)]),r("div",Ve,[L.value&&!q.value?(a(),t("div",Fe," Yangilangan: "+l(Y(L.value)),1)):s("",!0),b(r("select",{"onUpdate:modelValue":p[0]||(p[0]=e=>C.value=e),onChange:p[1]||(p[1]=()=>O(!0)),disabled:q.value,class:"rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"},[...p[5]||(p[5]=[r("option",{value:"7"},"Oxirgi 7 kun",-1),r("option",{value:"30"},"Oxirgi 30 kun",-1),r("option",{value:"90"},"Oxirgi 90 kun",-1)])],40,Je),[[x,C.value]]),r("button",{onClick:Q,disabled:q.value||!P.value.length,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Excel formatida eksport qilish"},[...p[6]||(p[6]=[r("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),m(" Eksport ",-1)])],8,Xe),r("button",{onClick:p[2]||(p[2]=()=>O(!0)),disabled:q.value,class:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[(a(),t("svg",{class:i([{"animate-spin":q.value},"w-4 h-4 mr-2"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...p[7]||(p[7]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),m(" "+l(q.value?"Yuklanmoqda...":"Yangilash"),1)],8,Ge)])]),q.value?(a(),u(Ce,{key:0})):B.value?(a(),u(Le,{key:1,title:B.value.title,message:B.value.message,"error-details":B.value.details,onRetry:T,onContactSupport:()=>{}},null,8,["title","message","error-details"])):(a(),t("div",We,[P.value.length>0?(a(),t("div",Ze,[(a(!0),t(d,null,c(P.value,e=>(a(),u(R,{key:e.kpi_code,icon:e.icon,name:e.name,value:e.value,target:e.target,"performance-percent":e.performance_percent,"performance-status":e.performance_status,"performance-color":e.performance_color,"change-percent":e.change_percent},null,8,["icon","name","value","target","performance-percent","performance-status","performance-color","change-percent"]))),128))])):s("",!0),K.value?(a(),t("div",et,[p[12]||(p[12]=r("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Umumiy Holat",-1)),r("div",tt,[r("div",at,[r("div",rt,l(K.value.on_track_count),1),p[8]||(p[8]=r("div",{class:"text-sm text-gray-600"},"Rejadagi KPI",-1))]),r("div",st,[r("div",lt,l(K.value.needs_attention_count),1),p[9]||(p[9]=r("div",{class:"text-sm text-gray-600"},"E'tibor Talab Qiladi",-1))]),r("div",it,[r("div",nt,l(K.value.critical_count),1),p[10]||(p[10]=r("div",{class:"text-sm text-gray-600"},"Kritik Holat",-1))])]),r("div",ot,[r("div",dt,[p[11]||(p[11]=r("span",null,"Umumiy Foiz",-1)),r("span",ct,l(K.value.overall_percentage)+"%",1)]),r("div",ut,[r("div",{class:i([(v=K.value.overall_percentage,v>=80?"bg-green-500":v>=60?"bg-yellow-500":"bg-red-500"),"h-3 rounded-full transition-all duration-500"]),style:o({width:`${K.value.overall_percentage}%`})},null,6)])])])):s("",!0),I.value&&I.value.sections&&I.value.sections.length>0?(a(),u(_e,{key:2,title:"Barcha KPI Ko'rsatkichlari",subtitle:`${I.value.sections.reduce((e,t)=>e+t.rows.length,0)} ta ko'rsatkich`,sections:I.value.sections},null,8,["subtitle","sections"])):s("",!0),z.value&&z.value.length>0?(a(),t("div",gt,[p[13]||(p[13]=r("div",{class:"flex items-center gap-3 mb-4"},[r("div",{class:"text-3xl"},"ðŸ’¡"),r("h2",{class:"text-lg font-semibold text-gray-900"},"AI Tavsiyalari")],-1)),r("div",mt,[(a(!0),t(d,null,c(z.value,(e,s)=>{return a(),t("div",{key:s,class:"bg-white rounded-lg p-4 shadow-sm"},[r("div",pt,[r("div",{class:i([(n=e.priority,{Yuqori:"bg-red-100 text-red-800","O'rta":"bg-yellow-100 text-yellow-800",Past:"bg-blue-100 text-blue-800"}[n]||"bg-gray-100 text-gray-800"),"px-2.5 py-0.5 rounded-full text-xs font-medium mt-1"])},l(e.priority),3),r("div",vt,[r("div",yt,l(e.kpi_name),1),r("p",bt,l(e.message),1)])])]);var n}),128))])])):s("",!0),P.value.length||q.value||B.value?s("",!0):(a(),t("div",xt,[p[16]||(p[16]=r("div",{class:"text-6xl mb-4"},"ðŸ“Š",-1)),p[17]||(p[17]=r("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"KPI Ma'lumotlari Topilmadi",-1)),p[18]||(p[18]=r("p",{class:"text-gray-600 mb-6 max-w-md mx-auto"}," Biznesingiz uchun KPI ma'lumotlari hali yuklanmagan. Integratsiyalarni ulang yoki KPI'larni qo'lda kiriting. ",-1)),r("div",ht,[h(n(w),{href:"/business/settings",class:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},{default:f(()=>[...p[14]||(p[14]=[r("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),m(" Integratsiyalarni Ulash ",-1)])]),_:1}),r("button",{onClick:p[3]||(p[3]=()=>O(!0)),class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},[...p[15]||(p[15]=[r("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),m(" Qayta Urinish ",-1)])])]),p[19]||(p[19]=g('<div class="mt-8 pt-6 border-t border-gray-200"><p class="text-sm text-gray-500 mb-3">Yordam kerakmi?</p><div class="flex items-center justify-center gap-4 text-sm"><a href="#" class="text-primary-600 hover:text-primary-700 font-medium"> ðŸ“š Qo&#39;llanma </a><a href="#" class="text-primary-600 hover:text-primary-700 font-medium"> ðŸŽ¥ Video Ko&#39;rsatma </a><a href="#" class="text-primary-600 hover:text-primary-700 font-medium"> ðŸ’¬ Qo&#39;llab-quvvatlash </a></div></div>',1))]))]))]);var v}}};export{ft as default};

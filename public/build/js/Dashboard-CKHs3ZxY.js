import{r as e}from"./chunk-BhZp3z4u.js";import{_ as t}from"./chunk-Bfc-GtxM.js";import{r}from"./chunk-DNKDGYPp.js";import{r as a}from"./chunk-dqIIyBTR.js";import{r as s}from"./chunk-D7oP9pDe.js";import{r as o}from"./chunk-BiW1c8q7.js";import{v as l,x as n,y as i,C as d,D as g,J as c,K as x,E as m,z as p,I as u,O as k,B as b,Q as h}from"./chunk-CpmtkKLp.js";import"./chunk-D7SyfRoT.js";import"./app-C-ZlocOh.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-eMHYSAeQ.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-CTIk0k8a.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-Bsc1JRL5.js";import"./chunk-BuJDoypK.js";const y={class:"mb-8"},v={class:"flex items-center justify-between flex-wrap gap-4"},f={class:"flex gap-3"},w=["onClick"],j={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},C={class:"flex items-center justify-between mb-4"},M={class:m(["w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center"])},_={class:"flex items-baseline gap-1"},A={class:"text-3xl font-bold"},B={class:"text-lg opacity-75"},K={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},F={class:"lg:col-span-2 space-y-6"},z={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},T={class:"flex items-end justify-between gap-4"},$={class:"relative"},I={class:"absolute inset-0 flex items-center justify-center"},O={key:0,class:"absolute -right-2 top-1/2 transform -translate-y-1/2 text-gray-400"},S={class:"mt-3 text-sm font-medium text-gray-600 dark:text-gray-400"},V={key:0,class:"text-xs text-gray-500"},P={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},H={class:"grid grid-cols-2 gap-6"},L={class:"text-2xl font-bold text-gray-900 dark:text-white"},R={class:"text-2xl font-bold text-green-600 dark:text-green-400"},D={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},G={class:"flex items-center justify-between"},J={class:"space-y-6"},U={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},q={class:"divide-y divide-gray-100 dark:divide-gray-700"},E={class:"flex items-center justify-between mb-2"},N={class:"font-medium text-gray-900 dark:text-white text-sm truncate max-w-[180px]"},Q={class:"flex items-center justify-between text-xs text-gray-500"},Y={key:0,class:"px-6 py-8 text-center text-gray-500"},Z={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},W={class:"p-4 space-y-3"},X={class:"flex-1 min-w-0"},ee={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},te={class:"flex items-center gap-2 text-xs text-gray-500"},re={class:"text-right"},ae={key:0,class:"py-4 text-center text-gray-500 text-sm"},se={__name:"Dashboard",props:{kpiCards:Array,overview:Object,funnel:Array,topCampaigns:Array,channelPerformance:Array,snapshots:Array,periodType:String,panelType:String},setup(se){const oe=se,le=[{key:"daily",label:"Kunlik"},{key:"weekly",label:"Haftalik"},{key:"monthly",label:"Oylik"}],ne=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0",ie=e=>e?e>=1e6?(e/1e6).toFixed(1)+" mln":new Intl.NumberFormat("uz-UZ").format(e)+" so'm":"0 so'm",de=e=>{const t=Math.max(...oe.funnel.map(e=>e.count),1);return Math.max(60,e/t*180)},ge=e=>0!==e&&oe.funnel[e-1]?.count?(oe.funnel[e].count/oe.funnel[e-1].count*100).toFixed(1):0,ce=e=>{const t={instagram:"bg-gradient-to-br from-pink-500 to-purple-600",telegram:"bg-gradient-to-br from-blue-400 to-blue-600",facebook:"bg-gradient-to-br from-blue-600 to-blue-800",google:"bg-gradient-to-br from-red-500 to-yellow-500",youtube:"bg-gradient-to-br from-red-600 to-red-700",tiktok:"bg-gradient-to-br from-gray-900 to-gray-700",other:"bg-gradient-to-br from-gray-500 to-gray-600"};return t[e]||t.other};return(oe,xe)=>(g(),l(t,{title:"Marketing KPI"},{default:n(()=>[i("div",y,[i("div",v,[xe[0]||(xe[0]=i("div",null,[i("h2",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100"}," Marketing KPI Dashboard "),i("p",{class:"mt-2 text-gray-600 dark:text-gray-400"}," Marketing samaradorligi va ROI ko'rsatkichlari ")],-1)),i("div",f,[(g(),d(c,null,x(le,t=>i("button",{key:t.key,onClick:r=>{return a=t.key,void e.get("/marketing/kpi",{period:a},{preserveState:!0,preserveScroll:!0});var a},class:m(["px-4 py-2 rounded-lg font-medium transition-all",se.periodType===t.key?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])},p(t.label),11,w)),64))])])]),i("div",j,[(g(!0),d(c,null,x(se.kpiCards,e=>{return g(),d("div",{key:e.title,class:m(["rounded-xl shadow-lg p-6 text-white",`bg-gradient-to-br from-${e.color}-500 to-${e.color}-600`])},[i("div",C,[i("div",M,[(g(),l(k((t=e.title,{CPL:o,ROAS:s,ROI:a,CAC:r}[t]||a)),{class:"h-6 w-6"}))]),e.trend?(g(),d("div",{key:0,class:m(["flex items-center gap-1 text-sm",e.trend.positive?"text-green-200":"text-red-200"])},[i("span",null,p("up"===e.trend.direction?"↑":"↓"),1),i("span",null,p(e.trend.value)+"%",1)],2)):u("",!0)]),i("p",{class:m([`text-${e.color}-100`,"text-sm font-medium mb-1"])},p(e.title),3),i("div",_,[i("span",A,p(e.value),1),i("span",B,p(e.suffix),1)]),i("p",{class:m([`text-${e.color}-200`,"text-xs mt-1"])},p(e.description),3)],2);var t}),128))]),i("div",K,[i("div",F,[i("div",z,[xe[1]||(xe[1]=i("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-2"},[i("svg",{class:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),b(" Lead Funnel ")],-1)),i("div",T,[(g(!0),d(c,null,x(se.funnel,(e,t)=>(g(),d("div",{key:e.stage,class:"flex-1 text-center"},[i("div",$,[i("div",{class:m(["mx-auto rounded-lg transition-all",[`bg-${e.color}-100 dark:bg-${e.color}-900/30`]]),style:h({height:de(e.count)+"px",minHeight:"60px"})},[i("div",I,[i("span",{class:m([`text-${e.color}-700 dark:text-${e.color}-400`,"text-2xl font-bold"])},p(ne(e.count)),3)])],6),t<se.funnel.length-1?(g(),d("div",O," → ")):u("",!0)]),i("p",S,p(e.stage),1),t>0?(g(),d("p",V,p(ge(t))+"% konversiya ",1)):u("",!0)]))),128))])]),i("div",P,[xe[5]||(xe[5]=i("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[i("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),b(" Moliyaviy Ko'rsatkichlar ")],-1)),i("div",H,[i("div",null,[xe[2]||(xe[2]=i("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Jami sarflangan",-1)),i("p",L,p(ie(se.overview.total_spend)),1)]),i("div",null,[xe[3]||(xe[3]=i("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Jami daromad",-1)),i("p",R,p(ie(se.overview.total_revenue)),1)])]),i("div",D,[i("div",G,[xe[4]||(xe[4]=i("span",{class:"text-sm text-gray-500"},"Foyda",-1)),i("span",{class:m(["text-lg font-bold",se.overview.total_revenue-se.overview.total_spend>=0?"text-green-600":"text-red-600"])},p(ie(se.overview.total_revenue-se.overview.total_spend)),3)])])])]),i("div",J,[i("div",U,[xe[6]||(xe[6]=i("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},[i("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},[i("svg",{class:"w-5 h-5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]),b(" Top Kampaniyalar ")]),i("a",{href:"/marketing/campaigns",class:"text-sm text-indigo-600 hover:text-indigo-700"}," Barchasi → ")],-1)),i("div",q,[(g(!0),d(c,null,x(se.topCampaigns,e=>(g(),d("div",{key:e.campaign_id,class:"px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700/50"},[i("div",E,[i("p",N,p(e.campaign_name),1),i("span",{class:m(["px-2 py-0.5 rounded text-xs font-medium","active"===e.campaign_status?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"])},p("active"===e.campaign_status?"Faol":"Tugallangan"),3)]),i("div",Q,[i("span",null,p(e.leads)+" lid",1),i("span",null,"ROAS: "+p(e.roas.toFixed(2))+"x",1)])]))),128)),0===se.topCampaigns.length?(g(),d("div",Y," Kampaniyalar topilmadi ")):u("",!0)])]),i("div",Z,[xe[9]||(xe[9]=i("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},[i("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},[i("svg",{class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),b(" Kanal Samaradorligi ")]),i("a",{href:"/marketing/kpi/leaderboard",class:"text-sm text-indigo-600 hover:text-indigo-700"}," Leaderboard → ")],-1)),i("div",W,[(g(!0),d(c,null,x(se.channelPerformance.slice(0,5),(e,t)=>{return g(),d("div",{key:e.channel_id,class:"flex items-center gap-3"},[i("div",{class:m(["w-8 h-8 rounded-lg flex items-center justify-center text-white text-sm font-bold",ce(e.channel_type)])},p((r=e.channel_type,{instagram:"IG",telegram:"TG",facebook:"FB",google:"G",youtube:"YT",tiktok:"TT"}[r]||r?.charAt(0)?.toUpperCase()||"?")),3),i("div",X,[i("p",ee,p(e.channel_name),1),i("div",te,[i("span",null,p(e.leads)+" lid",1),xe[7]||(xe[7]=i("span",null,"•",-1)),i("span",null,"CPL: "+p(ne(e.cpl)),1)])]),i("div",re,[i("p",{class:m(["text-sm font-bold",e.roi>=0?"text-green-600":"text-red-600"])},p(e.roi>=0?"+":"")+p(e.roi.toFixed(0))+"% ",3),xe[8]||(xe[8]=i("p",{class:"text-xs text-gray-500"},"ROI",-1))])]);var r}),128)),0===se.channelPerformance.length?(g(),d("div",ae," Ma'lumot yo'q ")):u("",!0)])])])]),xe[10]||(xe[10]=i("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-4"},[i("a",{href:"/marketing/kpi/leaderboard",class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow group"},[i("div",{class:"w-12 h-12 rounded-lg bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"},[i("svg",{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})])]),i("h4",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Leaderboard"),i("p",{class:"text-sm text-gray-500"},"Kanal va kampaniya reytingi")]),i("a",{href:"/marketing/campaigns",class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow group"},[i("div",{class:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"},[i("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})])]),i("h4",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Kampaniyalar"),i("p",{class:"text-sm text-gray-500"},"Barcha kampaniyalar")]),i("a",{href:"/marketing/channels",class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow group"},[i("div",{class:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"},[i("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])]),i("h4",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Kanallar"),i("p",{class:"text-sm text-gray-500"},"Kanal statistikasi")]),i("a",{href:"/marketing/analytics",class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow group"},[i("div",{class:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"},[i("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),i("h4",{class:"font-semibold text-gray-900 dark:text-white mb-1"},"Analitika"),i("p",{class:"text-sm text-gray-500"},"Batafsil hisobot")])],-1))]),_:1}))}};export{se as default};

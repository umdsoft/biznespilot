import{r as T,v as C,x as V,y as n,z as t,C as l,D as f,A as s,H as o,E as i,F as d,G as m,I as c,B as U,Q as j,J as u,L as h,K as b}from"./chunk-KPSVwAyv.js";import{_ as N}from"./chunk-D0p8mG4-.js";import{u as $,h as F}from"./chunk-BVrjkT6E.js";import{u as M}from"./app-DMGwzSHW.js";import{r as z}from"./chunk-Tj_a7zxz.js";import{r as v}from"./chunk-D-7B8ZCD.js";import{r as w}from"./chunk-CYw1XsNK.js";import{r as _}from"./chunk-Dfha1x8d.js";import"./chunk-C_PbB7ed.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-BgOPVSvg.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-CYZ54WJE.js";import"./chunk-J14gS6og.js";import"./chunk-BvkwlYlD.js";const D={class:"space-y-6"},I={class:"flex items-center justify-between"},X={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},A={class:"text-sm text-gray-500 dark:text-gray-400"},H={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},K={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},Z={class:"flex items-center gap-3"},E={class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},J={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},L={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},O={class:"flex items-center gap-3"},Q={class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center"},Y={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},G={class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},P={class:"flex items-center gap-3"},R={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},W={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},tt={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700"},et={key:0,class:"p-12 text-center"},rt={key:1,class:"overflow-x-auto"},st={class:"w-full"},at={class:"divide-y divide-gray-200 dark:divide-gray-700"},ot={class:"px-6 py-4 whitespace-nowrap"},dt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},lt={class:"px-6 py-4 whitespace-nowrap"},nt={class:"px-6 py-4"},it={class:"text-sm text-gray-900 dark:text-gray-100"},gt={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},ut={class:"px-6 py-4 whitespace-nowrap"},xt={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},yt={class:"px-6 py-4 whitespace-nowrap"},pt={class:"text-sm text-gray-600 dark:text-gray-400"},bt={class:"px-6 py-4 whitespace-nowrap"},mt={key:0,class:"flex items-center gap-1 text-green-600 dark:text-green-400 text-sm"},ct={key:1,class:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400 text-sm"},kt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},ft={class:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},ht=["value"],vt=["value"],wt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_t={class:"flex items-center justify-end gap-3 pt-4"},Bt=["disabled"],Qt={__name:"Bonuses",props:{bonuses:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]},bonusTypes:{type:Object,default:()=>({})}},setup(g){const{t:x}=M(),y=T(!1),a=$({user_id:null,type:"performance",title:"",description:"",amount:"",granted_date:new Date().toISOString().split("T")[0]}),B=()=>{a.post(route("hr.payroll.bonuses.store"),{preserveScroll:!0,onSuccess:()=>{y.value=!1,a.reset()}})},q=p=>new Intl.NumberFormat("uz-UZ").format(p)+" UZS",S=p=>{const e={performance:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",annual:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",spot:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",referral:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300"};return e[p]||e.performance};return(p,e)=>(d(),C(N,{title:s(x)("hr.bonuses")},{default:V(()=>[n(s(F),{title:s(x)("hr.bonuses")},null,8,["title"]),t("div",D,[t("div",I,[t("div",null,[t("h1",X,o(s(x)("hr.bonuses")),1),t("p",A,o(s(x)("hr.bonuses_subtitle")),1)]),t("button",{onClick:e[0]||(e[0]=r=>y.value=!0),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2"},[n(s(z),{class:"w-5 h-5"}),i(" "+o(s(x)("hr.add_bonus")),1)])]),t("div",H,[t("div",K,[t("div",Z,[t("div",E,[n(s(v),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),t("div",null,[t("p",J,o(g.bonuses.length),1),e[9]||(e[9]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jami Bonuslar",-1))])])]),t("div",L,[t("div",O,[t("div",Q,[n(s(w),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),t("div",null,[t("p",Y,o(g.bonuses.filter(r=>!r.is_paid).length),1),e[10]||(e[10]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Kutilmoqda",-1))])])]),t("div",G,[t("div",P,[t("div",R,[n(s(_),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),t("div",null,[t("p",W,o(g.bonuses.filter(r=>r.is_paid).length),1),e[11]||(e[11]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"To'langan",-1))])])])]),t("div",tt,[e[16]||(e[16]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Barcha Bonuslar"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Xodimlar uchun berilgan bonuslar ro'yxati")],-1)),g.bonuses.length===0?(d(),l("div",et,[n(s(v),{class:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),e[12]||(e[12]=t("p",{class:"text-gray-500 dark:text-gray-400"},"Hali bonuslar yo'q",-1)),t("button",{onClick:e[1]||(e[1]=r=>y.value=!0),class:"mt-4 text-blue-600 dark:text-blue-400 hover:underline"}," Birinchi bonusni qo'shing ")])):(d(),l("div",rt,[t("table",st,[e[15]||(e[15]=t("thead",{class:"bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Xodim "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Turi "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Nomi "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Summa "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Sana "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Holat ")])],-1)),t("tbody",at,[(d(!0),l(m,null,c(g.bonuses,r=>(d(),l("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-900/30 transition-colors"},[t("td",ot,[t("div",dt,o(r.user_name),1)]),t("td",lt,[t("span",{class:U([S(r.type),"px-2 py-1 text-xs rounded"])},o(r.type_label),3)]),t("td",nt,[t("div",it,o(r.title),1),r.description?(d(),l("div",gt,o(r.description),1)):f("",!0)]),t("td",ut,[t("div",xt,o(q(r.amount)),1)]),t("td",yt,[t("div",pt,o(r.granted_date),1)]),t("td",bt,[r.is_paid?(d(),l("span",mt,[n(s(_),{class:"w-4 h-4"}),e[13]||(e[13]=i(" To'langan ",-1))])):(d(),l("span",ct,[n(s(w),{class:"w-4 h-4"}),e[14]||(e[14]=i(" Kutilmoqda ",-1))]))])]))),128))])])]))])]),y.value?(d(),l("div",kt,[t("div",ft,[e[24]||(e[24]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Yangi Bonus Qo'shish")],-1)),t("form",{onSubmit:j(B,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Xodim "),t("span",{class:"text-red-500"},"*")],-1)),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>s(a).user_id=r),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[e[17]||(e[17]=t("option",{value:null,disabled:""},"Xodimni tanlang",-1)),(d(!0),l(m,null,c(g.employees,r=>(d(),l("option",{key:r.id,value:r.id},o(r.name),9,ht))),128))],512),[[h,s(a).user_id]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Bonus Turi "),t("span",{class:"text-red-500"},"*")],-1)),u(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>s(a).type=r),required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(d(!0),l(m,null,c(g.bonusTypes,(r,k)=>(d(),l("option",{key:k,value:k},o(r),9,vt))),128))],512),[[h,s(a).type]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Nomi "),t("span",{class:"text-red-500"},"*")],-1)),u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>s(a).title=r),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masalan: Yillik bonus"},null,512),[[b,s(a).title]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Tavsif ",-1)),u(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=r=>s(a).description=r),rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Bonus haqida qo'shimcha ma'lumot"},null,512),[[b,s(a).description]])]),t("div",wt,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Summa (UZS) "),t("span",{class:"text-red-500"},"*")],-1)),u(t("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>s(a).amount=r),type:"number",step:"1000",min:"0",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000000"},null,512),[[b,s(a).amount]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[i(" Berilgan Sana "),t("span",{class:"text-red-500"},"*")],-1)),u(t("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>s(a).granted_date=r),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[b,s(a).granted_date]])])]),t("div",_t,[t("button",{type:"button",onClick:e[8]||(e[8]=r=>{y.value=!1,s(a).reset()}),class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"}," Bekor qilish "),t("button",{type:"submit",disabled:s(a).processing,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50"},o(s(a).processing?"Saqlanmoqda...":"Saqlash"),9,Bt)])],32)])])):f("",!0)]),_:1},8,["title"]))}};export{Qt as default};

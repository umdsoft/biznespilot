import{r as e,w as t,v as a,x as r,L as s,y as l,A as d,z as o,B as g,F as n,G as c,C as i,D as x,J as u,K as b,H as p,I as y,E as k,O as m}from"./chunk-CpmtkKLp.js";import{h as f,l as h,r as v}from"./chunk-BhZp3z4u.js";import{_ as w}from"./chunk-Dr248YzT.js";import{u as j}from"./app-C-ZlocOh.js";import{r as _}from"./chunk-dqIIyBTR.js";import{r as O,a as S,b as C,c as T,d as E}from"./chunk-D7SyfRoT.js";import{r as A}from"./chunk-Bsc1JRL5.js";import{r as U}from"./chunk-eMHYSAeQ.js";import{r as q}from"./chunk-beXL1A--.js";import{r as V}from"./chunk-yvcCPqrN.js";import{r as F,a as K}from"./chunk-CouA7u-j.js";import{r as N}from"./chunk-BFPxvklm.js";import"./chunk-BWiubfpN.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-BuJDoypK.js";const D={class:"space-y-6"},I={class:"flex items-center justify-between"},J={class:"text-2xl font-bold text-gray-900 dark:text-white"},L={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},R={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},X={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},z={class:"flex items-center gap-3"},B={class:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center"},G={class:"text-2xl font-bold text-gray-900 dark:text-white"},H={class:"text-xs text-gray-500 dark:text-gray-400"},P={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-yellow-200 dark:border-yellow-800/30"},Z={class:"flex items-center gap-3"},$={class:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center"},M={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},Q={class:"text-xs text-gray-500 dark:text-gray-400"},W={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-blue-200 dark:border-blue-800/30"},Y={class:"flex items-center gap-3"},ee={class:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},te={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},ae={class:"text-xs text-gray-500 dark:text-gray-400"},re={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-green-200 dark:border-green-800/30"},se={class:"flex items-center gap-3"},le={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},de={class:"text-2xl font-bold text-green-600 dark:text-green-400"},oe={class:"text-xs text-gray-500 dark:text-gray-400"},ge={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-red-200 dark:border-red-800/30"},ne={class:"flex items-center gap-3"},ce={class:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},ie={class:"text-2xl font-bold text-red-600 dark:text-red-400"},xe={class:"text-xs text-gray-500 dark:text-gray-400"},ue={class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-orange-200 dark:border-orange-800/30"},be={class:"flex items-center gap-3"},pe={class:"w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"},ye={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},ke={class:"text-xs text-gray-500 dark:text-gray-400"},me={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},fe={class:"flex flex-col md:flex-row gap-4"},he={class:"flex-1 relative"},ve=["placeholder"],we={class:"flex flex-wrap gap-3"},je={value:"all"},_e=["value"],Oe={value:"all"},Se=["value"],Ce={value:"all"},Te=["value"],Ee={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},Ae={class:"overflow-x-auto"},Ue={class:"w-full"},qe={class:"bg-gray-50 dark:bg-gray-700/50"},Ve={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},Fe={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},Ke={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},Ne={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},De={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},Ie={class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},Je={class:"px-6 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase"},Le={class:"divide-y divide-gray-200 dark:divide-gray-700"},Re={class:"px-6 py-4"},Xe={class:"px-6 py-4"},ze={class:"max-w-xs"},Be={class:"text-sm text-gray-500 dark:text-gray-400 truncate mt-0.5"},Ge={key:0,class:"flex items-center gap-1 mt-1 text-xs text-gray-400"},He={class:"px-6 py-4"},Pe={key:0},Ze={class:"text-sm font-medium text-gray-900 dark:text-white"},$e={class:"text-xs text-gray-500 dark:text-gray-400"},Me={key:1,class:"text-gray-400"},Qe={class:"px-6 py-4"},We=["value","onChange"],Ye=["value"],et={class:"px-6 py-4"},tt={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap"},at={class:"px-6 py-4"},rt={class:"flex items-center justify-end gap-2"},st=["onClick"],lt={key:0,class:"text-center py-12"},dt={class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},ot={class:"text-gray-500 dark:text-gray-400"},gt={key:1,class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700"},nt={class:"flex items-center justify-between"},ct={class:"text-sm text-gray-500 dark:text-gray-400"},it={class:"flex gap-2"},xt={__name:"Index",props:{feedbacks:Object,stats:Object,filters:Object,types:Object,statuses:Object,priorities:Object},setup(xt){const{t:ut}=j(),bt=xt,pt=e(bt.filters?.search||""),yt=e(bt.filters?.type||"all"),kt=e(bt.filters?.status||"all"),mt=e(bt.filters?.priority||"all");e(!1);const ft={bug:C,suggestion:K,question:F,other:O},ht=e=>{const t={bug:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",suggestion:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",question:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",other:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"};return t[e]||t.other},vt=e=>{const t={pending:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",in_progress:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",resolved:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",closed:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"};return t[e]||t.pending},wt=e=>{const t={low:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",high:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",urgent:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};return t[e]||t.medium},jt=()=>{v.get(route("admin.feedback.index"),{type:"all"!==yt.value?yt.value:null,status:"all"!==kt.value?kt.value:null,priority:"all"!==mt.value?mt.value:null,search:pt.value||null},{preserveState:!0,preserveScroll:!0})};let _t=null;t(pt,()=>{clearTimeout(_t),_t=setTimeout(jt,500)}),t([yt,kt,mt],jt);return(e,t)=>(x(),a(w,{title:d(ut)("admin.feedback.title")},{default:r(()=>[s(d(f),{title:d(ut)("admin.feedback.title")},null,8,["title"]),l("div",D,[l("div",I,[l("div",null,[l("h1",J,o(d(ut)("admin.feedback.heading")),1),l("p",L,o(d(ut)("admin.feedback.subtitle")),1)]),s(d(h),{href:e.route("admin.feedback.analytics"),class:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-colors"},{default:r(()=>[s(d(_),{class:"w-5 h-5"}),g(" "+o(d(ut)("admin.feedback.analytics")),1)]),_:1},8,["href"])]),l("div",R,[l("div",X,[l("div",z,[l("div",B,[s(d(O),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})]),l("div",null,[l("p",G,o(xt.stats.total),1),l("p",H,o(d(ut)("admin.feedback.stats.total")),1)])])]),l("div",P,[l("div",Z,[l("div",$,[s(d(A),{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})]),l("div",null,[l("p",M,o(xt.stats.pending),1),l("p",Q,o(d(ut)("admin.feedback.stats.pending")),1)])])]),l("div",W,[l("div",Y,[l("div",ee,[s(d(S),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),l("div",null,[l("p",te,o(xt.stats.in_progress),1),l("p",ae,o(d(ut)("admin.feedback.stats.in_progress")),1)])])]),l("div",re,[l("div",se,[l("div",le,[s(d(U),{class:"w-5 h-5 text-green-600 dark:text-green-400"})]),l("div",null,[l("p",de,o(xt.stats.resolved),1),l("p",oe,o(d(ut)("admin.feedback.stats.resolved")),1)])])]),l("div",ge,[l("div",ne,[l("div",ce,[s(d(C),{class:"w-5 h-5 text-red-600 dark:text-red-400"})]),l("div",null,[l("p",ie,o(xt.stats.bugs),1),l("p",xe,o(d(ut)("admin.feedback.stats.bugs")),1)])])]),l("div",ue,[l("div",be,[l("div",pe,[s(d(q),{class:"w-5 h-5 text-orange-600 dark:text-orange-400"})]),l("div",null,[l("p",ye,o(xt.stats.urgent),1),l("p",ke,o(d(ut)("admin.feedback.stats.urgent")),1)])])])]),l("div",me,[l("div",fe,[l("div",he,[s(d(V),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n(l("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>pt.value=e),type:"text",placeholder:d(ut)("common.search")+"...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white"},null,8,ve),[[c,pt.value]])]),l("div",we,[n(l("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>yt.value=e),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white text-sm"},[l("option",je,o(d(ut)("admin.feedback.all_types")),1),(x(!0),i(u,null,b(xt.types,(e,t)=>(x(),i("option",{key:t,value:t},o(e),9,_e))),128))],512),[[p,yt.value]]),n(l("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>kt.value=e),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white text-sm"},[l("option",Oe,o(d(ut)("admin.feedback.all_statuses")),1),(x(!0),i(u,null,b(xt.statuses,(e,t)=>(x(),i("option",{key:t,value:t},o(e),9,Se))),128))],512),[[p,kt.value]]),n(l("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>mt.value=e),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white text-sm"},[l("option",Ce,o(d(ut)("admin.feedback.all_priorities")),1),(x(!0),i(u,null,b(xt.priorities,(e,t)=>(x(),i("option",{key:t,value:t},o(e),9,Te))),128))],512),[[p,mt.value]])])])]),l("div",Ee,[l("div",Ae,[l("table",Ue,[l("thead",qe,[l("tr",null,[l("th",Ve,o(d(ut)("admin.feedback.type")),1),l("th",Fe,o(d(ut)("admin.feedback.subject")),1),l("th",Ke,o(d(ut)("admin.feedback.user")),1),l("th",Ne,o(d(ut)("common.status")),1),l("th",De,o(d(ut)("admin.feedback.priority")),1),l("th",Ie,o(d(ut)("common.date")),1),l("th",Je,o(d(ut)("common.actions")),1)])]),l("tbody",Le,[(x(!0),i(u,null,b(xt.feedbacks.data,t=>(x(),i("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[l("td",Re,[l("span",{class:k(["inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium",ht(t.type)])},[(x(),a(m(ft[t.type]),{class:"w-4 h-4"})),g(" "+o(t.type_label),1)],2)]),l("td",Xe,[l("div",ze,[s(d(h),{href:e.route("admin.feedback.show",t.id),class:"font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400"},{default:r(()=>[g(o(t.title),1)]),_:2},1032,["href"]),l("p",Be,o(t.description.substring(0,60))+"... ",1),t.attachments.length>0?(x(),i("div",Ge,[s(d(T),{class:"w-3.5 h-3.5"}),g(" "+o(t.attachments.length)+" "+o(d(ut)("admin.feedback.files")),1)])):y("",!0)])]),l("td",He,[t.user?(x(),i("div",Pe,[l("p",Ze,o(t.user.name),1),l("p",$e,o(t.user.email),1)])):(x(),i("span",Me,"-"))]),l("td",Qe,[l("select",{value:t.status,onChange:e=>(async(e,t)=>{try{(await fetch(route("admin.feedback.update-status",e.id),{method:"PUT",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok&&v.reload({preserveScroll:!0})}catch(a){}})(t,e.target.value),class:k(["text-xs font-medium rounded-lg px-2.5 py-1 border-0",vt(t.status)])},[(x(!0),i(u,null,b(xt.statuses,(e,t)=>(x(),i("option",{key:t,value:t},o(e),9,Ye))),128))],42,We)]),l("td",et,[l("span",{class:k(["px-2.5 py-1 rounded-lg text-xs font-medium",wt(t.priority)])},o(t.priority_label),3)]),l("td",tt,o(t.created_at),1),l("td",at,[l("div",rt,[s(d(h),{href:e.route("admin.feedback.show",t.id),class:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},{default:r(()=>[s(d(N),{class:"w-5 h-5"})]),_:1},8,["href"]),l("button",{onClick:e=>(async e=>{if(confirm(ut("admin.feedback.delete_confirm")))try{(await fetch(route("admin.feedback.destroy",e.id),{method:"DELETE",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json"}})).ok&&v.reload({preserveScroll:!0})}catch(t){}})(t),class:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},[s(d(E),{class:"w-5 h-5"})],8,st)])])]))),128))])])]),0===xt.feedbacks.data.length?(x(),i("div",lt,[s(d(O),{class:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),l("h3",dt,o(d(ut)("admin.feedback.not_found")),1),l("p",ot,o(d(ut)("admin.feedback.no_messages")),1)])):y("",!0),xt.feedbacks.last_page>1?(x(),i("div",gt,[l("div",nt,[l("p",ct,o(xt.feedbacks.from)+"-"+o(xt.feedbacks.to)+" / "+o(xt.feedbacks.total),1),l("div",it,[xt.feedbacks.prev_page_url?(x(),a(d(h),{key:0,href:xt.feedbacks.prev_page_url,class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm"},{default:r(()=>[g(o(d(ut)("common.previous")),1)]),_:1},8,["href"])):y("",!0),xt.feedbacks.next_page_url?(x(),a(d(h),{key:1,href:xt.feedbacks.next_page_url,class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm"},{default:r(()=>[g(o(d(ut)("common.next")),1)]),_:1},8,["href"])):y("",!0)])])])):y("",!0)])])]),_:1},8,["title"]))}};export{xt as default};

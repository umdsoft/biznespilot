import{r as e,o as t,v as s,x as a,y as r,z as l,A as o,D as i,L as n,I as d,J as c,E as p,F as m,H as x,C as u,G as g,B as h}from"./chunk-7Urb0kxg.js";import{h as v,a as y}from"./chunk-DKkye6wf.js";import{_ as f}from"./chunk-BB8-4400.js";import"./chunk-Dm-LAqtr.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";const b={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},w={class:"mb-6 flex gap-4 items-end"},k={key:0,class:"flex justify-center py-12"},_={class:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8"},j={class:"bg-white rounded-lg shadow p-4"},O={class:"text-2xl font-bold text-gray-900"},z={class:"bg-white rounded-lg shadow p-4"},B={class:"text-2xl font-bold text-gray-900"},q={class:"bg-white rounded-lg shadow p-4"},L={class:"text-2xl font-bold text-green-600"},C={class:"bg-white rounded-lg shadow p-4"},J={class:"text-2xl font-bold text-indigo-600"},Y={class:"bg-white rounded-lg shadow p-4"},I={class:"text-2xl font-bold text-gray-900"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},P={class:"bg-green-50 rounded-lg p-6 border border-green-200"},S={class:"space-y-3"},U={class:"flex items-center gap-3"},$={class:"w-6 h-6 flex items-center justify-center rounded-full bg-green-200 text-green-800 text-sm font-bold"},A={class:"font-medium"},D={class:"text-right"},E={class:"text-green-600 font-bold"},F={class:"text-gray-500 text-sm ml-2"},H={class:"bg-red-50 rounded-lg p-6 border border-red-200"},K={class:"space-y-3"},V={class:"flex items-center gap-3"},G={class:"w-6 h-6 flex items-center justify-center rounded-full bg-red-200 text-red-800 text-sm font-bold"},N={class:"font-medium"},T={class:"text-right"},Z={class:"text-red-600 font-bold"},Q={class:"text-gray-500 text-sm ml-2"},R={class:"bg-white rounded-lg shadow overflow-hidden"},W={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200"},ee={class:"bg-white divide-y divide-gray-200"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"flex items-center"},ae={class:"h-10 w-10 flex-shrink-0 rounded-full bg-indigo-100 flex items-center justify-center"},re={class:"text-indigo-600 font-medium"},le={class:"ml-4"},oe={class:"text-sm font-medium text-gray-900"},ie={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-green-600 font-medium"},de={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-red-600 font-medium"},ce={class:"px-6 py-4 whitespace-nowrap text-center"},pe={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-gray-900"},me={class:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500"},xe={class:"px-6 py-4 whitespace-nowrap text-right text-sm text-indigo-600"},ue={__name:"OperatorPerformance",props:{lazyLoad:Boolean},setup(ue){const ge=e(!0),he=e(null),ve=e(""),ye=e(""),fe=async()=>{ge.value=!0;try{const e={};ve.value&&(e.date_from=ve.value),ye.value&&(e.date_to=ye.value);const t=await y.get(route("business.analytics.api.operator-performance"),{params:e});he.value=t.data}catch(e){}finally{ge.value=!1}};t(()=>{fe()});const be=e=>e?new Intl.NumberFormat("uz-UZ").format(e):"0",we=e=>{if(!e)return"-";if(e<60)return`${e} daqiqa`;return`${Math.floor(e/60)}s ${e%60}d`};return(e,t)=>(p(),s(f,{title:"Operator Samaradorligi"},{default:a(()=>[r(o(v),{title:"Operator Samaradorligi"}),l("div",b,[t[14]||(t[14]=l("div",{class:"mb-8"},[l("h1",{class:"text-2xl font-bold text-gray-900"},"Operator Samaradorligi"),l("p",{class:"mt-1 text-sm text-gray-500"},"Har bir operatorning KPI va natijalarini kuzating")],-1)),l("div",w,[l("div",null,[t[2]||(t[2]=l("label",{class:"block text-sm font-medium text-gray-700"},"Boshlanish",-1)),d(l("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>ve.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[c,ve.value]])]),l("div",null,[t[3]||(t[3]=l("label",{class:"block text-sm font-medium text-gray-700"},"Tugash",-1)),d(l("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>ye.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[c,ye.value]])]),l("button",{onClick:fe,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"}," Yangilash ")]),ge.value?(p(),i("div",k,[...t[4]||(t[4]=[l("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},null,-1)])])):he.value?(p(),i(m,{key:1},[l("div",_,[l("div",j,[t[5]||(t[5]=l("p",{class:"text-sm text-gray-500"},"Operatorlar",-1)),l("p",O,x(he.value.team_stats?.total_operators),1)]),l("div",z,[t[6]||(t[6]=l("p",{class:"text-sm text-gray-500"},"Jami lidlar",-1)),l("p",B,x(he.value.team_stats?.total_leads),1)]),l("div",q,[t[7]||(t[7]=l("p",{class:"text-sm text-gray-500"},"Jami daromad",-1)),l("p",L,x(be(he.value.team_stats?.total_revenue)),1)]),l("div",C,[t[8]||(t[8]=l("p",{class:"text-sm text-gray-500"},"O'rtacha konversiya",-1)),l("p",J,x(he.value.team_stats?.avg_conversion_rate)+"%",1)]),l("div",Y,[t[9]||(t[9]=l("p",{class:"text-sm text-gray-500"},"O'rtacha chek",-1)),l("p",I,x(be(he.value.team_stats?.avg_deal_size)),1)])]),l("div",M,[l("div",P,[t[10]||(t[10]=l("h3",{class:"text-lg font-semibold text-green-800 mb-4 flex items-center gap-2"},[l("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),u(" Eng yaxshilar ")],-1)),l("div",S,[(p(!0),i(m,null,g(he.value.top_performers,(e,t)=>(p(),i("div",{key:e.user_id,class:"flex items-center justify-between bg-white rounded-lg p-3"},[l("div",U,[l("span",$,x(t+1),1),l("span",A,x(e.user_name),1)]),l("div",D,[l("span",E,x(e.conversion_rate)+"%",1),l("span",F,x(be(e.total_revenue))+" so'm",1)])]))),128))])]),l("div",H,[t[11]||(t[11]=l("h3",{class:"text-lg font-semibold text-red-800 mb-4 flex items-center gap-2"},[l("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),u(" Yordam kerak ")],-1)),l("div",K,[(p(!0),i(m,null,g(he.value.bottom_performers,(e,t)=>(p(),i("div",{key:e.user_id,class:"flex items-center justify-between bg-white rounded-lg p-3"},[l("div",V,[l("span",G,x(t+1),1),l("span",N,x(e.user_name),1)]),l("div",T,[l("span",Z,x(e.conversion_rate)+"%",1),l("span",Q,x(e.lost_leads)+" yo'qotilgan",1)])]))),128))])])]),l("div",R,[t[13]||(t[13]=l("div",{class:"px-6 py-4 border-b border-gray-200"},[l("h3",{class:"text-lg font-medium text-gray-900"},"Barcha operatorlar")],-1)),l("div",W,[l("table",X,[t[12]||(t[12]=l("thead",{class:"bg-gray-50"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Operator"),l("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lidlar"),l("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Yutilgan"),l("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Yo'qotilgan"),l("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Konversiya"),l("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Daromad"),l("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Javob vaqti"),l("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pipeline")])],-1)),l("tbody",ee,[(p(!0),i(m,null,g(he.value.operators,e=>{return p(),i("tr",{key:e.user_id,class:"hover:bg-gray-50"},[l("td",te,[l("div",se,[l("div",ae,[l("span",re,x(e.user_name?.charAt(0)),1)]),l("div",le,[l("div",oe,x(e.user_name),1)])])]),l("td",ie,x(e.total_leads),1),l("td",ne,x(e.won_leads),1),l("td",de,x(e.lost_leads),1),l("td",ce,[l("span",{class:h(["px-2 py-1 text-sm font-bold rounded",(t=e.conversion_rate,s=he.value.team_stats?.avg_conversion_rate,t>=1.2*s?"text-green-600 bg-green-50":t>=s?"text-blue-600 bg-blue-50":t>=.8*s?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50")])},x(e.conversion_rate)+"% ",3)]),l("td",pe,x(be(e.total_revenue))+" so'm",1),l("td",me,x(we(e.avg_response_time_minutes)),1),l("td",xe,x(be(e.pipeline_value))+" so'm",1)]);var t,s}),128))])])])])],64)):n("",!0)])]),_:1}))}};export{ue as default};

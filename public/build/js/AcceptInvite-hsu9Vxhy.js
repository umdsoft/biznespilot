import{r as e,C as t,y as a,z as s,A as r,B as l,N as o,I as n,F as i,G as u,D as c}from"./chunk-CpmtkKLp.js";import{u as d}from"./app-C-ZlocOh.js";import"./chunk-BhZp3z4u.js";import"./chunk-BWiubfpN.js";const p={class:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"},m={class:"w-full max-w-md"},f={class:"bg-white rounded-2xl shadow-xl p-8"},b={class:"text-center mb-8"},x={class:"text-2xl font-bold text-gray-900 mb-2"},v={class:"text-gray-600"},g={class:"font-semibold text-blue-600"},h={class:"bg-gray-50 rounded-xl p-4 mb-6 space-y-3"},y={class:"flex justify-between items-center"},w={class:"text-gray-500"},k={class:"font-medium text-gray-900"},_={class:"flex justify-between items-center"},j={class:"text-gray-500"},S={class:"font-medium text-gray-900"},C={class:"flex justify-between items-center"},O={class:"text-gray-500"},P={class:"font-medium text-gray-900"},q={class:"block text-sm font-medium text-gray-700 mb-2"},z=["placeholder"],A={class:"block text-sm font-medium text-gray-700 mb-2"},B=["placeholder"],F={class:"block text-sm font-medium text-gray-700 mb-2"},M=["placeholder"],N={key:0,class:"text-sm text-red-600"},T=["disabled"],U={key:1,class:"space-y-4"},V={class:"text-center text-gray-600 text-sm"},D={class:"font-medium"},E={key:0,class:"text-sm text-red-600 text-center"},I=["disabled"],G={class:"mt-6 text-center text-sm text-gray-500"},H=["href"],J={class:"mt-8 text-center text-xs text-gray-500"},K={__name:"AcceptInvite",props:{token:String,business:Object,inviter:Object,department:String,role:String,email:String,needsPassword:Boolean},setup(K){const{t:R}=d(),X=K,Y=e({name:"",password:"",password_confirmation:""}),L=e(!1),Q=e(""),W=async()=>{L.value=!0,Q.value="";try{const e=X.needsPassword?Y.value:{},t=await fetch(route("invite.accept",X.token),{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();t.ok&&a.success?window.location.href=a.redirect||"/business":Q.value=a.error||a.message||R("auth.error_occurred")}catch(e){Q.value=R("auth.invite.network_error")}finally{L.value=!1}};return(e,d)=>(c(),t("div",p,[a("div",m,[a("div",f,[a("div",b,[d[3]||(d[3]=a("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4"},[a("svg",{class:"w-9 h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),a("h1",x,s(r(R)("auth.invite.title")),1),a("p",v,[l(s(r(R)("auth.invite.invited_to"))+" ",1),a("span",g,s(K.business?.name),1)])]),a("div",h,[a("div",y,[a("span",w,s(r(R)("auth.invite.inviter")),1),a("span",k,s(K.inviter?.name),1)]),a("div",_,[a("span",j,s(r(R)("auth.invite.department")),1),a("span",S,s(K.department),1)]),a("div",C,[a("span",O,s(r(R)("auth.invite.role")),1),a("span",P,s(K.role),1)])]),K.needsPassword?(c(),t("form",{key:0,onSubmit:o(W,["prevent"]),class:"space-y-5"},[a("div",null,[a("label",q,s(r(R)("auth.invite.your_name")),1),i(a("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>Y.value.name=e),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:r(R)("auth.invite.full_name_placeholder")},null,8,z),[[u,Y.value.name]])]),a("div",null,[a("label",A,s(r(R)("auth.password")),1),i(a("input",{"onUpdate:modelValue":d[1]||(d[1]=e=>Y.value.password=e),type:"password",required:"",minlength:"8",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:r(R)("auth.password_min")},null,8,B),[[u,Y.value.password]])]),a("div",null,[a("label",F,s(r(R)("auth.invite.confirm_password")),1),i(a("input",{"onUpdate:modelValue":d[2]||(d[2]=e=>Y.value.password_confirmation=e),type:"password",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:r(R)("auth.password_reenter")},null,8,M),[[u,Y.value.password_confirmation]])]),Q.value?(c(),t("p",N,s(Q.value),1)):n("",!0),a("button",{type:"submit",disabled:L.value,class:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},s(L.value?r(R)("auth.loading"):r(R)("auth.invite.accept")),9,T)],32)):(c(),t("div",U,[a("p",V,[d[4]||(d[4]=l(" Email: ",-1)),a("span",D,s(K.email),1)]),Q.value?(c(),t("p",E,s(Q.value),1)):n("",!0),a("button",{onClick:W,disabled:L.value,class:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},s(L.value?r(R)("auth.loading"):r(R)("auth.invite.accept")),9,I)])),a("p",G,[l(s(r(R)("auth.invite.different_account"))+" ",1),a("a",{href:e.route("login"),class:"text-blue-600 hover:text-blue-700 font-medium"},s(r(R)("auth.login_link")),9,H)])]),a("p",J," Â© "+s((new Date).getFullYear())+" BiznesPilot. "+s(r(R)("auth.copyright")),1)])]))}};export{K as default};

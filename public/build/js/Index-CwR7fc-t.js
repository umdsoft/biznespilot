import{l as h,r as C,h as H}from"./chunk-BYRtWSr0.js";import{u as N}from"./app-DWC75jbx.js";import{e as j,_ as Z}from"./chunk-CYarSvys.js";import{_ as q}from"./chunk-Dd--AZOj.js";import{_ as E}from"./chunk-aIAiJN-R.js";import{_ as P}from"./chunk-DQO6VjaL.js";import{_ as G}from"./chunk-BbDodmQc.js";import{_ as U}from"./chunk-BVg2xI-u.js";import{u as J}from"./chunk-Con9sWTf.js";import{r as y}from"./chunk-3cjAeKxf.js";import{r as K}from"./chunk-gCWBLgcy.js";import{r as O}from"./chunk-Rs1WNzbn.js";import{r as Q}from"./chunk-I93QdGKi.js";import{r as W}from"./chunk-qVc0_oyq.js";import{r as X}from"./chunk-DNp5bQOL.js";import{r as Y}from"./chunk-CklLzvQL.js";import{r as ee}from"./chunk-0u38oAjG.js";import{r as te}from"./chunk-C6v56q2n.js";import{r as re}from"./chunk-g9W46QGO.js";import{D as i,E as a,z as e,r as se,b as D,v as x,L as c,y as n,A as t,H as r,x as m,C as k,F as S,G as oe,B as T,M as F,P as ae}from"./chunk-BcTZxe-J.js";import{r as B}from"./chunk-Ba8J67bG.js";import"./chunk-C1xeNfMu.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-CJsSO8V8.js";import"./chunk-CrR1zWIb.js";import"./chunk-CQoMtUf7.js";import"./chunk-LBbTbQSS.js";import"./chunk-CG0drqHE.js";import"./chunk-CnrLL2pV.js";import"./chunk-D58UsNjm.js";import"./chunk-BHX0ueEB.js";import"./chunk-Dy6aDPCS.js";import"./chunk-CKHdppiT.js";import"./chunk-Sr2jsNPC.js";import"./chunk-Bv_bj7dx.js";function de(l,f){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function le(l,f){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const ne={class:"p-6 space-y-6"},ie={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ce={class:"flex items-center gap-4"},ge={class:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"},ue={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},pe={class:"text-sm text-gray-500 dark:text-gray-400"},xe={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},fe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},me={class:"flex items-center gap-4"},_e={class:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl"},be={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},he={class:"text-sm text-gray-500 dark:text-gray-400"},ye={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},ke={class:"flex items-center gap-4"},ve={class:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl"},we={class:"text-2xl font-bold text-green-600 dark:text-green-400"},$e={class:"text-sm text-gray-500 dark:text-gray-400"},Ce={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},je={class:"flex items-center gap-4"},Oe={class:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl"},Se={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},Te={class:"text-sm text-gray-500 dark:text-gray-400"},Be={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},Ne={class:"flex items-center gap-4"},De={class:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl"},Fe={class:"text-lg font-bold text-blue-600 dark:text-blue-400"},Ie={class:"text-sm text-gray-500 dark:text-gray-400"},Me={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-12 text-center"},Ve={class:"mx-auto w-20 h-20 bg-gradient-to-br from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30 rounded-full flex items-center justify-center mb-6"},ze={class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2"},Le={class:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto"},Re={key:1,class:"text-gray-500 dark:text-gray-400"},Ae={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},He={class:"bg-gradient-to-r from-purple-600 to-indigo-600 px-5 py-5 text-white relative overflow-hidden"},Ze={class:"relative"},qe={class:"flex items-start justify-between gap-3 mb-2"},Ee={class:"text-lg font-bold flex-1 line-clamp-1"},Pe={key:0,class:"text-purple-100 text-sm line-clamp-2"},Ge={class:"p-5 space-y-4"},Ue={key:0,class:"p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded-xl"},Je={class:"text-xs font-semibold text-purple-600 dark:text-purple-400 mb-1"},Ke={class:"text-sm text-gray-800 dark:text-gray-200 line-clamp-2"},Qe={class:"grid grid-cols-2 gap-3"},We={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-3 border border-green-100 dark:border-green-800"},Xe={class:"text-green-600 dark:text-green-400 font-medium text-xs mb-1"},Ye={class:"text-green-800 dark:text-green-300 font-bold text-sm"},et={key:0,class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 border border-blue-100 dark:border-blue-800"},tt={class:"text-blue-600 dark:text-blue-400 font-medium text-xs mb-1"},rt={class:"text-blue-800 dark:text-blue-300 font-bold text-sm"},st={key:1,class:"p-3 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700 rounded-xl"},ot={class:"flex items-center justify-between"},at={class:"text-xs font-semibold text-yellow-700 dark:text-yellow-400"},dt={class:"text-2xl font-bold text-yellow-800 dark:text-yellow-300"},lt={class:"flex items-center justify-between text-sm"},nt={key:0,class:"flex items-center gap-1.5 text-green-600 dark:text-green-400"},it={class:"text-xs"},ct={class:"flex items-center gap-1.5 text-gray-500 dark:text-gray-400"},gt={class:"text-xs"},ut={class:"flex items-center gap-2 pt-4 border-t border-gray-100 dark:border-gray-700"},pt=["onClick","title"],xt=["onClick","title"],ft={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},mt={class:"flex min-h-full items-center justify-center p-4"},_t={class:"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl"},bt={class:"p-6"},ht={class:"flex items-center gap-4 mb-4"},yt={class:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center"},kt={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},vt={class:"text-sm text-gray-500 dark:text-gray-400"},wt={class:"text-gray-700 dark:text-gray-300 mb-6"},$t={class:"flex gap-3"},Ct={__name:"OffersIndex",props:{offers:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},panelType:{type:String,required:!0,validator:l=>["business","marketing","finance","operator","saleshead"].includes(l)}},emits:["delete"],setup(l,{emit:f}){const _=l,{t:s}=N(),g=se(null),{getRouteName:w}=J(_.panelType),u=o=>w(o),p=D(()=>["operator"].includes(_.panelType)),I=o=>({draft:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600",active:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-700",paused:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-700",archived:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-700"})[o]||"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",M=o=>({draft:B,active:O,paused:le,archived:de})[o]||B,V=o=>s(`offers.status.${o}`)||o,z=o=>{C.post(route(u("duplicate"),o.id))},L=o=>{g.value=o},R=()=>{g.value&&C.delete(route(u("destroy"),g.value.id),{preserveScroll:!0,onSuccess:()=>{g.value=null}})},$=()=>{g.value=null},v=o=>o?o>=1e6?(o/1e6).toFixed(1)+" mln so'm":new Intl.NumberFormat("uz-UZ").format(o)+" so'm":"0 so'm";return(o,b)=>(a(),i(S,null,[e("div",ne,[e("div",ie,[e("div",ce,[e("div",ge,[n(t(y),{class:"w-8 h-8 text-white"})]),e("div",null,[e("h1",ue,r(t(s)("offers.title")),1),e("p",pe,r(t(s)("offers.subtitle")),1)])]),p.value?c("",!0):(a(),x(t(h),{key:0,href:o.route(u("create")),class:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-medium rounded-xl transition-all shadow-lg shadow-purple-500/30"},{default:m(()=>[n(t(K),{class:"w-5 h-5"}),k(" "+r(t(s)("offers.new_offer")),1)]),_:1},8,["href"]))]),e("div",xe,[e("div",fe,[e("div",me,[e("div",_e,[n(t(y),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),e("div",null,[e("p",be,r(l.stats?.total_offers||0),1),e("p",he,r(t(s)("offers.total_offers")),1)])])]),e("div",ye,[e("div",ke,[e("div",ve,[n(t(O),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),e("div",null,[e("p",we,r(l.stats?.active_offers||0),1),e("p",$e,r(t(s)("offers.active")),1)])])]),e("div",Ce,[e("div",je,[e("div",Oe,[n(t(Q),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),e("div",null,[e("p",Se,r(l.stats?.avg_conversion?.toFixed(1)||0)+"%",1),e("p",Te,r(t(s)("offers.avg_conversion")),1)])])]),e("div",Be,[e("div",Ne,[e("div",De,[n(t(W),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),e("div",null,[e("p",Fe,r(v(l.stats?.total_value||0)),1),e("p",Ie,r(t(s)("offers.total_value")),1)])])])]),!l.offers||l.offers.length===0?(a(),i("div",Me,[e("div",Ve,[n(t(y),{class:"w-10 h-10 text-purple-600 dark:text-purple-400"})]),e("h3",ze,r(t(s)("offers.no_offers")),1),e("p",Le,r(t(s)("offers.no_offers_desc")),1),p.value?(a(),i("p",Re,r(t(s)("offers.not_created")),1)):(a(),x(t(h),{key:0,href:o.route(u("create")),class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-medium rounded-xl transition-all shadow-lg shadow-purple-500/30"},{default:m(()=>[n(t(X),{class:"w-5 h-5"}),k(" "+r(t(s)("offers.create_offer")),1)]),_:1},8,["href"]))])):(a(),i("div",Ae,[(a(!0),i(S,null,oe(l.offers,d=>(a(),i("div",{key:d.id,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg hover:border-purple-300 dark:hover:border-purple-600 transition-all group"},[e("div",He,[b[0]||(b[0]=e("div",{class:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity"},null,-1)),e("div",Ze,[e("div",qe,[e("h3",Ee,r(d.name),1),e("span",{class:T([I(d.status),"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-medium border"])},[(a(),x(F(M(d.status)),{class:"w-3.5 h-3.5"})),k(" "+r(V(d.status)),1)],2)]),d.description?(a(),i("p",Pe,r(d.description),1)):c("",!0)])]),e("div",Ge,[d.core_offer?(a(),i("div",Ue,[e("p",Je,r(t(s)("offers.core_offer")),1),e("p",Ke,r(d.core_offer),1)])):c("",!0),e("div",Qe,[e("div",We,[e("div",Xe,r(t(s)("offers.price")),1),e("div",Ye,r(v(d.pricing||0)),1)]),d.total_value?(a(),i("div",et,[e("div",tt,r(t(s)("offers.total_value")),1),e("div",rt,r(v(d.total_value)),1)])):c("",!0)]),d.value_score?(a(),i("div",st,[e("div",ot,[e("span",at,r(t(s)("offers.value_score")),1),e("span",dt,r(d.value_score),1)])])):c("",!0),e("div",lt,[d.guarantee_type?(a(),i("div",nt,[n(t(Y),{class:"w-4 h-4"}),e("span",it,r(t(s)("offers.guaranteed")),1)])):c("",!0),e("div",ct,[n(t(y),{class:"w-4 h-4"}),e("span",gt,r(t(s)("offers.bonuses",{count:d.components_count||0})),1)])]),e("div",ut,[n(t(h),{href:o.route(u("show"),d.id),class:T(["inline-flex items-center justify-center gap-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/30 hover:bg-purple-200 dark:hover:bg-purple-900/50 text-purple-700 dark:text-purple-400 font-medium rounded-xl transition-colors text-sm",p.value?"flex-1":""])},{default:m(()=>[n(t(ee),{class:"w-4 h-4"}),k(" "+r(t(s)("offers.view")),1)]),_:1},8,["href","class"]),p.value?c("",!0):(a(),x(t(h),{key:0,href:o.route(u("edit"),d.id),class:"p-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-400 rounded-xl transition-colors",title:t(s)("offers.edit")},{default:m(()=>[n(t(te),{class:"w-4 h-4"})]),_:1},8,["href","title"])),p.value?c("",!0):(a(),i("button",{key:1,onClick:A=>z(d),class:"p-2 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded-xl transition-colors",title:t(s)("offers.duplicate")},[n(t(re),{class:"w-4 h-4"})],8,pt)),p.value?c("",!0):(a(),i("button",{key:2,onClick:A=>L(d),class:"p-2 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 rounded-xl transition-colors",title:t(s)("offers.delete")},[n(t(j),{class:"w-4 h-4"})],8,xt))])])]))),128))]))]),(a(),x(ae,{to:"body"},[g.value?(a(),i("div",ft,[e("div",mt,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:$}),e("div",_t,[e("div",bt,[e("div",ht,[e("div",yt,[n(t(j),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),e("div",null,[e("h3",kt,r(t(s)("offers.delete_title")),1),e("p",vt,r(t(s)("offers.delete_warning")),1)])]),e("p",wt,r(t(s)("offers.delete_confirm",{name:g.value.name})),1),e("div",$t,[e("button",{onClick:$,class:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl transition-colors"},r(t(s)("common.cancel")),1),e("button",{onClick:R,class:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded-xl transition-colors"},r(t(s)("offers.delete")),1)])])])])])):c("",!0)]))],64))}},ir={__name:"Index",props:{offers:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},panelType:{type:String,required:!0,validator:l=>["business","marketing","finance","operator","saleshead"].includes(l)}},setup(l){const{t:f}=N(),_=l,s=D(()=>({business:q,marketing:E,finance:P,operator:G,saleshead:U})[_.panelType]||Z);return(g,w)=>(a(),x(F(s.value),{title:t(f)("offers.title")},{default:m(()=>[n(t(H),{title:t(f)("offers.title")},null,8,["title"]),n(Ct,{offers:l.offers,stats:l.stats,"panel-type":l.panelType},null,8,["offers","stats","panel-type"])]),_:1},8,["title"]))}};export{ir as default};

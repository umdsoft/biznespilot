import{r as x,o as ee,C as o,y as i,A as d,x as te,z as e,v as $,D as v,F as s,G as m,I as y,B as c,H as l,S as I,E as h,P as ae,Q as se}from"./chunk-KPSVwAyv.js";import{h as re,a as E}from"./chunk-BVrjkT6E.js";import{_ as oe}from"./chunk-Dpr7eH3O.js";import{r as C}from"./chunk-Cw_2vanC.js";import{c as N,a as le}from"./chunk-C_PbB7ed.js";import{a as U}from"./chunk-DN454CZt.js";import{r as w}from"./chunk-Dfha1x8d.js";import{r as D}from"./chunk-D59q4lxq.js";import{r as P}from"./chunk-qku2UxUN.js";import{r as Q}from"./chunk-Db7_HC3e.js";import{r as de}from"./chunk-Dc7IqW-K.js";import{r as ie}from"./chunk-CmNfLjGq.js";import{r as ne}from"./chunk-H5tv0cw2.js";import{r as R}from"./chunk-6T1eIunH.js";import{r as A}from"./chunk-BgOPVSvg.js";import{r as ge}from"./chunk-Qe-_4ASA.js";import{r as ce}from"./chunk-CYZ54WJE.js";import{a as ue}from"./chunk-D-7B8ZCD.js";import{r as me}from"./chunk-CYw1XsNK.js";import{a as he}from"./chunk-Ch0Q6XPl.js";import"./chunk-B1Yis8U5.js";import"./chunk-CXygRKxK.js";import"./chunk-31-ywezX.js";import"./chunk-CQ-EgyBm.js";import"./app-DMGwzSHW.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-14qmXdHo.js";import"./chunk-J14gS6og.js";const xe={class:"space-y-6"},ye={class:"relative overflow-hidden bg-gradient-to-r from-violet-600 via-purple-600 to-indigo-600 rounded-2xl p-6 md:p-8"},ve={class:"absolute top-4 right-4 opacity-20"},be={class:"relative flex flex-col md:flex-row md:items-center md:justify-between gap-4"},pe={class:"flex items-center gap-4"},fe={class:"p-3 bg-white/20 backdrop-blur-sm rounded-xl"},_e={class:"flex items-center gap-3"},ke={class:"flex bg-white/10 backdrop-blur-sm rounded-xl p-1"},we=["onClick"],qe=["disabled"],je={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4"},$e={class:"flex items-center gap-3 text-red-600 dark:text-red-400"},Ce={class:"font-medium"},Te={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ze={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Me={class:"group bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg hover:border-blue-200 dark:hover:border-blue-800 transition-all duration-300"},Se={class:"flex items-center justify-between mb-4"},Be={class:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg shadow-blue-200 dark:shadow-blue-900/50"},Oe={class:"text-3xl font-bold text-gray-900 dark:text-white"},Ee={class:"flex items-center gap-2 mt-2"},Ae={class:"text-sm text-gray-500 dark:text-gray-400"},He={class:"group bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg hover:border-purple-200 dark:hover:border-purple-800 transition-all duration-300"},Le={class:"flex items-center justify-between mb-4"},Fe={class:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg shadow-purple-200 dark:shadow-purple-900/50"},Ie={class:"flex items-baseline gap-1"},Ne={class:"mt-3 h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden"},Ue={class:"group bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg hover:border-emerald-200 dark:hover:border-emerald-800 transition-all duration-300"},De={class:"flex items-center justify-between mb-4"},Pe={class:"p-3 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg shadow-emerald-200 dark:shadow-emerald-900/50"},Qe={class:"text-3xl font-bold text-gray-900 dark:text-white"},Re={class:"flex items-center gap-2 mt-2"},Ve={class:"flex -space-x-2"},Ge={class:"text-[10px] font-bold text-white"},Je={class:"group bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg hover:border-amber-200 dark:hover:border-amber-800 transition-all duration-300"},Xe={class:"flex items-center justify-between mb-4"},Ye={class:"p-3 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl shadow-lg shadow-amber-200 dark:shadow-amber-900/50"},Ke={class:"flex items-baseline gap-1"},We={class:"text-3xl font-bold text-gray-900 dark:text-white"},Ze={class:"flex items-center gap-2 mt-2"},et={class:"text-sm text-gray-500 dark:text-gray-400"},tt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},at={class:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},st={class:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20"},rt={class:"flex items-center gap-3"},ot={class:"p-2 bg-gradient-to-br from-amber-400 to-amber-500 rounded-lg shadow-md"},lt={key:0,class:"p-12 text-center"},dt={class:"w-20 h-20 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"},it={key:1,class:"divide-y divide-gray-50 dark:divide-gray-700/50"},nt=["onClick"],gt={key:1},ct={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-400 to-purple-500 flex items-center justify-center shadow-md"},ut={class:"text-white font-bold"},mt={class:"flex-1 min-w-0"},ht={class:"font-semibold text-gray-900 dark:text-white truncate"},xt={class:"flex items-center gap-3 mt-1"},yt={class:"inline-flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400"},vt={class:"inline-flex items-center gap-1 text-xs text-emerald-600 dark:text-emerald-400"},bt={class:"text-right"},pt={class:"flex items-center gap-2"},ft={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},_t={class:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20"},kt={class:"flex items-center gap-3"},wt={class:"p-2 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg shadow-md"},qt={key:0,class:"p-12 text-center"},jt={class:"w-16 h-16 mx-auto mb-4 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center"},$t={key:1,class:"p-4 space-y-3"},Ct={class:"flex items-center justify-between p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-xl border border-orange-100 dark:border-orange-800/50 hover:border-orange-200 dark:hover:border-orange-700 transition-colors"},Tt={class:"flex items-center gap-3"},zt={class:"w-8 h-8 bg-orange-100 dark:bg-orange-900/50 rounded-lg flex items-center justify-center"},Mt={class:"text-sm font-medium text-gray-700 dark:text-gray-200"},St={class:"flex items-center gap-2"},Bt={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},Ot={class:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6"},Et={class:"relative flex items-start gap-4"},At={class:"p-3 bg-white/20 backdrop-blur-sm rounded-xl"},Ht={class:"flex min-h-full items-center justify-center p-4"},Lt={class:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden"},Ft={class:"sticky top-0 z-10 bg-gradient-to-r from-violet-600 to-purple-600 px-6 py-4"},It={class:"flex items-center justify-between"},Nt={class:"flex items-center gap-4"},Ut={class:"w-14 h-14 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center"},Dt={class:"text-white text-xl font-bold"},Pt={class:"text-xl font-bold text-white"},Qt={class:"text-purple-100"},Rt={class:"flex items-center gap-4"},Vt={class:"text-right"},Gt={class:"text-3xl font-bold text-white"},Jt={class:"p-6 overflow-y-auto max-h-[calc(90vh-100px)]"},Xt={key:0,class:"flex items-center justify-center py-12"},Yt={key:1,class:"text-center py-12"},Kt={key:2,class:"space-y-4"},Wt=["onClick"],Zt={class:"flex-1 min-w-0"},ea={class:"flex items-center gap-2"},ta={class:"font-medium text-gray-900 dark:text-white"},aa={class:"text-gray-600 dark:text-gray-300"},sa={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},ra={class:"flex items-center gap-2"},oa={key:0,class:"border-t border-gray-200 dark:border-gray-700"},la={class:"grid grid-cols-1 lg:grid-cols-2 divide-y lg:divide-y-0 lg:divide-x divide-gray-200 dark:divide-gray-700"},da={class:"p-4"},ia={class:"flex items-center gap-2 font-semibold text-gray-900 dark:text-white mb-3"},na={class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 max-h-80 overflow-y-auto text-sm"},ga={key:0,class:"whitespace-pre-wrap text-gray-700 dark:text-gray-300"},ca={key:1,class:"whitespace-pre-wrap text-gray-700 dark:text-gray-300"},ua={key:2,class:"text-gray-400 dark:text-gray-500 italic"},ma={class:"p-4"},ha={class:"flex items-center gap-2 font-semibold text-gray-900 dark:text-white mb-3"},xa={key:0,class:"space-y-2 mb-4"},ya={class:"w-32 text-xs text-gray-600 dark:text-gray-400 truncate"},va={class:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},ba={key:1,class:"mb-4"},pa={class:"space-y-1"},fa={key:2,class:"mb-4"},_a={class:"space-y-1"},ka={key:3},wa={class:"space-y-1"},as={__name:"Index",setup(qa){const f=x(!0),g=x(null),T=x([]),q=x("monthly"),j=x(null),z=x(!1),b=x(null),_=x([]),M=x(!1),p=x(null),V=async()=>{try{const r=await E.get("/api/v1/call-center/overview",{params:{period:q.value}});g.value=r.data.data}catch(r){console.error("Failed to fetch overview:",r),j.value="Ma'lumotlarni yuklashda xatolik"}},G=async()=>{try{const r=await E.get("/api/v1/call-center/leaderboard",{params:{period:q.value,limit:10}});T.value=r.data.data}catch(r){console.error("Failed to fetch leaderboard:",r)}},S=async()=>{f.value=!0,j.value=null,await Promise.all([V(),G()]),f.value=!1},J=async r=>{q.value=r,await S()},X=async r=>{b.value=r,z.value=!0,M.value=!0,p.value=null;try{const t=await E.get(`/api/v1/call-center/operators/${r.operator.id}/history`,{params:{limit:50}});_.value=t.data.data}catch(t){console.error("Failed to fetch operator history:",t),_.value=[]}finally{M.value=!1}},B=()=>{z.value=!1,b.value=null,_.value=[],p.value=null},Y=r=>{p.value=p.value?.id===r.id?null:r},k=r=>r==null?"text-gray-400 dark:text-gray-500":r>=80?"text-emerald-500":r>=60?"text-amber-500":r>=40?"text-orange-500":"text-red-500",H=r=>r==null?"from-gray-400 to-gray-500":r>=80?"from-emerald-400 to-emerald-600":r>=60?"from-amber-400 to-amber-600":r>=40?"from-orange-400 to-orange-600":"from-red-400 to-red-600",L=r=>r==null?"bg-gray-100 dark:bg-gray-700":r>=80?"bg-emerald-100 dark:bg-emerald-900/30":r>=60?"bg-amber-100 dark:bg-amber-900/30":r>=40?"bg-orange-100 dark:bg-orange-900/30":"bg-red-100 dark:bg-red-900/30",O=r=>r===1?{bg:"bg-gradient-to-br from-yellow-400 to-amber-500",text:"text-white",shadow:"shadow-amber-200 dark:shadow-amber-900/50"}:r===2?{bg:"bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-400 dark:to-gray-500",text:"text-gray-700 dark:text-gray-900",shadow:"shadow-gray-200 dark:shadow-gray-700"}:r===3?{bg:"bg-gradient-to-br from-amber-600 to-amber-700",text:"text-white",shadow:"shadow-amber-200 dark:shadow-amber-900/50"}:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-600 dark:text-gray-300",shadow:""},F=r=>r?r.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?",K={daily:"Bugun",weekly:"Bu hafta",monthly:"Bu oy"},W={incomplete_call:"Tugallanmagan suhbat",no_greeting:"Salomsiz boshlash",no_closing:"Yakunsiz tugatish",interrupting:"Gap kesish",rushed:"Shoshilinch gapirish",no_discovery:"Ehtiyoj aniqlanmagan",no_objection_handling:"E'tirozga javob yo'q",no_cta:"Harakatga chaqiruv yo'q"},Z={greeting:"Salomlashuv",discovery:"Ehtiyoj aniqlash",presentation:"Taqdimot",objection_handling:"E'tirozlarga javob",closing:"Sotuvni yakunlash",rapport:"Munosabat",cta:"Harakatga chaqiruv"};return ee(()=>{S()}),(r,t)=>(s(),o(m,null,[i(d(re),{title:"Qo'ng'iroq Tahlili"}),i(oe,{title:"Qo'ng'iroq Tahlili"},{default:te(()=>[e("div",xe,[e("div",ye,[t[1]||(t[1]=e("div",{class:"absolute inset-0 opacity-10"},[e("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[e("defs",null,[e("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse"},[e("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white","stroke-width":"0.5"})])]),e("rect",{width:"100",height:"100",fill:"url(#grid)"})])],-1)),e("div",ve,[i(d(C),{class:"w-24 h-24 text-white"})]),e("div",be,[e("div",pe,[e("div",fe,[i(d(C),{class:"w-8 h-8 text-white"})]),t[0]||(t[0]=e("div",null,[e("h1",{class:"text-2xl md:text-3xl font-bold text-white"},"Qo'ng'iroq Tahlili"),e("p",{class:"text-purple-100 mt-1"},"AI yordamida operatorlar samaradorligini real vaqtda kuzating")],-1))]),e("div",_e,[e("div",ke,[(s(),o(m,null,y(K,(a,n)=>e("button",{key:n,onClick:u=>J(n),class:c(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200",q.value===n?"bg-white text-purple-600 shadow-lg":"text-white/80 hover:text-white hover:bg-white/10"])},l(a),11,we)),64))]),e("button",{onClick:S,disabled:f.value,class:"p-2.5 bg-white/10 backdrop-blur-sm hover:bg-white/20 text-white rounded-xl transition-all duration-200"},[i(d(N),{class:c(["w-5 h-5",{"animate-spin":f.value}])},null,8,["class"])],8,qe)])])]),j.value?(s(),o("div",je,[e("div",$e,[i(d(le),{class:"w-6 h-6"}),e("span",Ce,l(j.value),1)])])):f.value?(s(),o("div",Te,[(s(),o(m,null,y(4,a=>e("div",{key:a,class:"bg-white dark:bg-gray-800 rounded-2xl p-6 animate-pulse"},[...t[2]||(t[2]=[e("div",{class:"flex items-center gap-3 mb-4"},[e("div",{class:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-xl"}),e("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24"})],-1),e("div",{class:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-20 mb-2"},null,-1),e("div",{class:"h-3 bg-gray-100 dark:bg-gray-700 rounded w-32"},null,-1)])])),64))])):g.value?(s(),o("div",ze,[e("div",Me,[e("div",Se,[e("div",Be,[i(d(U),{class:"w-6 h-6 text-white"})]),t[3]||(t[3]=e("span",{class:"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"Jami",-1))]),e("div",Oe,l(g.value.summary?.total_calls||0),1),e("div",Ee,[i(d(w),{class:"w-4 h-4 text-emerald-500"}),e("span",Ae,l(g.value.summary?.analyzed_calls||0)+" ta tahlil qilingan",1)])]),e("div",He,[e("div",Le,[e("div",Fe,[i(d(D),{class:"w-6 h-6 text-white"})]),t[4]||(t[4]=e("span",{class:"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"O'rtacha",-1))]),e("div",Ie,[e("span",{class:c(["text-3xl font-bold",k(g.value.summary?.avg_score)])},l(g.value.summary?.avg_score!==null?Math.round(g.value.summary.avg_score):"-"),3),t[5]||(t[5]=e("span",{class:"text-lg text-gray-400 dark:text-gray-500"},"/100",-1))]),e("div",Ne,[e("div",{class:c(["h-full rounded-full bg-gradient-to-r transition-all duration-500",H(g.value.summary?.avg_score)]),style:I({width:`${g.value.summary?.avg_score||0}%`})},null,6)])]),e("div",Ue,[e("div",De,[e("div",Pe,[i(d(P),{class:"w-6 h-6 text-white"})]),t[6]||(t[6]=e("span",{class:"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"Jamoa",-1))]),e("div",Qe,l(g.value.summary?.operator_count||0),1),e("div",Re,[e("div",Ve,[(s(!0),o(m,null,y(Math.min(g.value.summary?.operator_count||0,3),a=>(s(),o("div",{key:a,class:"w-6 h-6 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 border-2 border-white dark:border-gray-800 flex items-center justify-center"},[e("span",Ge,l(a),1)]))),128))]),t[7]||(t[7]=e("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"faol operatorlar",-1))])]),e("div",Je,[e("div",Xe,[e("div",Ye,[i(d(Q),{class:"w-6 h-6 text-white"})]),t[8]||(t[8]=e("span",{class:"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider"},"Muvaffaqiyat",-1))]),e("div",Ke,[e("span",We,l(g.value.summary?.total_calls>0?Math.round(g.value.summary.successful_calls/g.value.summary.total_calls*100):0),1),t[9]||(t[9]=e("span",{class:"text-lg text-gray-400 dark:text-gray-500"},"%",-1))]),e("div",Ze,[i(d(w),{class:"w-4 h-4 text-emerald-500"}),e("span",et,l(g.value.summary?.successful_calls||0)+" ta muvaffaqiyatli",1)])])])):v("",!0),e("div",tt,[e("div",at,[e("div",st,[e("div",rt,[e("div",ot,[i(d(Q),{class:"w-5 h-5 text-white"})]),t[10]||(t[10]=e("div",null,[e("h2",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Operatorlar Reytingi"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Batafsil ko'rish uchun bosing")],-1))])]),T.value.length===0?(s(),o("div",lt,[e("div",dt,[i(d(P),{class:"w-10 h-10 text-gray-300 dark:text-gray-500"})]),t[11]||(t[11]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-1"},"Hali ma'lumot yo'q",-1)),t[12]||(t[12]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Tahlil qilingan qo'ng'iroqlar paydo bo'lganda reyting ko'rsatiladi",-1))])):(s(),o("div",it,[(s(!0),o(m,null,y(T.value,(a,n)=>(s(),o("div",{key:a.operator.id,onClick:u=>X(a),class:c(["px-6 py-4 flex items-center gap-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer group",{"bg-gradient-to-r from-amber-50/50 to-transparent dark:from-amber-900/10":a.rank<=3}])},[e("div",{class:c(["w-10 h-10 rounded-xl flex items-center justify-center text-sm font-bold shadow-md",[O(a.rank).bg,O(a.rank).text,O(a.rank).shadow]])},[a.rank===1?(s(),$(d(de),{key:0,class:"w-5 h-5"})):(s(),o("span",gt,l(a.rank),1))],2),e("div",ct,[e("span",ut,l(F(a.operator.name)),1)]),e("div",mt,[e("div",ht,l(a.operator.name),1),e("div",xt,[e("span",yt,[i(d(U),{class:"w-3.5 h-3.5"}),h(" "+l(a.total_calls)+" qo'ng'iroq ",1)]),e("span",vt,[i(d(w),{class:"w-3.5 h-3.5"}),h(" "+l(a.analyzed_calls)+" tahlil ",1)])])]),e("div",bt,[e("div",pt,[e("div",{class:c(["text-2xl font-bold",k(a.avg_score)])},l(a.avg_score!==null?Math.round(a.avg_score):"-"),3)]),a.score_change!==null&&a.score_change!==0?(s(),o("div",{key:0,class:c(["flex items-center justify-end gap-1 text-xs font-medium mt-1",a.score_change>=0?"text-emerald-600 dark:text-emerald-400":"text-red-500"])},[a.score_change>=0?(s(),$(d(ie),{key:0,class:"w-3.5 h-3.5"})):(s(),$(d(ne),{key:1,class:"w-3.5 h-3.5"})),h(" "+l(a.score_change>=0?"+":"")+l(a.score_change.toFixed(1)),1)],2)):v("",!0)]),i(d(R),{class:"w-5 h-5 text-gray-300 dark:text-gray-600 group-hover:text-gray-500 dark:group-hover:text-gray-400 transition-colors"})],10,nt))),128))]))]),e("div",ft,[e("div",_t,[e("div",kt,[e("div",wt,[i(d(A),{class:"w-5 h-5 text-white"})]),t[13]||(t[13]=e("div",null,[e("h2",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Xatolar Tahlili"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tez-tez uchraydigan muammolar")],-1))])]),!g.value?.common_issues||Object.keys(g.value.common_issues).length===0?(s(),o("div",qt,[e("div",jt,[i(d(w),{class:"w-8 h-8 text-emerald-500"})]),t[14]||(t[14]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-1"},"Ajoyib!",-1)),t[15]||(t[15]=e("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Xatolar aniqlanmagan",-1))])):(s(),o("div",$t,[(s(!0),o(m,null,y(g.value.common_issues,(a,n)=>(s(),o("div",{key:n,class:"group relative overflow-hidden"},[e("div",Ct,[e("div",Tt,[e("div",zt,[i(d(A),{class:"w-4 h-4 text-orange-600 dark:text-orange-400"})]),e("span",Mt,l(W[n]||n),1)]),e("div",St,[e("span",Bt,l(a),1),t[16]||(t[16]=e("span",{class:"text-xs text-gray-400 dark:text-gray-500"},"marta",-1))])])]))),128))]))])]),e("div",Ot,[t[18]||(t[18]=e("div",{class:"absolute inset-0 opacity-10"},[e("svg",{class:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none"},[e("defs",null,[e("pattern",{id:"dots",width:"10",height:"10",patternUnits:"userSpaceOnUse"},[e("circle",{cx:"2",cy:"2",r:"1",fill:"white"})])]),e("rect",{width:"100",height:"100",fill:"url(#dots)"})])],-1)),e("div",Et,[e("div",At,[i(d(C),{class:"w-6 h-6 text-white"})]),t[17]||(t[17]=e("div",null,[e("h3",{class:"font-bold text-white text-lg"},"AI qo'ng'iroq tahlili qanday ishlaydi?"),e("p",{class:"text-blue-100 mt-2 leading-relaxed"},[h(" Lead sahifalarida qo'ng'iroqlarni tanlab "),e("strong",{class:"text-white"},'"AI Tahlil"'),h(" tugmasini bosing. Tizim qo'ng'iroqni avtomatik transkript qiladi va "),e("strong",{class:"text-white"},"7 ta sotuv bosqichi"),h(" bo'yicha baholaydi: Salomlashuv, Ehtiyoj aniqlash, Taqdimot, E'tirozlarga javob, Sotuvni yakunlash, Munosabat va Harakatga chaqiruv. ")])],-1))])])]),(s(),$(ae,{to:"body"},[z.value?(s(),o("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:se(B,["self"])},[e("div",Ht,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:B}),e("div",Lt,[e("div",Ft,[e("div",It,[e("div",Nt,[e("div",Ut,[e("span",Dt,l(F(b.value?.operator?.name)),1)]),e("div",null,[e("h2",Pt,l(b.value?.operator?.name),1),e("p",Qt,l(b.value?.analyzed_calls)+" ta tahlil qilingan qo'ng'iroq ",1)])]),e("div",Rt,[e("div",Vt,[e("div",Gt,l(b.value?.avg_score!==null?Math.round(b.value.avg_score):"-"),1),t[19]||(t[19]=e("div",{class:"text-purple-100 text-sm"},"O'rtacha ball",-1))]),e("button",{onClick:B,class:"p-2 hover:bg-white/20 rounded-lg transition-colors"},[i(d(ge),{class:"w-6 h-6 text-white"})])])])]),e("div",Jt,[M.value?(s(),o("div",Xt,[i(d(N),{class:"w-8 h-8 text-purple-500 animate-spin"})])):_.value.length===0?(s(),o("div",Yt,[i(d(ce),{class:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Tahlil topilmadi",-1)),t[21]||(t[21]=e("p",{class:"text-gray-500 dark:text-gray-400 mt-1"},"Bu operator uchun hali tahlil qilingan qo'ng'iroqlar yo'q",-1))])):(s(),o("div",Kt,[(s(!0),o(m,null,y(_.value,a=>(s(),o("div",{key:a.id,class:"border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden"},[e("div",{onClick:n=>Y(a),class:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[e("div",{class:c(["w-12 h-12 rounded-xl flex items-center justify-center",L(a.analysis?.overall_score)])},[e("span",{class:c(["text-lg font-bold",k(a.analysis?.overall_score)])},l(a.analysis?.overall_score!==null?Math.round(a.analysis.overall_score):"-"),3)],2),e("div",Zt,[e("div",ea,[i(d(ue),{class:"w-4 h-4 text-gray-400"}),e("span",ta,l(a.date),1),t[22]||(t[22]=e("span",{class:"text-gray-400 dark:text-gray-500"},"â€¢",-1)),i(d(me),{class:"w-4 h-4 text-gray-400"}),e("span",aa,l(a.duration),1)]),a.lead?(s(),o("div",sa,l(a.lead.name)+" - "+l(a.lead.phone),1)):v("",!0)]),e("div",ra,[e("span",{class:c(["px-3 py-1 text-xs font-medium rounded-full",L(a.analysis?.overall_score)])},[e("span",{class:c(k(a.analysis?.overall_score))},l(a.analysis?.score_label||"Noma'lum"),3)],2),i(d(R),{class:c(["w-5 h-5 text-gray-400 transition-transform",{"rotate-90":p.value?.id===a.id}])},null,8,["class"])])],8,Wt),p.value?.id===a.id?(s(),o("div",oa,[e("div",la,[e("div",da,[e("h4",ia,[i(d(he),{class:"w-5 h-5 text-purple-500"}),t[23]||(t[23]=h(" Transkript ",-1))]),e("div",na,[a.analysis?.formatted_transcript?(s(),o("div",ga,l(a.analysis.formatted_transcript),1)):a.analysis?.transcript?(s(),o("div",ca,l(a.analysis.transcript),1)):(s(),o("div",ua," Transkript mavjud emas "))])]),e("div",ma,[e("h4",ha,[i(d(D),{class:"w-5 h-5 text-purple-500"}),t[24]||(t[24]=h(" Tahlil natijalari ",-1))]),a.analysis?.stage_scores?(s(),o("div",xa,[(s(!0),o(m,null,y(a.analysis.stage_scores,(n,u)=>(s(),o("div",{key:u,class:"flex items-center gap-3"},[e("span",ya,l(Z[u]||u),1),e("div",va,[e("div",{class:c(["h-full bg-gradient-to-r transition-all duration-300",H(n)]),style:I({width:`${n||0}%`})},null,6)]),e("span",{class:c(["w-8 text-xs font-medium",k(n)])},l(n||0),3)]))),128))])):v("",!0),a.analysis?.strengths?.length?(s(),o("div",ba,[t[25]||(t[25]=e("h5",{class:"text-xs font-semibold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider mb-2"},"Kuchli tomonlar",-1)),e("ul",pa,[(s(!0),o(m,null,y(a.analysis.strengths,(n,u)=>(s(),o("li",{key:u,class:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300"},[i(d(w),{class:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),h(" "+l(n),1)]))),128))])])):v("",!0),a.analysis?.weaknesses?.length?(s(),o("div",fa,[t[26]||(t[26]=e("h5",{class:"text-xs font-semibold text-orange-600 dark:text-orange-400 uppercase tracking-wider mb-2"},"Yaxshilash kerak",-1)),e("ul",_a,[(s(!0),o(m,null,y(a.analysis.weaknesses,(n,u)=>(s(),o("li",{key:u,class:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300"},[i(d(A),{class:"w-4 h-4 text-orange-500 mt-0.5 flex-shrink-0"}),h(" "+l(n),1)]))),128))])])):v("",!0),a.analysis?.recommendations?.length?(s(),o("div",ka,[t[27]||(t[27]=e("h5",{class:"text-xs font-semibold text-blue-600 dark:text-blue-400 uppercase tracking-wider mb-2"},"Tavsiyalar",-1)),e("ul",wa,[(s(!0),o(m,null,y(a.analysis.recommendations,(n,u)=>(s(),o("li",{key:u,class:"flex items-start gap-2 text-sm text-gray-600 dark:text-gray-300"},[i(d(C),{class:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),h(" "+l(n),1)]))),128))])])):v("",!0)])])])):v("",!0)]))),128))]))])])])])):v("",!0)]))]),_:1})],64))}};export{as as default};

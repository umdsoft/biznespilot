import{r as e,v as a,x as t,L as r,y as s,C as l,I as d,A as o,z as n,D as i,J as g,K as c,N as u,F as y,G as m}from"./chunk-CpmtkKLp.js";import{u as x,h as p}from"./chunk-BhZp3z4u.js";import{_ as b}from"./chunk-BDBDdGhv.js";import{u as k}from"./app-C-ZlocOh.js";import{e as f}from"./chunk-D7SyfRoT.js";import{r as v}from"./chunk-DCXiFUg-.js";import{r as h}from"./chunk-Bsc1JRL5.js";import{r as w}from"./chunk-BYA8ViGa.js";import{r as j}from"./chunk-eMHYSAeQ.js";import{r as _}from"./chunk-XzsiFwnJ.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BuJDoypK.js";const q={class:"space-y-6"},S={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},z={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},C={class:"text-sm text-gray-500 dark:text-gray-400"},T={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},R={key:0,class:"divide-y divide-gray-200 dark:divide-gray-700"},A={class:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4"},B={class:"flex-1 space-y-4"},K={class:"flex items-center gap-4"},Q={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center"},U={class:"font-semibold text-gray-900 dark:text-gray-100"},V={class:"text-sm text-gray-500 dark:text-gray-400"},E={class:"flex items-center gap-6 text-sm"},F={class:"flex items-center gap-2"},I={class:"text-gray-600 dark:text-gray-300"},N={class:"flex items-center gap-2"},X={class:"font-medium text-gray-900 dark:text-gray-100"},Y={class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4"},D={class:"flex items-start gap-2"},G={class:"flex-1"},J={class:"text-sm text-gray-600 dark:text-gray-400"},L={key:0,class:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400"},W={key:0},$={key:1},H={class:"text-xs text-gray-400"},M={class:"flex lg:flex-col gap-3"},O=["onClick"],P=["onClick"],Z={key:1,class:"p-12 text-center text-gray-500 dark:text-gray-400"},ee={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full"},ae={class:"p-6 border-b border-gray-200 dark:border-gray-700"},te={class:"flex items-center gap-3"},re={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center"},se={key:0,class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 space-y-2 text-sm"},le={class:"flex justify-between"},de={class:"font-medium text-gray-900 dark:text-gray-100"},oe={class:"flex justify-between"},ne={class:"font-medium text-gray-900 dark:text-gray-100"},ie={class:"flex justify-between"},ge={class:"font-medium text-gray-900 dark:text-gray-100"},ce={class:"flex justify-end gap-3 pt-4"},ue=["disabled"],ye={key:0},me={key:1},xe={class:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full"},pe={class:"p-6 border-b border-gray-200 dark:border-gray-700"},be={class:"flex items-center gap-3"},ke={class:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center"},fe={key:0,class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 space-y-2 text-sm"},ve={class:"flex justify-between"},he={class:"font-medium text-gray-900 dark:text-gray-100"},we={class:"flex justify-between"},je={class:"font-medium text-gray-900 dark:text-gray-100"},_e={class:"flex justify-end gap-3 pt-4"},qe=["disabled"],Se={key:0},ze={key:1},Ce={__name:"Approvals",props:{requests:{type:Array,default:()=>[]}},setup(Ce){const{t:Te}=k(),Re=e(!1),Ae=e(!1),Be=e(null),Ke=x({comments:""}),Qe=x({reason:"",comments:""}),Ue=()=>{Be.value&&Ke.post(route("hr.leave.approve",Be.value.id),{preserveScroll:!0,onSuccess:()=>{Re.value=!1,Be.value=null,Ke.reset()}})},Ve=()=>{Be.value&&Qe.post(route("hr.leave.reject",Be.value.id),{preserveScroll:!0,onSuccess:()=>{Ae.value=!1,Be.value=null,Qe.reset()}})};return(e,x)=>(i(),a(b,{title:o(Te)("hr.leave_approvals")},{default:t(()=>[r(o(p),{title:o(Te)("hr.leave_approvals")},null,8,["title"]),s("div",q,[s("div",S,[s("div",null,[s("h1",z,n(o(Te)("hr.leave_approvals")),1),s("p",C,n(o(Te)("hr.leave_requests"))+" ("+n(Ce.requests.length)+") ",1)])]),s("div",T,[Ce.requests.length>0?(i(),l("div",R,[(i(!0),l(g,null,c(Ce.requests,e=>(i(),l("div",{key:e.id,class:"p-6 hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors"},[s("div",A,[s("div",B,[s("div",K,[s("div",Q,[r(o(f),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})]),s("div",null,[s("h3",U,n(e.user.name),1),s("p",V,n(e.leave_type.name),1)])]),s("div",E,[s("div",F,[r(o(v),{class:"w-4 h-4 text-gray-400"}),s("span",I,n(e.start_date_formatted)+" - "+n(e.end_date_formatted),1)]),s("div",N,[r(o(h),{class:"w-4 h-4 text-gray-400"}),s("span",X,n(e.total_days)+" kun ",1)])]),s("div",Y,[s("div",D,[r(o(w),{class:"w-5 h-5 text-gray-400 mt-0.5"}),s("div",G,[x[7]||(x[7]=s("p",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Sababi:",-1)),s("p",J,n(e.reason),1)])])]),e.emergency_contact||e.emergency_phone?(i(),l("div",L,[x[8]||(x[8]=s("span",{class:"font-medium"},"Favqulodda aloqa:",-1)),e.emergency_contact?(i(),l("span",W,n(e.emergency_contact),1)):d("",!0),e.emergency_phone?(i(),l("span",$,n(e.emergency_phone),1)):d("",!0)])):d("",!0),s("div",H," So'rov yuborilgan: "+n(e.created_at),1)]),s("div",M,[s("button",{onClick:a=>(e=>{Be.value=e,Re.value=!0,Ke.reset()})(e),class:"flex-1 lg:flex-none px-6 py-2.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2"},[r(o(j),{class:"w-5 h-5"}),x[9]||(x[9]=s("span",null,"Tasdiqlash",-1))],8,O),s("button",{onClick:a=>(e=>{Be.value=e,Ae.value=!0,Qe.reset()})(e),class:"flex-1 lg:flex-none px-6 py-2.5 bg-white dark:bg-gray-700 text-red-600 dark:text-red-400 text-sm font-medium rounded-lg border border-red-300 dark:border-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center justify-center gap-2"},[r(o(_),{class:"w-5 h-5"}),x[10]||(x[10]=s("span",null,"Rad etish",-1))],8,P)])])]))),128))])):(i(),l("div",Z,[r(o(h),{class:"w-12 h-12 mx-auto mb-4 opacity-50"}),x[11]||(x[11]=s("p",{class:"text-lg font-medium mb-2"},"Kutilayotgan so'rovlar yo'q",-1)),x[12]||(x[12]=s("p",{class:"text-sm"},"Barcha ta'til so'rovlari ko'rib chiqilgan",-1))]))])]),Re.value?(i(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:x[2]||(x[2]=u(e=>Re.value=!1,["self"]))},[s("div",ee,[s("div",ae,[s("div",te,[s("div",re,[r(o(j),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),x[13]||(x[13]=s("h3",{class:"text-xl font-bold text-gray-900 dark:text-gray-100"},"Ta'tilni Tasdiqlash",-1))])]),s("form",{onSubmit:u(Ue,["prevent"]),class:"p-6 space-y-4"},[Be.value?(i(),l("div",se,[s("div",le,[x[14]||(x[14]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Xodim:",-1)),s("span",de,n(Be.value.user.name),1)]),s("div",oe,[x[15]||(x[15]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Sana:",-1)),s("span",ne,n(Be.value.start_date_formatted)+" - "+n(Be.value.end_date_formatted),1)]),s("div",ie,[x[16]||(x[16]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Kunlar:",-1)),s("span",ge,n(Be.value.total_days)+" kun",1)])])):d("",!0),s("div",null,[x[17]||(x[17]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Izoh (ixtiyoriy) ",-1)),y(s("textarea",{"onUpdate:modelValue":x[0]||(x[0]=e=>o(Ke).comments=e),rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500",placeholder:"Qo'shimcha izoh yozing..."},null,512),[[m,o(Ke).comments]])]),s("div",ce,[s("button",{type:"button",onClick:x[1]||(x[1]=e=>Re.value=!1),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600"}," Bekor qilish "),s("button",{type:"submit",disabled:o(Ke).processing,class:"px-6 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[o(Ke).processing?(i(),l("span",ye,"Yuklanmoqda...")):(i(),l("span",me,"Tasdiqlash"))],8,ue)])],32)])])):d("",!0),Ae.value?(i(),l("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:x[6]||(x[6]=u(e=>Ae.value=!1,["self"]))},[s("div",xe,[s("div",pe,[s("div",be,[s("div",ke,[r(o(_),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),x[18]||(x[18]=s("h3",{class:"text-xl font-bold text-gray-900 dark:text-gray-100"},"Ta'tilni Rad Etish",-1))])]),s("form",{onSubmit:u(Ve,["prevent"]),class:"p-6 space-y-4"},[Be.value?(i(),l("div",fe,[s("div",ve,[x[19]||(x[19]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Xodim:",-1)),s("span",he,n(Be.value.user.name),1)]),s("div",we,[x[20]||(x[20]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Sana:",-1)),s("span",je,n(Be.value.start_date_formatted)+" - "+n(Be.value.end_date_formatted),1)])])):d("",!0),s("div",null,[x[21]||(x[21]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Rad etish sababi * ",-1)),y(s("textarea",{"onUpdate:modelValue":x[3]||(x[3]=e=>o(Qe).reason=e),required:"",rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-red-500",placeholder:"Nima uchun rad etyapsiz..."},null,512),[[m,o(Qe).reason]])]),s("div",null,[x[22]||(x[22]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Qo'shimcha izoh (ixtiyoriy) ",-1)),y(s("textarea",{"onUpdate:modelValue":x[4]||(x[4]=e=>o(Qe).comments=e),rows:"2",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-red-500",placeholder:"Qo'shimcha izoh..."},null,512),[[m,o(Qe).comments]])]),s("div",_e,[s("button",{type:"button",onClick:x[5]||(x[5]=e=>Ae.value=!1),class:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600"}," Bekor qilish "),s("button",{type:"submit",disabled:o(Qe).processing,class:"px-6 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},[o(Qe).processing?(i(),l("span",Se,"Yuklanmoqda...")):(i(),l("span",ze,"Rad Etish"))],8,qe)])],32)])])):d("",!0)]),_:1},8,["title"]))}};export{Ce as default};

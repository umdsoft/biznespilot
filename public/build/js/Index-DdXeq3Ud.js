import{r as e,b as t,D as a,y as r,z as s,A as l,F as o,G as d,B as i,v as n,M as g,H as p,I as c,K as x,N as y,J as u,O as k,L as b,E as m}from"./chunk-7Urb0kxg.js";import{h,r as f}from"./chunk-DKkye6wf.js";import{_ as v}from"./chunk-NrbfQB88.js";import{r as w}from"./chunk-Dm-LAqtr.js";import{r as j}from"./chunk-DUcDuGHI.js";import{r as _}from"./chunk-afst19KZ.js";import{r as q}from"./chunk-DncpFozA.js";import{r as z}from"./chunk-YGW1Cp7-.js";import{r as T}from"./chunk-COgkU9mi.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-D4tA7yBb.js";const B={class:"space-y-6"},O={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},H={class:"flex items-center gap-3"},I={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},J={class:"text-xs text-gray-500 dark:text-gray-400"},K={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5"},U={class:"flex items-center gap-3"},C={class:"w-10 h-10 rounded-lg flex items-center justify-center bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400"},M={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},S={class:"flex flex-wrap items-center gap-3"},D={class:"relative flex-1 min-w-[200px]"},L={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},P={key:0,class:"overflow-x-auto"},V={class:"w-full"},F={class:"divide-y divide-gray-100 dark:divide-gray-700"},N={class:"px-6 py-4 text-sm font-mono text-gray-900 dark:text-gray-100 whitespace-nowrap"},X={class:"px-6 py-4 text-sm text-gray-900 dark:text-gray-100 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},A={class:"px-6 py-4 whitespace-nowrap"},E={class:"px-6 py-4 text-sm font-semibold text-gray-900 dark:text-gray-100 whitespace-nowrap"},G={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap"},R={key:1,class:"text-center py-16"},W={key:2,class:"border-t border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between"},$={class:"text-sm text-gray-500 dark:text-gray-400"},ee={class:"flex gap-2"},te=["href","innerHTML"],ae=Object.assign({layout:v},{__name:"Index",props:{transactions:{type:Object,default:()=>({data:[]})},stats:{type:Object,default:()=>({total:0,paid:0,pending:0,failed:0,total_revenue:0})},filters:{type:Object,default:()=>({})}},setup(v){const ae=v,re=e(ae.filters.status||""),se=e(ae.filters.provider||""),le=e(ae.filters.search||""),oe=()=>{f.get("/dashboard/billing-transactions",{status:re.value||void 0,provider:se.value||void 0,search:le.value||void 0},{preserveState:!0})},de=e=>e?new Intl.NumberFormat("uz-UZ").format(e):"0",ie=e=>({created:"Yaratildi",waiting:"Kutilmoqda",processing:"Jarayonda",paid:"To'langan",cancelled:"Bekor qilindi",failed:"Xatolik",refunded:"Qaytarildi"}[e]||e),ne=t(()=>[{label:"Jami tranzaksiyalar",value:ae.stats.total,icon:w,color:"blue"},{label:"To'langan",value:ae.stats.paid,icon:j,color:"green"},{label:"Kutilayotgan",value:ae.stats.pending,icon:_,color:"yellow"},{label:"Muvaffaqiyatsiz",value:ae.stats.failed,icon:q,color:"red"}]),ge={blue:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",green:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400",yellow:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400",red:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400"};return(e,t)=>(m(),a(o,null,[r(l(h),{title:"To'lovlar"}),s("div",B,[t[8]||(t[8]=s("div",null,[s("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"To'lovlar"),s("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"Barcha billing tranzaksiyalari")],-1)),s("div",O,[(m(!0),a(o,null,d(ne.value,e=>(m(),a("div",{key:e.label,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5"},[s("div",H,[s("div",{class:i(["w-10 h-10 rounded-lg flex items-center justify-center",ge[e.color]])},[(m(),n(g(e.icon),{class:"w-5 h-5"}))],2),s("div",null,[s("p",I,p(e.value),1),s("p",J,p(e.label),1)])])]))),128)),s("div",K,[s("div",U,[s("div",C,[r(l(z),{class:"w-5 h-5"})]),s("div",null,[s("p",M,p(de(v.stats.total_revenue)),1),t[3]||(t[3]=s("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Jami daromad (UZS)",-1))])])])]),s("div",S,[c(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>re.value=e),onChange:oe,class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl text-sm"},[...t[4]||(t[4]=[y('<option value="">Barcha holatlar</option><option value="paid">To&#39;langan</option><option value="created">Yaratildi</option><option value="waiting">Kutilmoqda</option><option value="processing">Jarayonda</option><option value="cancelled">Bekor qilindi</option><option value="failed">Xatolik</option>',7)])],544),[[x,re.value]]),c(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>se.value=e),onChange:oe,class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl text-sm"},[...t[5]||(t[5]=[s("option",{value:""},"Barcha provayderlar",-1),s("option",{value:"click"},"Click",-1),s("option",{value:"payme"},"Payme",-1)])],544),[[x,se.value]]),s("div",D,[r(l(T),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>le.value=e),onKeyup:k(oe,["enter"]),type:"text",placeholder:"Order ID yoki biznes nomi bo'yicha qidirish...",class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl text-sm focus:ring-2 focus:ring-blue-500"},null,544),[[u,le.value]])])]),s("div",L,[v.transactions.data&&v.transactions.data.length>0?(m(),a("div",P,[s("table",V,[t[6]||(t[6]=s("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Order ID"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Biznes"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Tarif"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Provider"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Summa"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Holat"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Sana")])],-1)),s("tbody",F,[(m(!0),a(o,null,d(v.transactions.data,e=>{return m(),a("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors"},[s("td",N,p(e.order_id),1),s("td",X,p(e.business_name),1),s("td",Y,[s("span",Z,p(e.plan_name),1)]),s("td",A,[s("span",{class:i(["px-2.5 py-1 text-xs font-semibold rounded-md","click"===e.provider?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400"])},p("click"===e.provider?"Click":"Payme"),3)]),s("td",E,p(de(e.amount))+" "+p(e.currency),1),s("td",G,[s("span",{class:i(["px-2.5 py-1 text-xs font-semibold rounded-md",(t=e.status,{paid:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",created:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",waiting:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",processing:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",cancelled:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",failed:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",refunded:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"}[t]||"bg-gray-100 text-gray-700")])},p(ie(e.status)),3)]),s("td",Q,p(e.created_at),1)]);var t}),128))])])])):(m(),a("div",R,[r(l(w),{class:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),t[7]||(t[7]=s("p",{class:"text-gray-500 dark:text-gray-400 text-lg"},"Hali tranzaksiyalar yo'q",-1))])),v.transactions.links&&v.transactions.last_page>1?(m(),a("div",W,[s("p",$,p(v.transactions.from)+"-"+p(v.transactions.to)+" / "+p(v.transactions.total),1),s("div",ee,[(m(!0),a(o,null,d(v.transactions.links,e=>(m(),a("a",{key:e.label,href:e.url,class:i(["px-3 py-1.5 text-sm rounded-lg transition-colors",e.active?"bg-blue-600 text-white":e.url?"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":"text-gray-300 dark:text-gray-600 cursor-not-allowed"]),innerHTML:e.label},null,10,te))),128))])])):b("",!0)])])],64))}});export{ae as default};

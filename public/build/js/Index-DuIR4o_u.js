import{h as e,r as t}from"./chunk-DKkye6wf.js";import{_ as r}from"./chunk-k4W8urQJ.js";import{u as a}from"./app-DFslr8vl.js";import{a as s}from"./chunk-9PkX4iPz.js";import{r as d}from"./chunk-D8HUIhLG.js";import{r as l}from"./chunk-CmlhnALp.js";import{r as o,a as i}from"./chunk-DUcDuGHI.js";import{r as g}from"./chunk-DncpFozA.js";import{r as n}from"./chunk-BugzYCIx.js";import{r as x}from"./chunk-afst19KZ.js";import{r as c}from"./chunk-DS-Zp4Qb.js";import{r as y}from"./chunk-ab1b1Fp4.js";import{r as b}from"./chunk-BuUG9uB6.js";import{r as u,v as p,x as m,y as k,z as h,A as f,D as v,L as w,H as j,E as _,F as q,G as S,B,C as I,M as C}from"./chunk-7Urb0kxg.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-DhwSyUm1.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-D4tA7yBb.js";import"./chunk-DmCyVuil.js";import"./chunk-Be6I8nOg.js";import"./chunk-DpGbuIFK.js";import"./chunk-78n7fhob.js";import"./chunk-Di7Oc7TS.js";const A={class:"space-y-8"},J={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},O={class:"text-2xl font-bold text-gray-900 dark:text-white"},z={class:"text-sm text-gray-500 dark:text-gray-400"},M={key:0,class:"flex gap-2"},$=["onClick"],T={key:0,class:"space-y-8"},D={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-5"},K={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},L={class:"flex items-center gap-2 mb-2"},Q={class:"text-2xl font-bold text-gray-900 dark:text-white"},U={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},P={class:"flex items-center gap-2 mb-2"},V={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Z={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},E={class:"flex items-center gap-2 mb-2"},F={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},G={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},H={class:"flex items-center gap-2 mb-2"},N={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},R={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},Y={class:"flex items-center gap-2 mb-2"},W={class:"text-2xl font-bold text-red-600 dark:text-red-400"},X={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},ee={class:"flex items-center gap-2 mb-2"},te={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},re={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},ae={class:"flex items-center gap-2 mb-2"},se={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},de={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},le={class:"flex items-center gap-2 mb-2"},oe={class:"text-2xl font-bold text-teal-600 dark:text-teal-400"},ie={key:0,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},ge={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},ne={class:"flex items-center justify-between"},xe={class:"text-sm text-gray-500 dark:text-gray-400"},ce={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"},ye={class:"flex flex-wrap gap-2"},be=["onClick","disabled"],ue={class:"flex flex-col items-center"},pe={key:0,class:"text-xs opacity-75 mt-0.5"},me={key:0,class:"px-6 py-4 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-gray-700"},ke={class:"grid grid-cols-3 md:grid-cols-6 gap-4 text-center"},he={class:"text-lg font-bold text-gray-900 dark:text-white"},fe={class:"text-lg font-bold text-green-600"},ve={class:"text-lg font-bold text-blue-600"},we={class:"text-lg font-bold text-emerald-600"},je={class:"text-lg font-bold text-red-600"},_e={class:"text-lg font-bold text-orange-600"},qe={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Se={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},Be={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Ie={class:"flex items-center justify-between"},Ce={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},Ae={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Je={class:"overflow-x-auto"},Oe={class:"w-full"},ze={class:"divide-y divide-gray-200 dark:divide-gray-700"},Me={class:"px-4 py-3 whitespace-nowrap"},$e={class:"flex items-center gap-2"},Te={class:"w-7 h-7 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-700 dark:text-blue-400 font-medium text-xs"},De={class:"font-medium text-gray-900 dark:text-white text-sm"},Ke={class:"px-2 py-3 text-center font-bold text-gray-900 dark:text-white"},Le={class:"px-2 py-3 text-center text-emerald-600 dark:text-emerald-400"},Qe={class:"px-2 py-3 text-center"},Ue={key:0},Pe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},Ve={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Ze={class:"flex items-center justify-between"},Ee={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Fe={key:0,class:"p-12 text-center"},Ge={key:1,class:"divide-y divide-gray-200 dark:divide-gray-700 max-h-[600px] overflow-y-auto"},He={class:"flex items-start gap-3"},Ne={class:"flex-1 min-w-0"},Re={class:"font-medium text-gray-900 dark:text-white text-sm truncate"},Ye={class:"text-xs text-gray-500 dark:text-gray-400"},We={class:"flex items-center gap-2 mt-1"},Xe={class:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400"},et={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},tt={key:0,class:"text-xs text-gray-600 dark:text-gray-400 mt-0.5"},rt={key:1,class:"mt-2"},at={controls:"",class:"w-full h-8",style:{"max-height":"32px"}},st=["src"],dt={key:1},lt={key:0,class:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl border-2 border-green-200 dark:border-green-800 p-12 text-center"},ot={class:"flex justify-center mb-4"},it={class:"w-20 h-20 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center"},gt={key:1,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},nt={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20"},xt={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},ct={class:"divide-y divide-gray-200 dark:divide-gray-700"},yt={class:"flex items-start gap-4"},bt={class:"flex-1 min-w-0"},ut={class:"flex items-center gap-2 mb-2"},pt={class:"font-semibold text-gray-900 dark:text-white text-lg"},mt={class:"text-sm text-gray-600 dark:text-gray-400 mb-3"},kt={class:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 mb-3"},ht={class:"text-sm text-orange-800 dark:text-orange-200"},ft={class:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400"},vt={class:"flex items-center gap-1"},wt={key:0},jt={class:"flex flex-col gap-2 flex-shrink-0"},_t=["onClick","disabled"],qt={key:0},St={key:1},Bt=["href"],It={__name:"Index",props:{calls:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({total:0,incoming:0,outgoing:0,answered:0,missed:0,avg_duration:0,total_duration:0,answer_rate:0})},dailyBreakdown:{type:Object,default:()=>({})},operatorStats:{type:Array,default:()=>[]},period:{type:String,default:"daily"},dateInfo:{type:Object,default:()=>({current_month:"",current_day:1,days_in_month:31,selected_day:1})},tab:{type:String,default:"all"},auditCount:{type:Number,default:0},canViewAudit:{type:Boolean,default:!1}},setup(It){const{t:Ct}=a(),At=It,Jt=[{key:"daily",label:Ct("common.daily")},{key:"weekly",label:Ct("common.weekly")},{key:"monthly",label:Ct("common.monthly")}],Ot=u(At.dateInfo?.selected_day||At.dateInfo?.current_day||1),zt=e=>{if(!e)return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`},Mt=e=>{if(!e)return"0:00:00";const t=e%60;return`${Math.floor(e/3600)}:${Math.floor(e%3600/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},$t=e=>{if(!e)return"-";const t=new Date(e);return t.toLocaleDateString("uz-UZ")+" "+t.toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})},Tt=e=>({incoming:d,outgoing:l,missed:b}[e]||s),Dt=e=>({incoming:"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30",outgoing:"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30",missed:"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30"}[e]||"text-gray-600 bg-gray-100"),Kt=e=>({incoming:Ct("calls.incoming"),outgoing:Ct("calls.outgoing"),missed:Ct("calls.missed")}[e]||e),Lt=e=>{const t=e===At.dateInfo?.current_day,r=e===Ot.value,a=e>At.dateInfo?.current_day,s=At.dailyBreakdown[e]?.total>0;return a?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":r?"bg-blue-600 text-white border-blue-600":s?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700 hover:bg-blue-200 dark:hover:bg-blue-900/50":t?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 border-emerald-300 dark:border-emerald-700":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"},Qt=u(new Set);return(a,b)=>(_(),p(r,{title:f(Ct)("nav.calls")},{default:m(()=>[k(f(e),{title:f(Ct)("nav.calls")},null,8,["title"]),h("div",A,[h("div",J,[h("div",null,[h("h1",O,j(f(Ct)("calls.analytics")),1),h("p",z,j(f(Ct)("calls.analytics_subtitle")),1)]),"all"===It.tab?(_(),v("div",M,[(_(),v(q,null,S(Jt,e=>h("button",{key:e.key,onClick:r=>{return a=e.key,void t.get("/sales-head/calls",{period:a},{preserveState:!0,preserveScroll:!0});var a},class:B(["px-4 py-2 rounded-lg font-medium transition-all",It.period===e.key?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"])},j(e.label),11,$)),64))])):w("",!0)]),"all"===It.tab?(_(),v("div",T,[h("div",D,[h("div",K,[h("div",L,[k(f(s),{class:"w-5 h-5 text-gray-500"})]),h("p",Q,j(It.stats.total),1),b[0]||(b[0]=h("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jami",-1))]),h("div",U,[h("div",P,[k(f(d),{class:"w-5 h-5 text-green-500"})]),h("p",V,j(It.stats.incoming),1),b[1]||(b[1]=h("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Kiruvchi",-1))]),h("div",Z,[h("div",E,[k(f(l),{class:"w-5 h-5 text-blue-500"})]),h("p",F,j(It.stats.outgoing),1),b[2]||(b[2]=h("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Chiquvchi",-1))]),h("div",G,[h("div",H,[k(f(o),{class:"w-5 h-5 text-emerald-500"})]),h("p",N,j(It.stats.answered),1),b[3]||(b[3]=h("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Javob berildi",-1))]),h("div",R,[h("div",Y,[k(f(g),{class:"w-5 h-5 text-red-500"})]),h("p",W,j(It.stats.missed),1),b[4]||(b[4]=h("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Javob yo'q",-1))]),h("div",X,[h("div",ee,[k(f(n),{class:"w-5 h-5 text-purple-500"})]),h("p",te,j(It.stats.answer_rate)+"%",1),b[5]||(b[5]=h("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Javob foizi",-1))]),h("div",re,[h("div",ae,[k(f(x),{class:"w-5 h-5 text-orange-500"})]),h("p",se,j(zt(It.stats.avg_duration)),1),b[6]||(b[6]=h("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"O'rtacha",-1))]),h("div",de,[h("div",le,[k(f(x),{class:"w-5 h-5 text-teal-500"})]),h("p",oe,j(Mt(It.stats.total_duration)),1),b[7]||(b[7]=h("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Umumiy vaqt",-1))])]),"daily"===It.period?(_(),v("div",ie,[h("div",ge,[h("div",ne,[b[8]||(b[8]=h("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Kunlik Monitoring",-1)),h("span",xe,j(It.dateInfo.current_month),1)])]),h("div",ce,[h("div",ye,[(_(!0),v(q,null,S(It.dateInfo.days_in_month,e=>(_(),v("button",{key:e,onClick:r=>(e=>{Ot.value=e,t.get("/sales-head/calls",{period:"daily",day:e},{preserveState:!0,preserveScroll:!0})})(e),class:B(["relative px-3 py-2 rounded-lg text-sm font-medium transition-all border",Lt(e)]),disabled:e>It.dateInfo.current_day},[h("div",ue,[h("span",null,j(e),1),It.dailyBreakdown[e]?.total>0?(_(),v("span",pe,j(It.dailyBreakdown[e].total),1)):w("",!0)])],10,be))),128))])]),It.dailyBreakdown[Ot.value]?(_(),v("div",me,[h("div",ke,[h("div",null,[h("p",he,j(It.dailyBreakdown[Ot.value].total),1),b[9]||(b[9]=h("p",{class:"text-xs text-gray-500"},"Jami",-1))]),h("div",null,[h("p",fe,j(It.dailyBreakdown[Ot.value].incoming),1),b[10]||(b[10]=h("p",{class:"text-xs text-gray-500"},"Kiruvchi",-1))]),h("div",null,[h("p",ve,j(It.dailyBreakdown[Ot.value].outgoing),1),b[11]||(b[11]=h("p",{class:"text-xs text-gray-500"},"Chiquvchi",-1))]),h("div",null,[h("p",we,j(It.dailyBreakdown[Ot.value].answered),1),b[12]||(b[12]=h("p",{class:"text-xs text-gray-500"},"Javob berildi",-1))]),h("div",null,[h("p",je,j(It.dailyBreakdown[Ot.value].missed),1),b[13]||(b[13]=h("p",{class:"text-xs text-gray-500"},"Javob yo'q",-1))]),h("div",null,[h("p",_e,j(zt(It.dailyBreakdown[Ot.value].avg_duration)),1),b[14]||(b[14]=h("p",{class:"text-xs text-gray-500"},"O'rtacha",-1))])])])):w("",!0)])):w("",!0),h("div",qe,[h("div",Se,[h("div",Be,[h("div",Ie,[h("h3",Ce,[k(f(c),{class:"w-5 h-5 text-blue-600"}),b[15]||(b[15]=I(" Operatorlar samaradorligi ",-1))]),"daily"===It.period?(_(),v("span",Ae,j(Ot.value)+"-kun ",1)):w("",!0)])]),h("div",Je,[h("table",Oe,[b[17]||(b[17]=h("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[h("tr",null,[h("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Operator"),h("th",{class:"px-2 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Jami"),h("th",{class:"px-2 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Javob"),h("th",{class:"px-2 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"%")])],-1)),h("tbody",ze,[(_(!0),v(q,null,S(It.operatorStats,e=>(_(),v("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[h("td",Me,[h("div",$e,[h("div",Te,j(e.avatar),1),h("span",De,j(e.name),1)])]),h("td",Ke,j(e.total_calls),1),h("td",Le,j(e.answered),1),h("td",Qe,[h("span",{class:B(["px-2 py-1 rounded-full text-xs font-medium",e.answer_rate>=80?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":e.answer_rate>=60?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"])},j(e.answer_rate)+"% ",3)])]))),128)),0===It.operatorStats.length?(_(),v("tr",Ue,[...b[16]||(b[16]=[h("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"}," Ma'lumot yo'q ",-1)])])):w("",!0)])])])]),h("div",Pe,[h("div",Ve,[h("div",Ze,[b[18]||(b[18]=h("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Qo'ng'iroqlar ro'yxati",-1)),"daily"===It.period?(_(),v("span",Ee,j(Ot.value)+"-kun ",1)):w("",!0)])]),0===It.calls.length?(_(),v("div",Fe,[k(f(s),{class:"w-12 h-12 mx-auto text-gray-400 mb-4"}),b[19]||(b[19]=h("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Qo'ng'iroqlar yo'q",-1)),b[20]||(b[20]=h("p",{class:"text-gray-500 dark:text-gray-400"},"Bu kun uchun hech qanday qo'ng'iroq topilmadi",-1))])):(_(),v("div",Ge,[(_(!0),v(q,null,S(It.calls,e=>(_(),v("div",{key:e.id,class:"p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50"},[h("div",He,[h("div",{class:B([Dt(e.type),"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0"])},[(_(),p(C(Tt(e.type)),{class:"w-4 h-4"}))],2),h("div",Ne,[h("p",Re,j(e.lead?.name||e.phone),1),h("p",Ye,j(e.phone),1),h("div",We,[h("span",{class:B([Dt(e.type),"px-2 py-0.5 rounded-full text-xs font-medium"])},j(Kt(e.type)),3),h("span",Xe,[k(f(x),{class:"w-3 h-3"}),I(" "+j(zt(e.duration)),1)])]),h("p",et,j($t(e.created_at)),1),e.operator?(_(),v("p",tt,j(e.operator.name),1)):w("",!0),e.recording_url?(_(),v("div",rt,[h("audio",at,[h("source",{src:e.recording_url,type:"audio/mpeg"},null,8,st),b[21]||(b[21]=I(" Brauzer audio formatini qo'llab-quvvatlamaydi. ",-1))])])):w("",!0)])])]))),128))]))])])])):w("",!0),"audit"===It.tab&&It.canViewAudit?(_(),v("div",dt,[0===It.calls.length?(_(),v("div",lt,[h("div",ot,[h("div",it,[k(f(o),{class:"w-12 h-12 text-green-600 dark:text-green-400"})])]),b[22]||(b[22]=h("h3",{class:"text-2xl font-bold text-green-900 dark:text-green-100 mb-2"},"Ajoyib!",-1)),b[23]||(b[23]=h("p",{class:"text-green-700 dark:text-green-300"},"Bugun shubhali qo'ng'iroqlar yo'q",-1))])):(_(),v("div",gt,[h("div",nt,[h("h3",xt,[k(f(i),{class:"w-5 h-5 text-orange-600"}),b[24]||(b[24]=I(" Diqqat talab etadigan qo'ng'iroqlar ",-1))]),b[25]||(b[25]=h("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," AI tahlil uchun tavsiya etilgan qo'ng'iroqlar ",-1))]),h("div",ct,[(_(!0),v(q,null,S(It.calls,e=>(_(),v("div",{key:e.id,class:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50"},[h("div",yt,[h("div",{class:B([Dt(e.type),"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0"])},[(_(),p(C(Tt(e.type)),{class:"w-6 h-6"}))],2),h("div",bt,[h("div",ut,[h("p",pt,j(e.lead?.name||e.phone),1),h("span",{class:B([Dt(e.type),"px-2 py-0.5 rounded-full text-xs font-medium"])},j(Kt(e.type)),3)]),h("p",mt,j(e.phone),1),h("div",kt,[b[26]||(b[26]=h("p",{class:"text-sm font-medium text-orange-900 dark:text-orange-100 mb-1"},"Sabab:",-1)),h("p",ht,j(e.recommended_reason||"Tahlil talab qilinadi"),1)]),h("div",ft,[h("div",vt,[k(f(x),{class:"w-4 h-4"}),I(" "+j(e.formatted_duration||zt(e.duration)),1)]),h("div",null,j($t(e.created_at)),1),e.operator?(_(),v("div",wt,"Operator: "+j(e.operator.name),1)):w("",!0)])]),h("div",jt,[h("button",{onClick:r=>(async e=>{if(!Qt.value.has(e)){Qt.value.add(e);try{await new Promise(e=>setTimeout(e,2e3)),t.reload({preserveScroll:!0})}catch(r){}finally{Qt.value.delete(e)}}})(e.id),disabled:Qt.value.has(e.id),class:B(["px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",Qt.value.has(e.id)?"bg-gray-300 dark:bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 shadow-md hover:shadow-lg"])},[k(f(y),{class:"w-5 h-5"}),Qt.value.has(e.id)?(_(),v("span",qt,"Tahlil qilinmoqda...")):(_(),v("span",St,"AI Tahlil"))],10,_t),e.recording_url?(_(),v("a",{key:0,href:e.recording_url,target:"_blank",class:"px-4 py-2 rounded-lg font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-center"}," Yozuvni tinglash ",8,Bt)):w("",!0)])])]))),128))])]))])):w("",!0)])]),_:1},8,["title"]))}};export{It as default};

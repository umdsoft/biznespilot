import{r as e,b as a,w as l,p as t,o as s,e as r,D as n,y as o,A as i,x as u,z as d,L as c,E as m,F as g,G as p,B as v,H as x,I as b,J as y,K as h,C as f,R as k}from"./chunk-7Urb0kxg.js";import{a as _,h as w,l as C,r as j}from"./chunk-DKkye6wf.js";import{_ as M}from"./chunk-BB8-4400.js";import{d as z}from"./chunk-CB-IavEM.js";import{L as U}from"./chunk-DUSfSLms.js";import{_ as E}from"./chunk-BCo6x5W8.js";import"./chunk-Dm-LAqtr.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";const A={class:"min-h-screen bg-gray-50"},L={class:"bg-white border-b border-gray-200 sticky top-0 z-10"},V={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},O={class:"flex items-center justify-between py-4"},S={class:"flex items-center gap-4"},B={class:"hidden md:flex items-center gap-2"},T={class:"flex items-center"},I={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},R={key:1},N={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4"},q={class:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3"},K={class:"text-red-700"},F={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4"},G={class:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3"},H={class:"text-green-700"},D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},P={key:0,class:"flex items-center justify-center py-24"},$={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Q={class:"lg:col-span-2"},Y={key:0,class:"space-y-6"},J={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},W={class:"space-y-4"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},X=["onClick"],ee={class:"flex items-start gap-3"},ae={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},le=["d"],te={class:"flex-1"},se={class:"font-medium text-gray-900"},re={class:"text-sm text-gray-500 mt-1"},ne={key:1,class:"space-y-6"},oe={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ue={class:"block text-sm font-medium text-gray-700 mb-2"},de={class:"mt-4"},ce=["value"],me={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ge={class:"mb-6"},pe={class:"flex flex-wrap gap-2"},ve=["onClick"],xe={class:"mb-6"},be={class:"relative"},ye={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto"},he=["onClick"],fe={class:"text-gray-900"},ke={class:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded"},_e={key:0,class:"flex flex-wrap gap-2 mt-3"},we=["onClick"],Ce={class:"mb-6 space-y-3"},je={class:"flex items-center justify-between"},Me={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ze={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ue={key:0,class:"space-y-3"},Ee={class:"flex items-center gap-2 flex-wrap"},Ae={class:"text-xs text-gray-500 ml-2"},Le={key:0,class:"w-4 h-4 inline animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ve={key:0,class:"ml-auto"},Oe={class:"flex items-center gap-3"},Se=["value"],Be={key:0,class:"absolute top-2 right-2 flex gap-2"},Te={key:0,class:"bg-blue-600 text-white rounded-full px-3 py-1 text-xs font-medium shadow-lg"},Ie={key:1,class:"bg-red-500 text-white rounded-full px-3 py-1 text-xs font-medium shadow-lg"},Re={key:0,class:"space-y-2"},Ne={class:"space-y-2 max-h-40 overflow-y-auto"},qe={class:"flex items-center gap-2 flex-1"},Ke={class:"min-w-0"},Fe={class:"font-medium text-gray-900 text-sm truncate"},Ge={class:"text-xs text-gray-500 truncate"},He={class:"flex items-center gap-2"},De=["value","onChange"],Pe=["value"],$e=["onClick"],Qe={key:1,class:"space-y-2"},Ye={class:"space-y-2 max-h-40 overflow-y-auto"},Je={class:"flex items-center gap-2 flex-1"},We={class:"min-w-0"},Ze={class:"font-medium text-gray-900 text-sm truncate"},Xe={class:"text-xs text-gray-500 truncate"},ea={class:"flex items-center gap-2"},aa=["value","onChange"],la=["value"],ta=["onClick"],sa={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},ra={class:"flex items-center gap-3"},na={class:"flex gap-3"},oa={class:"relative"},ia={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto"},ua=["onClick"],da={class:"text-gray-900"},ca={key:0,class:"text-xs text-gray-500 ml-2"},ma={key:0,class:"flex flex-wrap gap-2 mt-3"},ga=["onClick"],pa={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},va={class:"flex items-center justify-between mb-4"},xa={class:"flex items-center gap-2 cursor-pointer"},ba={key:0,class:"space-y-4"},ya={class:"border border-gray-200 rounded-lg p-4"},ha={class:"flex items-center justify-between mb-3"},fa={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},ka={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},_a={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},wa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ca={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},ja={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ma={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},za={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ua={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ea={class:"border border-gray-200 rounded-lg p-4"},Aa={class:"flex items-center justify-between mb-3"},La={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},Va={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Oa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Sa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ba={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ta={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ia={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ra={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Na={class:"border border-gray-200 rounded-lg p-4"},qa={class:"flex items-center justify-between mb-3"},Ka={class:"grid grid-cols-2 md:grid-cols-3 gap-2"},Fa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ga={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ha={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Da={class:"border border-gray-200 rounded-lg p-4"},Pa={class:"flex items-center justify-between mb-3"},$a={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},Qa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ya={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ja={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Wa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Za={key:1,class:"text-sm text-gray-500 mt-2"},Xa={key:2,class:"space-y-6"},el={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},al={class:"space-y-4"},ll=["value"],tl={key:0,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},sl=["value"],rl={class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors"},nl={for:"image-upload",class:"cursor-pointer"},ol={key:0,class:"mb-4"},il=["src"],ul={key:1,class:"text-gray-500"},dl={key:0,class:"mt-3"},cl={class:"block text-sm font-medium text-gray-700 mb-2"},ml={class:"text-gray-400 font-normal"},gl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pl={class:"block text-sm font-medium text-gray-700 mb-2"},vl={class:"text-gray-400 font-normal"},xl={class:"block text-sm font-medium text-gray-700 mb-2"},bl={class:"text-gray-400 font-normal"},yl={key:1},hl=["value"],fl={key:3,class:"space-y-6"},kl={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},_l={class:"grid grid-cols-2 gap-4"},wl={class:"font-medium text-gray-900"},Cl={class:"font-medium text-gray-900"},jl={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Ml={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},zl={class:"font-medium text-gray-900"},Ul={class:"font-medium text-gray-900"},El={class:"font-medium text-gray-900"},Al={class:"font-medium text-gray-900"},Ll={key:0},Vl={class:"font-medium text-blue-600"},Ol={key:1},Sl={class:"font-medium text-red-600"},Bl={key:2},Tl={class:"font-medium text-gray-900"},Il={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Rl={class:"flex gap-6"},Nl={key:0,class:"flex-shrink-0"},ql=["src"],Kl={class:"flex-1 space-y-2"},Fl={class:"font-medium text-gray-900"},Gl={class:"text-gray-700"},Hl={key:0},Dl={class:"font-medium text-gray-900"},Pl={key:1},$l={class:"font-medium text-green-600"},Ql={class:"lg:col-span-1"},Yl={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-24"},Jl={class:"text-center py-6"},Wl={key:0,class:"animate-pulse"},Zl={key:1},Xl={class:"text-3xl font-bold text-gray-900"},et={class:"border-t border-gray-200 pt-4 mt-4"},at={class:"space-y-3 text-sm"},lt={class:"flex justify-between"},tt={class:"font-medium text-gray-900"},st={class:"flex justify-between"},rt={class:"font-medium text-gray-900"},nt={class:"flex justify-between"},ot={class:"font-medium text-gray-900"},it={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-4 z-20"},ut={class:"max-w-7xl mx-auto flex items-center justify-between"},dt={key:1},ct={class:"flex items-center gap-3"},mt=["disabled"],gt=["disabled"],pt={key:0,class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},vt=E({__name:"Create",props:{businessId:{type:[String,Number],required:!0},adAccountId:{type:[String,Number],required:!0},currency:{type:String,default:"USD"}},setup(E){const vt=E,xt=e(1),bt=e(!1),yt=e(!1),ht=e(null),ft=e(null),kt=e({objectives:[],countries:[],call_to_actions:[],pages:[],ad_account:null,lead_forms:[]}),_t=e({name:"",objective:""}),wt=e({name:"",daily_budget:5,optimization_goal:"",targeting:{geo_locations:{countries:["UZ"],cities:[],regions:[]},age_min:18,age_max:65,genders:[1,2],flexible_spec:[],exclusions:{}},placements:{automatic:!0,facebook_feed:!0,facebook_marketplace:!0,facebook_video_feeds:!0,facebook_stories:!0,facebook_reels:!0,facebook_right_column:!1,facebook_search:!1,facebook_instream_video:!1,instagram_feed:!0,instagram_stories:!0,instagram_reels:!0,instagram_explore:!0,instagram_explore_home:!1,instagram_shop:!1,instagram_profile_feed:!1,audience_network_native:!1,audience_network_banner:!1,audience_network_interstitial:!1,audience_network_rewarded_video:!1,messenger_inbox:!1,messenger_stories:!1,messenger_sponsored:!1},start_time:"",end_time:"",bid_strategy:"LOWEST_COST_WITHOUT_CAP"}),Ct=e({name:"",page_id:"",primary_text:"",headline:"",description:"",link:"",call_to_action:"LEARN_MORE",image_hash:"",image_preview:"",format:"single_image",lead_form_id:""}),jt=e({users_lower_bound:0,users_upper_bound:0,loading:!1});e("facebook_feed");const Mt=e(""),zt=e([]),Ut=e([]),Et=e(!1),At=e(""),Lt=e([]),Vt=e([]),Ot=e(!1),St=e(null),Bt=e(null),Tt=e([]),It=e([]),Rt=e(!0),Nt=e("add"),qt=e(!1),Kt=e([]),Ft=e([]),Gt=e(25),Ht=[10,15,20,25,30,40,50,80,100,150,200],Dt=e({}),Pt={UZ:{lat:41.377491,lng:64.585262,name:"O'zbekiston",zoom:5},KZ:{lat:48.019573,lng:66.923684,name:"Qozog'iston",zoom:4},RU:{lat:61.52401,lng:105.318756,name:"Rossiya",zoom:3},TJ:{lat:38.861034,lng:71.276093,name:"Tojikiston",zoom:6},KG:{lat:41.20438,lng:74.766098,name:"Qirg'iziston",zoom:6},TM:{lat:38.969719,lng:59.556278,name:"Turkmaniston",zoom:5},AZ:{lat:40.143105,lng:47.576927,name:"Ozarbayjon",zoom:6},GE:{lat:42.315407,lng:43.356892,name:"Gruziya",zoom:7},TR:{lat:38.963745,lng:35.243322,name:"Turkiya",zoom:5},AE:{lat:23.424076,lng:53.847818,name:"BAA",zoom:6},US:{lat:37.09024,lng:-95.712891,name:"AQSH",zoom:3},GB:{lat:55.378051,lng:-3.435973,name:"Buyuk Britaniya",zoom:5},DE:{lat:51.165691,lng:10.451526,name:"Germaniya",zoom:5}};e(null);const $t=e(!1),Qt=["Kampaniya","Auditoriya","Kreativ","Tasdiqlash"],Yt=a(()=>{switch(xt.value){case 1:return _t.value.name&&_t.value.objective;case 2:return wt.value.name&&wt.value.daily_budget>=1&&wt.value.optimization_goal;case 3:return Ct.value.name&&Ct.value.page_id&&Ct.value.primary_text&&(Ct.value.link||Jt.value)&&Ct.value.call_to_action;case 4:return!0;default:return!1}}),Jt=a(()=>"OUTCOME_LEADS"===_t.value.objective),Wt=a(()=>({OUTCOME_AWARENESS:[{value:"REACH",label:"Qamrov"},{value:"IMPRESSIONS",label:"Ko'rishlar"}],OUTCOME_TRAFFIC:[{value:"LINK_CLICKS",label:"Link kliklar"},{value:"LANDING_PAGE_VIEWS",label:"Landing sahifa"}],OUTCOME_ENGAGEMENT:[{value:"POST_ENGAGEMENT",label:"Post engagement"},{value:"THRUPLAY",label:"Video ko'rish"}],OUTCOME_LEADS:[{value:"LEAD_GENERATION",label:"Lid generatsiya"},{value:"CONVERSATIONS",label:"Suhbatlar"}],OUTCOME_SALES:[{value:"CONVERSIONS",label:"Konversiyalar"}]}[_t.value.objective]||[{value:"REACH",label:"Qamrov"}])),Zt=e=>({facebook:["facebook_feed","facebook_marketplace","facebook_video_feeds","facebook_stories","facebook_reels","facebook_right_column","facebook_search","facebook_instream_video"],instagram:["instagram_feed","instagram_stories","instagram_reels","instagram_explore","instagram_explore_home","instagram_shop","instagram_profile_feed"],messenger:["messenger_inbox","messenger_stories","messenger_sponsored"],audience_network:["audience_network_native","audience_network_banner","audience_network_interstitial","audience_network_rewarded_video"]}[e]?.some(e=>wt.value.placements[e])||!1),Xt=e=>{const a={facebook:["facebook_feed","facebook_marketplace","facebook_video_feeds","facebook_stories","facebook_reels","facebook_right_column","facebook_search","facebook_instream_video"],instagram:["instagram_feed","instagram_stories","instagram_reels","instagram_explore","instagram_explore_home","instagram_shop","instagram_profile_feed"],messenger:["messenger_inbox","messenger_stories","messenger_sponsored"],audience_network:["audience_network_native","audience_network_banner","audience_network_interstitial","audience_network_rewarded_video"]}[e]||[],l=a.every(e=>wt.value.placements[e]);a.forEach(e=>{wt.value.placements[e]=!l})},es=async()=>{try{const e=await _.get("/integrations/meta/api/lead-forms",{params:{business_id:vt.businessId}});e.data.success&&(kt.value.lead_forms=e.data.data||[])}catch(e){}},as=()=>{Yt.value&&xt.value<4&&(1!==xt.value||wt.value.name||(wt.value.name=`${_t.value.name} - AdSet`),2!==xt.value||Ct.value.name||(Ct.value.name=`${_t.value.name} - Ad`),xt.value++)},ls=()=>{xt.value>1&&xt.value--},ts=z(async()=>{if(Mt.value.length<2)zt.value=[];else{Et.value=!0;try{const e=await _.get("/integrations/meta/api/search-interests",{params:{q:Mt.value,business_id:vt.businessId}});zt.value=e.data.data||[]}catch(e){}finally{Et.value=!1}}},300),ss=z(async()=>{if(At.value.length<2)Lt.value=[];else{Ot.value=!0;try{const e=await _.get("/integrations/meta/api/search-locations",{params:{q:At.value,business_id:vt.businessId}});Lt.value=e.data.data||[]}catch(e){}finally{Ot.value=!1}}},300),rs=()=>{const e={countries:wt.value.targeting.geo_locations.countries,cities:[],regions:[]};Vt.value.forEach(a=>{"city"===a.type?e.cities.push({key:a.key,name:a.name}):"region"===a.type&&e.regions.push({key:a.key,name:a.name})}),Kt.value.length>0&&(e.custom_locations=Kt.value.map(e=>({latitude:e.lat,longitude:e.lng,radius:e.radius,distance_unit:"kilometer",name:e.name}))),wt.value.targeting.geo_locations=e},ns=()=>{Ut.value.length>0?wt.value.targeting.flexible_spec=[{interests:Ut.value.map(e=>({id:e.id,name:e.name}))}]:wt.value.targeting.flexible_spec=[],bs()},os=e=>{const a=wt.value.targeting.genders,l=a.indexOf(e);l>-1&&a.length>1?a.splice(l,1):-1===l&&a.push(e),bs()},is=()=>{!Bt.value&&St.value&&(delete U.Icon.Default.prototype._getIconUrl,U.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"}),Bt.value=U.map(St.value,{center:[41.377491,64.585262],zoom:4,zoomControl:!0,attributionControl:!1}),U.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18}).addTo(Bt.value),Bt.value.on("click",ps),us(),gs())},us=()=>{if(Bt.value&&(Tt.value.forEach(e=>e.remove()),Tt.value=[],wt.value.targeting.geo_locations.countries.forEach(e=>{const a=Pt[e];if(a){const e=U.marker([a.lat,a.lng]).addTo(Bt.value).bindPopup(a.name);Tt.value.push(e)}}),Tt.value.length>0)){const e=Tt.value.map(e=>e.getLatLng());1===e.length?Bt.value.setView(e[0],5):Bt.value.fitBounds(e,{padding:[50,50]})}},ds=async(e,a,l=!1)=>{qt.value=!0;try{const t=await(async(e,a)=>{const l=`${e.toFixed(4)}_${a.toFixed(4)}`;if(Dt.value[l])return Dt.value[l];try{const t=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${a}&zoom=10&addressdetails=1`),s=await t.json(),r={name:s.address?.city||s.address?.town||s.address?.village||s.address?.municipality||s.address?.county||"Noma'lum joy",fullName:s.display_name||"",country:s.address?.country||"",countryCode:s.address?.country_code?.toUpperCase()||""};return Dt.value[l]=r,r}catch(t){return{name:`${e.toFixed(4)}, ${a.toFixed(4)}`,fullName:"",country:"",countryCode:""}}})(e,a),s={id:`custom_${Date.now()}`,lat:e,lng:a,name:t.name,fullName:t.fullName,country:t.country,countryCode:t.countryCode,radius:Gt.value,isExcluded:l};l?Ft.value.push(s):Kt.value.push(s),gs(),rs(),bs()}finally{qt.value=!1}},cs=(e,a=!1)=>{a?Ft.value=Ft.value.filter(a=>a.id!==e):Kt.value=Kt.value.filter(a=>a.id!==e),gs(),rs(),bs()},ms=(e,a,l=!1)=>{const t=(l?Ft.value:Kt.value).find(a=>a.id===e);t&&(t.radius=a,gs(),rs(),bs())},gs=()=>{if(Bt.value&&(It.value.forEach(e=>e.remove()),It.value=[],Kt.value.forEach(e=>{const a=U.circle([e.lat,e.lng],{radius:1e3*e.radius,color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.2,weight:2}).addTo(Bt.value);a.bindPopup(`\n            <div class="p-2">\n                <strong>${e.name}</strong><br>\n                <small>${e.country}</small><br>\n                <span class="text-blue-600">Radius: ${e.radius} km</span>\n            </div>\n        `),It.value.push(a)}),Ft.value.forEach(e=>{const a=U.circle([e.lat,e.lng],{radius:1e3*e.radius,color:"#ef4444",fillColor:"#ef4444",fillOpacity:.2,weight:2,dashArray:"5, 10"}).addTo(Bt.value);a.bindPopup(`\n            <div class="p-2">\n                <strong>${e.name}</strong> (Istisno)<br>\n                <small>${e.country}</small><br>\n                <span class="text-red-600">Radius: ${e.radius} km</span>\n            </div>\n        `),It.value.push(a)}),Kt.value.length>0||Ft.value.length>0)){const e=[...Kt.value,...Ft.value].map(e=>[e.lat,e.lng]);1===e.length?Bt.value.setView(e[0],10):e.length>1&&Bt.value.fitBounds(e,{padding:[50,50]})}},ps=e=>{if(Nt.value){const a="exclude"===Nt.value;ds(e.latlng.lat,e.latlng.lng,a)}},vs=e=>{Nt.value=Nt.value===e?null:e},xs=()=>{Rt.value=!Rt.value,Rt.value&&t(()=>{is()})},bs=z(async()=>{jt.value.loading=!0;try{const e=await _.post("/integrations/meta/api/reach-estimate",{business_id:vt.businessId,targeting:wt.value.targeting,optimization_goal:wt.value.optimization_goal});e.data.success&&e.data.data&&(jt.value.users_lower_bound=e.data.data.users_lower_bound||0,jt.value.users_upper_bound=e.data.data.users_upper_bound||0)}catch(e){}finally{jt.value.loading=!1}},500),ys=async e=>{const a=e.target.files[0];if(!a)return;$t.value=!0;const l=new FormData;l.append("image",a),l.append("business_id",vt.businessId);try{const e=await _.post("/integrations/meta/api/upload-image",l,{headers:{"Content-Type":"multipart/form-data"}});e.data.success&&(Ct.value.image_hash=e.data.image_hash,Ct.value.image_preview=URL.createObjectURL(a))}catch(t){ht.value="Rasmni yuklashda xatolik"}finally{$t.value=!1}},hs=async()=>{yt.value=!0,ht.value=null;try{const e={business_id:vt.businessId,campaign:_t.value,adset:{...wt.value,targeting:{...wt.value.targeting,flexible_spec:Ut.value.length>0?[{interests:Ut.value.map(e=>({id:e.id,name:e.name}))}]:[]}},ad:{...Ct.value,lead_form_id:Jt.value?Ct.value.lead_form_id:null}},a=await _.post("/integrations/meta/api/campaign/create",e);a.data.success?(ft.value="Reklama muvaffaqiyatli yaratildi!",setTimeout(()=>{j.visit("/business/target-analysis")},2e3)):ht.value=a.data.message||"Xatolik yuz berdi"}catch(e){ht.value=e.response?.data?.message||"Reklama yaratishda xatolik"}finally{yt.value=!1}},fs=e=>new Intl.NumberFormat("uz-UZ").format(e||0);return l(xt,e=>{2===e&&t(()=>{Rt.value&&!Bt.value&&is()})}),l([Kt,Ft],()=>{gs()},{deep:!0}),s(()=>{(async()=>{bt.value=!0;try{const e=await _.get("/integrations/meta/api/wizard-options",{params:{business_id:vt.businessId}});e.data.success&&(kt.value=e.data,kt.value.pages?.length>0&&(Ct.value.page_id=kt.value.pages[0].id)),await es()}catch(e){ht.value="Ma'lumotlarni yuklashda xatolik"}finally{bt.value=!1}})()}),r(()=>{Bt.value&&(Bt.value.remove(),Bt.value=null),Tt.value=[],It.value=[]}),(e,a)=>(m(),n(g,null,[o(i(w),{title:"Yangi reklama yaratish"}),o(M,{title:"Yangi reklama yaratish"},{default:u(()=>{return[d("div",A,[d("div",L,[d("div",V,[d("div",O,[d("div",S,[o(i(C),{href:"/business/target-analysis",class:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition"},{default:u(()=>[...a[50]||(a[50]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),a[51]||(a[51]=d("div",null,[d("h1",{class:"text-xl font-bold text-gray-900"},"Yangi reklama yaratish"),d("p",{class:"text-sm text-gray-500"},"Meta Ads Manager")],-1))]),d("div",B,[(m(),n(g,null,p(Qt,(e,l)=>(m(),n(g,{key:l},[d("div",T,[d("div",{class:v(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all",xt.value>l+1?"bg-green-500 text-white":xt.value===l+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"])},[xt.value>l+1?(m(),n("svg",I,[...a[52]||(a[52]=[d("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(m(),n("span",R,x(l+1),1))],2),d("span",{class:v(["ml-2 text-sm font-medium",xt.value===l+1?"text-blue-600":"text-gray-500"])},x(e),3)]),l<Qt.length-1?(m(),n("div",{key:0,class:v(["w-12 h-0.5 mx-2",xt.value>l+1?"bg-green-500":"bg-gray-200"])},null,2)):c("",!0)],64))),64))])])])]),ht.value?(m(),n("div",N,[d("div",q,[a[53]||(a[53]=d("svg",{class:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),d("span",K,x(ht.value),1)])])):c("",!0),ft.value?(m(),n("div",F,[d("div",G,[a[54]||(a[54]=d("svg",{class:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),d("span",H,x(ft.value),1)])])):c("",!0),d("div",D,[bt.value?(m(),n("div",P,[...a[55]||(a[55]=[d("div",{class:"flex flex-col items-center gap-4"},[d("div",{class:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full"}),d("p",{class:"text-gray-500"},"Ma'lumotlar yuklanmoqda...")],-1)])])):(m(),n("div",$,[d("div",Q,[1===xt.value?(m(),n("div",Y,[d("div",J,[a[58]||(a[58]=d("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Kampaniya ma'lumotlari",-1)),d("div",W,[d("div",null,[a[56]||(a[56]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kampaniya nomi *",-1)),b(d("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>_t.value.name=e),type:"text",placeholder:"Masalan: Yangi yil aksiyasi",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[y,_t.value.name]])]),d("div",null,[a[57]||(a[57]=d("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Kampaniya maqsadi *",-1)),d("div",Z,[(m(!0),n(g,null,p(kt.value.objectives,e=>(m(),n("button",{key:e.value,onClick:a=>(e=>{_t.value.objective=e.value;const a=Wt.value;a.length>0&&(wt.value.optimization_goal=a[0].value)})(e),class:v(["p-4 border-2 rounded-xl text-left transition-all",_t.value.objective===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"])},[d("div",ee,[d("div",{class:v(["w-10 h-10 rounded-lg flex items-center justify-center",_t.value.objective===e.value?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"])},[(m(),n("svg",ae,[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"OUTCOME_AWARENESS"===e.value?"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z":"OUTCOME_TRAFFIC"===e.value?"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122":"OUTCOME_ENGAGEMENT"===e.value?"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z":"OUTCOME_LEADS"===e.value?"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z":"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"},null,8,le)]))],2),d("div",te,[d("p",se,x(e.label),1),d("p",re,x(e.description),1)])])],10,X))),128))])])])])])):2===xt.value?(m(),n("div",ne,[d("div",oe,[a[61]||(a[61]=d("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Ad Set sozlamalari",-1)),d("div",ie,[d("div",null,[a[59]||(a[59]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ad Set nomi *",-1)),b(d("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>wt.value.name=e),type:"text",placeholder:"Masalan: Toshkent auditoriyasi",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[y,wt.value.name]])]),d("div",null,[d("label",ue,"Kunlik byudjet ("+x(E.currency)+") *",1),b(d("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>wt.value.daily_budget=e),type:"number",min:"1",step:"0.01",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[y,wt.value.daily_budget,void 0,{number:!0}]])])]),d("div",de,[a[60]||(a[60]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Optimizatsiya maqsadi *",-1)),b(d("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>wt.value.optimization_goal=e),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[(m(!0),n(g,null,p(Wt.value,e=>(m(),n("option",{key:e.value,value:e.value},x(e.label),9,ce))),128))],512),[[h,wt.value.optimization_goal]])])]),d("div",me,[a[86]||(a[86]=d("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Auditoriya sozlamalari",-1)),d("div",ge,[a[62]||(a[62]=d("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Mamlakatlar",-1)),d("div",pe,[(m(!0),n(g,null,p(kt.value.countries,e=>(m(),n("button",{key:e.code,onClick:a=>(e=>{const a=wt.value.targeting.geo_locations.countries,l=a.indexOf(e);l>-1?a.splice(l,1):a.push(e),bs()})(e.code),class:v(["px-4 py-2 rounded-lg text-sm font-medium transition-all",wt.value.targeting.geo_locations.countries.includes(e.code)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},x(e.name),11,ve))),128))])]),d("div",xe,[a[64]||(a[64]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Shahar/hudud qidirish",-1)),d("div",be,[b(d("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>At.value=e),onInput:a[5]||(a[5]=(...e)=>i(ss)&&i(ss)(...e)),type:"text",placeholder:"Shahar yoki hudud nomini kiriting...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,544),[[y,At.value]]),Lt.value.length>0?(m(),n("div",ye,[(m(!0),n(g,null,p(Lt.value,e=>(m(),n("button",{key:e.key,onClick:a=>{return l=e,Vt.value.find(e=>e.key===l.key)||(Vt.value.push({key:l.key,name:l.name,type:l.type,country_code:l.country_code}),rs(),bs()),At.value="",void(Lt.value=[]);var l},class:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3"},[d("span",fe,x(e.name),1),d("span",ke,x(e.type),1)],8,he))),128))])):c("",!0)]),Vt.value.length>0?(m(),n("div",_e,[(m(!0),n(g,null,p(Vt.value,e=>(m(),n("span",{key:e.key,class:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-800 rounded-full text-sm"},[f(x(e.name)+" ",1),d("button",{onClick:a=>{return l=e,Vt.value=Vt.value.filter(e=>e.key!==l.key),rs(),void bs();var l},class:"hover:text-blue-600"},[...a[63]||(a[63]=[d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],8,we)]))),128))])):c("",!0)]),d("div",Ce,[d("div",je,[a[67]||(a[67]=d("label",{class:"block text-sm font-medium text-gray-700"},[d("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})]),f(" Xaritadan joy tanlash ")],-1)),d("button",{onClick:xs,class:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1"},[Rt.value?(m(),n("svg",Me,[...a[65]||(a[65]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(m(),n("svg",ze,[...a[66]||(a[66]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])])),f(" "+x(Rt.value?"Yashirish":"Ko'rsatish"),1)])]),Rt.value?(m(),n("div",Ue,[d("div",Ee,[d("button",{onClick:a[6]||(a[6]=e=>vs("add")),class:v(["flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition border-2","add"===Nt.value?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-200 text-gray-700 hover:border-blue-300"])},[...a[68]||(a[68]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" Qo'shish ",-1)])],2),d("button",{onClick:a[7]||(a[7]=e=>vs("exclude")),class:v(["flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition border-2","exclude"===Nt.value?"bg-red-50 border-red-500 text-red-700":"bg-white border-gray-200 text-gray-700 hover:border-red-300"])},[...a[69]||(a[69]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})],-1),f(" Istisno ",-1)])],2),d("span",Ae,[Nt.value?(m(),n("svg",Le,[...a[70]||(a[70]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"},null,-1)])])):c("",!0),f(" "+x("add"===Nt.value?"Xaritaga bosib joy qo'shing":"exclude"===Nt.value?"Xaritaga bosib istisno qiling":""),1)]),qt.value?(m(),n("div",Ve,[...a[71]||(a[71]=[d("svg",{class:"animate-spin w-5 h-5 text-blue-600",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)])])):c("",!0)]),d("div",Oe,[a[72]||(a[72]=d("span",{class:"text-sm text-gray-600"},"Standart radius:",-1)),b(d("select",{"onUpdate:modelValue":a[8]||(a[8]=e=>Gt.value=e),class:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white text-gray-900"},[(m(),n(g,null,p(Ht,e=>d("option",{key:e,value:e},x(e)+" km",9,Se)),64))],512),[[h,Gt.value]])]),d("div",{class:v(["relative rounded-xl overflow-hidden border border-gray-200",{"ring-2 ring-blue-500":"add"===Nt.value,"ring-2 ring-red-500":"exclude"===Nt.value}])},[d("div",{ref_key:"mapContainer",ref:St,class:v(["w-full h-80",{"cursor-crosshair":Nt.value}])},null,2),a[73]||(a[73]=d("div",{class:"absolute bottom-2 left-2 bg-white/95 backdrop-blur-sm rounded-lg px-3 py-2 text-xs shadow-lg"},[d("div",{class:"flex flex-col gap-1.5"},[d("div",{class:"flex items-center gap-2"},[d("div",{class:"w-3 h-3 bg-blue-600 rounded-full"}),d("span",{class:"text-gray-700"},"Kiritilgan hudud")]),d("div",{class:"flex items-center gap-2"},[d("div",{class:"w-3 h-3 bg-red-500 rounded-full"}),d("span",{class:"text-gray-700"},"Istisno hudud")])])],-1)),Kt.value.length>0||Ft.value.length>0?(m(),n("div",Be,[Kt.value.length>0?(m(),n("div",Te," +"+x(Kt.value.length),1)):c("",!0),Ft.value.length>0?(m(),n("div",Ie," -"+x(Ft.value.length),1)):c("",!0)])):c("",!0)],2),Kt.value.length>0?(m(),n("div",Re,[a[76]||(a[76]=d("label",{class:"block text-sm font-medium text-gray-700"},[d("span",{class:"text-blue-600"},"+"),f(" Kiritilgan hududlar ")],-1)),d("div",Ne,[(m(!0),n(g,null,p(Kt.value,e=>(m(),n("div",{key:e.id,class:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200"},[d("div",qe,[a[74]||(a[74]=d("div",{class:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0"},[d("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})])],-1)),d("div",Ke,[d("div",Fe,x(e.name),1),d("div",Ge,x(e.country),1)])]),d("div",He,[d("select",{value:e.radius,onChange:a=>ms(e.id,parseInt(a.target.value),!1),class:"px-2 py-1 text-xs border border-blue-300 rounded-lg bg-white text-gray-900"},[(m(),n(g,null,p(Ht,e=>d("option",{key:e,value:e},x(e)+" km",9,Pe)),64))],40,De),d("button",{onClick:a=>cs(e.id,!1),class:"p-1 text-blue-600 hover:text-red-600 transition"},[...a[75]||(a[75]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,$e)])]))),128))])])):c("",!0),Ft.value.length>0?(m(),n("div",Qe,[a[79]||(a[79]=d("label",{class:"block text-sm font-medium text-gray-700"},[d("span",{class:"text-red-600"},"-"),f(" Istisno qilingan hududlar ")],-1)),d("div",Ye,[(m(!0),n(g,null,p(Ft.value,e=>(m(),n("div",{key:e.id,class:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200"},[d("div",Je,[a[77]||(a[77]=d("div",{class:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0"},[d("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})])],-1)),d("div",We,[d("div",Ze,x(e.name),1),d("div",Xe,x(e.country),1)])]),d("div",ea,[d("select",{value:e.radius,onChange:a=>ms(e.id,parseInt(a.target.value),!0),class:"px-2 py-1 text-xs border border-red-300 rounded-lg bg-white text-gray-900"},[(m(),n(g,null,p(Ht,e=>d("option",{key:e,value:e},x(e)+" km",9,la)),64))],40,aa),d("button",{onClick:a=>cs(e.id,!0),class:"p-1 text-red-600 hover:text-red-700 transition"},[...a[78]||(a[78]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ta)])]))),128))])])):c("",!0)])):c("",!0)]),d("div",sa,[d("div",null,[a[82]||(a[82]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Yosh oralig'i",-1)),d("div",ra,[b(d("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>wt.value.targeting.age_min=e),type:"number",min:"13",max:"65",class:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-center"},null,512),[[y,wt.value.targeting.age_min,void 0,{number:!0}]]),a[80]||(a[80]=d("span",{class:"text-gray-500"},"dan",-1)),b(d("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>wt.value.targeting.age_max=e),type:"number",min:"13",max:"65",class:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-center"},null,512),[[y,wt.value.targeting.age_max,void 0,{number:!0}]]),a[81]||(a[81]=d("span",{class:"text-gray-500"},"gacha",-1))])]),d("div",null,[a[83]||(a[83]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Jins",-1)),d("div",na,[d("button",{onClick:a[11]||(a[11]=e=>os(1)),class:v(["flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all",wt.value.targeting.genders.includes(1)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," Erkak ",2),d("button",{onClick:a[12]||(a[12]=e=>os(2)),class:v(["flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all",wt.value.targeting.genders.includes(2)?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," Ayol ",2)])])]),d("div",null,[a[85]||(a[85]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Qiziqishlar",-1)),d("div",oa,[b(d("input",{"onUpdate:modelValue":a[13]||(a[13]=e=>Mt.value=e),onInput:a[14]||(a[14]=(...e)=>i(ts)&&i(ts)(...e)),type:"text",placeholder:"Qiziqish nomini kiriting...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,544),[[y,Mt.value]]),zt.value.length>0?(m(),n("div",ia,[(m(!0),n(g,null,p(zt.value,e=>(m(),n("button",{key:e.id,onClick:a=>(e=>{Ut.value.find(a=>a.id===e.id)||(Ut.value.push(e),ns()),Mt.value="",zt.value=[]})(e),class:"w-full px-4 py-3 text-left hover:bg-gray-50"},[d("span",da,x(e.name),1),e.audience_size?(m(),n("span",ca,x(fs(e.audience_size))+" kishi ",1)):c("",!0)],8,ua))),128))])):c("",!0)]),Ut.value.length>0?(m(),n("div",ma,[(m(!0),n(g,null,p(Ut.value,e=>(m(),n("span",{key:e.id,class:"inline-flex items-center gap-2 px-3 py-1.5 bg-purple-100 text-purple-800 rounded-full text-sm"},[f(x(e.name)+" ",1),d("button",{onClick:a=>(e=>{Ut.value=Ut.value.filter(a=>a.id!==e.id),ns()})(e),class:"hover:text-purple-600"},[...a[84]||(a[84]=[d("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],8,ga)]))),128))])):c("",!0)])]),d("div",pa,[d("div",va,[a[88]||(a[88]=d("h2",{class:"text-lg font-semibold text-gray-900"},"Joylashuvlar (Placements)",-1)),d("label",xa,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[15]||(a[15]=e=>wt.value.placements.automatic=e),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[k,wt.value.placements.automatic]]),a[87]||(a[87]=d("span",{class:"text-sm font-medium text-gray-700"},"Advantage+ (Avtomatik)",-1))])]),wt.value.placements.automatic?(m(),n("p",Za," Meta sizning reklamangizni eng yaxshi natija beradigan joylarga avtomatik joylashtiradi. ")):(m(),n("div",ba,[d("div",ya,[d("div",ha,[a[89]||(a[89]=d("div",{class:"flex items-center gap-2"},[d("div",{class:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"},[d("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[d("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})])]),d("span",{class:"font-medium text-gray-900"},"Facebook")],-1)),d("button",{onClick:a[16]||(a[16]=e=>Xt("facebook")),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},x(Zt("facebook")?"Barchasini o'chirish":"Barchasini yoqish"),1)]),d("div",fa,[d("label",ka,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[17]||(a[17]=e=>wt.value.placements.facebook_feed=e),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[k,wt.value.placements.facebook_feed]]),a[90]||(a[90]=d("span",{class:"text-sm text-gray-700"},"Feed",-1))]),d("label",_a,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[18]||(a[18]=e=>wt.value.placements.facebook_stories=e),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[k,wt.value.placements.facebook_stories]]),a[91]||(a[91]=d("span",{class:"text-sm text-gray-700"},"Stories",-1))]),d("label",wa,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[19]||(a[19]=e=>wt.value.placements.facebook_reels=e),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[k,wt.value.placements.facebook_reels]]),a[92]||(a[92]=d("span",{class:"text-sm text-gray-700"},"Reels",-1))]),d("label",Ca,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[20]||(a[20]=e=>wt.value.placements.facebook_marketplace=e),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[k,wt.value.placements.facebook_marketplace]]),a[93]||(a[93]=d("span",{class:"text-sm text-gray-700"},"Marketplace",-1))]),d("label",ja,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[21]||(a[21]=e=>wt.value.placements.facebook_video_feeds=e),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[k,wt.value.placements.facebook_video_feeds]]),a[94]||(a[94]=d("span",{class:"text-sm text-gray-700"},"Video feeds",-1))]),d("label",Ma,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[22]||(a[22]=e=>wt.value.placements.facebook_right_column=e),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[k,wt.value.placements.facebook_right_column]]),a[95]||(a[95]=d("span",{class:"text-sm text-gray-700"},"Right column",-1))]),d("label",za,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[23]||(a[23]=e=>wt.value.placements.facebook_search=e),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[k,wt.value.placements.facebook_search]]),a[96]||(a[96]=d("span",{class:"text-sm text-gray-700"},"Search",-1))]),d("label",Ua,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[24]||(a[24]=e=>wt.value.placements.facebook_instream_video=e),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[k,wt.value.placements.facebook_instream_video]]),a[97]||(a[97]=d("span",{class:"text-sm text-gray-700"},"In-stream video",-1))])])]),d("div",Ea,[d("div",Aa,[a[98]||(a[98]=d("div",{class:"flex items-center gap-2"},[d("div",{class:"w-8 h-8 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 rounded-lg flex items-center justify-center"},[d("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[d("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})])]),d("span",{class:"font-medium text-gray-900"},"Instagram")],-1)),d("button",{onClick:a[25]||(a[25]=e=>Xt("instagram")),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},x(Zt("instagram")?"Barchasini o'chirish":"Barchasini yoqish"),1)]),d("div",La,[d("label",Va,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[26]||(a[26]=e=>wt.value.placements.instagram_feed=e),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[k,wt.value.placements.instagram_feed]]),a[99]||(a[99]=d("span",{class:"text-sm text-gray-700"},"Feed",-1))]),d("label",Oa,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[27]||(a[27]=e=>wt.value.placements.instagram_stories=e),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[k,wt.value.placements.instagram_stories]]),a[100]||(a[100]=d("span",{class:"text-sm text-gray-700"},"Stories",-1))]),d("label",Sa,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[28]||(a[28]=e=>wt.value.placements.instagram_reels=e),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[k,wt.value.placements.instagram_reels]]),a[101]||(a[101]=d("span",{class:"text-sm text-gray-700"},"Reels",-1))]),d("label",Ba,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[29]||(a[29]=e=>wt.value.placements.instagram_explore=e),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[k,wt.value.placements.instagram_explore]]),a[102]||(a[102]=d("span",{class:"text-sm text-gray-700"},"Explore",-1))]),d("label",Ta,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[30]||(a[30]=e=>wt.value.placements.instagram_explore_home=e),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[k,wt.value.placements.instagram_explore_home]]),a[103]||(a[103]=d("span",{class:"text-sm text-gray-700"},"Explore Home",-1))]),d("label",Ia,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[31]||(a[31]=e=>wt.value.placements.instagram_shop=e),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[k,wt.value.placements.instagram_shop]]),a[104]||(a[104]=d("span",{class:"text-sm text-gray-700"},"Shop",-1))]),d("label",Ra,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[32]||(a[32]=e=>wt.value.placements.instagram_profile_feed=e),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[k,wt.value.placements.instagram_profile_feed]]),a[105]||(a[105]=d("span",{class:"text-sm text-gray-700"},"Profile feed",-1))])])]),d("div",Na,[d("div",qa,[a[106]||(a[106]=d("div",{class:"flex items-center gap-2"},[d("div",{class:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},[d("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[d("path",{d:"M12 0C5.373 0 0 4.974 0 11.111c0 3.498 1.744 6.614 4.469 8.654V24l4.088-2.242c1.092.301 2.246.464 3.443.464 6.627 0 12-4.974 12-11.111C24 4.974 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.259L19.752 8l-6.561 6.963z"})])]),d("span",{class:"font-medium text-gray-900"},"Messenger")],-1)),d("button",{onClick:a[33]||(a[33]=e=>Xt("messenger")),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},x(Zt("messenger")?"Barchasini o'chirish":"Barchasini yoqish"),1)]),d("div",Ka,[d("label",Fa,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[34]||(a[34]=e=>wt.value.placements.messenger_inbox=e),class:"w-4 h-4 text-purple-600 rounded"},null,512),[[k,wt.value.placements.messenger_inbox]]),a[107]||(a[107]=d("span",{class:"text-sm text-gray-700"},"Inbox",-1))]),d("label",Ga,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[35]||(a[35]=e=>wt.value.placements.messenger_stories=e),class:"w-4 h-4 text-purple-600 rounded"},null,512),[[k,wt.value.placements.messenger_stories]]),a[108]||(a[108]=d("span",{class:"text-sm text-gray-700"},"Stories",-1))]),d("label",Ha,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[36]||(a[36]=e=>wt.value.placements.messenger_sponsored=e),class:"w-4 h-4 text-purple-600 rounded"},null,512),[[k,wt.value.placements.messenger_sponsored]]),a[109]||(a[109]=d("span",{class:"text-sm text-gray-700"},"Sponsored messages",-1))])])]),d("div",Da,[d("div",Pa,[a[110]||(a[110]=d("div",{class:"flex items-center gap-2"},[d("div",{class:"w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center"},[d("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})])]),d("span",{class:"font-medium text-gray-900"},"Audience Network")],-1)),d("button",{onClick:a[37]||(a[37]=e=>Xt("audience_network")),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},x(Zt("audience_network")?"Barchasini o'chirish":"Barchasini yoqish"),1)]),d("div",$a,[d("label",Qa,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[38]||(a[38]=e=>wt.value.placements.audience_network_native=e),class:"w-4 h-4 text-gray-600 rounded"},null,512),[[k,wt.value.placements.audience_network_native]]),a[111]||(a[111]=d("span",{class:"text-sm text-gray-700"},"Native",-1))]),d("label",Ya,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[39]||(a[39]=e=>wt.value.placements.audience_network_banner=e),class:"w-4 h-4 text-gray-600 rounded"},null,512),[[k,wt.value.placements.audience_network_banner]]),a[112]||(a[112]=d("span",{class:"text-sm text-gray-700"},"Banner",-1))]),d("label",Ja,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[40]||(a[40]=e=>wt.value.placements.audience_network_interstitial=e),class:"w-4 h-4 text-gray-600 rounded"},null,512),[[k,wt.value.placements.audience_network_interstitial]]),a[113]||(a[113]=d("span",{class:"text-sm text-gray-700"},"Interstitial",-1))]),d("label",Wa,[b(d("input",{type:"checkbox","onUpdate:modelValue":a[41]||(a[41]=e=>wt.value.placements.audience_network_rewarded_video=e),class:"w-4 h-4 text-gray-600 rounded"},null,512),[[k,wt.value.placements.audience_network_rewarded_video]]),a[114]||(a[114]=d("span",{class:"text-sm text-gray-700"},"Rewarded video",-1))])])])]))])])):3===xt.value?(m(),n("div",Xa,[d("div",el,[a[129]||(a[129]=d("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Kreativ sozlamalari",-1)),d("div",al,[d("div",null,[a[115]||(a[115]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reklama nomi *",-1)),b(d("input",{"onUpdate:modelValue":a[42]||(a[42]=e=>Ct.value.name=e),type:"text",placeholder:"Reklama nomi",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[y,Ct.value.name]])]),d("div",null,[a[117]||(a[117]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Facebook sahifa *",-1)),b(d("select",{"onUpdate:modelValue":a[43]||(a[43]=e=>Ct.value.page_id=e),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[a[116]||(a[116]=d("option",{value:""},"Sahifa tanlang",-1)),(m(!0),n(g,null,p(kt.value.pages,e=>(m(),n("option",{key:e.id,value:e.id},x(e.name),9,ll))),128))],512),[[h,Ct.value.page_id]])]),Jt.value?(m(),n("div",tl,[a[119]||(a[119]=d("label",{class:"block text-sm font-medium text-green-800 mb-2"}," Lead forma tanlang * ",-1)),b(d("select",{"onUpdate:modelValue":a[44]||(a[44]=e=>Ct.value.lead_form_id=e),class:"w-full px-4 py-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white"},[a[118]||(a[118]=d("option",{value:""},"Forma tanlang",-1)),(m(!0),n(g,null,p(kt.value.lead_forms,e=>(m(),n("option",{key:e.id,value:e.id},x(e.name),9,sl))),128))],512),[[h,Ct.value.lead_form_id]]),a[120]||(a[120]=d("p",{class:"text-sm text-green-600 mt-2"}," Lead kampaniyasi uchun forma tanlanishi kerak. Forma Meta Business Suite'da yaratilishi kerak. ",-1))])):c("",!0),d("div",null,[a[123]||(a[123]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rasm yuklash",-1)),d("div",rl,[d("input",{type:"file",onChange:ys,accept:"image/*",class:"hidden",id:"image-upload"},null,32),d("label",nl,[Ct.value.image_preview?(m(),n("div",ol,[d("img",{src:Ct.value.image_preview,alt:"Preview",class:"max-h-48 mx-auto rounded-lg"},null,8,il)])):(m(),n("div",ul,[...a[121]||(a[121]=[d("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),d("p",{class:"text-sm"},"Rasm yuklash uchun bosing",-1),d("p",{class:"text-xs text-gray-400 mt-1"},"PNG, JPG (1200x628 tavsiya etiladi)",-1)])]))]),$t.value?(m(),n("div",dl,[...a[122]||(a[122]=[d("div",{class:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full mx-auto"},null,-1)])])):c("",!0)])]),d("div",null,[d("label",cl,[a[124]||(a[124]=f(" Asosiy matn * ",-1)),d("span",ml,"("+x(Ct.value.primary_text.length)+"/125)",1)]),b(d("textarea",{"onUpdate:modelValue":a[45]||(a[45]=e=>Ct.value.primary_text=e),rows:"3",maxlength:"125",placeholder:"Reklamangizning asosiy matni...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[y,Ct.value.primary_text]])]),d("div",gl,[d("div",null,[d("label",pl,[a[125]||(a[125]=f(" Sarlavha ",-1)),d("span",vl,"("+x(Ct.value.headline.length)+"/40)",1)]),b(d("input",{"onUpdate:modelValue":a[46]||(a[46]=e=>Ct.value.headline=e),type:"text",maxlength:"40",placeholder:"Qisqa sarlavha",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[y,Ct.value.headline]])]),d("div",null,[d("label",xl,[a[126]||(a[126]=f(" Tavsif ",-1)),d("span",bl,"("+x(Ct.value.description.length)+"/30)",1)]),b(d("input",{"onUpdate:modelValue":a[47]||(a[47]=e=>Ct.value.description=e),type:"text",maxlength:"30",placeholder:"Qo'shimcha tavsif",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[y,Ct.value.description]])])]),Jt.value?c("",!0):(m(),n("div",yl,[a[127]||(a[127]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Havola (URL) *",-1)),b(d("input",{"onUpdate:modelValue":a[48]||(a[48]=e=>Ct.value.link=e),type:"url",placeholder:"https://example.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[y,Ct.value.link]])])),d("div",null,[a[128]||(a[128]=d("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Harakatga chaqiruv tugmasi",-1)),b(d("select",{"onUpdate:modelValue":a[49]||(a[49]=e=>Ct.value.call_to_action=e),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[(m(!0),n(g,null,p(kt.value.call_to_actions,e=>(m(),n("option",{key:e.value,value:e.value},x(e.label),9,hl))),128))],512),[[h,Ct.value.call_to_action]])])])])])):4===xt.value?(m(),n("div",fl,[a[146]||(a[146]=d("div",{class:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl p-6 text-white"},[d("div",{class:"flex items-center gap-3 mb-2"},[d("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),d("h2",{class:"text-xl font-bold"},"Reklamani tekshirish")]),d("p",{class:"text-green-100"},"Barcha ma'lumotlarni tekshiring va reklamani yarating")],-1)),d("div",kl,[a[132]||(a[132]=d("h3",{class:"font-semibold text-gray-900 mb-4"},"Kampaniya",-1)),d("div",_l,[d("div",null,[a[130]||(a[130]=d("p",{class:"text-sm text-gray-500"},"Nomi",-1)),d("p",wl,x(_t.value.name),1)]),d("div",null,[a[131]||(a[131]=d("p",{class:"text-sm text-gray-500"},"Maqsad",-1)),d("p",Cl,x((e=_t.value.objective,{OUTCOME_AWARENESS:"Xabardorlik",OUTCOME_TRAFFIC:"Trafik",OUTCOME_ENGAGEMENT:"Engagement",OUTCOME_LEADS:"Lidlar",OUTCOME_SALES:"Sotuvlar"}[e]||e)),1)])])]),d("div",jl,[a[140]||(a[140]=d("h3",{class:"font-semibold text-gray-900 mb-4"},"Auditoriya va Byudjet",-1)),d("div",Ml,[d("div",null,[a[133]||(a[133]=d("p",{class:"text-sm text-gray-500"},"Ad Set nomi",-1)),d("p",zl,x(wt.value.name),1)]),d("div",null,[a[134]||(a[134]=d("p",{class:"text-sm text-gray-500"},"Kunlik byudjet",-1)),d("p",Ul,x(wt.value.daily_budget)+" "+x(E.currency),1)]),d("div",null,[a[135]||(a[135]=d("p",{class:"text-sm text-gray-500"},"Yosh oralig'i",-1)),d("p",El,x(wt.value.targeting.age_min)+" - "+x(wt.value.targeting.age_max),1)]),d("div",null,[a[136]||(a[136]=d("p",{class:"text-sm text-gray-500"},"Joylashuvlar",-1)),d("p",Al,x(wt.value.placements.automatic?"Avtomatik":Object.keys(wt.value.placements).filter(e=>"automatic"!==e).filter(e=>wt.value.placements[e]).length+" ta tanlangan"),1)]),Kt.value.length>0?(m(),n("div",Ll,[a[137]||(a[137]=d("p",{class:"text-sm text-gray-500"},"Maxsus joylar",-1)),d("p",Vl,"+"+x(Kt.value.length)+" joy",1)])):c("",!0),Ft.value.length>0?(m(),n("div",Ol,[a[138]||(a[138]=d("p",{class:"text-sm text-gray-500"},"Istisno joylar",-1)),d("p",Sl,"-"+x(Ft.value.length)+" joy",1)])):c("",!0),Ut.value.length?(m(),n("div",Bl,[a[139]||(a[139]=d("p",{class:"text-sm text-gray-500"},"Qiziqishlar",-1)),d("p",Tl,x(Ut.value.length)+" ta",1)])):c("",!0)])]),d("div",Il,[a[145]||(a[145]=d("h3",{class:"font-semibold text-gray-900 mb-4"},"Kreativ",-1)),d("div",Rl,[Ct.value.image_preview?(m(),n("div",Nl,[d("img",{src:Ct.value.image_preview,alt:"Ad preview",class:"w-32 h-32 object-cover rounded-lg"},null,8,ql)])):c("",!0),d("div",Kl,[d("div",null,[a[141]||(a[141]=d("p",{class:"text-sm text-gray-500"},"Reklama nomi",-1)),d("p",Fl,x(Ct.value.name),1)]),d("div",null,[a[142]||(a[142]=d("p",{class:"text-sm text-gray-500"},"Asosiy matn",-1)),d("p",Gl,x(Ct.value.primary_text),1)]),Ct.value.headline?(m(),n("div",Hl,[a[143]||(a[143]=d("p",{class:"text-sm text-gray-500"},"Sarlavha",-1)),d("p",Dl,x(Ct.value.headline),1)])):c("",!0),Jt.value&&Ct.value.lead_form_id?(m(),n("div",Pl,[a[144]||(a[144]=d("p",{class:"text-sm text-gray-500"},"Lead forma",-1)),d("p",$l,x(kt.value.lead_forms.find(e=>e.id===Ct.value.lead_form_id)?.name||"Tanlangan"),1)])):c("",!0)])])]),a[147]||(a[147]=d("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[d("div",{class:"flex items-start gap-3"},[d("svg",{class:"w-5 h-5 text-yellow-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[d("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),d("div",null,[d("p",{class:"font-medium text-yellow-800"},"Diqqat"),d("p",{class:"text-sm text-yellow-700"},"Reklama PAUSED holatda yaratiladi. Uni faollashtirish uchun Meta Ads Manager'da statusni o'zgartiring.")])])],-1))])):c("",!0)]),d("div",Ql,[d("div",Yl,[a[153]||(a[153]=d("h3",{class:"font-semibold text-gray-900 mb-4"},"Taxminiy auditoriya",-1)),d("div",Jl,[jt.value.loading?(m(),n("div",Wl,[...a[148]||(a[148]=[d("div",{class:"h-8 bg-gray-200 rounded w-32 mx-auto mb-2"},null,-1),d("div",{class:"h-4 bg-gray-200 rounded w-24 mx-auto"},null,-1)])])):(m(),n("div",Zl,[d("p",Xl,x(fs(jt.value.users_lower_bound))+" - "+x(fs(jt.value.users_upper_bound)),1),a[149]||(a[149]=d("p",{class:"text-sm text-gray-500 mt-1"},"potensial qamrov",-1))]))]),d("div",et,[d("div",at,[d("div",lt,[a[150]||(a[150]=d("span",{class:"text-gray-500"},"Kunlik byudjet",-1)),d("span",tt,x(wt.value.daily_budget)+" "+x(E.currency),1)]),d("div",st,[a[151]||(a[151]=d("span",{class:"text-gray-500"},"Haftalik sarflama",-1)),d("span",rt,x((7*wt.value.daily_budget).toFixed(2))+" "+x(E.currency),1)]),d("div",nt,[a[152]||(a[152]=d("span",{class:"text-gray-500"},"Oylik sarflama",-1)),d("span",ot,x((30*wt.value.daily_budget).toFixed(2))+" "+x(E.currency),1)])])])])])])),d("div",it,[d("div",ut,[xt.value>1?(m(),n("button",{key:0,onClick:ls,class:"px-6 py-2.5 text-gray-700 font-medium hover:text-gray-900 flex items-center gap-2"},[...a[154]||(a[154]=[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),f(" Ortga ",-1)])])):(m(),n("div",dt)),d("div",ct,[o(i(C),{href:"/business/target-analysis",class:"px-6 py-2.5 text-gray-600 font-medium hover:text-gray-900"},{default:u(()=>[...a[155]||(a[155]=[f(" Bekor qilish ",-1)])]),_:1}),xt.value<4?(m(),n("button",{key:0,onClick:as,disabled:!Yt.value,class:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center gap-2"},[...a[156]||(a[156]=[f(" Keyingisi ",-1),d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,mt)):(m(),n("button",{key:1,onClick:hs,disabled:yt.value,class:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 font-medium flex items-center gap-2"},[yt.value?(m(),n("svg",pt,[...a[157]||(a[157]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):c("",!0),f(" "+x(yt.value?"Yaratilmoqda...":"Reklamani yaratish"),1)],8,gt))])])])])])];var e}),_:1})],64))}},[["__scopeId","data-v-9b1de967"]]);export{vt as default};

import{l as _,r as $,h as H}from"./chunk-BVrjkT6E.js";import{u as B}from"./app-906_W7J6.js";import{f as C,_ as L}from"./chunk-S7b6IQvx.js";import{_ as Z}from"./chunk-DjNoE40N.js";import{_ as q}from"./chunk-BdP2VzIX.js";import{_ as E}from"./chunk-Cun7Mqrp.js";import{_ as P}from"./chunk-DmWz40qF.js";import{_ as G}from"./chunk-Cy19HSui.js";import{u as Q}from"./chunk-Con9sWTf.js";import{r as j}from"./chunk-Tj_a7zxz.js";import{r as v}from"./chunk-B02FTdOt.js";import{r as O}from"./chunk-Dfha1x8d.js";import{r as U}from"./chunk-D59q4lxq.js";import{r as J}from"./chunk-D5sR6A8B.js";import{r as K}from"./chunk-DN454CZt.js";import{r as W}from"./chunk-BeK6HK_O.js";import{r as X}from"./chunk-BL-22xYA.js";import{r as Y}from"./chunk-C-3dICy5.js";import{C as i,F as d,z as e,r as ee,b as I,v as h,D as c,H as r,A as t,x as y,y as l,E as m,G as S,I as te,B as re,M as N,P as se}from"./chunk-KPSVwAyv.js";import{r as T}from"./chunk-CYw1XsNK.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-BgOPVSvg.js";import"./chunk-qku2UxUN.js";import"./chunk-Dems4pAU.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-CYZ54WJE.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";import"./chunk-B1Yis8U5.js";import"./chunk-CXygRKxK.js";import"./chunk-31-ywezX.js";import"./chunk-CQ-EgyBm.js";function ae(n,f){return d(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function oe(n,f){return d(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const de={class:"space-y-6"},ne={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},le={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},ie={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},ce={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},ge={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},ue={class:"flex items-center gap-3 mb-3"},me={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"},fe={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},xe={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},he={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},ye={class:"flex items-center gap-3 mb-3"},pe={class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},_e={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},be={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},ke={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},ve={class:"flex items-center gap-3 mb-3"},we={class:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center"},$e={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Ce={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},je={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},Oe={class:"flex items-center gap-3 mb-3"},Se={class:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},Te={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Be={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Ie={key:0,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-12 text-center"},Ne={class:"w-14 h-14 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4"},De={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1"},Fe={class:"text-sm text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto"},Me={key:1,class:"space-y-3"},Ve={class:"flex items-start gap-4"},ze={class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center flex-shrink-0"},Re={class:"flex-1 min-w-0"},Ae={class:"flex items-center gap-3 mb-1"},He={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-1"},Le={key:1,class:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-1"},Ze={class:"flex items-center gap-4 text-sm"},qe={class:"text-gray-600 dark:text-gray-400"},Ee={class:"font-medium text-gray-900 dark:text-gray-100"},Pe={key:0,class:"text-gray-600 dark:text-gray-400"},Ge={class:"font-medium text-gray-900 dark:text-gray-100"},Qe={key:1,class:"text-gray-600 dark:text-gray-400"},Ue={class:"font-semibold text-yellow-600 dark:text-yellow-400"},Je={key:2,class:"flex items-center gap-1 text-green-600 dark:text-green-400"},Ke={class:"text-gray-400 dark:text-gray-500"},We={class:"flex items-center gap-1.5 flex-shrink-0"},Xe=["onClick","title"],Ye=["onClick","title"],et={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},tt={class:"flex min-h-full items-center justify-center p-4"},rt={class:"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700"},st={class:"p-6"},at={class:"flex items-center gap-3 mb-4"},ot={class:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},dt={class:"text-base font-semibold text-gray-900 dark:text-gray-100"},nt={class:"text-sm text-gray-500 dark:text-gray-400"},lt={class:"text-sm text-gray-700 dark:text-gray-300 mb-6"},it={class:"flex gap-3"},ct={__name:"OffersIndex",props:{offers:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},panelType:{type:String,required:!0,validator:n=>["business","marketing","finance","operator","saleshead"].includes(n)}},setup(n){const f=n,{t:s}=B(),g=ee(null),{getRouteName:b}=Q(f.panelType),u=a=>b(a),p=I(()=>["operator"].includes(f.panelType)),D=a=>{const x={draft:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400",active:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",paused:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400",archived:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"};return x[a]||x.draft},F=a=>({draft:T,active:O,paused:oe,archived:ae})[a]||T,M=a=>s(`offers.status.${a}`)||a,V=a=>{$.post(route(u("duplicate"),a.id))},z=a=>{g.value=a},R=()=>{g.value&&$.delete(route(u("destroy"),g.value.id),{preserveScroll:!0,onSuccess:()=>{g.value=null}})},w=()=>{g.value=null},k=a=>a?a>=1e6?(a/1e6).toFixed(1)+" mln so'm":new Intl.NumberFormat("uz-UZ").format(a)+" so'm":"0 so'm";return(a,x)=>(d(),i(S,null,[e("div",de,[e("div",ne,[e("div",null,[e("h1",le,r(t(s)("offers.title")),1),e("p",ie,r(t(s)("offers.subtitle")),1)]),p.value?c("",!0):(d(),h(t(_),{key:0,href:a.route(u("create")),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors"},{default:y(()=>[l(t(j),{class:"w-4 h-4"}),m(" "+r(t(s)("offers.new_offer")),1)]),_:1},8,["href"]))]),e("div",ce,[e("div",ge,[e("div",ue,[e("div",me,[l(t(v),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})]),e("span",fe,r(t(s)("offers.total_offers")),1)]),e("p",xe,r(n.stats?.total_offers||0),1)]),e("div",he,[e("div",ye,[e("div",pe,[l(t(O),{class:"w-5 h-5 text-green-600 dark:text-green-400"})]),e("span",_e,r(t(s)("offers.active")),1)]),e("p",be,r(n.stats?.active_offers||0),1)]),e("div",ke,[e("div",ve,[e("div",we,[l(t(U),{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})]),e("span",$e,r(t(s)("offers.avg_conversion")),1)]),e("p",Ce,r(n.stats?.avg_conversion?.toFixed(1)||0)+"%",1)]),e("div",je,[e("div",Oe,[e("div",Se,[l(t(J),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),e("span",Te,r(t(s)("offers.total_value")),1)]),e("p",Be,r(k(n.stats?.total_value||0)),1)])]),!n.offers||n.offers.length===0?(d(),i("div",Ie,[e("div",Ne,[l(t(v),{class:"w-7 h-7 text-gray-400 dark:text-gray-500"})]),e("h3",De,r(t(s)("offers.no_offers")),1),e("p",Fe,r(t(s)("offers.no_offers_desc")),1),p.value?c("",!0):(d(),h(t(_),{key:0,href:a.route(u("create")),class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors"},{default:y(()=>[l(t(j),{class:"w-4 h-4"}),m(" "+r(t(s)("offers.create_offer")),1)]),_:1},8,["href"]))])):(d(),i("div",Me,[(d(!0),i(S,null,te(n.offers,o=>(d(),i("div",{key:o.id,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},[e("div",Ve,[e("div",ze,[l(t(v),{class:"w-5 h-5 text-purple-600 dark:text-purple-400"})]),e("div",Re,[e("div",Ae,[l(t(_),{href:a.route(u("show"),o.id),class:"text-base font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate"},{default:y(()=>[m(r(o.name),1)]),_:2},1032,["href"]),e("span",{class:re([D(o.status),"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium flex-shrink-0"])},[(d(),h(N(F(o.status)),{class:"w-3 h-3"})),m(" "+r(M(o.status)),1)],2)]),o.description?(d(),i("p",He,r(o.description),1)):o.core_offer?(d(),i("p",Le,r(o.core_offer),1)):c("",!0),e("div",Ze,[e("span",qe,[m(r(t(s)("offers.price"))+": ",1),e("span",Ee,r(k(o.pricing||0)),1)]),o.total_value?(d(),i("span",Pe,[m(r(t(s)("offers.total_value"))+": ",1),e("span",Ge,r(k(o.total_value)),1)])):c("",!0),o.value_score?(d(),i("span",Qe,[x[0]||(x[0]=m(" Qiymat: ",-1)),e("span",Ue,r(o.value_score),1)])):c("",!0),o.guarantee_type?(d(),i("span",Je,[l(t(K),{class:"w-3.5 h-3.5"}),m(" "+r(t(s)("offers.guaranteed")),1)])):c("",!0),e("span",Ke,r(o.created_at),1)])]),e("div",We,[l(t(_),{href:a.route(u("show"),o.id),class:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:t(s)("offers.view")},{default:y(()=>[l(t(W),{class:"w-4 h-4"})]),_:1},8,["href","title"]),p.value?c("",!0):(d(),h(t(_),{key:0,href:a.route(u("edit"),o.id),class:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:t(s)("offers.edit")},{default:y(()=>[l(t(X),{class:"w-4 h-4"})]),_:1},8,["href","title"])),p.value?c("",!0):(d(),i("button",{key:1,onClick:A=>V(o),class:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:t(s)("offers.duplicate")},[l(t(Y),{class:"w-4 h-4"})],8,Xe)),p.value?c("",!0):(d(),i("button",{key:2,onClick:A=>z(o),class:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:t(s)("offers.delete")},[l(t(C),{class:"w-4 h-4"})],8,Ye))])])]))),128))]))]),(d(),h(se,{to:"body"},[g.value?(d(),i("div",et,[e("div",tt,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:w}),e("div",rt,[e("div",st,[e("div",at,[e("div",ot,[l(t(C),{class:"w-5 h-5 text-red-600 dark:text-red-400"})]),e("div",null,[e("h3",dt,r(t(s)("offers.delete_title")),1),e("p",nt,r(t(s)("offers.delete_warning")),1)])]),e("p",lt,r(t(s)("offers.delete_confirm",{name:g.value.name})),1),e("div",it,[e("button",{onClick:w,class:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 text-sm font-medium rounded-lg transition-colors"},r(t(s)("common.cancel")),1),e("button",{onClick:R,class:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg transition-colors"},r(t(s)("offers.delete")),1)])])])])])):c("",!0)]))],64))}},Qt={__name:"Index",props:{offers:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},panelType:{type:String,required:!0,validator:n=>["business","marketing","finance","operator","saleshead"].includes(n)}},setup(n){const{t:f}=B(),s=n,g=I(()=>({business:Z,marketing:q,finance:E,operator:P,saleshead:G})[s.panelType]||L);return(b,u)=>(d(),h(N(g.value),{title:t(f)("offers.title")},{default:y(()=>[l(t(H),{title:t(f)("offers.title")},null,8,["title"]),l(ct,{offers:n.offers,stats:n.stats,"panel-type":n.panelType},null,8,["offers","stats","panel-type"])]),_:1},8,["title"]))}};export{Qt as default};

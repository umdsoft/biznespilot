import{l as e,r,h as t}from"./chunk-BhZp3z4u.js";import{u as a}from"./app-C-ZlocOh.js";import{d as s,_ as o}from"./chunk-D7SyfRoT.js";import{_ as l}from"./chunk-DbFbpSR2.js";import{_ as d}from"./chunk-Bfc-GtxM.js";import{_ as i}from"./chunk-DNwbmffR.js";import{_ as n}from"./chunk-Cb_-eVu9.js";import{_ as c}from"./chunk-BHCorYK2.js";import{u}from"./chunk-h0z4RgO4.js";import{r as g}from"./chunk-CDwIUdYJ.js";import{r as p}from"./chunk-BiBvtcLb.js";import{r as f}from"./chunk-eMHYSAeQ.js";import{r as x}from"./chunk-dqIIyBTR.js";import{r as b}from"./chunk-BiW1c8q7.js";import{r as m}from"./chunk-CvscUVdi.js";import{r as k}from"./chunk-C9nNyFhC.js";import{r as y}from"./chunk-BFPxvklm.js";import{r as h}from"./chunk-BaJGWy5z.js";import{r as v}from"./chunk-BYG0zTrL.js";import{C as w,D as j,y as _,r as C,b as T,v as M,I as z,L as I,A as N,z as O,x as S,B as A,J as B,K as F,E as Z,O as q,M as H}from"./chunk-CpmtkKLp.js";import{r as L}from"./chunk-Bsc1JRL5.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-DNKDGYPp.js";import"./chunk-CTIk0k8a.js";import"./chunk-BvbZUszZ.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-BuJDoypK.js";import"./chunk-3cs9K1fB.js";import"./chunk-BG5DB3cD.js";import"./chunk-CdKrFGoA.js";import"./chunk-DvBKKKMs.js";function R(e,r){return j(),w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function $(e,r){return j(),w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const D={class:"p-6 space-y-6"},E={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},J={class:"flex items-center gap-4"},K={class:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"},U={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},V={class:"text-sm text-gray-500 dark:text-gray-400"},G={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},P={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},Q={class:"flex items-center gap-4"},W={class:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl"},X={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Y={class:"text-sm text-gray-500 dark:text-gray-400"},ee={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},re={class:"flex items-center gap-4"},te={class:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl"},ae={class:"text-2xl font-bold text-green-600 dark:text-green-400"},se={class:"text-sm text-gray-500 dark:text-gray-400"},oe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},le={class:"flex items-center gap-4"},de={class:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl"},ie={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},ne={class:"text-sm text-gray-500 dark:text-gray-400"},ce={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md transition-shadow"},ue={class:"flex items-center gap-4"},ge={class:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl"},pe={class:"text-lg font-bold text-blue-600 dark:text-blue-400"},fe={class:"text-sm text-gray-500 dark:text-gray-400"},xe={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-12 text-center"},be={class:"mx-auto w-20 h-20 bg-gradient-to-br from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30 rounded-full flex items-center justify-center mb-6"},me={class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2"},ke={class:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto"},ye={key:1,class:"text-gray-500 dark:text-gray-400"},he={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},ve={class:"bg-gradient-to-r from-purple-600 to-indigo-600 px-5 py-5 text-white relative overflow-hidden"},we={class:"relative"},je={class:"flex items-start justify-between gap-3 mb-2"},_e={class:"text-lg font-bold flex-1 line-clamp-1"},Ce={key:0,class:"text-purple-100 text-sm line-clamp-2"},Te={class:"p-5 space-y-4"},Me={key:0,class:"p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded-xl"},ze={class:"text-xs font-semibold text-purple-600 dark:text-purple-400 mb-1"},Ie={class:"text-sm text-gray-800 dark:text-gray-200 line-clamp-2"},Ne={class:"grid grid-cols-2 gap-3"},Oe={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-3 border border-green-100 dark:border-green-800"},Se={class:"text-green-600 dark:text-green-400 font-medium text-xs mb-1"},Ae={class:"text-green-800 dark:text-green-300 font-bold text-sm"},Be={key:0,class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 border border-blue-100 dark:border-blue-800"},Fe={class:"text-blue-600 dark:text-blue-400 font-medium text-xs mb-1"},Ze={class:"text-blue-800 dark:text-blue-300 font-bold text-sm"},qe={key:1,class:"p-3 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700 rounded-xl"},He={class:"flex items-center justify-between"},Le={class:"text-xs font-semibold text-yellow-700 dark:text-yellow-400"},Re={class:"text-2xl font-bold text-yellow-800 dark:text-yellow-300"},$e={class:"flex items-center justify-between text-sm"},De={key:0,class:"flex items-center gap-1.5 text-green-600 dark:text-green-400"},Ee={class:"text-xs"},Je={class:"flex items-center gap-1.5 text-gray-500 dark:text-gray-400"},Ke={class:"text-xs"},Ue={class:"flex items-center gap-2 pt-4 border-t border-gray-100 dark:border-gray-700"},Ve=["onClick","title"],Ge=["onClick","title"],Pe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Qe={class:"flex min-h-full items-center justify-center p-4"},We={class:"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl"},Xe={class:"p-6"},Ye={class:"flex items-center gap-4 mb-4"},er={class:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center"},rr={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},tr={class:"text-sm text-gray-500 dark:text-gray-400"},ar={class:"text-gray-700 dark:text-gray-300 mb-6"},sr={class:"flex gap-3"},or={__name:"OffersIndex",props:{offers:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},panelType:{type:String,required:!0,validator:e=>["business","marketing","finance","operator","saleshead"].includes(e)}},emits:["delete"],setup(t,{emit:o}){const l=t,{t:d}=a(),i=C(null),{getRouteName:n}=u(l.panelType),c=e=>n(e),or=T(()=>["operator"].includes(l.panelType)),lr=e=>({draft:L,active:f,paused:$,archived:R}[e]||L),dr=e=>d(`offers.status.${e}`)||e,ir=()=>{i.value&&r.delete(route(c("destroy"),i.value.id),{preserveScroll:!0,onSuccess:()=>{i.value=null}})},nr=()=>{i.value=null},cr=e=>e?e>=1e6?(e/1e6).toFixed(1)+" mln so'm":new Intl.NumberFormat("uz-UZ").format(e)+" so'm":"0 so'm";return(a,o)=>(j(),w(B,null,[_("div",D,[_("div",E,[_("div",J,[_("div",K,[I(N(g),{class:"w-8 h-8 text-white"})]),_("div",null,[_("h1",U,O(N(d)("offers.title")),1),_("p",V,O(N(d)("offers.subtitle")),1)])]),or.value?z("",!0):(j(),M(N(e),{key:0,href:a.route(c("create")),class:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-medium rounded-xl transition-all shadow-lg shadow-purple-500/30"},{default:S(()=>[I(N(p),{class:"w-5 h-5"}),A(" "+O(N(d)("offers.new_offer")),1)]),_:1},8,["href"]))]),_("div",G,[_("div",P,[_("div",Q,[_("div",W,[I(N(g),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),_("div",null,[_("p",X,O(t.stats?.total_offers||0),1),_("p",Y,O(N(d)("offers.total_offers")),1)])])]),_("div",ee,[_("div",re,[_("div",te,[I(N(f),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),_("div",null,[_("p",ae,O(t.stats?.active_offers||0),1),_("p",se,O(N(d)("offers.active")),1)])])]),_("div",oe,[_("div",le,[_("div",de,[I(N(x),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),_("div",null,[_("p",ie,O(t.stats?.avg_conversion?.toFixed(1)||0)+"%",1),_("p",ne,O(N(d)("offers.avg_conversion")),1)])])]),_("div",ce,[_("div",ue,[_("div",ge,[I(N(b),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),_("div",null,[_("p",pe,O(cr(t.stats?.total_value||0)),1),_("p",fe,O(N(d)("offers.total_value")),1)])])])]),t.offers&&0!==t.offers.length?(j(),w("div",he,[(j(!0),w(B,null,F(t.offers,t=>{return j(),w("div",{key:t.id,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg hover:border-purple-300 dark:hover:border-purple-600 transition-all group"},[_("div",ve,[o[0]||(o[0]=_("div",{class:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity"},null,-1)),_("div",we,[_("div",je,[_("h3",_e,O(t.name),1),_("span",{class:Z([(l=t.status,{draft:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600",active:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-700",paused:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-700",archived:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-700"}[l]||"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-medium border"])},[(j(),M(q(lr(t.status)),{class:"w-3.5 h-3.5"})),A(" "+O(dr(t.status)),1)],2)]),t.description?(j(),w("p",Ce,O(t.description),1)):z("",!0)])]),_("div",Te,[t.core_offer?(j(),w("div",Me,[_("p",ze,O(N(d)("offers.core_offer")),1),_("p",Ie,O(t.core_offer),1)])):z("",!0),_("div",Ne,[_("div",Oe,[_("div",Se,O(N(d)("offers.price")),1),_("div",Ae,O(cr(t.pricing||0)),1)]),t.total_value?(j(),w("div",Be,[_("div",Fe,O(N(d)("offers.total_value")),1),_("div",Ze,O(cr(t.total_value)),1)])):z("",!0)]),t.value_score?(j(),w("div",qe,[_("div",He,[_("span",Le,O(N(d)("offers.value_score")),1),_("span",Re,O(t.value_score),1)])])):z("",!0),_("div",$e,[t.guarantee_type?(j(),w("div",De,[I(N(k),{class:"w-4 h-4"}),_("span",Ee,O(N(d)("offers.guaranteed")),1)])):z("",!0),_("div",Je,[I(N(g),{class:"w-4 h-4"}),_("span",Ke,O(N(d)("offers.bonuses",{count:t.components_count||0})),1)])]),_("div",Ue,[I(N(e),{href:a.route(c("show"),t.id),class:Z(["inline-flex items-center justify-center gap-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/30 hover:bg-purple-200 dark:hover:bg-purple-900/50 text-purple-700 dark:text-purple-400 font-medium rounded-xl transition-colors text-sm",or.value?"flex-1":""])},{default:S(()=>[I(N(y),{class:"w-4 h-4"}),A(" "+O(N(d)("offers.view")),1)]),_:1},8,["href","class"]),or.value?z("",!0):(j(),M(N(e),{key:0,href:a.route(c("edit"),t.id),class:"p-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-400 rounded-xl transition-colors",title:N(d)("offers.edit")},{default:S(()=>[I(N(h),{class:"w-4 h-4"})]),_:1},8,["href","title"])),or.value?z("",!0):(j(),w("button",{key:1,onClick:e=>(e=>{r.post(route(c("duplicate"),e.id))})(t),class:"p-2 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded-xl transition-colors",title:N(d)("offers.duplicate")},[I(N(v),{class:"w-4 h-4"})],8,Ve)),or.value?z("",!0):(j(),w("button",{key:2,onClick:e=>(e=>{i.value=e})(t),class:"p-2 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 rounded-xl transition-colors",title:N(d)("offers.delete")},[I(N(s),{class:"w-4 h-4"})],8,Ge))])])]);var l}),128))])):(j(),w("div",xe,[_("div",be,[I(N(g),{class:"w-10 h-10 text-purple-600 dark:text-purple-400"})]),_("h3",me,O(N(d)("offers.no_offers")),1),_("p",ke,O(N(d)("offers.no_offers_desc")),1),or.value?(j(),w("p",ye,O(N(d)("offers.not_created")),1)):(j(),M(N(e),{key:0,href:a.route(c("create")),class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-medium rounded-xl transition-all shadow-lg shadow-purple-500/30"},{default:S(()=>[I(N(m),{class:"w-5 h-5"}),A(" "+O(N(d)("offers.create_offer")),1)]),_:1},8,["href"]))]))]),(j(),M(H,{to:"body"},[i.value?(j(),w("div",Pe,[_("div",Qe,[_("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:nr}),_("div",We,[_("div",Xe,[_("div",Ye,[_("div",er,[I(N(s),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),_("div",null,[_("h3",rr,O(N(d)("offers.delete_title")),1),_("p",tr,O(N(d)("offers.delete_warning")),1)])]),_("p",ar,O(N(d)("offers.delete_confirm",{name:i.value.name})),1),_("div",sr,[_("button",{onClick:nr,class:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl transition-colors"},O(N(d)("common.cancel")),1),_("button",{onClick:ir,class:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded-xl transition-colors"},O(N(d)("offers.delete")),1)])])])])])):z("",!0)]))],64))}},lr={__name:"Index",props:{offers:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},panelType:{type:String,required:!0,validator:e=>["business","marketing","finance","operator","saleshead"].includes(e)}},setup(e){const{t:r}=a(),s=e,u=T(()=>({business:l,marketing:d,finance:i,operator:n,saleshead:c}[s.panelType]||o));return(a,s)=>(j(),M(q(u.value),{title:N(r)("offers.title")},{default:S(()=>[I(N(t),{title:N(r)("offers.title")},null,8,["title"]),I(or,{offers:e.offers,stats:e.stats,"panel-type":e.panelType},null,8,["offers","stats","panel-type"])]),_:1},8,["title"]))}};export{lr as default};

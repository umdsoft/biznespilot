import{r as t,v as a,x as e,z as r,D as s,L as l,E as i,H as o,B as n,I as d,K as c,F as g,G as p}from"./chunk-7Urb0kxg.js";import{r as x}from"./chunk-DKkye6wf.js";import{_ as u}from"./chunk-BB8-4400.js";import"./chunk-Dm-LAqtr.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";const y={class:"w-full px-4 sm:px-6 lg:px-8 py-8"},k={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 mb-8"},b={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},m={class:"flex items-center gap-4"},h={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},f={class:"flex items-center gap-2 mt-1"},v={class:"text-sm text-gray-500 dark:text-gray-400"},w={class:"text-right"},j={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},S={class:"flex items-center gap-3 mb-6"},_={class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden"},T={key:0,class:"overflow-x-auto"},B={class:"w-full"},H={class:"divide-y divide-gray-100 dark:divide-gray-700"},q={class:"px-6 py-4 text-sm text-gray-900 dark:text-gray-100 whitespace-nowrap"},M={class:"px-6 py-4 whitespace-nowrap"},O={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},z={class:"ml-1 text-xs text-gray-500 dark:text-gray-400"},C={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 text-sm font-semibold text-gray-900 dark:text-gray-100 whitespace-nowrap"},I={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 text-sm font-mono text-gray-500 dark:text-gray-400 whitespace-nowrap"},L={key:1,class:"text-center py-16"},V={key:2,class:"border-t border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between"},D={class:"text-sm text-gray-500 dark:text-gray-400"},F={class:"flex gap-2"},J=["href","innerHTML"],U={__name:"History",props:{subscriptionStatus:{type:Object,default:()=>null},transactions:{type:Object,default:()=>({data:[]})},filters:{type:Object,default:()=>({})}},setup(U){const X=t(U.filters.status||""),A=()=>{x.get("/business/billing/history",{status:X.value||void 0},{preserveState:!0})},E=t=>({created:"Yaratildi",waiting:"Kutilmoqda",processing:"Jarayonda",paid:"To'langan",cancelled:"Bekor qilindi",failed:"Xatolik",refunded:"Qaytarildi"}[t]||t);return(t,x)=>(i(),a(u,{title:"To'lov tarixi"},{default:e(()=>[r("div",y,[x[6]||(x[6]=r("div",{class:"mb-8"},[r("h1",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},"To'lov tarixi"),r("p",{class:"text-gray-600 dark:text-gray-400"},"Barcha tranzaksiyalar va obuna holatini ko'ring")],-1)),U.subscriptionStatus?.has_subscription?(i(),s("div",k,[r("div",b,[r("div",m,[x[1]||(x[1]=r("div",{class:"w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center"},[r("svg",{class:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1)),r("div",null,[r("h3",h,o(U.subscriptionStatus.plan?.name),1),r("div",f,[r("span",{class:n(["px-2 py-0.5 text-xs font-semibold rounded-md","active"===U.subscriptionStatus.status?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"])},o("active"===U.subscriptionStatus.status?"Aktiv":"trialing"===U.subscriptionStatus.status?"Sinov":U.subscriptionStatus.status),3),r("span",v,o("yearly"===U.subscriptionStatus.billing_cycle?"Yillik":"Oylik")+" obuna ",1)])])]),r("div",w,[x[2]||(x[2]=r("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tugash sanasi",-1)),r("p",j,o(U.subscriptionStatus.days_remaining)+" kun qoldi",1)])])])):l("",!0),r("div",S,[d(r("select",{"onUpdate:modelValue":x[0]||(x[0]=t=>X.value=t),onChange:A,class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl text-sm font-medium text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...x[3]||(x[3]=[r("option",{value:""},"Barcha holatlar",-1),r("option",{value:"paid"},"To'langan",-1),r("option",{value:"created"},"Yaratildi",-1),r("option",{value:"waiting"},"Kutilmoqda",-1),r("option",{value:"processing"},"Jarayonda",-1),r("option",{value:"cancelled"},"Bekor qilindi",-1),r("option",{value:"failed"},"Xatolik",-1)])],544),[[c,X.value]])]),r("div",_,[U.transactions.data&&U.transactions.data.length>0?(i(),s("div",T,[r("table",B,[x[4]||(x[4]=r("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[r("tr",null,[r("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Sana"),r("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Tarif"),r("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"To'lov usuli"),r("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Summa"),r("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Holat"),r("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Order ID")])],-1)),r("tbody",H,[(i(!0),s(g,null,p(U.transactions.data,t=>{return i(),s("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors"},[r("td",q,o(t.created_at),1),r("td",M,[r("div",null,[r("span",O,o(t.plan_name),1),r("span",z,"("+o("yearly"===t.billing_cycle?"Yillik":"Oylik")+")",1)])]),r("td",C,[r("span",{class:n(["px-2.5 py-1 text-xs font-semibold rounded-md","click"===t.provider?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400"])},o("click"===t.provider?"Click":"Payme"),3)]),r("td",Y,o((e=t.amount,e?new Intl.NumberFormat("uz-UZ").format(e):"0"))+" "+o(t.currency),1),r("td",I,[r("span",{class:n(["px-2.5 py-1 text-xs font-semibold rounded-md",(a=t.status,{paid:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",created:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",waiting:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",processing:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",cancelled:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",failed:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",refunded:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"}[a]||"bg-gray-100 text-gray-700")])},o(E(t.status)),3)]),r("td",K,o(t.order_id),1)]);var a,e}),128))])])])):(i(),s("div",L,[...x[5]||(x[5]=[r("svg",{class:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),r("p",{class:"text-gray-500 dark:text-gray-400 text-lg mb-2"},"Hali tranzaksiyalar yo'q",-1),r("a",{href:"/business/billing/plans",class:"text-blue-600 dark:text-blue-400 font-medium hover:underline"}," Tariflarni ko'rish â†’ ",-1)])])),U.transactions.links&&U.transactions.last_page>1?(i(),s("div",V,[r("p",D,o(U.transactions.from)+"-"+o(U.transactions.to)+" / "+o(U.transactions.total),1),r("div",F,[(i(!0),s(g,null,p(U.transactions.links,t=>(i(),s("a",{key:t.label,href:t.url,class:n(["px-3 py-1.5 text-sm rounded-lg transition-colors",t.active?"bg-blue-600 text-white":t.url?"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":"text-gray-300 dark:text-gray-600 cursor-not-allowed"]),innerHTML:t.label},null,10,J))),128))])])):l("",!0)])])]),_:1}))}};export{U as default};

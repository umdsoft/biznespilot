import{r as x,b as E,v as I,x as S,z as e,D as d,L as v,y as u,A as g,C as b,I as l,K as k,R as z,J as p,E as n,F as q,G as V,B as w,H as i,Q as A}from"./chunk-BcTZxe-J.js";import{l as N,r as T}from"./chunk-BYRtWSr0.js";import{_ as D}from"./chunk-BJZ7gbQ1.js";import{r as P}from"./chunk-BHX0ueEB.js";import{r as H}from"./chunk-gCWBLgcy.js";import{a as Q}from"./chunk-Rs1WNzbn.js";import{r as X}from"./chunk-BaCQBAcd.js";import{r as G}from"./chunk-CDJxtMns.js";import{r as J}from"./chunk-Djm2-0ZA.js";import{r as O}from"./chunk-CnrLL2pV.js";import"./chunk-BnC_-OK6.js";import"./app-CncQRLgv.js";import"./chunk-C1xeNfMu.js";import"./chunk-BVYwhYNk.js";import"./chunk-BqueMrU7.js";import"./chunk-_yYzsx_i.js";import"./chunk-CJsSO8V8.js";import"./chunk-CQoMtUf7.js";import"./chunk-qVc0_oyq.js";import"./chunk-LBbTbQSS.js";import"./chunk-I93QdGKi.js";import"./chunk-DNp5bQOL.js";import"./chunk-CG0drqHE.js";import"./chunk-CklLzvQL.js";import"./chunk-D58UsNjm.js";import"./chunk-Ba8J67bG.js";const Y={class:"mb-8"},W={class:"flex items-center justify-between flex-wrap gap-4"},Z={class:"flex items-center gap-3"},ee={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 mb-6"},te={class:"flex flex-wrap gap-4"},re={class:"flex items-center gap-2 cursor-pointer"},ae={class:"flex-1 min-w-[200px]"},oe={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},se={class:"p-4 border-b border-gray-200 dark:border-gray-700"},le={class:"flex items-center justify-between"},ne={class:"flex items-center gap-2"},ie={key:0,class:"flex items-center gap-1 text-amber-500"},de={class:"p-4"},ue={class:"text-sm text-gray-700 dark:text-gray-300 line-clamp-4"},ge={key:0,class:"mt-3 flex flex-wrap gap-1"},pe={key:0,class:"text-xs text-gray-500"},ye={class:"px-4 py-3 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700"},be={class:"flex items-center justify-between text-sm"},me={class:"flex items-center gap-4"},xe={class:"flex items-center gap-1 text-gray-600 dark:text-gray-400"},ce={class:"flex items-center gap-1 text-gray-600 dark:text-gray-400"},ve={class:"flex items-center gap-1 text-gray-600 dark:text-gray-400"},ke={class:"flex items-center gap-1"},fe={class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex justify-between"},he=["onClick"],_e=["onClick"],we={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-12 text-center"},Ce={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},Se={class:"flex items-center justify-center min-h-screen px-4"},qe={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl p-6"},Ve={class:"text-xl font-bold text-gray-900 dark:text-white mb-6"},Te={class:"grid grid-cols-2 gap-4"},Ue={class:"grid grid-cols-4 gap-4"},Me={class:"flex justify-end gap-3 pt-4"},$e=["disabled"],ot={__name:"Templates",props:{templates:{type:Array,default:()=>[]}},setup(U){const M=U,m=x(!1),f=x(null),c=x(!1),s=x({content_type:"",purpose:"",top_only:!1,search:""}),o=x({content:"",content_type:"post",purpose:"engage",source_url:"",likes_count:0,comments_count:0,shares_count:0,saves_count:0,engagement_rate:0}),$={post:"Post",story:"Story",reel:"Reel",ad:"Reklama",carousel:"Carousel",article:"Maqola"},B={post:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",story:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400",reel:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",ad:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",carousel:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",article:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400"},F={engage:"Faollashtirish",sell:"Sotish",educate:"Ta'lim",inspire:"Ilhomlantirish",announce:"E'lon",entertain:"Ko'ngil ochar"},j={engage:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",sell:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",educate:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",inspire:"bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400",announce:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",entertain:"bg-fuchsia-100 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-400"},C=E(()=>{let a=[...M.templates];if(s.value.content_type&&(a=a.filter(t=>t.content_type===s.value.content_type)),s.value.purpose&&(a=a.filter(t=>t.purpose===s.value.purpose)),s.value.top_only&&(a=a.filter(t=>t.is_top_performer)),s.value.search){const t=s.value.search.toLowerCase();a=a.filter(r=>r.content.toLowerCase().includes(t)||r.hashtags?.some(y=>y.toLowerCase().includes(t)))}return a.sort((t,r)=>(r.performance_score||0)-(t.performance_score||0))}),h=a=>a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":a?.toString()||"0",K=a=>{f.value=a,o.value={content:a.content,content_type:a.content_type,purpose:a.purpose,source_url:a.source_url||"",likes_count:a.likes_count||0,comments_count:a.comments_count||0,shares_count:a.shares_count||0,saves_count:a.saves_count||0,engagement_rate:a.engagement_rate||0},m.value=!0},_=()=>{m.value=!1,f.value=null,o.value={content:"",content_type:"post",purpose:"engage",source_url:"",likes_count:0,comments_count:0,shares_count:0,saves_count:0,engagement_rate:0}},L=async()=>{c.value=!0;try{await axios.post(route("business.marketing.content-ai.templates.store"),o.value),_(),T.reload({only:["templates"]})}catch(a){console.error("Save failed:",a),alert("Xatolik: "+(a.response?.data?.message||a.message))}finally{c.value=!1}},R=async a=>{if(confirm("Bu shablonni o'chirmoqchimisiz?"))try{await axios.delete(route("business.marketing.content-ai.templates.destroy",a.id)),T.reload({only:["templates"]})}catch(t){console.error("Delete failed:",t),alert("Xatolik: "+(t.response?.data?.message||t.message))}};return(a,t)=>(n(),I(D,{title:"Kontent Shablonlari"},{default:S(()=>[e("div",Y,[e("div",W,[e("div",null,[e("div",Z,[u(g(N),{href:a.route("business.marketing.content-ai.index"),class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all"},{default:S(()=>[u(g(P),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})]),_:1},8,["href"]),t[15]||(t[15]=e("div",null,[e("h2",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100"}," Kontent Shablonlari "),e("p",{class:"mt-1 text-gray-600 dark:text-gray-400"}," AI uchun namuna kontentlar - ko'proq shablon = yaxshiroq natija ")],-1))])]),e("button",{onClick:t[0]||(t[0]=r=>m.value=!0),class:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all flex items-center gap-2"},[u(g(H),{class:"w-5 h-5"}),t[16]||(t[16]=b(" Shablon qo'shish ",-1))])])]),e("div",ee,[e("div",te,[e("div",null,[l(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.value.content_type=r),class:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"},[...t[17]||(t[17]=[e("option",{value:""},"Barcha turlar",-1),e("option",{value:"post"},"Post",-1),e("option",{value:"story"},"Story",-1),e("option",{value:"reel"},"Reel",-1),e("option",{value:"ad"},"Reklama",-1),e("option",{value:"carousel"},"Carousel",-1),e("option",{value:"article"},"Maqola",-1)])],512),[[k,s.value.content_type]])]),e("div",null,[l(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>s.value.purpose=r),class:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"},[...t[18]||(t[18]=[e("option",{value:""},"Barcha maqsadlar",-1),e("option",{value:"engage"},"Faollashtirish",-1),e("option",{value:"sell"},"Sotish",-1),e("option",{value:"educate"},"Ta'lim",-1),e("option",{value:"inspire"},"Ilhomlantirish",-1),e("option",{value:"announce"},"E'lon",-1),e("option",{value:"entertain"},"Ko'ngil ochar",-1)])],512),[[k,s.value.purpose]])]),e("label",re,[l(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=r=>s.value.top_only=r),class:"w-4 h-4 text-purple-600 rounded border-gray-300 focus:ring-purple-500"},null,512),[[z,s.value.top_only]]),t[19]||(t[19]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Faqat top natijalar",-1))]),e("div",ae,[l(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=r=>s.value.search=r),placeholder:"Qidirish...",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"},null,512),[[p,s.value.search]])])])]),C.value.length?(n(),d("div",oe,[(n(!0),d(q,null,V(C.value,r=>(n(),d("div",{key:r.id,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all"},[e("div",se,[e("div",le,[e("div",ne,[e("span",{class:w(["px-2 py-1 text-xs rounded-full font-medium",B[r.content_type]])},i($[r.content_type]),3),e("span",{class:w(["px-2 py-1 text-xs rounded-full font-medium",j[r.purpose]])},i(F[r.purpose]),3)]),r.is_top_performer?(n(),d("div",ie,[u(g(Q),{class:"w-4 h-4"}),t[20]||(t[20]=e("span",{class:"text-xs font-medium"},"Top",-1))])):v("",!0)])]),e("div",de,[e("p",ue,i(r.content),1),r.hashtags?.length?(n(),d("div",ge,[(n(!0),d(q,null,V(r.hashtags.slice(0,3),y=>(n(),d("span",{key:y,class:"px-1.5 py-0.5 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded"}," #"+i(y),1))),128)),r.hashtags.length>3?(n(),d("span",pe," +"+i(r.hashtags.length-3),1)):v("",!0)])):v("",!0)]),e("div",ye,[e("div",be,[e("div",me,[e("span",xe,[u(g(X),{class:"w-4 h-4"}),b(" "+i(h(r.likes_count)),1)]),e("span",ce,[u(g(G),{class:"w-4 h-4"}),b(" "+i(h(r.comments_count)),1)]),e("span",ve,[u(g(J),{class:"w-4 h-4"}),b(" "+i(h(r.shares_count)),1)])]),e("div",ke,[t[21]||(t[21]=e("span",{class:"text-xs text-gray-500"},"Score:",-1)),e("span",{class:w(["font-medium",r.performance_score>=50?"text-green-600":r.performance_score>=25?"text-amber-600":"text-gray-600"])},i(r.performance_score?.toFixed(0)||0),3)])])]),e("div",fe,[e("button",{onClick:y=>K(r),class:"text-sm text-gray-600 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors"}," Tahrirlash ",8,he),e("button",{onClick:y=>R(r),class:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors"}," O'chirish ",8,_e)])]))),128))])):(n(),d("div",we,[u(g(O),{class:"w-16 h-16 mx-auto text-gray-400 mb-4"}),t[22]||(t[22]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Hali shablon yo'q",-1)),t[23]||(t[23]=e("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},[b(" Eng yaxshi natijaga erishgan postlaringizni shablon sifatida qo'shing."),e("br"),b(" AI shu namunalar asosida yangi kontentlar yaratadi. ")],-1)),e("button",{onClick:t[5]||(t[5]=r=>m.value=!0),class:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all"}," Birinchi shablonni qo'shish ")])),m.value?(n(),d("div",Ce,[e("div",Se,[e("div",{class:"fixed inset-0 bg-black/50",onClick:_}),e("div",qe,[e("h3",Ve,i(f.value?"Shablonni tahrirlash":"Yangi shablon qo'shish"),1),e("form",{onSubmit:A(L,["prevent"]),class:"space-y-4"},[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Kontent * ",-1)),l(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=r=>o.value.content=r),rows:"5",class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500",placeholder:"Post matnini kiriting...",required:""},null,512),[[p,o.value.content]])]),e("div",Te,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Kontent turi ",-1)),l(e("select",{"onUpdate:modelValue":t[7]||(t[7]=r=>o.value.content_type=r),class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[...t[25]||(t[25]=[e("option",{value:"post"},"Post",-1),e("option",{value:"story"},"Story",-1),e("option",{value:"reel"},"Reel",-1),e("option",{value:"ad"},"Reklama",-1),e("option",{value:"carousel"},"Carousel",-1),e("option",{value:"article"},"Maqola",-1)])],512),[[k,o.value.content_type]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Maqsad ",-1)),l(e("select",{"onUpdate:modelValue":t[8]||(t[8]=r=>o.value.purpose=r),class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},[...t[27]||(t[27]=[e("option",{value:"engage"},"Faollashtirish",-1),e("option",{value:"sell"},"Sotish",-1),e("option",{value:"educate"},"Ta'lim",-1),e("option",{value:"inspire"},"Ilhomlantirish",-1),e("option",{value:"announce"},"E'lon",-1),e("option",{value:"entertain"},"Ko'ngil ochar",-1)])],512),[[k,o.value.purpose]])])]),e("div",Ue,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Likes",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>o.value.likes_count=r),min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.likes_count,void 0,{number:!0}]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Comments",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=r=>o.value.comments_count=r),min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.comments_count,void 0,{number:!0}]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Shares",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=r=>o.value.shares_count=r),min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.shares_count,void 0,{number:!0}]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Saves",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=r=>o.value.saves_count=r),min:"0",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.saves_count,void 0,{number:!0}]])])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Engagement Rate (%) ",-1)),l(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=r=>o.value.engagement_rate=r),min:"0",max:"100",step:"0.1",class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"},null,512),[[p,o.value.engagement_rate,void 0,{number:!0}]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Manba URL (ixtiyoriy) ",-1)),l(e("input",{type:"url","onUpdate:modelValue":t[14]||(t[14]=r=>o.value.source_url=r),class:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"https://instagram.com/p/..."},null,512),[[p,o.value.source_url]])]),e("div",Me,[e("button",{type:"button",onClick:_,class:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all"}," Bekor qilish "),e("button",{type:"submit",disabled:c.value,class:"px-6 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-indigo-700 disabled:opacity-50 transition-all"},i(c.value?"Saqlanmoqda...":"Saqlash"),9,$e)])],32)])])])):v("",!0)]),_:1}))}};export{ot as default};

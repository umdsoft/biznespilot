import{_ as e}from"./chunk-BDBDdGhv.js";import{l as t,b as a,a as r,h as s}from"./chunk-BhZp3z4u.js";import{u as l}from"./app-C-ZlocOh.js";import{_ as i}from"./chunk-D86I8k7r.js";import{r as d}from"./chunk-D7oP9pDe.js";import{r as n}from"./chunk-C-cD-j23.js";import{r as o}from"./chunk-CRuw8gLN.js";import{r as c}from"./chunk-BEiyPHRW.js";import{b as u,C as g,D as x,y as p,L as b,A as m,z as h,E as y,v,O as f,Q as k,x as w,B as _,J as j,K as A,I as B,r as O,o as S}from"./chunk-CpmtkKLp.js";import{r as q}from"./chunk-beXL1A--.js";import{r as C}from"./chunk-C8W6ukxQ.js";import{r as $}from"./chunk-BB7xsSUf.js";import{r as N}from"./chunk-eMHYSAeQ.js";import{r as R}from"./chunk-Bsc1JRL5.js";import{r as z}from"./chunk-DvBKKKMs.js";import{o as T,n as Y,f as P}from"./chunk-D7SyfRoT.js";import{r as D}from"./chunk-CAoK8Mdm.js";import{r as H}from"./chunk-DmrwHl-6.js";import{r as I}from"./chunk-CvscUVdi.js";import{r as L}from"./chunk-BG5DB3cD.js";import{r as K}from"./chunk-DNKDGYPp.js";import{r as E}from"./chunk-DCXiFUg-.js";import{r as F}from"./chunk-B3ILNJqD.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-De_qwhex.js";import"./chunk-BiBvtcLb.js";import"./chunk-BiW1c8q7.js";import"./chunk-CTIk0k8a.js";import"./chunk-dqIIyBTR.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-BuJDoypK.js";const J={class:"flex items-center justify-between mb-6"},Q={class:"flex items-center gap-3"},W={class:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center"},M={class:"text-xl font-bold"},U={class:"text-right"},Z={class:"text-4xl font-bold"},G={class:"space-y-3"},V={class:"flex items-center gap-3"},X={class:"flex-1 bg-white/20 rounded-full h-2"},ee={class:"text-xs w-8 text-right"},te={class:"flex items-center gap-3"},ae={class:"flex-1 bg-white/20 rounded-full h-2"},re={class:"text-xs w-8 text-right"},se={class:"flex items-center gap-3"},le={class:"flex-1 bg-white/20 rounded-full h-2"},ie={class:"text-xs w-8 text-right"},de={class:"flex items-center gap-3"},ne={class:"flex-1 bg-white/20 rounded-full h-2"},oe={class:"text-xs w-8 text-right"},ce={class:"mt-4 pt-4 border-t border-white/20 text-center"},ue={__name:"EngagementWidget",props:{avgScore:{type:Number,default:0},engagementStatus:{type:String,default:"unknown"},trend:{type:Object,default:()=>({direction:"stable",change:0})},distribution:{type:Object,default:()=>({highly_engaged:{count:0},engaged:{count:0},neutral:{count:0},disengaged:{count:0}})},businessId:{type:String,default:""}},setup(e){const a=e,r=u(()=>{const e={excellent:"from-emerald-500 to-green-600",good:"from-blue-500 to-cyan-600",average:"from-yellow-500 to-orange-600",needs_attention:"from-red-500 to-pink-600",unknown:"from-gray-500 to-gray-600"};return e[a.engagementStatus]||e.unknown}),s=u(()=>{const e={excellent:"A'lo darajada",good:"Yaxshi",average:"O'rtacha",needs_attention:"E'tibor kerak",unknown:"Ma'lumot yo'q"};return e[a.engagementStatus]||e.unknown}),l=u(()=>"up"===a.trend.direction?d:"down"===a.trend.direction?n:o),i=u(()=>"up"===a.trend.direction?"text-green-500":"down"===a.trend.direction?"text-red-500":"text-gray-500"),j=u(()=>(a.distribution.highly_engaged?.count||0)+(a.distribution.engaged?.count||0)+(a.distribution.neutral?.count||0)+(a.distribution.disengaged?.count||0));return(a,d)=>(x(),g("div",{class:y(["rounded-2xl p-6 text-white shadow-xl bg-gradient-to-br",r.value])},[p("div",J,[p("div",Q,[p("div",W,[b(m(c),{class:"w-6 h-6"})]),p("div",null,[d[0]||(d[0]=p("p",{class:"text-sm opacity-90"},"Hodimlar Ishga Qiziqishi",-1)),p("p",M,h(s.value),1)])]),p("div",U,[p("div",Z,h(e.avgScore.toFixed(1)),1),p("div",{class:y(["text-sm flex items-center justify-end gap-1",i.value])},[(x(),v(f(l.value),{class:"w-4 h-4"})),p("span",null,h(e.trend.change>0?"+":"")+h(e.trend.change.toFixed(1))+"%",1)],2)])]),p("div",G,[p("div",V,[d[1]||(d[1]=p("span",{class:"text-xs w-24 opacity-90"},"Juda qiziqgan",-1)),p("div",X,[p("div",{class:"bg-white rounded-full h-2 transition-all duration-500",style:k({width:j.value>0?(e.distribution.highly_engaged?.count||0)/j.value*100+"%":"0%"})},null,4)]),p("span",ee,h(e.distribution.highly_engaged?.count||0),1)]),p("div",te,[d[2]||(d[2]=p("span",{class:"text-xs w-24 opacity-90"},"Qiziqgan",-1)),p("div",ae,[p("div",{class:"bg-white rounded-full h-2 transition-all duration-500",style:k({width:j.value>0?(e.distribution.engaged?.count||0)/j.value*100+"%":"0%"})},null,4)]),p("span",re,h(e.distribution.engaged?.count||0),1)]),p("div",se,[d[3]||(d[3]=p("span",{class:"text-xs w-24 opacity-90"},"Neytral",-1)),p("div",le,[p("div",{class:"bg-white rounded-full h-2 transition-all duration-500",style:k({width:j.value>0?(e.distribution.neutral?.count||0)/j.value*100+"%":"0%"})},null,4)]),p("span",ie,h(e.distribution.neutral?.count||0),1)]),p("div",de,[d[4]||(d[4]=p("span",{class:"text-xs w-24 opacity-90"},"Qiziqmagan",-1)),p("div",ne,[p("div",{class:"bg-white rounded-full h-2 transition-all duration-500",style:k({width:j.value>0?(e.distribution.disengaged?.count||0)/j.value*100+"%":"0%"})},null,4)]),p("span",oe,h(e.distribution.disengaged?.count||0),1)])]),p("div",ce,[b(m(t),{href:"/hr/engagement",class:"text-sm opacity-90 hover:opacity-100 transition-opacity underline"},{default:w(()=>[...d[5]||(d[5]=[_(" Batafsil ko'rish ",-1)])]),_:1})])],2))}},ge={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden"},xe={class:"flex items-center justify-between"},pe={class:"flex items-center gap-3"},be={class:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center"},me={class:"text-xl font-bold"},he={class:"text-right"},ye={class:"text-4xl font-bold"},ve={class:"p-6"},fe={class:"grid grid-cols-4 gap-2 mb-6"},ke={class:"text-2xl font-bold text-gray-900 dark:text-white"},we={class:"text-xs text-gray-500 dark:text-gray-400"},_e={key:0,class:"space-y-3"},je={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2"},Ae={class:"space-y-2"},Be={class:"flex items-center gap-3"},Oe={class:"w-8 h-8 bg-gray-200 dark:bg-gray-600 rounded-full flex items-center justify-center"},Se={class:"text-xs font-medium text-gray-600 dark:text-gray-300"},qe={class:"text-sm font-medium text-gray-900 dark:text-white"},Ce={class:"text-xs text-gray-500 dark:text-gray-400"},$e={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400"},Ne={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 text-center"},Re={__name:"FlightRiskWidget",props:{distribution:{type:Object,default:()=>({critical:{count:0,label:"Juda yuqori xavf",color:"red"},high:{count:0,label:"Yuqori xavf",color:"orange"},medium:{count:0,label:"O'rtacha xavf",color:"yellow"},low:{count:0,label:"Past xavf",color:"green"}})},topRisks:{type:Array,default:()=>[]},avgRiskScore:{type:Number,default:0},businessId:{type:String,default:""}},setup(e){const a=e,r=u(()=>(a.distribution.critical?.count||0)+(a.distribution.high?.count||0)+(a.distribution.medium?.count||0)+(a.distribution.low?.count||0)),s=u(()=>(a.distribution.critical?.count||0)+(a.distribution.high?.count||0)),l=u(()=>{const e=r.value>0?s.value/r.value*100:0;return e>=15?{label:"Kritik holat",color:"from-red-500 to-pink-600"}:e>=10?{label:"Ogohlantirish",color:"from-orange-500 to-red-600"}:e>=5?{label:"Kuzatuvda",color:"from-yellow-500 to-orange-600"}:{label:"Normal",color:"from-emerald-500 to-green-600"}}),i=e=>({critical:"bg-red-500",high:"bg-orange-500",medium:"bg-yellow-500",low:"bg-green-500"}[e]||"bg-gray-500");return(a,r)=>(x(),g("div",ge,[p("div",{class:y(["p-6 text-white bg-gradient-to-br",l.value.color])},[p("div",xe,[p("div",pe,[p("div",be,[b(m(q),{class:"w-6 h-6"})]),p("div",null,[r[0]||(r[0]=p("p",{class:"text-sm opacity-90"},"Ketish xavfi",-1)),p("p",me,h(l.value.label),1)])]),p("div",he,[p("div",ye,h(s.value),1),r[1]||(r[1]=p("div",{class:"text-sm opacity-90"},"yuqori xavfli",-1))])])],2),p("div",ve,[p("div",fe,[(x(!0),g(j,null,A(e.distribution,(e,t)=>(x(),g("div",{key:t,class:"text-center"},[p("div",{class:y(["w-full h-2 rounded-full mb-2",i(t)])},null,2),p("div",ke,h(e.count),1),p("div",we,h(e.label),1)]))),128))]),e.topRisks.length>0?(x(),g("div",_e,[p("h4",je,[b(m(C),{class:"w-4 h-4"}),r[2]||(r[2]=_(" Eng yuqori xavfli hodimlar ",-1))]),p("div",Ae,[(x(!0),g(j,null,A(e.topRisks.slice(0,3),e=>{return x(),g("div",{key:e.user?.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},[p("div",Be,[p("div",Oe,[p("span",Se,h(e.user?.name?.charAt(0)||"?"),1)]),p("div",null,[p("p",qe,h(e.user?.name||"Noma'lum"),1),p("p",Ce,h(e.top_factors?.[0]||"Ma'lumot yo'q"),1)])]),p("span",{class:y(["px-2 py-1 text-xs font-medium rounded-full",(t=e.risk_level,{critical:"bg-red-100 text-red-800",high:"bg-orange-100 text-orange-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"}[t]||"bg-gray-100 text-gray-800")])},h(e.risk_score)+"% ",3)]);var t}),128))])])):(x(),g("div",$e,[...r[3]||(r[3]=[p("p",{class:"text-sm"},"Yuqori xavfli hodimlar yo'q",-1)])])),p("div",Ne,[b(m(t),{href:"/hr/flight-risk",class:"text-sm text-purple-600 dark:text-purple-400 hover:underline"},{default:w(()=>[...r[4]||(r[4]=[_(" Batafsil ko'rish ",-1)])]),_:1})])])]))}},ze={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden"},Te={class:"p-6 bg-gradient-to-br from-blue-500 to-cyan-600 text-white"},Ye={class:"flex items-center justify-between"},Pe={class:"flex items-center gap-3"},De={class:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center"},He={class:"text-right"},Ie={class:"text-4xl font-bold"},Le={class:"p-6"},Ke={class:"grid grid-cols-3 gap-4 mb-6"},Ee={class:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-xl"},Fe={class:"text-xl font-bold text-green-600 dark:text-green-400"},Je={class:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl"},Qe={class:"text-xl font-bold text-blue-600 dark:text-blue-400"},We={class:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-xl"},Me={class:"text-xl font-bold text-red-600 dark:text-red-400"},Ue={class:"mb-6"},Ze={class:"space-y-2"},Ge={class:"text-xs w-16 text-gray-600 dark:text-gray-400"},Ve={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Xe={class:"text-xs w-10 text-right font-medium text-gray-700 dark:text-gray-300"},et={key:0,class:"space-y-3"},tt={class:"space-y-2"},at={class:"flex items-center gap-3"},rt={class:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center"},st={class:"text-xs font-medium text-blue-600 dark:text-blue-400"},lt={class:"text-sm font-medium text-gray-900 dark:text-white"},it={class:"text-xs text-gray-500 dark:text-gray-400"},dt={class:"w-16"},nt={class:"bg-gray-200 dark:bg-gray-600 rounded-full h-2"},ot={class:"text-xs text-center mt-1 text-gray-500 dark:text-gray-400"},ct={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 text-center"},ut={__name:"OnboardingWidget",props:{activePlans:{type:Number,default:0},completedPlans:{type:Number,default:0},overdueTasksCount:{type:Number,default:0},recentOnboardings:{type:Array,default:()=>[]},milestoneScores:{type:Object,default:()=>({day_30:0,day_60:0,day_90:0})},businessId:{type:String,default:""}},setup(e){const a=e=>e>=80?"bg-green-500":e>=50?"bg-yellow-500":"bg-red-500",r=e=>({day_30:"30 kun",day_60:"60 kun",day_90:"90 kun"}[e]||e);return(s,l)=>(x(),g("div",ze,[p("div",Te,[p("div",Ye,[p("div",Pe,[p("div",De,[b(m($),{class:"w-6 h-6"})]),l[0]||(l[0]=p("div",null,[p("p",{class:"text-sm opacity-90"},"Onboarding"),p("p",{class:"text-xl font-bold"},"Yangi hodimlar")],-1))]),p("div",He,[p("div",Ie,h(e.activePlans),1),l[1]||(l[1]=p("div",{class:"text-sm opacity-90"},"faol reja",-1))])])]),p("div",Le,[p("div",Ke,[p("div",Ee,[b(m(N),{class:"w-6 h-6 mx-auto text-green-600 dark:text-green-400 mb-1"}),p("div",Fe,h(e.completedPlans),1),l[2]||(l[2]=p("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Yakunlangan",-1))]),p("div",Je,[b(m(R),{class:"w-6 h-6 mx-auto text-blue-600 dark:text-blue-400 mb-1"}),p("div",Qe,h(e.activePlans),1),l[3]||(l[3]=p("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Jarayonda",-1))]),p("div",We,[b(m(z),{class:"w-6 h-6 mx-auto text-red-600 dark:text-red-400 mb-1"}),p("div",Me,h(e.overdueTasksCount),1),l[4]||(l[4]=p("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Kechikkan",-1))])]),p("div",Ue,[l[5]||(l[5]=p("h4",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"}," O'rtacha milestone ballari ",-1)),p("div",Ze,[(x(!0),g(j,null,A(e.milestoneScores,(e,t)=>(x(),g("div",{key:t,class:"flex items-center gap-3"},[p("span",Ge,h(r(t)),1),p("div",Ve,[p("div",{class:y(["h-2 rounded-full transition-all duration-500",a(e)]),style:k({width:`${e}%`})},null,6)]),p("span",Xe,h(e)+"% ",1)]))),128))])]),e.recentOnboardings.length>0?(x(),g("div",et,[l[6]||(l[6]=p("h4",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300"}," So'nggi onboardinglar ",-1)),p("div",tt,[(x(!0),g(j,null,A(e.recentOnboardings.slice(0,3),e=>(x(),g("div",{key:e.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},[p("div",at,[p("div",rt,[p("span",st,h(e.user?.name?.charAt(0)||"?"),1)]),p("div",null,[p("p",lt,h(e.user?.name||"Noma'lum"),1),p("p",it,h(e.current_phase)+" • "+h(e.days_elapsed)+" kun ",1)])]),p("div",dt,[p("div",nt,[p("div",{class:y(["h-2 rounded-full",a(e.progress)]),style:k({width:`${e.progress}%`})},null,6)]),p("p",ot,h(e.progress)+"% ",1)])]))),128))])])):B("",!0),p("div",ct,[b(m(t),{href:"/hr/onboarding",class:"text-sm text-blue-600 dark:text-blue-400 hover:underline"},{default:w(()=>[...l[7]||(l[7]=[_(" Batafsil ko'rish ",-1)])]),_:1})])])]))}},gt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden"},xt={class:"p-6 border-b border-gray-200 dark:border-gray-700"},pt={class:"flex items-center justify-between"},bt={class:"flex items-center gap-3"},mt={class:"relative"},ht={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center"},yt={class:"text-sm text-gray-500 dark:text-gray-400"},vt={class:"divide-y divide-gray-200 dark:divide-gray-700 max-h-96 overflow-y-auto"},ft={class:"flex items-start gap-3"},kt={class:"flex-1 min-w-0"},wt={class:"flex items-start justify-between gap-2"},_t={class:"text-sm font-medium text-gray-900 dark:text-white"},jt={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},At={class:"flex items-center gap-2 mt-2"},Bt={class:"text-xs text-gray-400 dark:text-gray-500"},Ot={class:"flex items-center gap-1"},St=["onClick","disabled"],qt=["onClick","disabled"],Ct={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},$t={__name:"HRAlertsList",props:{alerts:{type:Array,default:()=>[]},unreadCount:{type:Number,default:0},businessId:{type:String,default:""}},emits:["acknowledge","resolve","markAllSeen"],setup(e,{emit:t}){const a=t,r=O(null),s=O(null),l=e=>({critical:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 border-red-200 dark:border-red-800",high:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400 border-orange-200 dark:border-orange-800",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",low:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border-green-200 dark:border-green-800"}[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"),i=(e,t)=>{if(t)return"text-yellow-500";return{critical:"text-red-500",high:"text-orange-500",medium:"text-yellow-500",low:"text-green-500"}[e]||"text-gray-500"},d=()=>{a("markAllSeen")};return(t,n)=>(x(),g("div",gt,[p("div",xt,[p("div",pt,[p("div",bt,[p("div",mt,[b(m(T),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"}),e.unreadCount>0?(x(),g("span",ht,h(e.unreadCount>9?"9+":e.unreadCount),1)):B("",!0)]),p("div",null,[n[0]||(n[0]=p("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"HR Ogohlantirishlar",-1)),p("p",yt,h(e.unreadCount)+" ta yangi bildirishnoma ",1)])]),e.unreadCount>0?(x(),g("button",{key:0,onClick:d,class:"text-sm text-purple-600 dark:text-purple-400 hover:underline"}," Barchasini ko'rilgan deb belgilash ")):B("",!0)])]),p("div",vt,[(x(!0),g(j,null,A(e.alerts,e=>{return x(),g("div",{key:e.id,class:y(["p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors","new"===e.status?"bg-purple-50/50 dark:bg-purple-900/10":""])},[p("div",ft,[p("div",{class:y(["w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",l(e.priority)])},[(x(),v(f((t=e.alert_type,d=e.is_celebration,d?I:t.includes("critical")||t.includes("high")?L:T)),{class:y(["w-5 h-5",i(e.priority,e.is_celebration)])},null,8,["class"]))],2),p("div",kt,[p("div",wt,[p("div",null,[p("p",_t,h(e.title),1),p("p",jt,h(e.message),1),p("div",At,[p("span",{class:y(["px-2 py-0.5 text-xs font-medium rounded-full border",l(e.priority)])},h(e.priority_label),3),p("span",Bt,h(e.created_ago),1)])]),p("div",Ot,["acknowledged"!==e.status&&"resolved"!==e.status?(x(),g("button",{key:0,onClick:t=>(async e=>{r.value=e,a("acknowledge",e),r.value=null})(e.id),disabled:r.value===e.id,class:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Tasdiqlash"},[b(m(D),{class:"w-4 h-4"})],8,St)):B("",!0),"resolved"!==e.status?(x(),g("button",{key:1,onClick:t=>(async e=>{s.value=e,a("resolve",e),s.value=null})(e.id),disabled:s.value===e.id,class:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-lg transition-colors",title:"Yechildi"},[b(m(H),{class:"w-4 h-4"})],8,qt)):B("",!0)])])])])],2);var t,d}),128)),0===e.alerts.length?(x(),g("div",Ct,[b(m(T),{class:"w-12 h-12 mx-auto opacity-50 mb-3"}),n[1]||(n[1]=p("p",null,"Hozircha ogohlantirishlar yo'q",-1))])):B("",!0)])]))}},Nt={class:"space-y-8"},Rt={class:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 rounded-3xl p-8 shadow-2xl"},zt={class:"relative"},Tt={class:"text-3xl md:text-4xl font-bold text-white mb-2"},Yt={class:"text-purple-100 text-lg"},Pt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Dt={class:"group relative bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-100 dark:border-purple-800/30 hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer"},Ht={class:"flex items-start justify-between mb-4"},It={class:"w-14 h-14 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/50 group-hover:scale-110 transition-transform duration-300"},Lt={class:"flex flex-col items-end"},Kt={class:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent"},Et={class:"text-xs font-medium px-3 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 rounded-full mt-2"},Ft={class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},Jt={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Qt={class:"group relative bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-2xl p-6 border border-blue-100 dark:border-blue-800/30 hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer"},Wt={class:"flex items-start justify-between mb-4"},Mt={class:"w-14 h-14 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/50 group-hover:scale-110 transition-transform duration-300"},Ut={class:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent"},Zt={class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},Gt={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Vt={class:"group relative bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-2xl p-6 border border-emerald-100 dark:border-emerald-800/30 hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer"},Xt={class:"flex items-start justify-between mb-4"},ea={class:"w-14 h-14 bg-gradient-to-br from-emerald-600 to-green-600 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/50 group-hover:scale-110 transition-transform duration-300"},ta={class:"flex flex-col items-end"},aa={class:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent"},ra={class:"text-xs font-medium px-3 py-1 bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 rounded-full mt-2"},sa={class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},la={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},ia={class:"group relative bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-2xl p-6 border border-orange-100 dark:border-orange-800/30 hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer"},da={class:"flex items-start justify-between mb-4"},na={class:"w-14 h-14 bg-gradient-to-br from-orange-600 to-amber-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-500/50 group-hover:scale-110 transition-transform duration-300"},oa={class:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent"},ca={class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},ua={class:"flex gap-2 mt-2 flex-wrap"},ga={class:"text-xs px-2 py-1 bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 rounded-lg"},xa={class:"text-xs px-2 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-lg"},pa={class:"text-xs px-2 py-1 bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400 rounded-lg"},ba={key:0,class:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl p-6 text-white shadow-xl"},ma={class:"flex items-center gap-3 mb-6"},ha={class:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center"},ya={class:"text-sm opacity-90"},va={class:"text-xl font-bold"},fa={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},ka={class:"flex items-start justify-between mb-2"},wa={class:"text-2xl font-bold"},_a={class:"text-sm opacity-90"},ja={class:"text-xs opacity-70 mt-1"},Aa={key:0,class:"mt-6 pt-6 border-t border-white/20"},Ba={class:"text-sm font-semibold mb-3 opacity-90"},Oa={class:"space-y-2"},Sa={class:"text-sm font-medium"},qa={class:"text-xs opacity-75"},Ca={class:"text-lg font-bold"},$a={class:"mt-4 text-center"},Na={class:"space-y-6"},Ra={class:"flex items-center justify-between"},za={key:0,class:"text-sm text-gray-500"},Ta={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6"},Ya={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Pa={class:"divide-y divide-gray-200 dark:divide-gray-700"},Da={class:"flex items-start justify-between"},Ha={class:"flex-1 min-w-0"},Ia={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},La={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Ka={key:0,class:"text-xs"},Ea={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},Fa={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},Ja={class:"divide-y divide-gray-200 dark:divide-gray-700"},Qa={class:"flex items-start justify-between"},Wa={class:"flex-1 min-w-0"},Ma={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ua={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},Za={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},Ga={__name:"HRDashboard",props:{stats:{type:Object,default:()=>({})},recentActivities:{type:Array,default:()=>[]},pendingTasks:{type:Array,default:()=>[]},leaveBalances:{type:Array,default:()=>[]},upcomingLeaves:{type:Array,default:()=>[]},currentBusiness:{type:Object,default:null}},setup(e){const{t:s}=l(),d=a(),n=u(()=>d.props.auth?.user?.name||s("dashboard.hr.hr_panel")),o=e,c=O(null),f=O(null),k=O(null),q=O([]),C=O(0),$=O(!1),N=async()=>{if(o.currentBusiness?.id){$.value=!0;try{const[e,t,a,s]=await Promise.all([r.get(`/api/v1/businesses/${o.currentBusiness.id}/hr/engagement/statistics`).catch(()=>({data:{data:null}})),r.get(`/api/v1/businesses/${o.currentBusiness.id}/hr/flight-risk/statistics`).catch(()=>({data:{data:null}})),r.get(`/api/v1/businesses/${o.currentBusiness.id}/hr/onboarding/statistics`).catch(()=>({data:{data:null}})),r.get(`/api/v1/businesses/${o.currentBusiness.id}/hr/alerts?limit=5`).catch(()=>({data:{data:{data:[]}}}))]);c.value=e.data.data,f.value=t.data.data,k.value=a.data.data,q.value=s.data.data?.data||[],C.value=q.value.filter(e=>"new"===e.status).length}catch(e){}finally{$.value=!1}}},R=async e=>{if(o.currentBusiness?.id)try{await r.post(`/api/v1/businesses/${o.currentBusiness.id}/hr/alerts/${e}/acknowledge`),N()}catch(t){}},z=async e=>{if(o.currentBusiness?.id)try{await r.post(`/api/v1/businesses/${o.currentBusiness.id}/hr/alerts/${e}/resolve`),N()}catch(t){}},D=async()=>{if(o.currentBusiness?.id)try{await r.post(`/api/v1/businesses/${o.currentBusiness.id}/hr/alerts/mark-all-seen`),N()}catch(e){}};S(()=>{N()});return(a,r)=>(x(),g("div",Nt,[p("div",Rt,[r[0]||(r[0]=p("div",{class:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"},null,-1)),r[1]||(r[1]=p("div",{class:"absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"},null,-1)),r[2]||(r[2]=p("div",{class:"absolute -left-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"},null,-1)),p("div",zt,[p("h1",Tt,h(m(s)("dashboard.hr.welcome",{name:n.value})),1),p("p",Yt,h(m(s)("dashboard.hr.today"))+" "+h((new Date).toLocaleDateString("uz-UZ",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),1)])]),p("div",Pt,[p("div",Dt,[p("div",Ht,[p("div",It,[b(m(Y),{class:"w-7 h-7 text-white"})]),p("div",Lt,[p("span",Kt,h(e.stats?.total_employees||0),1),p("span",Et,h(e.stats?.active_employees||0)+" "+h(m(s)("dashboard.hr.active")),1)])]),p("h3",Ft,h(m(s)("dashboard.hr.total_employees")),1),p("p",Jt,h(m(s)("dashboard.hr.all_company_employees")),1)]),p("div",Qt,[p("div",Wt,[p("div",Mt,[b(m(T),{class:"w-7 h-7 text-white"})]),p("span",Ut,h(e.stats?.pending_invitations||0),1)]),p("h3",Zt,h(m(s)("dashboard.hr.pending_invitations")),1),p("p",Gt,h(m(s)("dashboard.hr.unconfirmed_invitations")),1)]),p("div",Vt,[p("div",Xt,[p("div",ea,[b(m(K),{class:"w-7 h-7 text-white"})]),p("div",ta,[p("span",aa,h(e.stats?.departments?.sales||0),1),p("span",ra,h(m(s)("dashboard.hr.employee")),1)])]),p("h3",sa,h(m(s)("dashboard.hr.sales_department")),1),p("p",la,h(m(s)("dashboard.hr.sales_team_members")),1)]),p("div",ia,[p("div",da,[p("div",na,[b(m(P),{class:"w-7 h-7 text-white"})]),p("span",oa,h((e.stats?.departments?.marketing||0)+(e.stats?.departments?.finance||0)+(e.stats?.departments?.hr||0)),1)]),p("h3",ca,h(m(s)("dashboard.hr.other_departments")),1),p("div",ua,[p("span",ga,h(m(s)("dashboard.hr.marketing"))+": "+h(e.stats?.departments?.marketing||0),1),p("span",xa,h(m(s)("dashboard.hr.finance"))+": "+h(e.stats?.departments?.finance||0),1),p("span",pa,h(m(s)("dashboard.hr.hr"))+": "+h(e.stats?.departments?.hr||0),1)])])]),e.leaveBalances.length>0?(x(),g("div",ba,[p("div",ma,[p("div",ha,[b(m(E),{class:"w-6 h-6"})]),p("div",null,[p("p",ya,h(m(s)("dashboard.hr.my_leave")),1),p("p",va,h((new Date).getFullYear())+"-"+h(m(s)("dashboard.hr.year_balance")),1)])]),p("div",fa,[(x(!0),g(j,null,A(e.leaveBalances,e=>(x(),g("div",{key:e.id,class:"bg-white/10 backdrop-blur-sm rounded-xl p-4"},[p("div",ka,[b(m(F),{class:"w-5 h-5 opacity-80"}),p("span",wa,h(e.available_days),1)]),p("p",_a,h(e.leave_type.name),1),p("p",ja,h(e.used_days)+"/"+h(e.total_days)+" "+h(m(s)("dashboard.hr.used")),1)]))),128))]),e.upcomingLeaves.length>0?(x(),g("div",Aa,[p("p",Ba,h(m(s)("dashboard.hr.upcoming_leaves"))+":",1),p("div",Oa,[(x(!0),g(j,null,A(e.upcomingLeaves,e=>(x(),g("div",{key:e.id,class:"bg-white/10 backdrop-blur-sm rounded-lg p-3 flex items-center justify-between"},[p("div",null,[p("p",Sa,h(e.leave_type),1),p("p",qa,h(e.start_date)+" - "+h(e.end_date),1)]),p("span",Ca,h(e.total_days)+" "+h(m(s)("dashboard.hr.days")),1)]))),128))])])):B("",!0),p("div",$a,[b(m(t),{href:a.route("hr.leave.index"),class:"text-sm opacity-90 hover:opacity-100 transition-opacity underline"},{default:w(()=>[_(h(m(s)("dashboard.view_details")),1)]),_:1},8,["href"])])])):B("",!0),p("div",Na,[p("div",Ra,[r[3]||(r[3]=p("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"}," HR Analytics ",-1)),$.value?(x(),g("span",za,"Yuklanmoqda...")):B("",!0)]),p("div",Ta,[c.value?(x(),v(ue,{key:0,"avg-score":c.value.overview?.avg_score||0,"highly-engaged":c.value.distribution?.highly_engaged?.count||0,engaged:c.value.distribution?.engaged?.count||0,neutral:c.value.distribution?.neutral?.count||0,disengaged:c.value.distribution?.disengaged?.count||0,"business-id":e.currentBusiness?.id},null,8,["avg-score","highly-engaged","engaged","neutral","disengaged","business-id"])):B("",!0),f.value?(x(),v(Re,{key:1,"total-at-risk":(f.value.distribution?.critical?.count||0)+(f.value.distribution?.high?.count||0),"critical-count":f.value.distribution?.critical?.count||0,"high-count":f.value.distribution?.high?.count||0,"medium-count":f.value.distribution?.medium?.count||0,"top-risk-employees":f.value.top_risk_employees||[],"business-id":e.currentBusiness?.id},null,8,["total-at-risk","critical-count","high-count","medium-count","top-risk-employees","business-id"])):B("",!0),k.value?(x(),v(ut,{key:2,"active-plans":k.value.active_plans||0,"completed-plans":k.value.completed_plans||0,"overdue-tasks-count":k.value.overdue_tasks_count||0,"recent-onboardings":k.value.recent_onboardings||[],"milestone-scores":k.value.milestone_completion_rates||{day_30:0,day_60:0,day_90:0},"business-id":e.currentBusiness?.id},null,8,["active-plans","completed-plans","overdue-tasks-count","recent-onboardings","milestone-scores","business-id"])):B("",!0),b($t,{alerts:q.value,"unread-count":C.value,"business-id":e.currentBusiness?.id,onAcknowledge:R,onResolve:z,onMarkAllSeen:D},null,8,["alerts","unread-count","business-id"])])]),p("div",Ya,[b(i,{title:m(s)("dashboard.hr.recent_activities"),"link-href":"/hr/team",divided:"","no-padding":""},{default:w(()=>[p("div",Pa,[(x(!0),g(j,null,A(e.recentActivities,e=>{return x(),g("div",{key:e.id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"},[p("div",Da,[p("div",Ha,[p("p",Ia,h(e.user),1),p("p",La,[_(h(e.description)+" ",1),e.department?(x(),g("span",Ka," • "+h(e.department),1)):B("",!0)]),p("p",Ea,h(e.date),1)]),p("span",{class:y(["ml-3 px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap",(t=e.type,{new_member:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",accepted:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400",department_change:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",invitation_sent:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}[t]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400")])},h("new_member"===e.type?m(s)("dashboard.hr.activity_new"):"accepted"===e.type?m(s)("dashboard.hr.activity_accepted"):"department_change"===e.type?m(s)("dashboard.hr.activity_changed"):m(s)("dashboard.hr.activity_sent")),3)])]);var t}),128)),e.recentActivities?.length?B("",!0):(x(),g("div",Fa,h(m(s)("dashboard.hr.no_activities")),1))])]),_:1},8,["title"]),b(i,{title:m(s)("dashboard.hr.pending_tasks"),"link-href":"/hr/tasks",divided:"","no-padding":""},{default:w(()=>[p("div",Ja,[(x(!0),g(j,null,A(e.pendingTasks,e=>{return x(),g("div",{key:e.id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"},[p("div",Qa,[p("div",Wa,[p("p",Ma,h(e.title),1),p("p",Ua,h(m(s)("dashboard.hr.deadline"))+": "+h(e.due_date),1)]),p("span",{class:y(["ml-3 px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap",(t=e.priority,{high:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}[t]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400")])},h("high"===e.priority?m(s)("priority.high"):"medium"===e.priority?m(s)("priority.medium"):m(s)("priority.low")),3)])]);var t}),128)),e.pendingTasks?.length?B("",!0):(x(),g("div",Za,h(m(s)("dashboard.hr.no_tasks")),1))])]),_:1},8,["title"])])]))}},Va={__name:"Dashboard",props:{stats:Object,recentActivities:Array,pendingTasks:Array,todayAttendance:Object,currentBusiness:Object},setup(t){const{t:a}=l();return(r,l)=>(x(),v(e,{title:m(a)("hr.dashboard")},{default:w(()=>[b(m(s),{title:m(a)("hr.dashboard")},null,8,["title"]),b(Ga,{stats:t.stats,"recent-activities":t.recentActivities,"pending-tasks":t.pendingTasks,"today-attendance":t.todayAttendance,"current-business":t.currentBusiness},null,8,["stats","recent-activities","pending-tasks","today-attendance","current-business"])]),_:1},8,["title"]))}};export{Va as default};

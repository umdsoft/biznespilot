import{h as e,r as t}from"./chunk-DKkye6wf.js";import{_ as s}from"./chunk-k4W8urQJ.js";import{_ as a}from"./chunk-BB8-4400.js";import{_ as r}from"./chunk-By7haasb.js";import{A as l}from"./chunk-Dj1bkG6d.js";import{b as o,D as i,z as n,H as d,B as c,S as u,E as g,v as p,L as m,A as x,F as y,G as b,x as k,y as f,C as h,M as v}from"./chunk-7Urb0kxg.js";import{r as w}from"./chunk-C3pypjVL.js";import{r as _}from"./chunk-afst19KZ.js";import{r as j,a as q}from"./chunk-DUcDuGHI.js";import{r as C}from"./chunk-DS-Zp4Qb.js";import{r as S}from"./chunk-ab1b1Fp4.js";import{r as B}from"./chunk-C3XJH04c.js";import"./chunk-Dm-LAqtr.js";import"./app-DFslr8vl.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-D2XW56yD.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-D4tA7yBb.js";import"./chunk-DmCyVuil.js";import"./chunk-Be6I8nOg.js";import"./chunk-DpGbuIFK.js";import"./chunk-78n7fhob.js";import"./chunk-BCo6x5W8.js";const F={class:"bg-gray-800 rounded-xl p-4 border border-gray-700"},O={class:"flex items-center justify-between mb-2"},M={class:"text-sm text-gray-400"},$={class:"flex items-end justify-between"},z={class:"text-2xl font-bold text-white"},A={class:"text-sm text-gray-500"},I={class:"mt-3 h-2 bg-gray-700 rounded-full overflow-hidden"},H={__name:"TargetCard",props:{target:{type:Object,required:!0}},setup(e){const t=e,s=o(()=>{const e=t.target.percentage;return e>=100?"bg-green-500/20 text-green-400":e>=80?"bg-blue-500/20 text-blue-400":e>=50?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}),a=o(()=>{const e=t.target.percentage;return e>=100?"bg-green-500":e>=80?"bg-blue-500":e>=50?"bg-yellow-500":"bg-red-500"}),r=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e;return(t,l)=>(g(),i("div",F,[n("div",O,[n("span",M,d(e.target.name),1),n("span",{class:c(["text-xs font-medium px-2 py-0.5 rounded-full",s.value])},d(e.target.percentage)+"% ",3)]),n("div",$,[n("div",z,d(r(e.target.current)),1),n("div",A," / "+d(r(e.target.target)),1)]),n("div",I,[n("div",{class:c(["h-full rounded-full transition-all duration-500",a.value]),style:u({width:`${Math.min(e.target.percentage,100)}%`})},null,6)])]))}},K={class:"flex-1 min-w-0"},L={class:"flex items-center gap-2"},P={class:"font-medium text-white truncate"},T={key:0,class:"px-1.5 py-0.5 text-xs bg-red-500/20 text-red-400 rounded"},D={class:"flex items-center gap-2 text-sm text-gray-400 mt-0.5"},E={key:0},Q={__name:"TaskItem",props:{task:{type:Object,required:!0}},emits:["complete"],setup(e){const t=e,s=o(()=>({call:"bg-purple-500/20 text-purple-400",meeting:"bg-blue-500/20 text-blue-400",email:"bg-green-500/20 text-green-400",demo:"bg-orange-500/20 text-orange-400",proposal:"bg-yellow-500/20 text-yellow-400"}[t.task.type]||"bg-gray-500/20 text-gray-400")),a=o(()=>({call:"Qo'ng'iroq",meeting:"Uchrashuv",email:"Email",demo:"Demo",proposal:"Taklif"}[t.task.type]||t.task.type));return(t,r)=>(g(),i("div",{class:c(["flex items-center gap-3 p-3 rounded-lg bg-gray-700/50 hover:bg-gray-700 transition-colors cursor-pointer",{"border-l-4 border-red-500":e.task.is_overdue}]),onClick:r[0]||(r[0]=s=>t.$emit("complete",e.task.id))},[n("div",{class:c(["w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 transition-colors","completed"===e.task.status?"bg-green-500 border-green-500":"border-gray-500 hover:border-blue-500"])},["completed"===e.task.status?(g(),p(x(w),{key:0,class:"w-3 h-3 text-white"})):m("",!0)],2),n("div",K,[n("div",L,[n("span",P,d(e.task.title),1),"high"===e.task.priority?(g(),i("span",T," Muhim ")):m("",!0)]),n("div",D,[n("span",null,d(e.task.due_time),1),e.task.lead_name?(g(),i("span",E,d(e.task.lead_name),1)):m("",!0)])]),n("span",{class:c(["px-2 py-1 text-xs rounded-full",s.value])},d(a.value),3)],2))}},G={class:"flex-1 min-w-0"},N={class:"font-medium text-white truncate"},R={class:"text-sm text-gray-400 truncate"},U={key:0,class:"text-right"},V={class:"text-sm font-medium text-green-400"},W={__name:"HotLeadCard",props:{lead:{type:Object,required:!0}},emits:["click"],setup(e){const t=e,s=o(()=>{const e=t.lead.score;return e>=90?"bg-red-500 text-white":e>=80?"bg-orange-500 text-white":"bg-yellow-500 text-black"});return(t,a)=>{return g(),i("div",{class:"flex items-center gap-3 p-3 rounded-lg bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/20 hover:border-red-500/40 transition-colors cursor-pointer",onClick:a[0]||(a[0]=e=>t.$emit("click"))},[n("div",{class:c(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",s.value])},d(e.lead.score),3),n("div",G,[n("div",N,d(e.lead.name),1),n("div",R,d(e.lead.company||e.lead.source||"Manba noma'lum"),1)]),e.lead.estimated_value?(g(),i("div",U,[n("div",V,d((r=e.lead.estimated_value,r>=1e6?(r/1e6).toFixed(1)+"M":r>=1e3?(r/1e3).toFixed(0)+"K":r)),1),a[1]||(a[1]=n("div",{class:"text-xs text-gray-500"},"so'm",-1))])):m("",!0)]);var r}}},J={class:"text-center p-3 bg-gray-700/50 rounded-lg"},X={class:"text-2xl font-bold text-white"},Y={class:"text-xs text-gray-400 mt-1"},Z={__name:"StatCard",props:{label:{type:String,required:!0},value:{type:[Number,String],default:0},icon:{type:String,default:"chart"}},setup:e=>(t,s)=>(g(),i("div",J,[n("div",X,d(e.value),1),n("div",Y,d(e.label),1)]))},ee={class:"flex items-center gap-3"},te={class:"text-2xl"},se={class:"font-medium text-white"},ae={class:"text-sm text-gray-400"},re={key:0},le={key:1},oe={class:"text-right"},ie={class:"text-xl font-bold text-white"},ne={__name:"StreakItem",props:{streak:{type:Object,required:!0}},setup:e=>(t,s)=>(g(),i("div",{class:c(["flex items-center justify-between p-3 rounded-lg",e.streak.is_at_risk?"bg-orange-500/10 border border-orange-500/20":"bg-gray-700/50"])},[n("div",ee,[n("div",te,d(e.streak.current>=7?"ðŸ”¥":e.streak.current>=3?"âœ¨":"â­"),1),n("div",null,[n("div",se,d(e.streak.type_name),1),n("div",ae,[e.streak.next_milestone?(g(),i("span",re,d(e.streak.days_to_milestone)+" kun â†’ "+d(e.streak.next_milestone)+" kun ",1)):(g(),i("span",le,"Rekord: "+d(e.streak.best)+" kun",1))])])]),n("div",oe,[n("div",ie,d(e.streak.current),1),s[0]||(s[0]=n("div",{class:"text-xs text-gray-500"},"kun",-1))])],2))},de={class:"flex-1 min-w-0"},ce={class:"font-medium text-white truncate"},ue={class:"text-sm text-gray-400 truncate"},ge={class:"text-xs text-gray-500"},pe={__name:"FollowupCard",props:{followup:{type:Object,required:!0}},emits:["click"],setup:e=>(t,s)=>(g(),i("div",{class:"flex items-center gap-3 p-3 rounded-lg bg-gray-800 border border-gray-700 hover:border-orange-500/50 transition-colors cursor-pointer",onClick:s[0]||(s[0]=e=>t.$emit("click"))},[n("div",{class:c(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",e.followup.is_urgent?"bg-red-500 text-white":"bg-orange-500/20 text-orange-400"])},d(e.followup.days_since_contact),3),n("div",de,[n("div",ce,d(e.followup.name),1),n("div",ue,d(e.followup.company||"Kompaniya yo'q"),1)]),n("div",ge,d(e.followup.days_since_contact)+" kun ",1)]))},me={class:"flex justify-between gap-2"},xe={class:"flex items-center justify-between mt-4 pt-4 border-t border-gray-700"},ye={__name:"WeeklyProgressBar",props:{progress:{type:Object,default:()=>({days:[],average:0})}},setup:e=>(t,s)=>(g(),i("div",null,[n("div",me,[(g(!0),i(y,null,b(e.progress.days,e=>{return g(),i("div",{key:e.date,class:"flex-1 text-center"},[n("div",{class:c(["text-xs mb-2",e.is_today?"text-blue-400 font-medium":"text-gray-500"])},d(e.day_name),3),n("div",{class:c(["h-24 rounded-lg flex items-end justify-center p-2 transition-all",[e.is_today?"bg-blue-500/20 border-2 border-blue-500":"bg-gray-700",e.is_past||e.is_today?"":"opacity-50"]])},[e.score>0?(g(),i("div",{key:0,class:c(["w-full rounded transition-all",(t=e.color,{green:"bg-green-500",blue:"bg-blue-500",yellow:"bg-yellow-500",orange:"bg-orange-500",red:"bg-red-500",gray:"bg-gray-600"}[t]||"bg-gray-600")]),style:u({height:`${Math.min(e.score,100)}%`})},null,6)):m("",!0)],2),n("div",{class:c(["text-sm mt-2 font-medium",e.is_today?"text-white":"text-gray-400"])},d(e.is_past||e.is_today?`${e.score}%`:"-"),3)]);var t}),128))]),n("div",xe,[s[0]||(s[0]=n("span",{class:"text-sm text-gray-400"},"Haftalik o'rtacha",-1)),n("span",{class:c(["text-lg font-bold",e.progress.average>=80?"text-green-400":e.progress.average>=50?"text-yellow-400":"text-red-400"])},d(e.progress.average)+"% ",3)])]))},be={class:"py-6"},ke={class:"w-full px-4 sm:px-6 lg:px-8"},fe={class:"mb-6"},he={class:"text-2xl font-bold text-white"},ve={class:"text-gray-400"},we={class:"mb-6"},_e={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},je={class:"grid lg:grid-cols-3 gap-6"},qe={class:"lg:col-span-2 space-y-6"},Ce={class:"bg-gray-800 rounded-xl p-6"},Se={class:"flex items-center justify-between mb-4"},Be={class:"text-lg font-semibold text-white flex items-center gap-2"},Fe={class:"text-sm text-gray-400"},Oe={key:0,class:"space-y-3"},Me={key:1,class:"text-center py-8 text-gray-500"},$e={class:"bg-gray-800 rounded-xl p-6"},ze={class:"space-y-6"},Ae={class:"bg-gray-800 rounded-xl p-6"},Ie={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},He={key:0,class:"space-y-3"},Ke={key:1,class:"text-center py-6 text-gray-500"},Le={class:"bg-gray-800 rounded-xl p-6"},Pe={class:"grid grid-cols-2 gap-4"},Te={key:0,class:"bg-gray-800 rounded-xl p-6"},De={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},Ee={class:"space-y-3"},Qe={key:1,class:"mt-6"},Ge={class:"bg-gradient-to-r from-orange-500/10 to-yellow-500/10 rounded-xl p-6 border border-orange-500/20"},Ne={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},Re={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-3"},Ue={__name:"Index",props:{data:{type:Object,default:()=>({})},role:{type:String,default:"sales_operator"},followups:{type:Array,default:()=>[]},schedule:{type:Array,default:()=>[]},weeklyProgress:{type:Object,default:()=>({days:[],average:0})}},setup(c){const u=c,w=o(()=>({owner:a,sales_head:s,sales_operator:r}[u.role]||s)),F=e=>{t.visit(route("sales-head.leads.show",e))},O=e=>{t.post(route("sales-head.tasks.complete",e),{},{preserveScroll:!0,preserveState:!0})};return(t,s)=>(g(),p(v(w.value),null,{default:k(()=>[f(x(e),{title:"Bugungi kun"}),n("div",be,[n("div",ke,[n("div",fe,[n("h1",he,d(c.data.greeting),1),n("p",ve,d(c.data.date),1)]),c.data.alerts?.length>0?(g(),p(l,{key:0,alerts:c.data.alerts,class:"mb-6"},null,8,["alerts"])):m("",!0),n("div",we,[s[0]||(s[0]=n("h2",{class:"text-lg font-semibold text-white mb-4"},"Bugungi maqsadlar",-1)),n("div",_e,[(g(!0),i(y,null,b(c.data.targets,e=>(g(),p(H,{key:e.kpi_type,target:e},null,8,["target"]))),128))])]),n("div",je,[n("div",qe,[n("div",Ce,[n("div",Se,[n("h2",Be,[f(x(_),{class:"w-5 h-5 text-blue-400"}),s[1]||(s[1]=h(" Bugungi vazifalar ",-1))]),n("span",Fe,d(c.data.tasks?.length||0)+" ta ",1)]),c.data.tasks?.length>0?(g(),i("div",Oe,[(g(!0),i(y,null,b(c.data.tasks,e=>(g(),p(Q,{key:e.id,task:e,onComplete:O},null,8,["task"]))),128))])):(g(),i("div",Me,[f(x(j),{class:"w-12 h-12 mx-auto mb-2 opacity-50"}),s[2]||(s[2]=n("p",null,"Bugungi vazifalar yo'q",-1))]))]),n("div",$e,[s[3]||(s[3]=n("h2",{class:"text-lg font-semibold text-white mb-4"},"Haftalik progress",-1)),f(ye,{progress:c.weeklyProgress},null,8,["progress"])])]),n("div",ze,[n("div",Ae,[n("h2",Ie,[f(x(q),{class:"w-5 h-5 text-red-400"}),s[4]||(s[4]=h(" Issiq lidlar ",-1))]),c.data.hot_leads?.length>0?(g(),i("div",He,[(g(!0),i(y,null,b(c.data.hot_leads,e=>(g(),p(W,{key:e.id,lead:e,onClick:t=>F(e.id)},null,8,["lead","onClick"]))),128))])):(g(),i("div",Ke,[f(x(C),{class:"w-10 h-10 mx-auto mb-2 opacity-50"}),s[5]||(s[5]=n("p",{class:"text-sm"},"Issiq lidlar yo'q",-1))]))]),n("div",Le,[s[6]||(s[6]=n("h2",{class:"text-lg font-semibold text-white mb-4"},"Bugungi natijalar",-1)),n("div",Pe,[f(Z,{label:"Qo'ng'iroqlar",value:c.data.stats?.calls_made||0,icon:"phone"},null,8,["value"]),f(Z,{label:"Vazifalar",value:c.data.stats?.tasks_completed||0,icon:"check"},null,8,["value"]),f(Z,{label:"Lidlar",value:c.data.stats?.leads_contacted||0,icon:"users"},null,8,["value"]),f(Z,{label:"Sotuvlar",value:c.data.stats?.deals_closed||0,icon:"currency"},null,8,["value"])])]),c.data.streaks?.length>0?(g(),i("div",Te,[n("h2",De,[f(x(S),{class:"w-5 h-5 text-yellow-400"}),s[7]||(s[7]=h(" Faol streaklaringiz ",-1))]),n("div",Ee,[(g(!0),i(y,null,b(c.data.streaks,e=>(g(),p(ne,{key:e.type,streak:e},null,8,["streak"]))),128))])])):m("",!0)])]),c.followups?.length>0?(g(),i("div",Qe,[n("div",Ge,[n("h2",Ne,[f(x(B),{class:"w-5 h-5 text-orange-400"}),s[8]||(s[8]=h(" Follow-up kerak ",-1))]),n("div",Re,[(g(!0),i(y,null,b(c.followups,e=>(g(),p(pe,{key:e.id,followup:e,onClick:t=>F(e.id)},null,8,["followup","onClick"]))),128))])])])):m("",!0)])])]),_:1}))}};export{Ue as default};

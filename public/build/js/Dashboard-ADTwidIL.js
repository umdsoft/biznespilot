import{r as e,b as t,v as r,x as a,y as s,z as l,A as o,C as n,H as d,I as i,J as c,E as p,M as m,B as u,D as g}from"./chunk-7Urb0kxg.js";import{h as x,l as b}from"./chunk-DKkye6wf.js";import{_ as y}from"./chunk-BB8-4400.js";import{u as f}from"./app-DFslr8vl.js";import{C as _,r as h}from"./chunk-Dl5Vnr2b.js";import{r as v}from"./chunk-BugzYCIx.js";import{r as k}from"./chunk-D76qurXK.js";import{r as w}from"./chunk-BbNzHEQQ.js";import{r as j}from"./chunk-Sfe4u6kO.js";import{r as C}from"./chunk-DS-Zp4Qb.js";import{r as O}from"./chunk-msB_b64L.js";import{a as z}from"./chunk-YGW1Cp7-.js";import{r as D}from"./chunk-CoFofPT-.js";import{r as I}from"./chunk-CaFLnw-U.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-BAC6lhkp.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-Di7Oc7TS.js";const R={class:"py-12 px-4 sm:px-6 lg:px-8"},B={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4"},W={class:"text-3xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3"},E={class:"mt-2 text-gray-600 dark:text-gray-400"},T={class:"flex gap-2"},U={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8"},V={class:"flex flex-wrap items-end gap-4"},A={class:"flex-1 min-w-[200px]"},F={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},H={class:"flex-1 min-w-[200px]"},J={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},q={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white"},G={class:"flex items-center justify-between mb-2"},K={class:"text-sm font-medium opacity-90 mb-1"},M={class:"text-3xl font-bold mb-1"},N={class:"text-xs opacity-80"},S={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white"},Z={class:"flex items-center justify-between mb-2"},$={class:"text-sm font-medium opacity-90"},P={class:"text-sm font-medium opacity-90 mb-1"},Q={class:"text-3xl font-bold mb-1"},X={class:"text-xs opacity-80"},Y={class:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white"},ee={class:"flex items-center justify-between mb-2"},te={class:"text-sm font-medium opacity-90"},re={class:"text-sm font-medium opacity-90 mb-1"},ae={class:"text-3xl font-bold mb-1"},se={class:"text-xs opacity-80"},le={class:"bg-gradient-to-br from-orange-500 to-purple-600 rounded-xl shadow-lg p-6 text-white"},oe={class:"flex items-center justify-between mb-2"},ne={class:"text-sm font-medium opacity-90 mb-1"},de={class:"text-3xl font-bold mb-1"},ie={class:"text-xs opacity-80"},ce={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},pe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},me={class:"flex items-center justify-between mb-4"},ue={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ge={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},xe={class:"flex items-center justify-between mb-4"},be={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ye={class:"text-sm text-gray-500 dark:text-gray-400"},fe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8"},_e={class:"flex items-center gap-3 mb-6"},he={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ve={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ke={class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4"},we={class:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2"},je={key:0},Ce={class:"font-bold text-gray-900 dark:text-gray-100 mb-2"},Oe={class:"space-y-1 text-sm text-gray-600 dark:text-gray-400"},ze={class:"text-green-600 dark:text-green-400 font-semibold"},De={class:"text-blue-600 dark:text-blue-400 font-semibold"},Ie={key:1,class:"text-sm text-gray-400 dark:text-gray-500"},Re={class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4"},Be={class:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2"},We={key:0},Ee={class:"font-bold text-gray-900 dark:text-gray-100 mb-2"},Te={class:"space-y-1 text-sm text-gray-600 dark:text-gray-400"},Ue={class:"text-green-600 dark:text-green-400 font-semibold"},Ve={class:"text-blue-600 dark:text-blue-400 font-semibold"},Ae={key:1,class:"text-sm text-gray-400 dark:text-gray-500"},Fe={class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4"},He={class:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2"},Je={key:0},Le={class:"font-bold text-gray-900 dark:text-gray-100 mb-2"},qe={class:"space-y-1 text-sm text-gray-600 dark:text-gray-400"},Ge={class:"text-green-600 dark:text-green-400 font-semibold"},Ke={class:"text-blue-600 dark:text-blue-400 font-semibold"},Me={key:1,class:"text-sm text-gray-400 dark:text-gray-500"},Ne={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},Se={class:"flex items-center justify-between mb-6"},Ze={class:"flex items-center gap-3"},$e={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Pe={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Qe={class:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},Xe={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Ye={class:"text-center p-4 bg-green-50 dark:bg-green-900/30 rounded-lg"},et={class:"text-2xl font-bold text-green-600 dark:text-green-400"},tt={class:"text-center p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg"},rt={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},at={class:"text-center p-4 bg-purple-50 dark:bg-purple-900/30 rounded-lg"},st={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"};_.register(...h);const lt={mounted(){this.$nextTick(()=>{this.initializeCharts()})},methods:{initializeCharts(){if(this.revenueChartData){const e=document.getElementById("revenueChart");e&&new _(e,{type:"line",data:this.revenueChartData,options:this.chartOptions})}if(this.dealCountChartData){const e=document.getElementById("dealsChart");e&&new _(e,{type:"bar",data:this.dealCountChartData,options:this.chartOptions})}}}},ot=Object.assign(lt,{__name:"Dashboard",props:{metrics:{type:Object,default:()=>({revenue_growth:0,total_revenue:0,total_leads:0,new_leads:0,active_pipeline_deals:0,won_deals:0,conversion_rate:0,avg_deal_size:0,pipeline_value:0})},revenue_trends:Object,top_performers:{type:Object,default:()=>({top_dream_buyer:null,top_offer:null,top_source:null})},funnel_summary:{type:Object,default:()=>({total_leads:0,won_leads:0,active_leads:0,overall_conversion_rate:0})},filters:Object},setup(_){const{t:h}=f(),lt=_,ot=e(lt.filters?.date_from||""),nt=e(lt.filters?.date_to||""),dt=e=>new Intl.NumberFormat("uz-UZ").format(e)+" so'm",it=e=>e?.toFixed(1)||"0";t(()=>lt.revenue_trends?.chart_data?{labels:lt.revenue_trends.chart_data.labels,datasets:lt.revenue_trends.chart_data.datasets.map(e=>({...e,fill:!0}))}:null),t(()=>lt.revenue_trends?.deal_count_chart?{labels:lt.revenue_trends.deal_count_chart.labels,datasets:lt.revenue_trends.deal_count_chart.datasets.map(e=>({...e,fill:!0}))}:null);const ct=()=>{window.location.href=route("business.analytics.index",{date_from:ot.value,date_to:nt.value})},pt=()=>{ot.value="",nt.value="",window.location.href=route("business.analytics.index")};return(e,t)=>(p(),r(y,{title:o(h)("analytics.sales_analytics")},{default:a(()=>{return[s(o(x),{title:o(h)("analytics.dashboard")},null,8,["title"]),l("div",R,[l("div",B,[l("div",null,[l("h1",W,[s(o(v),{class:"w-10 h-10 text-blue-600 dark:text-blue-400"}),n(" "+d(o(h)("analytics.sales_analytics")),1)]),l("p",E,d(o(h)("analytics.track_sales_conversion")),1)]),l("div",T,[s(o(b),{href:e.route("business.analytics.funnel"),class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors gap-2"},{default:a(()=>[s(o(k),{class:"w-4 h-4"}),n(" "+d(o(h)("analytics.funnel")),1)]),_:1},8,["href"]),s(o(b),{href:e.route("business.analytics.performance"),class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors gap-2"},{default:a(()=>[s(o(w),{class:"w-4 h-4"}),n(" "+d(o(h)("analytics.performance")),1)]),_:1},8,["href"])])]),l("div",U,[l("div",V,[l("div",A,[l("label",F,d(o(h)("reports.filter.start_date")),1),i(l("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>ot.value=e),type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[c,ot.value]])]),l("div",H,[l("label",J,d(o(h)("reports.filter.end_date")),1),i(l("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>nt.value=e),type:"date",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[c,nt.value]])]),l("button",{onClick:ct,class:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors"},d(o(h)("common.filter")),1),l("button",{onClick:pt,class:"px-6 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors"},d(o(h)("reports.filter.reset")),1)])]),l("div",L,[l("div",q,[l("div",G,[s(o(j),{class:"w-8 h-8 opacity-80"}),(p(),r(m((y=_.metrics.revenue_growth,y>0?D:I)),{class:u(["w-6 h-6",_.metrics.revenue_growth>0?"text-green-200":"text-red-200"])},null,8,["class"]))]),l("p",K,d(o(h)("analytics.total_revenue")),1),l("p",M,d(dt(_.metrics.total_revenue||0)),1),l("p",N,d(_.metrics.revenue_growth>0?"+":"")+d(it(_.metrics.revenue_growth))+"% "+d(o(h)("analytics.vs_previous_period")),1)]),l("div",S,[l("div",Z,[s(o(C),{class:"w-8 h-8 opacity-80"}),l("span",$,d(_.metrics.new_leads||0)+" "+d(o(h)("analytics.new")),1)]),l("p",P,d(o(h)("dashboard.total_leads")),1),l("p",Q,d(_.metrics.total_leads||0),1),l("p",X,d(_.metrics.active_pipeline_deals||0)+" "+d(o(h)("analytics.active_pipeline")),1)]),l("div",Y,[l("div",ee,[s(o(O),{class:"w-8 h-8 opacity-80"}),l("span",te,d(it(_.metrics.conversion_rate))+"% CR ",1)]),l("p",re,d(o(h)("analytics.won_deals")),1),l("p",ae,d(_.metrics.won_deals||0),1),l("p",se,d(o(h)("analytics.average"))+": "+d(dt(_.metrics.avg_deal_size||0)),1)]),l("div",le,[l("div",oe,[s(o(k),{class:"w-8 h-8 opacity-80"}),s(o(z),{class:"w-6 h-6 opacity-80"})]),l("p",ne,d(o(h)("analytics.pipeline_value")),1),l("p",de,d(dt(_.metrics.pipeline_value||0)),1),l("p",ie,d(o(h)("analytics.potential_revenue")),1)])]),l("div",ce,[l("div",pe,[l("div",me,[l("h3",ue,d(o(h)("analytics.revenue_trends")),1),s(o(b),{href:e.route("business.analytics.revenue"),class:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium"},{default:a(()=>[n(d(o(h)("common.view"))+" → ",1)]),_:1},8,["href"])]),t[2]||(t[2]=l("div",{class:"h-64"},[l("canvas",{id:"revenueChart"})],-1))]),l("div",ge,[l("div",xe,[l("h3",be,d(o(h)("analytics.deals_won")),1),l("span",ye,d(o(h)("analytics.last_30_days")),1)]),t[3]||(t[3]=l("div",{class:"h-64"},[l("canvas",{id:"dealsChart"})],-1))])]),l("div",fe,[l("div",_e,[s(o(w),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"}),l("h3",he,d(o(h)("analytics.top_performers")),1)]),l("div",ve,[l("div",ke,[l("p",we,d(o(h)("analytics.top_ideal_customer")),1),_.top_performers.top_dream_buyer?(p(),g("div",je,[l("p",Ce,d(_.top_performers.top_dream_buyer.dream_buyer_name),1),l("div",Oe,[l("p",null,"Leads: "+d(_.top_performers.top_dream_buyer.total_leads),1),l("p",null,"Won: "+d(_.top_performers.top_dream_buyer.won_leads),1),l("p",ze," CR: "+d(it(_.top_performers.top_dream_buyer.conversion_rate))+"% ",1),l("p",De,d(dt(_.top_performers.top_dream_buyer.total_revenue)),1)])])):(p(),g("p",Ie,d(o(h)("reports.no_data")),1))]),l("div",Re,[l("p",Be,d(o(h)("analytics.top_offer")),1),_.top_performers.top_offer?(p(),g("div",We,[l("p",Ee,d(_.top_performers.top_offer.offer_name),1),l("div",Te,[l("p",null,"Value Score: "+d(_.top_performers.top_offer.value_score),1),l("p",null,"Won: "+d(_.top_performers.top_offer.won_leads),1),l("p",Ue," CR: "+d(it(_.top_performers.top_offer.conversion_rate))+"% ",1),l("p",Ve,d(dt(_.top_performers.top_offer.total_revenue)),1)])])):(p(),g("p",Ae,d(o(h)("reports.no_data")),1))]),l("div",Fe,[l("p",He,d(o(h)("analytics.top_source")),1),_.top_performers.top_source?(p(),g("div",Je,[l("p",Le,d(_.top_performers.top_source.source_name),1),l("div",qe,[l("p",null,"Type: "+d(_.top_performers.top_source.channel_type),1),l("p",null,"Won: "+d(_.top_performers.top_source.won_leads),1),l("p",Ge," ROI: "+d(it(_.top_performers.top_source.roi))+"% ",1),l("p",Ke,d(dt(_.top_performers.top_source.total_revenue)),1)])])):(p(),g("p",Me,d(o(h)("reports.no_data")),1))])])]),l("div",Ne,[l("div",Se,[l("div",Ze,[s(o(k),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"}),l("h3",$e,d(o(h)("analytics.conversion_funnel_overview")),1)]),s(o(b),{href:e.route("business.analytics.funnel"),class:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium"},{default:a(()=>[n(d(o(h)("common.view"))+" → ",1)]),_:1},8,["href"])]),l("div",Pe,[l("div",Qe,[l("p",Xe,d(_.funnel_summary.total_leads||0),1),t[4]||(t[4]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"Total Leads",-1))]),l("div",Ye,[l("p",et,d(_.funnel_summary.won_leads||0),1),t[5]||(t[5]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"Won",-1))]),l("div",tt,[l("p",rt,d(_.funnel_summary.active_leads||0),1),t[6]||(t[6]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"Active",-1))]),l("div",at,[l("p",st,d(it(_.funnel_summary.overall_conversion_rate))+"%",1),t[7]||(t[7]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"Conversion Rate",-1))])])])])];var y}),_:1},8,["title"]))}});export{ot as default};

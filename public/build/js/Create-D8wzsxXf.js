import{r as m,b as ie,w as Ce,p as Me,o as Ye,e as Je,C as o,y as Z,A as O,x as de,z as e,D as g,F as n,G as x,I as f,B as M,H as r,J as u,K as z,L as Q,E as _,R as c}from"./chunk-KPSVwAyv.js";import{a as T,h as We,l as ze,r as Ze}from"./chunk-BVrjkT6E.js";import{_ as Xe}from"./chunk-DjNoE40N.js";import{d as ue}from"./chunk-DS3I9fIL.js";import{L as B}from"./chunk-CnuZ_JZJ.js";import{_ as et}from"./chunk-DlAUqK2U.js";import"./chunk-S7b6IQvx.js";import"./app-906_W7J6.js";import"./chunk-BvkwlYlD.js";import"./chunk-BgShz32H.js";import"./chunk-Qe-_4ASA.js";import"./chunk-Ch0Q6XPl.js";import"./chunk-Dfha1x8d.js";import"./chunk-BgOPVSvg.js";import"./chunk-CYw1XsNK.js";import"./chunk-qku2UxUN.js";import"./chunk-D5sR6A8B.js";import"./chunk-Dems4pAU.js";import"./chunk-D59q4lxq.js";import"./chunk-Cw_2vanC.js";import"./chunk-14qmXdHo.js";import"./chunk-DN454CZt.js";import"./chunk-CYZ54WJE.js";import"./chunk-D-7B8ZCD.js";import"./chunk-J14gS6og.js";const tt={class:"min-h-screen bg-gray-50"},st={class:"bg-white border-b border-gray-200 sticky top-0 z-10"},at={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},lt={class:"flex items-center justify-between py-4"},ot={class:"flex items-center gap-4"},nt={class:"hidden md:flex items-center gap-2"},rt={class:"flex items-center"},it={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},dt={key:1},ut={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4"},mt={class:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3"},gt={class:"text-red-700"},ct={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4"},pt={class:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3"},vt={class:"text-green-700"},xt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},bt={key:0,class:"flex items-center justify-center py-24"},yt={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ft={class:"lg:col-span-2"},_t={key:0,class:"space-y-6"},kt={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ht={class:"space-y-4"},wt={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Ct=["onClick"],Mt={class:"flex items-start gap-3"},zt={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Et=["d"],Lt={class:"flex-1"},Ut={class:"font-medium text-gray-900"},jt={class:"text-sm text-gray-500 mt-1"},At={key:1,class:"space-y-6"},Vt={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},St={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ot={class:"block text-sm font-medium text-gray-700 mb-2"},Tt={class:"mt-4"},Bt=["value"],It={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Rt={class:"mb-6"},Nt={class:"flex flex-wrap gap-2"},$t=["onClick"],qt={class:"mb-6"},Pt={class:"relative"},Ft={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto"},Kt=["onClick"],Gt={class:"text-gray-900"},Dt={class:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded"},Ht={key:0,class:"flex flex-wrap gap-2 mt-3"},Qt=["onClick"],Yt={class:"mb-6 space-y-3"},Jt={class:"flex items-center justify-between"},Wt={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Zt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Xt={key:0,class:"space-y-3"},es={class:"flex items-center gap-2 flex-wrap"},ts={class:"text-xs text-gray-500 ml-2"},ss={key:0,class:"w-4 h-4 inline animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},as={key:0,class:"ml-auto"},ls={class:"flex items-center gap-3"},os=["value"],ns={key:0,class:"absolute top-2 right-2 flex gap-2"},rs={key:0,class:"bg-blue-600 text-white rounded-full px-3 py-1 text-xs font-medium shadow-lg"},is={key:1,class:"bg-red-500 text-white rounded-full px-3 py-1 text-xs font-medium shadow-lg"},ds={key:0,class:"space-y-2"},us={class:"space-y-2 max-h-40 overflow-y-auto"},ms={class:"flex items-center gap-2 flex-1"},gs={class:"min-w-0"},cs={class:"font-medium text-gray-900 text-sm truncate"},ps={class:"text-xs text-gray-500 truncate"},vs={class:"flex items-center gap-2"},xs=["value","onChange"],bs=["value"],ys=["onClick"],fs={key:1,class:"space-y-2"},_s={class:"space-y-2 max-h-40 overflow-y-auto"},ks={class:"flex items-center gap-2 flex-1"},hs={class:"min-w-0"},ws={class:"font-medium text-gray-900 text-sm truncate"},Cs={class:"text-xs text-gray-500 truncate"},Ms={class:"flex items-center gap-2"},zs=["value","onChange"],Es=["value"],Ls=["onClick"],Us={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},js={class:"flex items-center gap-3"},As={class:"flex gap-3"},Vs={class:"relative"},Ss={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto"},Os=["onClick"],Ts={class:"text-gray-900"},Bs={key:0,class:"text-xs text-gray-500 ml-2"},Is={key:0,class:"flex flex-wrap gap-2 mt-3"},Rs=["onClick"],Ns={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},$s={class:"flex items-center justify-between mb-4"},qs={class:"flex items-center gap-2 cursor-pointer"},Ps={key:0,class:"space-y-4"},Fs={class:"border border-gray-200 rounded-lg p-4"},Ks={class:"flex items-center justify-between mb-3"},Gs={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},Ds={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Hs={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Qs={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ys={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Js={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Ws={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Zs={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},Xs={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},ea={class:"border border-gray-200 rounded-lg p-4"},ta={class:"flex items-center justify-between mb-3"},sa={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},aa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},la={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},oa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},na={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},ra={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},ia={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},da={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},ua={class:"border border-gray-200 rounded-lg p-4"},ma={class:"flex items-center justify-between mb-3"},ga={class:"grid grid-cols-2 md:grid-cols-3 gap-2"},ca={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},pa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},va={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},xa={class:"border border-gray-200 rounded-lg p-4"},ba={class:"flex items-center justify-between mb-3"},ya={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},fa={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},_a={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},ka={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},ha={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer"},wa={key:1,class:"text-sm text-gray-500 mt-2"},Ca={key:2,class:"space-y-6"},Ma={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},za={class:"space-y-4"},Ea=["value"],La={key:0,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},Ua=["value"],ja={class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors"},Aa={for:"image-upload",class:"cursor-pointer"},Va={key:0,class:"mb-4"},Sa=["src"],Oa={key:1,class:"text-gray-500"},Ta={key:0,class:"mt-3"},Ba={class:"block text-sm font-medium text-gray-700 mb-2"},Ia={class:"text-gray-400 font-normal"},Ra={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Na={class:"block text-sm font-medium text-gray-700 mb-2"},$a={class:"text-gray-400 font-normal"},qa={class:"block text-sm font-medium text-gray-700 mb-2"},Pa={class:"text-gray-400 font-normal"},Fa={key:1},Ka=["value"],Ga={key:3,class:"space-y-6"},Da={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Ha={class:"grid grid-cols-2 gap-4"},Qa={class:"font-medium text-gray-900"},Ya={class:"font-medium text-gray-900"},Ja={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Wa={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},Za={class:"font-medium text-gray-900"},Xa={class:"font-medium text-gray-900"},el={class:"font-medium text-gray-900"},tl={class:"font-medium text-gray-900"},sl={key:0},al={class:"font-medium text-blue-600"},ll={key:1},ol={class:"font-medium text-red-600"},nl={key:2},rl={class:"font-medium text-gray-900"},il={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},dl={class:"flex gap-6"},ul={key:0,class:"flex-shrink-0"},ml=["src"],gl={class:"flex-1 space-y-2"},cl={class:"font-medium text-gray-900"},pl={class:"text-gray-700"},vl={key:0},xl={class:"font-medium text-gray-900"},bl={key:1},yl={class:"font-medium text-green-600"},fl={class:"lg:col-span-1"},_l={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-24"},kl={class:"text-center py-6"},hl={key:0,class:"animate-pulse"},wl={key:1},Cl={class:"text-3xl font-bold text-gray-900"},Ml={class:"border-t border-gray-200 pt-4 mt-4"},zl={class:"space-y-3 text-sm"},El={class:"flex justify-between"},Ll={class:"font-medium text-gray-900"},Ul={class:"flex justify-between"},jl={class:"font-medium text-gray-900"},Al={class:"flex justify-between"},Vl={class:"font-medium text-gray-900"},Sl={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-4 z-20"},Ol={class:"max-w-7xl mx-auto flex items-center justify-between"},Tl={key:1},Bl={class:"flex items-center gap-3"},Il=["disabled"],Rl=["disabled"],Nl={key:0,class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},Ee=4,$l={__name:"Create",props:{businessId:{type:[String,Number],required:!0},adAccountId:{type:[String,Number],required:!0},currency:{type:String,default:"USD"}},setup(I){const U=I,p=m(1),X=m(!1),N=m(!1),j=m(null),ee=m(null),E=m({objectives:[],countries:[],call_to_actions:[],pages:[],ad_account:null,lead_forms:[]}),h=m({name:"",objective:""}),l=m({name:"",daily_budget:5,optimization_goal:"",targeting:{geo_locations:{countries:["UZ"],cities:[],regions:[]},age_min:18,age_max:65,genders:[1,2],flexible_spec:[],exclusions:{}},placements:{automatic:!0,facebook_feed:!0,facebook_marketplace:!0,facebook_video_feeds:!0,facebook_stories:!0,facebook_reels:!0,facebook_right_column:!1,facebook_search:!1,facebook_instream_video:!1,instagram_feed:!0,instagram_stories:!0,instagram_reels:!0,instagram_explore:!0,instagram_explore_home:!1,instagram_shop:!1,instagram_profile_feed:!1,audience_network_native:!1,audience_network_banner:!1,audience_network_interstitial:!1,audience_network_rewarded_video:!1,messenger_inbox:!1,messenger_stories:!1,messenger_sponsored:!1},start_time:"",end_time:"",bid_strategy:"LOWEST_COST_WITHOUT_CAP"}),d=m({name:"",page_id:"",primary_text:"",headline:"",description:"",link:"",call_to_action:"LEARN_MORE",image_hash:"",image_preview:"",format:"single_image",lead_form_id:""}),A=m({users_lower_bound:0,users_upper_bound:0,loading:!1});m("facebook_feed");const $=m(""),q=m([]),w=m([]),me=m(!1),P=m(""),F=m([]),V=m([]),ge=m(!1),te=m(null),b=m(null),R=m([]),K=m([]),S=m(!0),C=m("add"),se=m(!1),y=m([]),k=m([]),ae=m(25),le=[10,15,20,25,30,40,50,80,100,150,200],oe=m({}),Le={UZ:{lat:41.377491,lng:64.585262,name:"O'zbekiston",zoom:5},KZ:{lat:48.019573,lng:66.923684,name:"Qozog'iston",zoom:4},RU:{lat:61.52401,lng:105.318756,name:"Rossiya",zoom:3},TJ:{lat:38.861034,lng:71.276093,name:"Tojikiston",zoom:6},KG:{lat:41.20438,lng:74.766098,name:"Qirg'iziston",zoom:6},TM:{lat:38.969719,lng:59.556278,name:"Turkmaniston",zoom:5},AZ:{lat:40.143105,lng:47.576927,name:"Ozarbayjon",zoom:6},GE:{lat:42.315407,lng:43.356892,name:"Gruziya",zoom:7},TR:{lat:38.963745,lng:35.243322,name:"Turkiya",zoom:5},AE:{lat:23.424076,lng:53.847818,name:"BAA",zoom:6},US:{lat:37.09024,lng:-95.712891,name:"AQSH",zoom:3},GB:{lat:55.378051,lng:-3.435973,name:"Buyuk Britaniya",zoom:5},DE:{lat:51.165691,lng:10.451526,name:"Germaniya",zoom:5}};m(null);const ne=m(!1),ce=["Kampaniya","Auditoriya","Kreativ","Tasdiqlash"],pe=ie(()=>{switch(p.value){case 1:return h.value.name&&h.value.objective;case 2:return l.value.name&&l.value.daily_budget>=1&&l.value.optimization_goal;case 3:return d.value.name&&d.value.page_id&&d.value.primary_text&&(d.value.link||G.value)&&d.value.call_to_action;case 4:return!0;default:return!1}}),G=ie(()=>h.value.objective==="OUTCOME_LEADS"),ve=ie(()=>({OUTCOME_AWARENESS:[{value:"REACH",label:"Qamrov"},{value:"IMPRESSIONS",label:"Ko'rishlar"}],OUTCOME_TRAFFIC:[{value:"LINK_CLICKS",label:"Link kliklar"},{value:"LANDING_PAGE_VIEWS",label:"Landing sahifa"}],OUTCOME_ENGAGEMENT:[{value:"POST_ENGAGEMENT",label:"Post engagement"},{value:"THRUPLAY",label:"Video ko'rish"}],OUTCOME_LEADS:[{value:"LEAD_GENERATION",label:"Lid generatsiya"},{value:"CONVERSATIONS",label:"Suhbatlar"}],OUTCOME_SALES:[{value:"CONVERSIONS",label:"Konversiyalar"}]})[h.value.objective]||[{value:"REACH",label:"Qamrov"}]),Ue=()=>Object.keys(l.value.placements).filter(t=>t!=="automatic").filter(t=>l.value.placements[t]).length,Y=a=>({facebook:["facebook_feed","facebook_marketplace","facebook_video_feeds","facebook_stories","facebook_reels","facebook_right_column","facebook_search","facebook_instream_video"],instagram:["instagram_feed","instagram_stories","instagram_reels","instagram_explore","instagram_explore_home","instagram_shop","instagram_profile_feed"],messenger:["messenger_inbox","messenger_stories","messenger_sponsored"],audience_network:["audience_network_native","audience_network_banner","audience_network_interstitial","audience_network_rewarded_video"]})[a]?.some(s=>l.value.placements[s])||!1,J=a=>{const s={facebook:["facebook_feed","facebook_marketplace","facebook_video_feeds","facebook_stories","facebook_reels","facebook_right_column","facebook_search","facebook_instream_video"],instagram:["instagram_feed","instagram_stories","instagram_reels","instagram_explore","instagram_explore_home","instagram_shop","instagram_profile_feed"],messenger:["messenger_inbox","messenger_stories","messenger_sponsored"],audience_network:["audience_network_native","audience_network_banner","audience_network_interstitial","audience_network_rewarded_video"]}[a]||[],i=s.every(v=>l.value.placements[v]);s.forEach(v=>{l.value.placements[v]=!i})},je=async()=>{X.value=!0;try{const a=await T.get("/integrations/meta/api/wizard-options",{params:{business_id:U.businessId}});a.data.success&&(E.value=a.data,E.value.pages?.length>0&&(d.value.page_id=E.value.pages[0].id)),await Ae()}catch(a){console.error("Error loading wizard options:",a),j.value="Ma'lumotlarni yuklashda xatolik"}finally{X.value=!1}},Ae=async()=>{try{const a=await T.get("/integrations/meta/api/lead-forms",{params:{business_id:U.businessId}});a.data.success&&(E.value.lead_forms=a.data.data||[])}catch(a){console.error("Error loading lead forms:",a)}},Ve=()=>{pe.value&&p.value<Ee&&(p.value===1&&!l.value.name&&(l.value.name=`${h.value.name} - AdSet`),p.value===2&&!d.value.name&&(d.value.name=`${h.value.name} - Ad`),p.value++)},Se=()=>{p.value>1&&p.value--},Oe=a=>{h.value.objective=a.value;const t=ve.value;t.length>0&&(l.value.optimization_goal=t[0].value)},xe=ue(async()=>{if($.value.length<2){q.value=[];return}me.value=!0;try{const a=await T.get("/integrations/meta/api/search-interests",{params:{q:$.value,business_id:U.businessId}});q.value=a.data.data||[]}catch(a){console.error("Error searching interests:",a)}finally{me.value=!1}},300),Te=a=>{w.value.find(t=>t.id===a.id)||(w.value.push(a),ye()),$.value="",q.value=[]},Be=a=>{w.value=w.value.filter(t=>t.id!==a.id),ye()},be=ue(async()=>{if(P.value.length<2){F.value=[];return}ge.value=!0;try{const a=await T.get("/integrations/meta/api/search-locations",{params:{q:P.value,business_id:U.businessId}});F.value=a.data.data||[]}catch(a){console.error("Error searching locations:",a)}finally{ge.value=!1}},300),Ie=a=>{V.value.find(t=>t.key===a.key)||(V.value.push({key:a.key,name:a.name,type:a.type,country_code:a.country_code}),D(),L()),P.value="",F.value=[]},Re=a=>{V.value=V.value.filter(t=>t.key!==a.key),D(),L()},D=()=>{const a={countries:l.value.targeting.geo_locations.countries,cities:[],regions:[]};V.value.forEach(t=>{t.type==="city"?a.cities.push({key:t.key,name:t.name}):t.type==="region"&&a.regions.push({key:t.key,name:t.name})}),y.value.length>0&&(a.custom_locations=y.value.map(t=>({latitude:t.lat,longitude:t.lng,radius:t.radius,distance_unit:"kilometer",name:t.name}))),l.value.targeting.geo_locations=a},ye=()=>{w.value.length>0?l.value.targeting.flexible_spec=[{interests:w.value.map(a=>({id:a.id,name:a.name}))}]:l.value.targeting.flexible_spec=[],L()},Ne=a=>{const t=l.value.targeting.geo_locations.countries,s=t.indexOf(a);s>-1?t.splice(s,1):t.push(a),L()},fe=a=>{const t=l.value.targeting.genders,s=t.indexOf(a);s>-1&&t.length>1?t.splice(s,1):s===-1&&t.push(a),L()},_e=()=>{b.value||!te.value||(delete B.Icon.Default.prototype._getIconUrl,B.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"}),b.value=B.map(te.value,{center:[41.377491,64.585262],zoom:4,zoomControl:!0,attributionControl:!1}),B.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18}).addTo(b.value),b.value.on("click",Fe),$e(),H())},$e=()=>{if(b.value&&(R.value.forEach(a=>a.remove()),R.value=[],l.value.targeting.geo_locations.countries.forEach(a=>{const t=Le[a];if(t){const s=B.marker([t.lat,t.lng]).addTo(b.value).bindPopup(t.name);R.value.push(s)}}),R.value.length>0)){const a=R.value.map(t=>t.getLatLng());a.length===1?b.value.setView(a[0],5):b.value.fitBounds(a,{padding:[50,50]})}},qe=async(a,t)=>{const s=`${a.toFixed(4)}_${t.toFixed(4)}`;if(oe.value[s])return oe.value[s];try{const v=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${t}&zoom=10&addressdetails=1`)).json(),W={name:v.address?.city||v.address?.town||v.address?.village||v.address?.municipality||v.address?.county||"Noma'lum joy",fullName:v.display_name||"",country:v.address?.country||"",countryCode:v.address?.country_code?.toUpperCase()||""};return oe.value[s]=W,W}catch(i){return console.error("Reverse geocoding error:",i),{name:`${a.toFixed(4)}, ${t.toFixed(4)}`,fullName:"",country:"",countryCode:""}}},Pe=async(a,t,s=!1)=>{se.value=!0;try{const i=await qe(a,t),v={id:`custom_${Date.now()}`,lat:a,lng:t,name:i.name,fullName:i.fullName,country:i.country,countryCode:i.countryCode,radius:ae.value,isExcluded:s};s?k.value.push(v):y.value.push(v),H(),D(),L()}finally{se.value=!1}},ke=(a,t=!1)=>{t?k.value=k.value.filter(s=>s.id!==a):y.value=y.value.filter(s=>s.id!==a),H(),D(),L()},he=(a,t,s=!1)=>{const v=(s?k.value:y.value).find(W=>W.id===a);v&&(v.radius=t,H(),D(),L())},H=()=>{if(b.value&&(K.value.forEach(a=>a.remove()),K.value=[],y.value.forEach(a=>{const t=B.circle([a.lat,a.lng],{radius:a.radius*1e3,color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.2,weight:2}).addTo(b.value);t.bindPopup(`
            <div class="p-2">
                <strong>${a.name}</strong><br>
                <small>${a.country}</small><br>
                <span class="text-blue-600">Radius: ${a.radius} km</span>
            </div>
        `),K.value.push(t)}),k.value.forEach(a=>{const t=B.circle([a.lat,a.lng],{radius:a.radius*1e3,color:"#ef4444",fillColor:"#ef4444",fillOpacity:.2,weight:2,dashArray:"5, 10"}).addTo(b.value);t.bindPopup(`
            <div class="p-2">
                <strong>${a.name}</strong> (Istisno)<br>
                <small>${a.country}</small><br>
                <span class="text-red-600">Radius: ${a.radius} km</span>
            </div>
        `),K.value.push(t)}),y.value.length>0||k.value.length>0)){const t=[...y.value,...k.value].map(s=>[s.lat,s.lng]);t.length===1?b.value.setView(t[0],10):t.length>1&&b.value.fitBounds(t,{padding:[50,50]})}},Fe=a=>{if(C.value){const t=C.value==="exclude";Pe(a.latlng.lat,a.latlng.lng,t)}},we=a=>{C.value=C.value===a?null:a},Ke=()=>{S.value=!S.value,S.value&&Me(()=>{_e()})},Ge=()=>{b.value&&(b.value.remove(),b.value=null),R.value=[],K.value=[]},L=ue(async()=>{A.value.loading=!0;try{const a=await T.post("/integrations/meta/api/reach-estimate",{business_id:U.businessId,targeting:l.value.targeting,optimization_goal:l.value.optimization_goal});a.data.success&&a.data.data&&(A.value.users_lower_bound=a.data.data.users_lower_bound||0,A.value.users_upper_bound=a.data.data.users_upper_bound||0)}catch(a){console.error("Error fetching audience estimate:",a)}finally{A.value.loading=!1}},500),De=async a=>{const t=a.target.files[0];if(!t)return;ne.value=!0;const s=new FormData;s.append("image",t),s.append("business_id",U.businessId);try{const i=await T.post("/integrations/meta/api/upload-image",s,{headers:{"Content-Type":"multipart/form-data"}});i.data.success&&(d.value.image_hash=i.data.image_hash,d.value.image_preview=URL.createObjectURL(t))}catch(i){console.error("Error uploading image:",i),j.value="Rasmni yuklashda xatolik"}finally{ne.value=!1}},He=async()=>{N.value=!0,j.value=null;try{const a={business_id:U.businessId,campaign:h.value,adset:{...l.value,targeting:{...l.value.targeting,flexible_spec:w.value.length>0?[{interests:w.value.map(s=>({id:s.id,name:s.name}))}]:[]}},ad:{...d.value,lead_form_id:G.value?d.value.lead_form_id:null}},t=await T.post("/integrations/meta/api/campaign/create",a);t.data.success?(ee.value="Reklama muvaffaqiyatli yaratildi!",setTimeout(()=>{Ze.visit("/business/target-analysis")},2e3)):j.value=t.data.message||"Xatolik yuz berdi"}catch(a){console.error("Error creating ad:",a),j.value=a.response?.data?.message||"Reklama yaratishda xatolik"}finally{N.value=!1}},re=a=>new Intl.NumberFormat("uz-UZ").format(a||0),Qe=a=>({OUTCOME_AWARENESS:"Xabardorlik",OUTCOME_TRAFFIC:"Trafik",OUTCOME_ENGAGEMENT:"Engagement",OUTCOME_LEADS:"Lidlar",OUTCOME_SALES:"Sotuvlar"})[a]||a;return Ce(p,a=>{a===2&&Me(()=>{S.value&&!b.value&&_e()})}),Ce([y,k],()=>{H()},{deep:!0}),Ye(()=>{je()}),Je(()=>{Ge()}),(a,t)=>(n(),o(x,null,[Z(O(We),{title:"Yangi reklama yaratish"}),Z(Xe,{title:"Yangi reklama yaratish"},{default:de(()=>[e("div",tt,[e("div",st,[e("div",at,[e("div",lt,[e("div",ot,[Z(O(ze),{href:"/business/target-analysis",class:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition"},{default:de(()=>[...t[50]||(t[50]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),t[51]||(t[51]=e("div",null,[e("h1",{class:"text-xl font-bold text-gray-900"},"Yangi reklama yaratish"),e("p",{class:"text-sm text-gray-500"},"Meta Ads Manager")],-1))]),e("div",nt,[(n(),o(x,null,f(ce,(s,i)=>(n(),o(x,{key:i},[e("div",rt,[e("div",{class:M(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all",p.value>i+1?"bg-green-500 text-white":p.value===i+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"])},[p.value>i+1?(n(),o("svg",it,[...t[52]||(t[52]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(n(),o("span",dt,r(i+1),1))],2),e("span",{class:M(["ml-2 text-sm font-medium",p.value===i+1?"text-blue-600":"text-gray-500"])},r(s),3)]),i<ce.length-1?(n(),o("div",{key:0,class:M(["w-12 h-0.5 mx-2",p.value>i+1?"bg-green-500":"bg-gray-200"])},null,2)):g("",!0)],64))),64))])])])]),j.value?(n(),o("div",ut,[e("div",mt,[t[53]||(t[53]=e("svg",{class:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("span",gt,r(j.value),1)])])):g("",!0),ee.value?(n(),o("div",ct,[e("div",pt,[t[54]||(t[54]=e("svg",{class:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),e("span",vt,r(ee.value),1)])])):g("",!0),e("div",xt,[X.value?(n(),o("div",bt,[...t[55]||(t[55]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full"}),e("p",{class:"text-gray-500"},"Ma'lumotlar yuklanmoqda...")],-1)])])):(n(),o("div",yt,[e("div",ft,[p.value===1?(n(),o("div",_t,[e("div",kt,[t[58]||(t[58]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Kampaniya ma'lumotlari",-1)),e("div",ht,[e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kampaniya nomi *",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>h.value.name=s),type:"text",placeholder:"Masalan: Yangi yil aksiyasi",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[z,h.value.name]])]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Kampaniya maqsadi *",-1)),e("div",wt,[(n(!0),o(x,null,f(E.value.objectives,s=>(n(),o("button",{key:s.value,onClick:i=>Oe(s),class:M(["p-4 border-2 rounded-xl text-left transition-all",h.value.objective===s.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"])},[e("div",Mt,[e("div",{class:M(["w-10 h-10 rounded-lg flex items-center justify-center",h.value.objective===s.value?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"])},[(n(),o("svg",zt,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.value==="OUTCOME_AWARENESS"?"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z":s.value==="OUTCOME_TRAFFIC"?"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122":s.value==="OUTCOME_ENGAGEMENT"?"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z":s.value==="OUTCOME_LEADS"?"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z":"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"},null,8,Et)]))],2),e("div",Lt,[e("p",Ut,r(s.label),1),e("p",jt,r(s.description),1)])])],10,Ct))),128))])])])])])):p.value===2?(n(),o("div",At,[e("div",Vt,[t[61]||(t[61]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Ad Set sozlamalari",-1)),e("div",St,[e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ad Set nomi *",-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.name=s),type:"text",placeholder:"Masalan: Toshkent auditoriyasi",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[z,l.value.name]])]),e("div",null,[e("label",Ot,"Kunlik byudjet ("+r(I.currency)+") *",1),u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.daily_budget=s),type:"number",min:"1",step:"0.01",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[z,l.value.daily_budget,void 0,{number:!0}]])])]),e("div",Tt,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Optimizatsiya maqsadi *",-1)),u(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.optimization_goal=s),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[(n(!0),o(x,null,f(ve.value,s=>(n(),o("option",{key:s.value,value:s.value},r(s.label),9,Bt))),128))],512),[[Q,l.value.optimization_goal]])])]),e("div",It,[t[86]||(t[86]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Auditoriya sozlamalari",-1)),e("div",Rt,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Mamlakatlar",-1)),e("div",Nt,[(n(!0),o(x,null,f(E.value.countries,s=>(n(),o("button",{key:s.code,onClick:i=>Ne(s.code),class:M(["px-4 py-2 rounded-lg text-sm font-medium transition-all",l.value.targeting.geo_locations.countries.includes(s.code)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},r(s.name),11,$t))),128))])]),e("div",qt,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Shahar/hudud qidirish",-1)),e("div",Pt,[u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>P.value=s),onInput:t[5]||(t[5]=(...s)=>O(be)&&O(be)(...s)),type:"text",placeholder:"Shahar yoki hudud nomini kiriting...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,544),[[z,P.value]]),F.value.length>0?(n(),o("div",Ft,[(n(!0),o(x,null,f(F.value,s=>(n(),o("button",{key:s.key,onClick:i=>Ie(s),class:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3"},[e("span",Gt,r(s.name),1),e("span",Dt,r(s.type),1)],8,Kt))),128))])):g("",!0)]),V.value.length>0?(n(),o("div",Ht,[(n(!0),o(x,null,f(V.value,s=>(n(),o("span",{key:s.key,class:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-800 rounded-full text-sm"},[_(r(s.name)+" ",1),e("button",{onClick:i=>Re(s),class:"hover:text-blue-600"},[...t[63]||(t[63]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],8,Qt)]))),128))])):g("",!0)]),e("div",Yt,[e("div",Jt,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-700"},[e("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})]),_(" Xaritadan joy tanlash ")],-1)),e("button",{onClick:Ke,class:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1"},[S.value?(n(),o("svg",Wt,[...t[65]||(t[65]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(n(),o("svg",Zt,[...t[66]||(t[66]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])])),_(" "+r(S.value?"Yashirish":"Ko'rsatish"),1)])]),S.value?(n(),o("div",Xt,[e("div",es,[e("button",{onClick:t[6]||(t[6]=s=>we("add")),class:M(["flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition border-2",C.value==="add"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-200 text-gray-700 hover:border-blue-300"])},[...t[68]||(t[68]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),_(" Qo'shish ",-1)])],2),e("button",{onClick:t[7]||(t[7]=s=>we("exclude")),class:M(["flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition border-2",C.value==="exclude"?"bg-red-50 border-red-500 text-red-700":"bg-white border-gray-200 text-gray-700 hover:border-red-300"])},[...t[69]||(t[69]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})],-1),_(" Istisno ",-1)])],2),e("span",ts,[C.value?(n(),o("svg",ss,[...t[70]||(t[70]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2z"},null,-1)])])):g("",!0),_(" "+r(C.value==="add"?"Xaritaga bosib joy qo'shing":C.value==="exclude"?"Xaritaga bosib istisno qiling":""),1)]),se.value?(n(),o("div",as,[...t[71]||(t[71]=[e("svg",{class:"animate-spin w-5 h-5 text-blue-600",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)])])):g("",!0)]),e("div",ls,[t[72]||(t[72]=e("span",{class:"text-sm text-gray-600"},"Standart radius:",-1)),u(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>ae.value=s),class:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg bg-white text-gray-900"},[(n(),o(x,null,f(le,s=>e("option",{key:s,value:s},r(s)+" km",9,os)),64))],512),[[Q,ae.value]])]),e("div",{class:M(["relative rounded-xl overflow-hidden border border-gray-200",{"ring-2 ring-blue-500":C.value==="add","ring-2 ring-red-500":C.value==="exclude"}])},[e("div",{ref_key:"mapContainer",ref:te,class:M(["w-full h-80",{"cursor-crosshair":C.value}])},null,2),t[73]||(t[73]=e("div",{class:"absolute bottom-2 left-2 bg-white/95 backdrop-blur-sm rounded-lg px-3 py-2 text-xs shadow-lg"},[e("div",{class:"flex flex-col gap-1.5"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-3 h-3 bg-blue-600 rounded-full"}),e("span",{class:"text-gray-700"},"Kiritilgan hudud")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-3 h-3 bg-red-500 rounded-full"}),e("span",{class:"text-gray-700"},"Istisno hudud")])])],-1)),y.value.length>0||k.value.length>0?(n(),o("div",ns,[y.value.length>0?(n(),o("div",rs," +"+r(y.value.length),1)):g("",!0),k.value.length>0?(n(),o("div",is," -"+r(k.value.length),1)):g("",!0)])):g("",!0)],2),y.value.length>0?(n(),o("div",ds,[t[76]||(t[76]=e("label",{class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-blue-600"},"+"),_(" Kiritilgan hududlar ")],-1)),e("div",us,[(n(!0),o(x,null,f(y.value,s=>(n(),o("div",{key:s.id,class:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200"},[e("div",ms,[t[74]||(t[74]=e("div",{class:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})])],-1)),e("div",gs,[e("div",cs,r(s.name),1),e("div",ps,r(s.country),1)])]),e("div",vs,[e("select",{value:s.radius,onChange:i=>he(s.id,parseInt(i.target.value),!1),class:"px-2 py-1 text-xs border border-blue-300 rounded-lg bg-white text-gray-900"},[(n(),o(x,null,f(le,i=>e("option",{key:i,value:i},r(i)+" km",9,bs)),64))],40,xs),e("button",{onClick:i=>ke(s.id,!1),class:"p-1 text-blue-600 hover:text-red-600 transition"},[...t[75]||(t[75]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ys)])]))),128))])])):g("",!0),k.value.length>0?(n(),o("div",fs,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-700"},[e("span",{class:"text-red-600"},"-"),_(" Istisno qilingan hududlar ")],-1)),e("div",_s,[(n(!0),o(x,null,f(k.value,s=>(n(),o("div",{key:s.id,class:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200"},[e("div",ks,[t[77]||(t[77]=e("div",{class:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})])],-1)),e("div",hs,[e("div",ws,r(s.name),1),e("div",Cs,r(s.country),1)])]),e("div",Ms,[e("select",{value:s.radius,onChange:i=>he(s.id,parseInt(i.target.value),!0),class:"px-2 py-1 text-xs border border-red-300 rounded-lg bg-white text-gray-900"},[(n(),o(x,null,f(le,i=>e("option",{key:i,value:i},r(i)+" km",9,Es)),64))],40,zs),e("button",{onClick:i=>ke(s.id,!0),class:"p-1 text-red-600 hover:text-red-700 transition"},[...t[78]||(t[78]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ls)])]))),128))])])):g("",!0)])):g("",!0)]),e("div",Us,[e("div",null,[t[82]||(t[82]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Yosh oralig'i",-1)),e("div",js,[u(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l.value.targeting.age_min=s),type:"number",min:"13",max:"65",class:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-center"},null,512),[[z,l.value.targeting.age_min,void 0,{number:!0}]]),t[80]||(t[80]=e("span",{class:"text-gray-500"},"dan",-1)),u(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>l.value.targeting.age_max=s),type:"number",min:"13",max:"65",class:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-center"},null,512),[[z,l.value.targeting.age_max,void 0,{number:!0}]]),t[81]||(t[81]=e("span",{class:"text-gray-500"},"gacha",-1))])]),e("div",null,[t[83]||(t[83]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Jins",-1)),e("div",As,[e("button",{onClick:t[11]||(t[11]=s=>fe(1)),class:M(["flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all",l.value.targeting.genders.includes(1)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," Erkak ",2),e("button",{onClick:t[12]||(t[12]=s=>fe(2)),class:M(["flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all",l.value.targeting.genders.includes(2)?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])}," Ayol ",2)])])]),e("div",null,[t[85]||(t[85]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Qiziqishlar",-1)),e("div",Vs,[u(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>$.value=s),onInput:t[14]||(t[14]=(...s)=>O(xe)&&O(xe)(...s)),type:"text",placeholder:"Qiziqish nomini kiriting...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,544),[[z,$.value]]),q.value.length>0?(n(),o("div",Ss,[(n(!0),o(x,null,f(q.value,s=>(n(),o("button",{key:s.id,onClick:i=>Te(s),class:"w-full px-4 py-3 text-left hover:bg-gray-50"},[e("span",Ts,r(s.name),1),s.audience_size?(n(),o("span",Bs,r(re(s.audience_size))+" kishi ",1)):g("",!0)],8,Os))),128))])):g("",!0)]),w.value.length>0?(n(),o("div",Is,[(n(!0),o(x,null,f(w.value,s=>(n(),o("span",{key:s.id,class:"inline-flex items-center gap-2 px-3 py-1.5 bg-purple-100 text-purple-800 rounded-full text-sm"},[_(r(s.name)+" ",1),e("button",{onClick:i=>Be(s),class:"hover:text-purple-600"},[...t[84]||(t[84]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],8,Rs)]))),128))])):g("",!0)])]),e("div",Ns,[e("div",$s,[t[88]||(t[88]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Joylashuvlar (Placements)",-1)),e("label",qs,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=s=>l.value.placements.automatic=s),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[c,l.value.placements.automatic]]),t[87]||(t[87]=e("span",{class:"text-sm font-medium text-gray-700"},"Advantage+ (Avtomatik)",-1))])]),l.value.placements.automatic?(n(),o("p",wa," Meta sizning reklamangizni eng yaxshi natija beradigan joylarga avtomatik joylashtiradi. ")):(n(),o("div",Ps,[e("div",Fs,[e("div",Ks,[t[89]||(t[89]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})])]),e("span",{class:"font-medium text-gray-900"},"Facebook")],-1)),e("button",{onClick:t[16]||(t[16]=s=>J("facebook")),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},r(Y("facebook")?"Barchasini o'chirish":"Barchasini yoqish"),1)]),e("div",Gs,[e("label",Ds,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=s=>l.value.placements.facebook_feed=s),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[c,l.value.placements.facebook_feed]]),t[90]||(t[90]=e("span",{class:"text-sm text-gray-700"},"Feed",-1))]),e("label",Hs,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=s=>l.value.placements.facebook_stories=s),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[c,l.value.placements.facebook_stories]]),t[91]||(t[91]=e("span",{class:"text-sm text-gray-700"},"Stories",-1))]),e("label",Qs,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=s=>l.value.placements.facebook_reels=s),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[c,l.value.placements.facebook_reels]]),t[92]||(t[92]=e("span",{class:"text-sm text-gray-700"},"Reels",-1))]),e("label",Ys,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[20]||(t[20]=s=>l.value.placements.facebook_marketplace=s),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[c,l.value.placements.facebook_marketplace]]),t[93]||(t[93]=e("span",{class:"text-sm text-gray-700"},"Marketplace",-1))]),e("label",Js,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=s=>l.value.placements.facebook_video_feeds=s),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[c,l.value.placements.facebook_video_feeds]]),t[94]||(t[94]=e("span",{class:"text-sm text-gray-700"},"Video feeds",-1))]),e("label",Ws,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[22]||(t[22]=s=>l.value.placements.facebook_right_column=s),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[c,l.value.placements.facebook_right_column]]),t[95]||(t[95]=e("span",{class:"text-sm text-gray-700"},"Right column",-1))]),e("label",Zs,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[23]||(t[23]=s=>l.value.placements.facebook_search=s),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[c,l.value.placements.facebook_search]]),t[96]||(t[96]=e("span",{class:"text-sm text-gray-700"},"Search",-1))]),e("label",Xs,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[24]||(t[24]=s=>l.value.placements.facebook_instream_video=s),class:"w-4 h-4 text-blue-600 rounded"},null,512),[[c,l.value.placements.facebook_instream_video]]),t[97]||(t[97]=e("span",{class:"text-sm text-gray-700"},"In-stream video",-1))])])]),e("div",ea,[e("div",ta,[t[98]||(t[98]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})])]),e("span",{class:"font-medium text-gray-900"},"Instagram")],-1)),e("button",{onClick:t[25]||(t[25]=s=>J("instagram")),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},r(Y("instagram")?"Barchasini o'chirish":"Barchasini yoqish"),1)]),e("div",sa,[e("label",aa,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[26]||(t[26]=s=>l.value.placements.instagram_feed=s),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[c,l.value.placements.instagram_feed]]),t[99]||(t[99]=e("span",{class:"text-sm text-gray-700"},"Feed",-1))]),e("label",la,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[27]||(t[27]=s=>l.value.placements.instagram_stories=s),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[c,l.value.placements.instagram_stories]]),t[100]||(t[100]=e("span",{class:"text-sm text-gray-700"},"Stories",-1))]),e("label",oa,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[28]||(t[28]=s=>l.value.placements.instagram_reels=s),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[c,l.value.placements.instagram_reels]]),t[101]||(t[101]=e("span",{class:"text-sm text-gray-700"},"Reels",-1))]),e("label",na,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[29]||(t[29]=s=>l.value.placements.instagram_explore=s),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[c,l.value.placements.instagram_explore]]),t[102]||(t[102]=e("span",{class:"text-sm text-gray-700"},"Explore",-1))]),e("label",ra,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[30]||(t[30]=s=>l.value.placements.instagram_explore_home=s),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[c,l.value.placements.instagram_explore_home]]),t[103]||(t[103]=e("span",{class:"text-sm text-gray-700"},"Explore Home",-1))]),e("label",ia,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[31]||(t[31]=s=>l.value.placements.instagram_shop=s),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[c,l.value.placements.instagram_shop]]),t[104]||(t[104]=e("span",{class:"text-sm text-gray-700"},"Shop",-1))]),e("label",da,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[32]||(t[32]=s=>l.value.placements.instagram_profile_feed=s),class:"w-4 h-4 text-pink-600 rounded"},null,512),[[c,l.value.placements.instagram_profile_feed]]),t[105]||(t[105]=e("span",{class:"text-sm text-gray-700"},"Profile feed",-1))])])]),e("div",ua,[e("div",ma,[t[106]||(t[106]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 0C5.373 0 0 4.974 0 11.111c0 3.498 1.744 6.614 4.469 8.654V24l4.088-2.242c1.092.301 2.246.464 3.443.464 6.627 0 12-4.974 12-11.111C24 4.974 18.627 0 12 0zm1.191 14.963l-3.055-3.26-5.963 3.26L10.732 8l3.131 3.259L19.752 8l-6.561 6.963z"})])]),e("span",{class:"font-medium text-gray-900"},"Messenger")],-1)),e("button",{onClick:t[33]||(t[33]=s=>J("messenger")),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},r(Y("messenger")?"Barchasini o'chirish":"Barchasini yoqish"),1)]),e("div",ga,[e("label",ca,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[34]||(t[34]=s=>l.value.placements.messenger_inbox=s),class:"w-4 h-4 text-purple-600 rounded"},null,512),[[c,l.value.placements.messenger_inbox]]),t[107]||(t[107]=e("span",{class:"text-sm text-gray-700"},"Inbox",-1))]),e("label",pa,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[35]||(t[35]=s=>l.value.placements.messenger_stories=s),class:"w-4 h-4 text-purple-600 rounded"},null,512),[[c,l.value.placements.messenger_stories]]),t[108]||(t[108]=e("span",{class:"text-sm text-gray-700"},"Stories",-1))]),e("label",va,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[36]||(t[36]=s=>l.value.placements.messenger_sponsored=s),class:"w-4 h-4 text-purple-600 rounded"},null,512),[[c,l.value.placements.messenger_sponsored]]),t[109]||(t[109]=e("span",{class:"text-sm text-gray-700"},"Sponsored messages",-1))])])]),e("div",xa,[e("div",ba,[t[110]||(t[110]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})])]),e("span",{class:"font-medium text-gray-900"},"Audience Network")],-1)),e("button",{onClick:t[37]||(t[37]=s=>J("audience_network")),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},r(Y("audience_network")?"Barchasini o'chirish":"Barchasini yoqish"),1)]),e("div",ya,[e("label",fa,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[38]||(t[38]=s=>l.value.placements.audience_network_native=s),class:"w-4 h-4 text-gray-600 rounded"},null,512),[[c,l.value.placements.audience_network_native]]),t[111]||(t[111]=e("span",{class:"text-sm text-gray-700"},"Native",-1))]),e("label",_a,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[39]||(t[39]=s=>l.value.placements.audience_network_banner=s),class:"w-4 h-4 text-gray-600 rounded"},null,512),[[c,l.value.placements.audience_network_banner]]),t[112]||(t[112]=e("span",{class:"text-sm text-gray-700"},"Banner",-1))]),e("label",ka,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[40]||(t[40]=s=>l.value.placements.audience_network_interstitial=s),class:"w-4 h-4 text-gray-600 rounded"},null,512),[[c,l.value.placements.audience_network_interstitial]]),t[113]||(t[113]=e("span",{class:"text-sm text-gray-700"},"Interstitial",-1))]),e("label",ha,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[41]||(t[41]=s=>l.value.placements.audience_network_rewarded_video=s),class:"w-4 h-4 text-gray-600 rounded"},null,512),[[c,l.value.placements.audience_network_rewarded_video]]),t[114]||(t[114]=e("span",{class:"text-sm text-gray-700"},"Rewarded video",-1))])])])]))])])):p.value===3?(n(),o("div",Ca,[e("div",Ma,[t[129]||(t[129]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Kreativ sozlamalari",-1)),e("div",za,[e("div",null,[t[115]||(t[115]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reklama nomi *",-1)),u(e("input",{"onUpdate:modelValue":t[42]||(t[42]=s=>d.value.name=s),type:"text",placeholder:"Reklama nomi",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[z,d.value.name]])]),e("div",null,[t[117]||(t[117]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Facebook sahifa *",-1)),u(e("select",{"onUpdate:modelValue":t[43]||(t[43]=s=>d.value.page_id=s),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[t[116]||(t[116]=e("option",{value:""},"Sahifa tanlang",-1)),(n(!0),o(x,null,f(E.value.pages,s=>(n(),o("option",{key:s.id,value:s.id},r(s.name),9,Ea))),128))],512),[[Q,d.value.page_id]])]),G.value?(n(),o("div",La,[t[119]||(t[119]=e("label",{class:"block text-sm font-medium text-green-800 mb-2"}," Lead forma tanlang * ",-1)),u(e("select",{"onUpdate:modelValue":t[44]||(t[44]=s=>d.value.lead_form_id=s),class:"w-full px-4 py-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white"},[t[118]||(t[118]=e("option",{value:""},"Forma tanlang",-1)),(n(!0),o(x,null,f(E.value.lead_forms,s=>(n(),o("option",{key:s.id,value:s.id},r(s.name),9,Ua))),128))],512),[[Q,d.value.lead_form_id]]),t[120]||(t[120]=e("p",{class:"text-sm text-green-600 mt-2"}," Lead kampaniyasi uchun forma tanlanishi kerak. Forma Meta Business Suite'da yaratilishi kerak. ",-1))])):g("",!0),e("div",null,[t[123]||(t[123]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rasm yuklash",-1)),e("div",ja,[e("input",{type:"file",onChange:De,accept:"image/*",class:"hidden",id:"image-upload"},null,32),e("label",Aa,[d.value.image_preview?(n(),o("div",Va,[e("img",{src:d.value.image_preview,alt:"Preview",class:"max-h-48 mx-auto rounded-lg"},null,8,Sa)])):(n(),o("div",Oa,[...t[121]||(t[121]=[e("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),e("p",{class:"text-sm"},"Rasm yuklash uchun bosing",-1),e("p",{class:"text-xs text-gray-400 mt-1"},"PNG, JPG (1200x628 tavsiya etiladi)",-1)])]))]),ne.value?(n(),o("div",Ta,[...t[122]||(t[122]=[e("div",{class:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full mx-auto"},null,-1)])])):g("",!0)])]),e("div",null,[e("label",Ba,[t[124]||(t[124]=_(" Asosiy matn * ",-1)),e("span",Ia,"("+r(d.value.primary_text.length)+"/125)",1)]),u(e("textarea",{"onUpdate:modelValue":t[45]||(t[45]=s=>d.value.primary_text=s),rows:"3",maxlength:"125",placeholder:"Reklamangizning asosiy matni...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[z,d.value.primary_text]])]),e("div",Ra,[e("div",null,[e("label",Na,[t[125]||(t[125]=_(" Sarlavha ",-1)),e("span",$a,"("+r(d.value.headline.length)+"/40)",1)]),u(e("input",{"onUpdate:modelValue":t[46]||(t[46]=s=>d.value.headline=s),type:"text",maxlength:"40",placeholder:"Qisqa sarlavha",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[z,d.value.headline]])]),e("div",null,[e("label",qa,[t[126]||(t[126]=_(" Tavsif ",-1)),e("span",Pa,"("+r(d.value.description.length)+"/30)",1)]),u(e("input",{"onUpdate:modelValue":t[47]||(t[47]=s=>d.value.description=s),type:"text",maxlength:"30",placeholder:"Qo'shimcha tavsif",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[z,d.value.description]])])]),G.value?g("",!0):(n(),o("div",Fa,[t[127]||(t[127]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Havola (URL) *",-1)),u(e("input",{"onUpdate:modelValue":t[48]||(t[48]=s=>d.value.link=s),type:"url",placeholder:"https://example.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[z,d.value.link]])])),e("div",null,[t[128]||(t[128]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Harakatga chaqiruv tugmasi",-1)),u(e("select",{"onUpdate:modelValue":t[49]||(t[49]=s=>d.value.call_to_action=s),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[(n(!0),o(x,null,f(E.value.call_to_actions,s=>(n(),o("option",{key:s.value,value:s.value},r(s.label),9,Ka))),128))],512),[[Q,d.value.call_to_action]])])])])])):p.value===4?(n(),o("div",Ga,[t[146]||(t[146]=e("div",{class:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl p-6 text-white"},[e("div",{class:"flex items-center gap-3 mb-2"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("h2",{class:"text-xl font-bold"},"Reklamani tekshirish")]),e("p",{class:"text-green-100"},"Barcha ma'lumotlarni tekshiring va reklamani yarating")],-1)),e("div",Da,[t[132]||(t[132]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Kampaniya",-1)),e("div",Ha,[e("div",null,[t[130]||(t[130]=e("p",{class:"text-sm text-gray-500"},"Nomi",-1)),e("p",Qa,r(h.value.name),1)]),e("div",null,[t[131]||(t[131]=e("p",{class:"text-sm text-gray-500"},"Maqsad",-1)),e("p",Ya,r(Qe(h.value.objective)),1)])])]),e("div",Ja,[t[140]||(t[140]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Auditoriya va Byudjet",-1)),e("div",Wa,[e("div",null,[t[133]||(t[133]=e("p",{class:"text-sm text-gray-500"},"Ad Set nomi",-1)),e("p",Za,r(l.value.name),1)]),e("div",null,[t[134]||(t[134]=e("p",{class:"text-sm text-gray-500"},"Kunlik byudjet",-1)),e("p",Xa,r(l.value.daily_budget)+" "+r(I.currency),1)]),e("div",null,[t[135]||(t[135]=e("p",{class:"text-sm text-gray-500"},"Yosh oralig'i",-1)),e("p",el,r(l.value.targeting.age_min)+" - "+r(l.value.targeting.age_max),1)]),e("div",null,[t[136]||(t[136]=e("p",{class:"text-sm text-gray-500"},"Joylashuvlar",-1)),e("p",tl,r(l.value.placements.automatic?"Avtomatik":Ue()+" ta tanlangan"),1)]),y.value.length>0?(n(),o("div",sl,[t[137]||(t[137]=e("p",{class:"text-sm text-gray-500"},"Maxsus joylar",-1)),e("p",al,"+"+r(y.value.length)+" joy",1)])):g("",!0),k.value.length>0?(n(),o("div",ll,[t[138]||(t[138]=e("p",{class:"text-sm text-gray-500"},"Istisno joylar",-1)),e("p",ol,"-"+r(k.value.length)+" joy",1)])):g("",!0),w.value.length?(n(),o("div",nl,[t[139]||(t[139]=e("p",{class:"text-sm text-gray-500"},"Qiziqishlar",-1)),e("p",rl,r(w.value.length)+" ta",1)])):g("",!0)])]),e("div",il,[t[145]||(t[145]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Kreativ",-1)),e("div",dl,[d.value.image_preview?(n(),o("div",ul,[e("img",{src:d.value.image_preview,alt:"Ad preview",class:"w-32 h-32 object-cover rounded-lg"},null,8,ml)])):g("",!0),e("div",gl,[e("div",null,[t[141]||(t[141]=e("p",{class:"text-sm text-gray-500"},"Reklama nomi",-1)),e("p",cl,r(d.value.name),1)]),e("div",null,[t[142]||(t[142]=e("p",{class:"text-sm text-gray-500"},"Asosiy matn",-1)),e("p",pl,r(d.value.primary_text),1)]),d.value.headline?(n(),o("div",vl,[t[143]||(t[143]=e("p",{class:"text-sm text-gray-500"},"Sarlavha",-1)),e("p",xl,r(d.value.headline),1)])):g("",!0),G.value&&d.value.lead_form_id?(n(),o("div",bl,[t[144]||(t[144]=e("p",{class:"text-sm text-gray-500"},"Lead forma",-1)),e("p",yl,r(E.value.lead_forms.find(s=>s.id===d.value.lead_form_id)?.name||"Tanlangan"),1)])):g("",!0)])])]),t[147]||(t[147]=e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[e("div",{class:"flex items-start gap-3"},[e("svg",{class:"w-5 h-5 text-yellow-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),e("div",null,[e("p",{class:"font-medium text-yellow-800"},"Diqqat"),e("p",{class:"text-sm text-yellow-700"},"Reklama PAUSED holatda yaratiladi. Uni faollashtirish uchun Meta Ads Manager'da statusni o'zgartiring.")])])],-1))])):g("",!0)]),e("div",fl,[e("div",_l,[t[153]||(t[153]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Taxminiy auditoriya",-1)),e("div",kl,[A.value.loading?(n(),o("div",hl,[...t[148]||(t[148]=[e("div",{class:"h-8 bg-gray-200 rounded w-32 mx-auto mb-2"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-24 mx-auto"},null,-1)])])):(n(),o("div",wl,[e("p",Cl,r(re(A.value.users_lower_bound))+" - "+r(re(A.value.users_upper_bound)),1),t[149]||(t[149]=e("p",{class:"text-sm text-gray-500 mt-1"},"potensial qamrov",-1))]))]),e("div",Ml,[e("div",zl,[e("div",El,[t[150]||(t[150]=e("span",{class:"text-gray-500"},"Kunlik byudjet",-1)),e("span",Ll,r(l.value.daily_budget)+" "+r(I.currency),1)]),e("div",Ul,[t[151]||(t[151]=e("span",{class:"text-gray-500"},"Haftalik sarflama",-1)),e("span",jl,r((l.value.daily_budget*7).toFixed(2))+" "+r(I.currency),1)]),e("div",Al,[t[152]||(t[152]=e("span",{class:"text-gray-500"},"Oylik sarflama",-1)),e("span",Vl,r((l.value.daily_budget*30).toFixed(2))+" "+r(I.currency),1)])])])])])])),e("div",Sl,[e("div",Ol,[p.value>1?(n(),o("button",{key:0,onClick:Se,class:"px-6 py-2.5 text-gray-700 font-medium hover:text-gray-900 flex items-center gap-2"},[...t[154]||(t[154]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),_(" Ortga ",-1)])])):(n(),o("div",Tl)),e("div",Bl,[Z(O(ze),{href:"/business/target-analysis",class:"px-6 py-2.5 text-gray-600 font-medium hover:text-gray-900"},{default:de(()=>[...t[155]||(t[155]=[_(" Bekor qilish ",-1)])]),_:1}),p.value<Ee?(n(),o("button",{key:0,onClick:Ve,disabled:!pe.value,class:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center gap-2"},[...t[156]||(t[156]=[_(" Keyingisi ",-1),e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Il)):(n(),o("button",{key:1,onClick:He,disabled:N.value,class:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 font-medium flex items-center gap-2"},[N.value?(n(),o("svg",Nl,[...t[157]||(t[157]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):g("",!0),_(" "+r(N.value?"Yaratilmoqda...":"Reklamani yaratish"),1)],8,Rl))])])])])])]),_:1})],64))}},co=et($l,[["__scopeId","data-v-9b1de967"]]);export{co as default};

import{h as e,l as r,r as t}from"./chunk-DKkye6wf.js";import{_ as a}from"./chunk-k4W8urQJ.js";import{u as s}from"./app-DFslr8vl.js";import{r as l}from"./chunk-CROtfHv8.js";import{r as o}from"./chunk-DOBCiesv.js";import{m as d,q as n}from"./chunk-Dm-LAqtr.js";import{r as c}from"./chunk-CoFofPT-.js";import{r as i}from"./chunk-D76qurXK.js";import{r as g}from"./chunk-Sfe4u6kO.js";import{r as y}from"./chunk-BugzYCIx.js";import{r as x,v as m,x as b,y as u,z as p,A as h,H as k,C as v,D as f,L as w,E as j,F as _,G as C,B as q}from"./chunk-7Urb0kxg.js";import"./chunk-DmCyVuil.js";import"./chunk-Be6I8nOg.js";import"./chunk-DUcDuGHI.js";import"./chunk-DpGbuIFK.js";import"./chunk-78n7fhob.js";import"./chunk-C3XJH04c.js";import"./chunk-Di7Oc7TS.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-BAC6lhkp.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";const z={class:"space-y-6"},A={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},F={class:"text-2xl font-bold text-gray-900 dark:text-white"},S={class:"text-sm text-gray-500 dark:text-gray-400"},$={class:"flex gap-2"},G={class:"relative"},I={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50"},B={class:"flex gap-2"},D=["onClick"],E={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},H={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},J={class:"flex items-center justify-between mb-2"},L={class:"text-2xl font-bold text-gray-900 dark:text-white"},N={class:"text-xs text-gray-500 dark:text-gray-400"},O={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},U={class:"flex items-center justify-between mb-2"},Z={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},K={class:"text-xs text-gray-500 dark:text-gray-400"},M={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},P={class:"flex items-center justify-between mb-2"},Q={class:"text-2xl font-bold text-green-600 dark:text-green-400"},R={class:"text-xs text-gray-500 dark:text-gray-400"},T={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},V={class:"flex items-center justify-between mb-2"},W={class:"text-2xl font-bold text-red-600 dark:text-red-400"},X={class:"text-xs text-gray-500 dark:text-gray-400"},Y={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},ee={class:"flex items-center justify-between mb-2"},re={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},te={class:"text-xs text-gray-500 dark:text-gray-400"},ae={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4"},se={class:"flex items-center justify-between mb-2"},le={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},oe={class:"text-xs text-gray-500 dark:text-gray-400"},de={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ne={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},ce={class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},ie={class:"h-64 flex items-center justify-center text-gray-400"},ge={class:"text-center"},ye={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},xe={class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},me={class:"h-64 flex items-center justify-center text-gray-400"},be={class:"text-center"},ue={__name:"Index",props:{analytics:{type:Object,default:()=>({conversion_rate:0,avg_deal_size:0,total_revenue:0,leads_count:0,won_count:0,lost_count:0})},period:{type:String,default:"month"}},setup(ue){const{t:pe}=s(),he=x(ue.period),ke=x(!1),ve=e=>e?new Intl.NumberFormat("uz-UZ").format(e)+" so'm":"0 so'm",fe=e=>{ke.value=!1,window.location.href=`/sales-head/analytics/export?period=${he.value}&format=${e}`};return(s,x)=>(j(),m(a,{title:h(pe)("nav.analytics")},{default:b(()=>{return[u(h(e),{title:h(pe)("nav.analytics")},null,8,["title"]),p("div",z,[p("div",A,[p("div",null,[p("h1",F,k(h(pe)("nav.analytics")),1),p("p",S,k(h(pe)("analytics.sales_analysis")),1)]),p("div",$,[u(h(r),{href:"/sales-head/analytics/conversion",class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},{default:b(()=>[v(k(h(pe)("analytics.conversion")),1)]),_:1}),u(h(r),{href:"/sales-head/analytics/revenue",class:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},{default:b(()=>[v(k(h(pe)("analytics.revenue")),1)]),_:1}),p("div",G,[p("button",{onClick:x[0]||(x[0]=e=>ke.value=!ke.value),class:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white font-medium rounded-lg transition-colors"},[u(h(l),{class:"w-5 h-5"}),v(" "+k(h(pe)("common.download")),1)]),ke.value?(j(),f("div",I,[p("button",{onClick:x[1]||(x[1]=e=>fe("pdf")),class:"w-full px-4 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2"},[u(h(o),{class:"w-5 h-5 text-red-500"}),v(" "+k(h(pe)("common.pdf_format")),1)]),p("button",{onClick:x[2]||(x[2]=e=>fe("excel")),class:"w-full px-4 py-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2"},[u(h(o),{class:"w-5 h-5 text-green-500"}),v(" "+k(h(pe)("common.excel_format")),1)])])):w("",!0)])])]),p("div",B,[(j(),f(_,null,C(["week","month","quarter","year"],e=>p("button",{key:e,onClick:r=>{return a=e,he.value=a,void t.get("/sales-head/analytics",{period:a},{preserveState:!0,preserveScroll:!0});var a},class:q(["px-4 py-2 rounded-lg font-medium transition-colors",he.value===e?"bg-emerald-600 text-white":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"])},k("week"===e?h(pe)("common.week"):"month"===e?h(pe)("common.month"):"quarter"===e?h(pe)("common.quarter"):h(pe)("common.year")),11,D)),64))]),p("div",E,[p("div",H,[p("div",J,[u(h(d),{class:"w-5 h-5 text-blue-500"})]),p("p",L,k(ue.analytics.leads_count),1),p("p",N,k(h(pe)("analytics.total_leads")),1)]),p("div",O,[p("div",U,[u(h(n),{class:"w-5 h-5 text-emerald-500"})]),p("p",Z,k((a=ue.analytics.conversion_rate,(a||0).toFixed(1)+"%")),1),p("p",K,k(h(pe)("analytics.conversion")),1)]),p("div",M,[p("div",P,[u(h(c),{class:"w-5 h-5 text-green-500"})]),p("p",Q,k(ue.analytics.won_count),1),p("p",R,k(h(pe)("saleshead.deal_won")),1)]),p("div",T,[p("div",V,[u(h(i),{class:"w-5 h-5 text-red-500"})]),p("p",W,k(ue.analytics.lost_count),1),p("p",X,k(h(pe)("saleshead.deal_lost")),1)]),p("div",Y,[p("div",ee,[u(h(g),{class:"w-5 h-5 text-purple-500"})]),p("p",re,k(ve(ue.analytics.avg_deal_size)),1),p("p",te,k(h(pe)("analytics.avg_deal")),1)]),p("div",ae,[p("div",se,[u(h(g),{class:"w-5 h-5 text-yellow-500"})]),p("p",le,k(ve(ue.analytics.total_revenue)),1),p("p",oe,k(h(pe)("analytics.total_revenue")),1)])]),p("div",de,[p("div",ne,[p("h3",ce,k(h(pe)("analytics.sales_dynamics")),1),p("div",ie,[p("div",ge,[u(h(y),{class:"w-12 h-12 mx-auto mb-2"}),p("p",null,k(h(pe)("analytics.chart_coming_soon")),1)])])]),p("div",ye,[p("h3",xe,k(h(pe)("analytics.conversion_funnel")),1),p("div",me,[p("div",be,[u(h(i),{class:"w-12 h-12 mx-auto mb-2"}),p("p",null,k(h(pe)("analytics.chart_coming_soon")),1)])])])])])];var a}),_:1},8,["title"]))}};export{ue as default};

import{_ as e}from"./chunk-NrbfQB88.js";import{a as t}from"./chunk-DKkye6wf.js";import{u as a}from"./app-DFslr8vl.js";import{r,o as s,v as l,x as d,z as i,H as o,A as n,D as u,C as m,E as g,B as c,L as h,S as x}from"./chunk-7Urb0kxg.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-Di7Oc7TS.js";const k={class:"py-6"},y={class:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8"},v={class:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},b={class:"text-xl font-semibold text-gray-900 dark:text-white"},p={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},w=["disabled"],f={class:"mb-6"},j={class:"flex items-center justify-between"},q={class:"flex items-center"},M={key:0,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},z={key:1,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},H={key:2,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},T={class:"text-right"},_={class:"text-sm font-medium text-gray-900 dark:text-white"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},C={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},L={class:"flex items-center justify-between mb-3"},S={class:"text-xs text-gray-600 dark:text-gray-400"},I={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},V={class:"flex items-center justify-between mb-3"},O={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},D={key:0,class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5"},A={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},P={class:"flex items-center justify-between mb-3"},Q={class:"text-xs text-gray-600 dark:text-gray-400"},E={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},F={class:"flex items-center justify-between mb-3"},K={class:"text-xs text-gray-600 dark:text-gray-400"},N={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},R={class:"p-4"},U={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},Z={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3"},$={class:"mt-1 text-sm font-semibold text-gray-900 dark:text-white"},G={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3"},J={class:"mt-1 text-sm font-semibold text-gray-900 dark:text-white"},W={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3"},X={class:"mt-1 text-sm font-semibold text-gray-900 dark:text-white"},Y={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3"},ee={class:"mt-1 text-sm font-semibold text-gray-900 dark:text-white capitalize"},te={__name:"Index",props:{initialHealth:{type:Object,default:()=>({})},systemInfo:{type:Object,default:()=>({php_version:"-",laravel_version:"-",server_time:"-",environment:"-"})}},setup(te){const{t:ae}=a(),re=te,se=r(!1),le=r("Hozir"),de=r({overall:re.initialHealth.overall||{status:"checking",percentage:0},database:re.initialHealth.health?.database||{status:"checking",message:"Tekshirilmoqda..."},storage:re.initialHealth.health?.storage||{status:"checking",message:"Tekshirilmoqda..."},cache:re.initialHealth.health?.cache||{status:"checking",message:"Tekshirilmoqda..."},queue:re.initialHealth.health?.queue||{status:"checking",message:"Tekshirilmoqda..."}}),ie=async()=>{se.value=!0;try{const e=await t.get("/admin/system-health");de.value={overall:e.data.overall,database:e.data.health.database,storage:e.data.health.storage,cache:e.data.health.cache,queue:e.data.health.queue},le.value=(new Date).toLocaleTimeString("uz-UZ")}catch(e){}finally{se.value=!1}},oe=()=>{const e=de.value.overall?.status;return"healthy"===e?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800":"warning"===e?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"},ne=()=>{const e=de.value.overall?.status;return"healthy"===e?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"warning"===e?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"},ue=()=>{const e=de.value.overall?.status;return"healthy"===e?"text-emerald-700 dark:text-emerald-400":"warning"===e?"text-yellow-700 dark:text-yellow-400":"text-red-700 dark:text-red-400"},me=()=>{const e=de.value.overall?.status;return"healthy"===e?"text-emerald-600 dark:text-emerald-500":"warning"===e?"text-yellow-600 dark:text-yellow-500":"text-red-600 dark:text-red-500"},ge=()=>{const e=de.value.overall?.status;return"healthy"===e?"Tizim sog'lom":"warning"===e?"Ogohlantirish":"unhealthy"===e?"Muammo aniqlandi":"Tekshirilmoqda..."},ce=e=>"healthy"===e?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"warning"===e?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"unhealthy"===e?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",he=e=>"healthy"===e?"Sog'lom":"warning"===e?"Ogohlantirish":"unhealthy"===e?"Sog'lom emas":"Tekshirilmoqda";return s(()=>{ie()}),(t,a)=>(g(),l(e,{title:n(ae)("admin.system_health.title")},{default:d(()=>[i("div",k,[i("div",y,[i("div",v,[i("div",null,[i("h2",b,o(n(ae)("admin.system_health.title")),1),i("p",p,o(n(ae)("admin.system_health.subtitle")),1)]),i("button",{onClick:ie,disabled:se.value,class:"inline-flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors text-sm font-medium disabled:opacity-50"},[(g(),u("svg",{class:c(["w-4 h-4 mr-2",se.value?"animate-spin":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...a[0]||(a[0]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),a[1]||(a[1]=m(" Qayta tekshirish ",-1))],8,w)]),i("div",f,[i("div",{class:c(["rounded-lg p-4 border",oe()])},[i("div",j,[i("div",q,[i("div",{class:c(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",ne()])},["healthy"===de.value.overall?.status?(g(),u("svg",M,[...a[2]||(a[2]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):"warning"===de.value.overall?.status?(g(),u("svg",z,[...a[3]||(a[3]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])):(g(),u("svg",H,[...a[4]||(a[4]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],2),i("div",null,[i("h3",{class:c(["text-base font-semibold",ue()])},o(ge()),3),i("p",{class:c(["text-sm",me()])},o(de.value.overall?.percentage||0)+"% komponentlar sog'lom ",3)])]),i("div",T,[a[5]||(a[5]=i("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Oxirgi tekshirish",-1)),i("p",_,o(le.value),1)])])],2)]),i("div",B,[i("div",C,[i("div",L,[a[6]||(a[6]=i("div",{class:"flex items-center"},[i("div",{class:"w-9 h-9 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center mr-3"},[i("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})])]),i("div",null,[i("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Ma'lumotlar bazasi"),i("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"MySQL ulanish")])],-1)),i("span",{class:c(["px-2 py-1 text-xs font-medium rounded-full",ce(de.value.database?.status)])},o(he(de.value.database?.status)),3)]),i("p",S,o(de.value.database?.message||"Tekshirilmoqda..."),1)]),i("div",I,[i("div",V,[a[7]||(a[7]=i("div",{class:"flex items-center"},[i("div",{class:"w-9 h-9 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg flex items-center justify-center mr-3"},[i("svg",{class:"w-5 h-5 text-emerald-600 dark:text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})])]),i("div",null,[i("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Saqlash joyi"),i("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Disk maydoni")])],-1)),i("span",{class:c(["px-2 py-1 text-xs font-medium rounded-full",ce(de.value.storage?.status)])},o(he(de.value.storage?.status)),3)]),i("p",O,o(de.value.storage?.message||"Tekshirilmoqda..."),1),de.value.storage?.used?(g(),u("div",D,[i("div",{class:c(["h-1.5 rounded-full transition-all duration-300",de.value.storage?.used>90?"bg-red-500":de.value.storage?.used>70?"bg-yellow-500":"bg-emerald-500"]),style:x(`width: ${de.value.storage?.used}%`)},null,6)])):h("",!0)]),i("div",A,[i("div",P,[a[8]||(a[8]=i("div",{class:"flex items-center"},[i("div",{class:"w-9 h-9 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center mr-3"},[i("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),i("div",null,[i("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Kesh tizimi"),i("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Redis/File cache")])],-1)),i("span",{class:c(["px-2 py-1 text-xs font-medium rounded-full",ce(de.value.cache?.status)])},o(he(de.value.cache?.status)),3)]),i("p",Q,o(de.value.cache?.message||"Tekshirilmoqda..."),1)]),i("div",E,[i("div",F,[a[9]||(a[9]=i("div",{class:"flex items-center"},[i("div",{class:"w-9 h-9 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center mr-3"},[i("svg",{class:"w-5 h-5 text-amber-600 dark:text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])]),i("div",null,[i("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Navbat tizimi"),i("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Background jobs")])],-1)),i("span",{class:c(["px-2 py-1 text-xs font-medium rounded-full",ce(de.value.queue?.status)])},o(he(de.value.queue?.status)),3)]),i("p",K,o(de.value.queue?.message||"Tekshirilmoqda..."),1)])]),i("div",N,[a[14]||(a[14]=i("div",{class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700"},[i("h3",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Tizim ma'lumotlari")],-1)),i("div",R,[i("dl",U,[i("div",Z,[a[10]||(a[10]=i("dt",{class:"text-xs text-gray-500 dark:text-gray-400"},"PHP versiya",-1)),i("dd",$,o(te.systemInfo.php_version),1)]),i("div",G,[a[11]||(a[11]=i("dt",{class:"text-xs text-gray-500 dark:text-gray-400"},"Laravel versiya",-1)),i("dd",J,o(te.systemInfo.laravel_version),1)]),i("div",W,[a[12]||(a[12]=i("dt",{class:"text-xs text-gray-500 dark:text-gray-400"},"Server vaqti",-1)),i("dd",X,o(te.systemInfo.server_time),1)]),i("div",Y,[a[13]||(a[13]=i("dt",{class:"text-xs text-gray-500 dark:text-gray-400"},"Muhit",-1)),i("dd",ee,o(te.systemInfo.environment),1)])])])])])])]),_:1},8,["title"]))}};export{te as default};

import{h as e,l as a,a as t}from"./chunk-BhZp3z4u.js";import{_ as r}from"./chunk-BDBDdGhv.js";import{a as s}from"./chunk-D7SyfRoT.js";import{r as n}from"./chunk-eMHYSAeQ.js";import{r as l}from"./chunk-CTIk0k8a.js";import{r as i}from"./chunk-Bsc1JRL5.js";import{r as o,o as d,v as c,x as u,L as g,y as m,A as p,C as k,B as x,E as y,D as h,z as b,J as v,K as f,I as j}from"./chunk-CpmtkKLp.js";import"./app-C-ZlocOh.js";import"./chunk-BWiubfpN.js";import"./chunk-CouA7u-j.js";import"./chunk-DmrwHl-6.js";import"./chunk-De_qwhex.js";import"./chunk-beXL1A--.js";import"./chunk-CAoK8Mdm.js";import"./chunk-BiBvtcLb.js";import"./chunk-DNKDGYPp.js";import"./chunk-BiW1c8q7.js";import"./chunk-dqIIyBTR.js";import"./chunk-CvscUVdi.js";import"./chunk-BvbZUszZ.js";import"./chunk-C9nNyFhC.js";import"./chunk-BYA8ViGa.js";import"./chunk-DCXiFUg-.js";import"./chunk-BuJDoypK.js";const w={class:"space-y-6"},_={class:"flex items-center justify-between"},z=["disabled"],B={key:0,class:"flex items-center justify-center py-12"},M={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},S={class:"text-red-800 dark:text-red-400"},$={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},q={class:"p-6"},A={class:"flex items-start justify-between mb-4"},C={key:0,class:"flex items-center gap-1 text-xs text-purple-600 dark:text-purple-400"},H={class:"font-semibold text-gray-900 dark:text-white mb-2"},Y={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2"},D={class:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-4"},E={class:"flex items-center gap-1"},I={key:0,class:"flex items-center gap-1"},J={key:3,class:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center shadow-sm"},K={class:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4"},L={__name:"MySurveys",props:{currentBusiness:Object},setup(L){const O=L,W=o(!0),F=o([]),G=o(""),N=async()=>{if(!O.currentBusiness?.id)return G.value="Biznes tanlanmagan",void(W.value=!1);W.value=!0,G.value="";try{const e=await t.get(`/api/v1/businesses/${O.currentBusiness.id}/hr/surveys/my-available`);F.value=e.data.data||[]}catch(e){G.value=e.response?.data?.message||"So'rovnomalarni yuklashda xatolik"}finally{W.value=!1}};return d(N),(t,o)=>(h(),c(r,{title:"Mening so'rovnomalarim"},{default:u(()=>[g(p(e),{title:"Mening so'rovnomalarim"}),m("div",w,[m("div",_,[o[1]||(o[1]=m("div",null,[m("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Mening so'rovnomalarim "),m("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Sizga tayinlangan so'rovnomalar ")],-1)),m("button",{onClick:N,disabled:W.value,class:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700"},[g(p(s),{class:y(["w-5 h-5",W.value?"animate-spin":""])},null,8,["class"]),o[0]||(o[0]=x(" Yangilash ",-1))],8,z)]),W.value?(h(),k("div",B,[g(p(s),{class:"w-8 h-8 animate-spin text-purple-600"})])):G.value?(h(),k("div",M,[m("p",S,b(G.value),1)])):F.value.length>0?(h(),k("div",$,[(h(!0),k(v,null,f(F.value,e=>{return h(),k("div",{key:e.id,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow"},[m("div",q,[m("div",A,[m("span",{class:y(["px-3 py-1 text-xs font-medium rounded-full",(t=e.type,{engagement:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",pulse:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",exit:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",onboarding:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-400","360_feedback":"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400",custom:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}[t]||"bg-gray-100 text-gray-800")])},b(e.type_label),3),e.is_anonymous?(h(),k("div",C,[g(p(n),{class:"w-4 h-4"}),o[2]||(o[2]=x(" Anonim ",-1))])):j("",!0)]),m("h3",H,b(e.title),1),e.description?(h(),k("p",Y,b(e.description),1)):j("",!0),m("div",D,[m("div",E,[g(p(l),{class:"w-4 h-4"}),x(" "+b(e.questions_count)+" savol ",1)]),e.end_date?(h(),k("div",I,[g(p(i),{class:"w-4 h-4"}),x(" "+b(e.end_date)+"gacha ",1)])):j("",!0)]),g(p(a),{href:`/hr/surveys/${e.id}/fill`,class:"block w-full text-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium transition-colors"},{default:u(()=>[...o[3]||(o[3]=[x(" So'rovnomani boshlash ",-1)])]),_:1},8,["href"])])]);var t}),128))])):(h(),k("div",J,[m("div",K,[g(p(n),{class:"w-10 h-10 text-green-600"})]),o[4]||(o[4]=m("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Hammasi bajarilgan! ",-1)),o[5]||(o[5]=m("p",{class:"text-gray-500 dark:text-gray-400"}," Hozircha sizga tayinlangan so'rovnomalar yo'q. Yangi so'rovnomalar paydo bo'lganda bu yerda ko'rinadi. ",-1))]))])]),_:1}))}};export{L as default};

import{b as e,r as t,D as s,y as l,A as a,x as o,z as r,L as i,C as n,E as c,H as d,B as u,Q as m,I as x,J as p,F as b,G as h,K as g}from"./chunk-7Urb0kxg.js";import{b as f,u as v,h as y,l as k,r as w}from"./chunk-DKkye6wf.js";import{_ as z}from"./chunk-BB8-4400.js";import{u as j}from"./app-DFslr8vl.js";import"./chunk-Dm-LAqtr.js";import"./chunk-Dg8ilgYs.js";import"./chunk-Rl16a4N0.js";import"./chunk-C1ExV0Y3.js";import"./chunk-DUcDuGHI.js";import"./chunk-C3XJH04c.js";import"./chunk-D2XW56yD.js";import"./chunk-DS-Zp4Qb.js";import"./chunk-Sfe4u6kO.js";import"./chunk-BAC6lhkp.js";import"./chunk-BugzYCIx.js";import"./chunk-ab1b1Fp4.js";import"./chunk-DhwSyUm1.js";import"./chunk-9PkX4iPz.js";import"./chunk-DOBCiesv.js";import"./chunk-YGW1Cp7-.js";import"./chunk-afst19KZ.js";import"./chunk-D4tA7yBb.js";import"./chunk-Di7Oc7TS.js";const S={class:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-12"},M={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},A={key:0,class:"mb-6 p-4 bg-green-500/20 border border-green-500/30 rounded-xl flex items-center"},C={class:"text-green-400"},_={key:1,class:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-xl flex items-center"},q={class:"text-red-400"},E={class:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8 mb-8"},B={class:"flex items-center"},P={key:0,class:"text-white font-black text-4xl"},U={key:1,class:"text-white font-black text-2xl"},O={class:"text-3xl font-bold text-white"},V={class:"text-slate-400 mt-2"},L={key:2,class:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl overflow-hidden mb-8"},Y={class:"flex border-b border-slate-700/50"},H={class:"flex items-center justify-center gap-3"},T={key:0,class:"w-2 h-2 bg-green-400 rounded-full"},K={class:"flex items-center justify-center gap-3"},F={key:0,class:"w-2 h-2 bg-green-400 rounded-full"},I={class:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl overflow-hidden mb-8"},N={key:0,class:"p-8"},X={key:0,class:"text-center py-8"},R={key:0,class:"mt-1 text-sm text-red-400"},D={key:0,class:"mt-1 text-sm text-red-400"},J={key:0,class:"mt-1 text-sm text-red-400"},Q=["disabled"],G={key:0,class:"flex items-center justify-center"},$={key:1},W={key:1},Z={class:"flex items-center justify-between mb-6"},ee={class:"flex items-center"},te={class:"text-sm text-slate-400"},se=["disabled"],le={key:0},ae={key:1},oe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},re={class:"bg-slate-700/30 rounded-xl p-4"},ie={class:"text-lg font-semibold text-white"},ne={class:"bg-slate-700/30 rounded-xl p-4"},ce={class:"flex items-center justify-between"},de=["disabled"],ue={class:"text-lg font-semibold text-teal-400"},me={class:"bg-slate-700/30 rounded-xl p-4"},xe={class:"text-lg font-semibold text-white"},pe={key:0,class:"mt-4 p-4 bg-yellow-500/20 border border-yellow-500/30 rounded-xl"},be={key:1,class:"mt-6 pt-6 border-t border-slate-700/50"},he={class:"flex items-center justify-between mb-4"},ge={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},fe={class:"text-2xl font-bold text-white"},ve={class:"text-2xl font-bold text-green-400"},ye={class:"text-2xl font-bold text-red-400"},ke={class:"bg-slate-700/30 rounded-xl p-4 text-center"},we={class:"text-2xl font-bold text-teal-400"},ze={key:1,class:"p-8"},je={key:0,class:"text-center py-8"},Se={key:0,class:"mt-1 text-sm text-red-400"},Me={key:0,class:"mt-1 text-sm text-red-400"},Ae={key:0,class:"mt-1 text-sm text-red-400"},Ce=["disabled"],_e={key:0,class:"flex items-center justify-center"},qe={key:1},Ee={key:1},Be={class:"flex items-center justify-between mb-6"},Pe={class:"flex items-center"},Ue={class:"text-sm text-slate-400"},Oe=["disabled"],Ve={key:0},Le={key:1},Ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},He={class:"bg-slate-700/30 rounded-xl p-4"},Te={class:"text-lg font-semibold text-white"},Ke={class:"bg-slate-700/30 rounded-xl p-4"},Fe={class:"text-lg font-semibold text-white"},Ie={key:0,class:"mt-6 pt-6 border-t border-slate-700/50"},Ne={class:"flex items-center justify-between mb-4"},Xe={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Re={class:"text-2xl font-bold text-white"},De={class:"text-2xl font-bold text-green-400"},Je={class:"text-2xl font-bold text-red-400"},Qe={class:"bg-slate-700/30 rounded-xl p-4 text-center"},Ge={class:"text-2xl font-bold text-orange-400"},$e={key:3,class:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl overflow-hidden"},We={class:"px-8 py-6 border-b border-slate-700/50 flex items-center justify-between"},Ze={class:"p-8"},et={key:0,class:"text-center py-8"},tt={key:1,class:"space-y-4"},st={class:"flex items-start justify-between"},lt={class:"flex-1"},at={class:"flex items-center gap-2 mb-2"},ot={class:"font-semibold text-white"},rt={class:"px-2 py-0.5 bg-slate-600 rounded text-xs text-slate-300"},it={class:"text-xs text-slate-500"},nt={class:"text-sm text-slate-400"},ct={class:"flex items-center gap-2 ml-4"},dt=["onClick"],ut=["onClick"],mt={key:4,class:"mt-8 bg-slate-800/30 rounded-xl p-6"},xt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},pt={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},bt={class:"relative inline-block px-6 py-6 overflow-hidden text-left align-bottom transition-all transform bg-slate-800 rounded-2xl shadow-xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-slate-700"},ht={class:"text-xl font-semibold text-white mb-6"},gt=["value"],ft={class:"mt-1 text-xs text-slate-500"},vt={class:"flex justify-end gap-3 pt-4"},yt={type:"submit",class:"px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-colors"},kt={__name:"Sms",props:{eskizAccount:Object,playmobileAccount:Object,templates:{type:Array,default:()=>[]},stats:Object},setup(kt){j();const wt=kt,zt=f(),jt=e(()=>zt.props.flash||{}),St=new URLSearchParams(window.location.search).get("provider"),Mt=t("playmobile"===St?"playmobile":"eskiz"===St||wt.eskizAccount?"eskiz":wt.playmobileAccount?"playmobile":"eskiz"),At=e(()=>"eskiz"===St||"playmobile"===St),Ct=t(!1),_t=t(!1),qt=t(!1),Et=t(!1),Bt=t(null),Pt=e(()=>wt.eskizAccount||wt.playmobileAccount),Ut=v({email:"",password:"",sender_name:""}),Ot=v({login:"",password:"",originator:"3700"}),Vt=v({name:"",content:"",category:"sales"}),Lt=()=>{Ct.value=!0,Ut.post(route("business.settings.sms.connect"),{onFinish:()=>{Ct.value=!1,Ut.hasErrors||Ut.reset()}})},Yt=()=>{confirm("Eskiz SMS integratsiyasini o'chirmoqchimisiz?")&&(_t.value=!0,w.post(route("business.settings.sms.disconnect"),{},{preserveScroll:!0,onFinish:()=>{_t.value=!1}}))},Ht=()=>{Ct.value=!0,Ot.post(route("business.settings.sms.playmobile.connect"),{onFinish:()=>{Ct.value=!1,Ot.hasErrors||Ot.reset()}})},Tt=()=>{confirm("PlayMobile SMS integratsiyasini o'chirmoqchimisiz?")&&(_t.value=!0,w.post(route("business.settings.sms.playmobile.disconnect"),{},{preserveScroll:!0,onFinish:()=>{_t.value=!1}}))},Kt=async()=>{qt.value=!0;try{const e=await fetch(route("business.settings.sms.refresh-balance"),{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json"}});void 0!==(await e.json()).balance&&w.reload({only:["eskizAccount"]})}catch(e){}finally{qt.value=!1}},Ft=(e=null)=>{e?(Bt.value=e,Vt.name=e.name,Vt.content=e.content,Vt.category=e.category||"sales"):(Bt.value=null,Vt.reset()),Et.value=!0},It=async()=>{const e=Bt.value?route("business.sms.templates.update",Bt.value.id):route("business.sms.templates.store"),t=Bt.value?"PUT":"POST";try{(await fetch(e,{method:t,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:Vt.name,content:Vt.content,category:Vt.category})})).ok&&(Et.value=!1,Vt.reset(),w.reload({only:["templates"]}))}catch(s){}},Nt=[{value:"sales",label:"Sotuv"},{value:"support",label:"Qo'llab-quvvatlash"},{value:"notification",label:"Bildirishnoma"},{value:"marketing",label:"Marketing"}],Xt=e=>e||"-";return(e,t)=>(c(),s(b,null,[l(a(y),{title:"SMS Sozlamalari"}),l(z,null,{default:o(()=>[r("div",S,[r("div",M,[l(a(k),{href:e.route("business.settings.index"),class:"inline-flex items-center text-slate-400 hover:text-white mb-8 transition-colors"},{default:o(()=>[...t[14]||(t[14]=[r("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),n(" Sozlamalarga qaytish ",-1)])]),_:1},8,["href"]),jt.value.success?(c(),s("div",A,[t[15]||(t[15]=r("svg",{class:"w-5 h-5 text-green-400 mr-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),r("p",C,d(jt.value.success),1)])):i("",!0),jt.value.error?(c(),s("div",_,[t[16]||(t[16]=r("svg",{class:"w-5 h-5 text-red-400 mr-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),r("p",q,d(jt.value.error),1)])):i("",!0),r("div",E,[r("div",B,[r("div",{class:u(["w-20 h-20 rounded-2xl flex items-center justify-center mr-6 shadow-lg","eskiz"===Mt.value?"bg-gradient-to-br from-teal-500 to-cyan-600":"bg-gradient-to-br from-orange-500 to-amber-600"])},["eskiz"===Mt.value?(c(),s("span",P,"E")):(c(),s("span",U,"PM"))],2),r("div",null,[r("h1",O,d("eskiz"===Mt.value?"Eskiz.uz":"PlayMobile")+" SMS ",1),r("p",V,d("eskiz"===Mt.value?"Eskiz.uz orqali SMS yuborish":"PlayMobile orqali SMS yuborish"),1)])])]),At.value?i("",!0):(c(),s("div",L,[r("div",Y,[r("button",{onClick:t[0]||(t[0]=e=>Mt.value="eskiz"),class:u(["flex-1 px-6 py-4 text-center font-medium transition-colors","eskiz"===Mt.value?"text-teal-400 border-b-2 border-teal-400 bg-slate-700/30":"text-slate-400 hover:text-white"])},[r("div",H,[r("div",{class:u(["w-7 h-7 rounded-lg flex items-center justify-center","eskiz"===Mt.value?"bg-teal-500":"bg-slate-600"])},[...t[17]||(t[17]=[r("span",{class:"text-white font-bold text-sm"},"E",-1)])],2),t[18]||(t[18]=r("span",null,"Eskiz.uz",-1)),kt.eskizAccount?(c(),s("span",T)):i("",!0)])],2),r("button",{onClick:t[1]||(t[1]=e=>Mt.value="playmobile"),class:u(["flex-1 px-6 py-4 text-center font-medium transition-colors","playmobile"===Mt.value?"text-orange-400 border-b-2 border-orange-400 bg-slate-700/30":"text-slate-400 hover:text-white"])},[r("div",K,[r("div",{class:u(["w-7 h-7 rounded-lg flex items-center justify-center","playmobile"===Mt.value?"bg-orange-500":"bg-slate-600"])},[...t[19]||(t[19]=[r("span",{class:"text-white font-bold text-[10px]"},"PM",-1)])],2),t[20]||(t[20]=r("span",null,"PlayMobile",-1)),kt.playmobileAccount?(c(),s("span",F)):i("",!0)])],2)])])),r("div",I,["eskiz"===Mt.value?(c(),s("div",N,[kt.eskizAccount?(c(),s("div",W,[r("div",Z,[r("div",ee,[t[32]||(t[32]=r("div",{class:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center mr-4"},[r("svg",{class:"w-6 h-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),r("div",null,[t[31]||(t[31]=r("p",{class:"text-lg font-semibold text-white"},"Eskiz Ulangan",-1)),r("p",te,d(kt.eskizAccount.email),1)])]),r("button",{onClick:Yt,disabled:_t.value,class:"px-4 py-2 bg-red-500/20 text-red-400 rounded-xl hover:bg-red-500/30 transition-colors disabled:opacity-50"},[_t.value?(c(),s("span",le,"Uzilmoqda...")):(c(),s("span",ae,"Uzish"))],8,se)]),r("div",oe,[r("div",re,[t[33]||(t[33]=r("p",{class:"text-sm text-slate-400 mb-1"},"Yuboruvchi",-1)),r("p",ie,d(kt.eskizAccount.sender_name),1)]),r("div",ne,[r("div",ce,[t[35]||(t[35]=r("p",{class:"text-sm text-slate-400 mb-1"},"Balans",-1)),r("button",{onClick:Kt,disabled:qt.value,class:"text-teal-400 hover:text-teal-300 disabled:opacity-50"},[(c(),s("svg",{class:u([{"animate-spin":qt.value},"w-4 h-4"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...t[34]||(t[34]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2))],8,de)]),r("p",ue,d(kt.eskizAccount.balance)+" SMS",1)]),r("div",me,[t[36]||(t[36]=r("p",{class:"text-sm text-slate-400 mb-1"},"Oxirgi yangilanish",-1)),r("p",xe,d(Xt(kt.eskizAccount.last_sync_at)),1)])]),kt.eskizAccount.token_valid?i("",!0):(c(),s("div",pe,[...t[37]||(t[37]=[r("div",{class:"flex items-center"},[r("svg",{class:"w-5 h-5 text-yellow-400 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),r("p",{class:"text-yellow-400"},"Token muddati tugagan. Iltimos, qayta ulaning.")],-1)])])),kt.stats?(c(),s("div",be,[r("div",he,[t[39]||(t[39]=r("h3",{class:"text-lg font-semibold text-white"},"SMS Statistikasi (30 kun)",-1)),l(a(k),{href:e.route("business.sms.history"),class:"text-teal-400 hover:text-teal-300 text-sm"},{default:o(()=>[...t[38]||(t[38]=[n(" Batafsil ko'rish ",-1)])]),_:1},8,["href"])]),r("div",ge,[l(a(k),{href:e.route("business.sms.history"),class:"bg-slate-700/30 rounded-xl p-4 text-center hover:bg-slate-700/50 transition-colors"},{default:o(()=>[r("p",fe,d(kt.stats.total_sent),1),t[40]||(t[40]=r("p",{class:"text-sm text-slate-400"},"Yuborilgan",-1))]),_:1},8,["href"]),l(a(k),{href:e.route("business.sms.history",{status:"delivered"}),class:"bg-slate-700/30 rounded-xl p-4 text-center hover:bg-slate-700/50 transition-colors"},{default:o(()=>[r("p",ve,d(kt.stats.delivered),1),t[41]||(t[41]=r("p",{class:"text-sm text-slate-400"},"Yetkazilgan",-1))]),_:1},8,["href"]),l(a(k),{href:e.route("business.sms.history",{status:"failed"}),class:"bg-slate-700/30 rounded-xl p-4 text-center hover:bg-slate-700/50 transition-colors"},{default:o(()=>[r("p",ye,d(kt.stats.failed),1),t[42]||(t[42]=r("p",{class:"text-sm text-slate-400"},"Xatolik",-1))]),_:1},8,["href"]),r("div",ke,[r("p",we,d(kt.stats.delivery_rate)+"%",1),t[43]||(t[43]=r("p",{class:"text-sm text-slate-400"},"Yetkazish %",-1))])])])):i("",!0)])):(c(),s("div",X,[t[27]||(t[27]=r("div",{class:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6"},[r("svg",{class:"w-10 h-10 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})])],-1)),t[28]||(t[28]=r("h3",{class:"text-xl font-semibold text-white mb-2"},"Eskiz ulanmagan",-1)),t[29]||(t[29]=r("p",{class:"text-slate-400 mb-8 max-w-md mx-auto"}," Eskiz.uz - O'zbekistondagi eng mashhur SMS gateway xizmati. ",-1)),r("form",{onSubmit:m(Lt,["prevent"]),class:"max-w-md mx-auto text-left space-y-4"},[r("div",null,[t[21]||(t[21]=r("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Email",-1)),x(r("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a(Ut).email=e),type:"email",required:"",placeholder:"email@example.com",class:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500"},null,512),[[p,a(Ut).email]]),a(Ut).errors.email?(c(),s("p",R,d(a(Ut).errors.email),1)):i("",!0)]),r("div",null,[t[22]||(t[22]=r("label",{class:"block text-sm font-medium text-slate-300 mb-2"},[n(" API Kalit (Secret Key) "),r("span",{class:"text-slate-500 font-normal ml-1"},"- sayt paroli emas!")],-1)),x(r("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>a(Ut).password=e),type:"password",required:"",placeholder:"API kalitingizni kiriting",class:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500"},null,512),[[p,a(Ut).password]]),t[23]||(t[23]=r("p",{class:"mt-1 text-xs text-slate-500"},[r("a",{href:"https://my.eskiz.uz/settings/api",target:"_blank",class:"text-teal-400 hover:text-teal-300"},"Eskiz kabinetingiz"),n(" dan API kalitini oling ")],-1)),a(Ut).errors.password?(c(),s("p",D,d(a(Ut).errors.password),1)):i("",!0)]),r("div",null,[t[24]||(t[24]=r("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Yuboruvchi nomi (Sender ID) ",-1)),x(r("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>a(Ut).sender_name=e),type:"text",required:"",maxlength:"11",placeholder:"KOMPANIYA",class:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 uppercase"},null,512),[[p,a(Ut).sender_name]]),t[25]||(t[25]=r("p",{class:"mt-1 text-xs text-slate-500"},"Maks 11 belgi, faqat lotin harflari va raqamlar",-1)),a(Ut).errors.sender_name?(c(),s("p",J,d(a(Ut).errors.sender_name),1)):i("",!0)]),r("button",{type:"submit",disabled:Ct.value||a(Ut).processing,class:"w-full py-3 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-semibold rounded-xl hover:from-teal-600 hover:to-cyan-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},[Ct.value||a(Ut).processing?(c(),s("span",G,[...t[26]||(t[26]=[r("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n(" Ulanmoqda... ",-1)])])):(c(),s("span",$,"Eskiz'ga Ulanish"))],8,Q)],32),t[30]||(t[30]=r("p",{class:"mt-6 text-sm text-slate-500"},[r("a",{href:"https://eskiz.uz",target:"_blank",class:"text-teal-400 hover:text-teal-300"},"eskiz.uz"),n(" da ro'yxatdan o'ting ")],-1))]))])):i("",!0),"playmobile"===Mt.value?(c(),s("div",ze,[kt.playmobileAccount?(c(),s("div",Ee,[r("div",Be,[r("div",Pe,[t[54]||(t[54]=r("div",{class:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center mr-4"},[r("svg",{class:"w-6 h-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),r("div",null,[t[53]||(t[53]=r("p",{class:"text-lg font-semibold text-white"},"PlayMobile Ulangan",-1)),r("p",Ue,d(kt.playmobileAccount.login),1)])]),r("button",{onClick:Tt,disabled:_t.value,class:"px-4 py-2 bg-red-500/20 text-red-400 rounded-xl hover:bg-red-500/30 transition-colors disabled:opacity-50"},[_t.value?(c(),s("span",Ve,"Uzilmoqda...")):(c(),s("span",Le,"Uzish"))],8,Oe)]),r("div",Ye,[r("div",He,[t[55]||(t[55]=r("p",{class:"text-sm text-slate-400 mb-1"},"Originator",-1)),r("p",Te,d(kt.playmobileAccount.originator),1)]),r("div",Ke,[t[56]||(t[56]=r("p",{class:"text-sm text-slate-400 mb-1"},"Oxirgi yangilanish",-1)),r("p",Fe,d(Xt(kt.playmobileAccount.last_sync_at)),1)])]),kt.stats?(c(),s("div",Ie,[r("div",Ne,[t[58]||(t[58]=r("h3",{class:"text-lg font-semibold text-white"},"SMS Statistikasi (30 kun)",-1)),l(a(k),{href:e.route("business.sms.history"),class:"text-orange-400 hover:text-orange-300 text-sm"},{default:o(()=>[...t[57]||(t[57]=[n(" Batafsil ko'rish ",-1)])]),_:1},8,["href"])]),r("div",Xe,[l(a(k),{href:e.route("business.sms.history"),class:"bg-slate-700/30 rounded-xl p-4 text-center hover:bg-slate-700/50 transition-colors"},{default:o(()=>[r("p",Re,d(kt.stats.total_sent),1),t[59]||(t[59]=r("p",{class:"text-sm text-slate-400"},"Yuborilgan",-1))]),_:1},8,["href"]),l(a(k),{href:e.route("business.sms.history",{status:"delivered"}),class:"bg-slate-700/30 rounded-xl p-4 text-center hover:bg-slate-700/50 transition-colors"},{default:o(()=>[r("p",De,d(kt.stats.delivered),1),t[60]||(t[60]=r("p",{class:"text-sm text-slate-400"},"Yetkazilgan",-1))]),_:1},8,["href"]),l(a(k),{href:e.route("business.sms.history",{status:"failed"}),class:"bg-slate-700/30 rounded-xl p-4 text-center hover:bg-slate-700/50 transition-colors"},{default:o(()=>[r("p",Je,d(kt.stats.failed),1),t[61]||(t[61]=r("p",{class:"text-sm text-slate-400"},"Xatolik",-1))]),_:1},8,["href"]),r("div",Qe,[r("p",Ge,d(kt.stats.delivery_rate)+"%",1),t[62]||(t[62]=r("p",{class:"text-sm text-slate-400"},"Yetkazish %",-1))])])])):i("",!0)])):(c(),s("div",je,[t[49]||(t[49]=r("div",{class:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6"},[r("svg",{class:"w-10 h-10 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})])],-1)),t[50]||(t[50]=r("h3",{class:"text-xl font-semibold text-white mb-2"},"PlayMobile ulanmagan",-1)),t[51]||(t[51]=r("p",{class:"text-slate-400 mb-8 max-w-md mx-auto"}," PlayMobile (smsxabar.uz) - O'zbekiston bo'ylab SMS jo'natish xizmati. ",-1)),r("form",{onSubmit:m(Ht,["prevent"]),class:"max-w-md mx-auto text-left space-y-4"},[r("div",null,[t[44]||(t[44]=r("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Login",-1)),x(r("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>a(Ot).login=e),type:"text",required:"",placeholder:"Login",class:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500"},null,512),[[p,a(Ot).login]]),a(Ot).errors.login?(c(),s("p",Se,d(a(Ot).errors.login),1)):i("",!0)]),r("div",null,[t[45]||(t[45]=r("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Parol",-1)),x(r("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>a(Ot).password=e),type:"password",required:"",placeholder:"Parol",class:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500"},null,512),[[p,a(Ot).password]]),a(Ot).errors.password?(c(),s("p",Me,d(a(Ot).errors.password),1)):i("",!0)]),r("div",null,[t[46]||(t[46]=r("label",{class:"block text-sm font-medium text-slate-300 mb-2"}," Originator (Yuboruvchi raqami) ",-1)),x(r("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>a(Ot).originator=e),type:"text",required:"",maxlength:"20",placeholder:"3700",class:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500"},null,512),[[p,a(Ot).originator]]),t[47]||(t[47]=r("p",{class:"mt-1 text-xs text-slate-500"},"PlayMobile dan berilgan originator",-1)),a(Ot).errors.originator?(c(),s("p",Ae,d(a(Ot).errors.originator),1)):i("",!0)]),r("button",{type:"submit",disabled:Ct.value||a(Ot).processing,class:"w-full py-3 bg-gradient-to-r from-orange-500 to-amber-600 text-white font-semibold rounded-xl hover:from-orange-600 hover:to-amber-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},[Ct.value||a(Ot).processing?(c(),s("span",_e,[...t[48]||(t[48]=[r("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n(" Ulanmoqda... ",-1)])])):(c(),s("span",qe,"PlayMobile'ga Ulanish"))],8,Ce)],32),t[52]||(t[52]=r("p",{class:"mt-6 text-sm text-slate-500"},[r("a",{href:"https://playmobile.uz",target:"_blank",class:"text-orange-400 hover:text-orange-300"},"playmobile.uz"),n(" da ro'yxatdan o'ting ")],-1))]))])):i("",!0)]),Pt.value?(c(),s("div",$e,[r("div",We,[t[63]||(t[63]=r("h2",{class:"text-xl font-semibold text-white"},"SMS Shablonlari",-1)),r("button",{onClick:t[8]||(t[8]=e=>Ft()),class:"px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-colors text-sm font-medium"}," + Yangi shablon ")]),r("div",Ze,[0===kt.templates.length?(c(),s("div",et,[...t[64]||(t[64]=[r("svg",{class:"w-12 h-12 text-slate-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),r("p",{class:"text-slate-400"},"Hali shablonlar yaratilmagan",-1)])])):(c(),s("div",tt,[(c(!0),s(b,null,h(kt.templates,e=>{return c(),s("div",{key:e.id,class:"bg-slate-700/30 rounded-xl p-4"},[r("div",st,[r("div",lt,[r("div",at,[r("h4",ot,d(e.name),1),r("span",rt,d((l=e.category,Nt.find(e=>e.value===l)?.label||l)),1),r("span",it,d(e.usage_count)+" marta",1)]),r("p",nt,d(e.content),1)]),r("div",ct,[r("button",{onClick:t=>Ft(e),class:"p-2 text-slate-400 hover:text-white transition-colors"},[...t[65]||(t[65]=[r("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,dt),r("button",{onClick:t=>(async e=>{if(confirm(`"${e.name}" shablonini o'chirmoqchimisiz?`))try{(await fetch(route("business.sms.templates.destroy",e.id),{method:"DELETE",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json"}})).ok&&w.reload({only:["templates"]})}catch(t){}})(e),class:"p-2 text-slate-400 hover:text-red-400 transition-colors"},[...t[66]||(t[66]=[r("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ut)])])]);var l}),128))]))])])):i("",!0),Pt.value?(c(),s("div",mt,[...t[67]||(t[67]=[r("h3",{class:"text-sm font-semibold text-slate-300 mb-3"},"Shablon o'zgaruvchilari:",-1),r("div",{class:"flex flex-wrap gap-2"},[r("code",{class:"px-2 py-1 bg-slate-700 rounded text-teal-400 text-sm"},"{name}"),r("span",{class:"text-slate-500 text-sm"},"- Lead ismi"),r("code",{class:"px-2 py-1 bg-slate-700 rounded text-teal-400 text-sm"},"{phone}"),r("span",{class:"text-slate-500 text-sm"},"- Telefon"),r("code",{class:"px-2 py-1 bg-slate-700 rounded text-teal-400 text-sm"},"{company}"),r("span",{class:"text-slate-500 text-sm"},"- Kompaniya"),r("code",{class:"px-2 py-1 bg-slate-700 rounded text-teal-400 text-sm"},"{email}"),r("span",{class:"text-slate-500 text-sm"},"- Email")],-1)])])):i("",!0)])]),Et.value?(c(),s("div",xt,[r("div",pt,[r("div",{class:"fixed inset-0 transition-opacity bg-slate-900/75",onClick:t[9]||(t[9]=e=>Et.value=!1)}),r("div",bt,[r("h3",ht,d(Bt.value?"Shablonni tahrirlash":"Yangi shablon"),1),r("form",{onSubmit:m(It,["prevent"]),class:"space-y-4"},[r("div",null,[t[68]||(t[68]=r("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Nomi",-1)),x(r("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>a(Vt).name=e),type:"text",required:"",placeholder:"Shablon nomi",class:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500"},null,512),[[p,a(Vt).name]])]),r("div",null,[t[69]||(t[69]=r("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Kategoriya",-1)),x(r("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>a(Vt).category=e),class:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white focus:border-teal-500 focus:ring-1 focus:ring-teal-500"},[(c(),s(b,null,h(Nt,e=>r("option",{key:e.value,value:e.value},d(e.label),9,gt)),64))],512),[[g,a(Vt).category]])]),r("div",null,[t[70]||(t[70]=r("label",{class:"block text-sm font-medium text-slate-300 mb-2"},"Matn",-1)),x(r("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>a(Vt).content=e),required:"",rows:"4",maxlength:"1600",placeholder:"SMS matni...",class:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 resize-none"},null,512),[[p,a(Vt).content]]),r("p",ft,d(a(Vt).content.length)+" / 1600",1)]),r("div",vt,[r("button",{type:"button",onClick:t[13]||(t[13]=e=>Et.value=!1),class:"px-4 py-2 bg-slate-700 text-slate-300 rounded-xl hover:bg-slate-600 transition-colors"}," Bekor qilish "),r("button",yt,d(Bt.value?"Saqlash":"Yaratish"),1)])],32)])])])):i("",!0)]),_:1})],64))}};export{kt as default};

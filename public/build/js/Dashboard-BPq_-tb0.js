import{b as S,D as n,E as a,z as e,L as p,H as r,B as _,A as x,S as A,F as M,G as C,v as I,N as z,C as $,r as b,w as V,o as R,I as Y,K as F,y as Q,x as J}from"./chunk-BcTZxe-J.js";import{l as G,a as W}from"./chunk-BYRtWSr0.js";import{u as X}from"./chunk-D-7na0JC.js";import{u as Z}from"./chunk-DcZYSArq.js";import{u as E}from"./app-CncQRLgv.js";import{_ as ee}from"./chunk-DlAUqK2U.js";import"./chunk-C1xeNfMu.js";const te={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow"},se={class:"flex items-center justify-between mb-4"},re={class:"flex items-center gap-3"},ae={class:"text-3xl"},oe={class:"text-sm font-medium text-gray-600"},le={key:0,class:"flex items-center gap-1"},ne={key:0,class:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ie={key:1,class:"w-4 h-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},de={class:"mb-4"},ce={class:"text-3xl font-bold text-gray-900 mb-1"},ue={class:"text-sm text-gray-500"},ge={class:"mb-3"},me={class:"flex items-center justify-between text-xs text-gray-600 mb-1"},ve={class:"w-full bg-gray-200 rounded-full h-2 overflow-hidden"},pe={class:"flex items-center gap-2"},ye={__name:"SummaryCard",props:{icon:{type:String,required:!0},name:{type:String,required:!0},value:{type:String,required:!0},target:{type:String,required:!0},performancePercent:{type:Number,required:!0},performanceStatus:{type:String,required:!0},performanceColor:{type:String,required:!0},changePercent:{type:Number,default:null}},setup(i){const{t:g}=E(),o=i,c=S(()=>({green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"})[o.performanceColor]||"bg-gray-500"),l=S(()=>({green:"bg-green-100 text-green-800",yellow:"bg-yellow-100 text-yellow-800",red:"bg-red-100 text-red-800"})[o.performanceColor]||"bg-gray-100 text-gray-800"),v=S(()=>o.changePercent>0?"text-green-600":o.changePercent<0?"text-red-600":"text-gray-600");return(y,d)=>(a(),n("div",te,[e("div",se,[e("div",re,[e("div",ae,r(i.icon),1),e("h3",oe,r(i.name),1)]),i.changePercent!==null?(a(),n("div",le,[i.changePercent>0?(a(),n("svg",ne,[...d[0]||(d[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"},null,-1)])])):i.changePercent<0?(a(),n("svg",ie,[...d[1]||(d[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"},null,-1)])])):p("",!0),e("span",{class:_([v.value,"text-sm font-medium"])},r(Math.abs(i.changePercent))+"% ",3)])):p("",!0)]),e("div",de,[e("div",ce,r(i.value),1),e("div",ue,r(x(g)("kpi.target"))+": "+r(i.target),1)]),e("div",ge,[e("div",me,[e("span",null,r(i.performanceStatus),1),e("span",null,r(i.performancePercent)+"%",1)]),e("div",ve,[e("div",{class:_([c.value,"h-2 rounded-full transition-all duration-500"]),style:A({width:`${Math.min(i.performancePercent,100)}%`})},null,6)])]),e("div",pe,[e("span",{class:_([l.value,"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(i.performanceStatus),3)])]))}},he=["width","height"],be=["d","stroke"],xe=["cx","cy","fill"],fe={__name:"Sparkline",props:{data:{type:Array,default:()=>[]},width:{type:Number,default:80},height:{type:Number,default:24},color:{type:String,default:"#6366f1"},showDot:{type:Boolean,default:!0}},setup(i){const g=i,o=S(()=>{if(!g.data||g.data.length===0)return[];const l=g.data.map(f=>(typeof f=="object"?f.value:f)||0),v=Math.min(...l),d=Math.max(...l)-v||1,h=4,k=g.width-h*2,w=g.height-h*2;return l.map((f,B)=>({x:h+B/(l.length-1||1)*k,y:h+w-(f-v)/d*w}))}),c=S(()=>o.value.length<2?"":o.value.map((l,v)=>`${v===0?"M":"L"}${l.x},${l.y}`).join(" "));return(l,v)=>(a(),n("svg",{width:i.width,height:i.height,class:"overflow-visible"},[o.value.length>1?(a(),n("path",{key:0,d:c.value,fill:"none",stroke:i.color,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,be)):p("",!0),i.showDot&&o.value.length>0?(a(),n("circle",{key:1,cx:o.value[o.value.length-1].x,cy:o.value[o.value.length-1].y,r:"3",fill:i.color},null,8,xe)):p("",!0)],8,he))}},_e={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},ke={class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},we={class:"text-lg font-semibold text-gray-900"},$e={key:0,class:"text-sm text-gray-500 mt-1"},Se={class:"overflow-x-auto"},Me={class:"bg-gray-100 px-6 py-3 border-b border-gray-200"},Ce={class:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},Be={class:"min-w-full divide-y divide-gray-200"},Pe={class:"bg-gray-50"},Ie={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},je={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},qe={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},De={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Ke={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ze={class:"bg-white divide-y divide-gray-200"},Ae={class:"px-6 py-4 whitespace-nowrap"},Ee={class:"flex items-center gap-3"},He={class:"text-xl"},Le={class:"text-sm font-medium text-gray-900"},Ne={key:0,class:"text-xs text-gray-500"},Te={class:"px-6 py-4 whitespace-nowrap"},Oe={class:"text-sm font-semibold text-gray-900"},Ue={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"text-sm text-gray-600"},Re={class:"px-6 py-4 whitespace-nowrap"},Ye={class:"flex flex-col gap-2"},Fe={class:"w-32 bg-gray-200 rounded-full h-1.5"},Qe={class:"px-6 py-4 whitespace-nowrap"},Je={class:"flex items-center gap-2"},Ge={key:1,class:"text-xs text-gray-400"},We={__name:"KpiTable",props:{title:{type:String,required:!0},subtitle:{type:String,default:null},sections:{type:Array,required:!0}},setup(i){const{t:g}=E(),o=l=>({green:"bg-green-100 text-green-800",yellow:"bg-yellow-100 text-yellow-800",red:"bg-red-100 text-red-800"})[l]||"bg-gray-100 text-gray-800",c=l=>({green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"})[l]||"bg-gray-500";return(l,v)=>(a(),n("div",_e,[e("div",ke,[e("h2",we,r(i.title),1),i.subtitle?(a(),n("p",$e,r(i.subtitle),1)):p("",!0)]),e("div",Se,[(a(!0),n(M,null,C(i.sections,y=>(a(),n("div",{key:y.name,class:"border-b border-gray-200 last:border-b-0"},[e("div",Me,[e("h3",Ce,r(y.name),1)]),e("table",Be,[e("thead",Pe,[e("tr",null,[e("th",Ie,r(x(g)("kpi.kpi")),1),e("th",je,r(x(g)("kpi.current")),1),e("th",qe,r(x(g)("kpi.target")),1),e("th",De,r(x(g)("kpi.status")),1),e("th",Ke,r(x(g)("kpi.trend")),1)])]),e("tbody",ze,[(a(!0),n(M,null,C(y.rows,d=>(a(),n("tr",{key:d.kpi_code,class:"hover:bg-gray-50 transition-colors"},[e("td",Ae,[e("div",Ee,[e("span",He,r(d.icon),1),e("div",null,[e("div",Le,r(d.name),1),d.description?(a(),n("div",Ne,r(d.description),1)):p("",!0)])])]),e("td",Te,[e("div",Oe,r(d.current_value),1)]),e("td",Ue,[e("div",Ve,r(d.target_value),1)]),e("td",Re,[e("div",Ye,[e("span",{class:_([o(d.performance_color),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium w-fit"])},r(d.performance_status)+" ("+r(d.performance_percent)+"%) ",3),e("div",Fe,[e("div",{class:_([c(d.performance_color),"h-1.5 rounded-full transition-all duration-300"]),style:A({width:`${Math.min(d.performance_percent,100)}%`})},null,6)])])]),e("td",Qe,[e("div",Je,[d.trend_data&&d.trend_data.length>0?(a(),I(fe,{key:0,data:d.trend_data,color:d.performance_color,class:"w-20 h-10"},null,8,["data","color"])):(a(),n("span",Ge,"N/A"))])])]))),128))])])]))),128))])]))}},Xe={class:"space-y-6 animate-pulse"},Ze={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},et={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},tt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},st={class:"bg-white rounded-lg shadow-sm border border-gray-200"},rt={class:"p-6 space-y-4"},at={__name:"LoadingSkeleton",setup(i){return(g,o)=>(a(),n("div",Xe,[o[6]||(o[6]=z('<div class="flex items-center justify-between" data-v-b79805bf><div class="space-y-2" data-v-b79805bf><div class="h-8 bg-gray-200 rounded w-64" data-v-b79805bf></div><div class="h-4 bg-gray-200 rounded w-48" data-v-b79805bf></div></div><div class="flex gap-3" data-v-b79805bf><div class="h-10 bg-gray-200 rounded w-32" data-v-b79805bf></div><div class="h-10 bg-gray-200 rounded w-24" data-v-b79805bf></div></div></div>',1)),e("div",Ze,[(a(),n(M,null,C(4,c=>e("div",{key:c,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},[...o[0]||(o[0]=[z('<div class="flex items-center justify-between mb-4" data-v-b79805bf><div class="h-6 bg-gray-200 rounded w-24" data-v-b79805bf></div><div class="h-6 bg-gray-200 rounded w-12" data-v-b79805bf></div></div><div class="space-y-2" data-v-b79805bf><div class="h-8 bg-gray-200 rounded w-32" data-v-b79805bf></div><div class="h-4 bg-gray-200 rounded w-24" data-v-b79805bf></div></div><div class="mt-4" data-v-b79805bf><div class="h-2 bg-gray-200 rounded w-full" data-v-b79805bf></div></div>',3)])])),64))]),e("div",et,[o[2]||(o[2]=e("div",{class:"h-6 bg-gray-200 rounded w-32 mb-4"},null,-1)),e("div",tt,[(a(),n(M,null,C(3,c=>e("div",{key:c,class:"text-center space-y-2"},[...o[1]||(o[1]=[e("div",{class:"h-10 bg-gray-200 rounded w-16 mx-auto"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-24 mx-auto"},null,-1)])])),64))]),o[3]||(o[3]=e("div",{class:"mt-6 space-y-2"},[e("div",{class:"h-4 bg-gray-200 rounded w-full"}),e("div",{class:"h-3 bg-gray-200 rounded w-full"})],-1))]),e("div",st,[o[5]||(o[5]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("div",{class:"h-6 bg-gray-200 rounded w-48"})],-1)),e("div",rt,[(a(),n(M,null,C(5,c=>e("div",{key:c,class:"flex items-center gap-4"},[...o[4]||(o[4]=[e("div",{class:"h-4 bg-gray-200 rounded flex-1"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-24"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-24"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-20"},null,-1)])])),64))])])]))}},ot=ee(at,[["__scopeId","data-v-b79805bf"]]),lt={class:"bg-white rounded-lg shadow-sm border border-red-200 p-12 text-center"},nt={class:"text-lg font-semibold text-gray-900 mb-2"},it={class:"text-gray-600 mb-6 max-w-md mx-auto"},dt={class:"flex items-center justify-center gap-3"},ct={key:0,class:"mt-6 text-left"},ut={class:"bg-red-50 rounded-lg p-4 text-sm"},gt={class:"cursor-pointer font-medium text-red-800 mb-2"},mt={class:"text-xs text-red-700 overflow-auto"},vt={__name:"ErrorState",props:{title:{type:String,default:null},message:{type:String,default:null},errorDetails:{type:[String,Object],default:null},showSupport:{type:Boolean,default:!0}},emits:["retry","contact-support"],setup(i){const{t:g}=E(),o=S(()=>!1);return(c,l)=>(a(),n("div",lt,[l[4]||(l[4]=e("div",{class:"text-6xl mb-4"},"âš ï¸",-1)),e("h3",nt,r(i.title||x(g)("kpi.error_occurred")),1),e("p",it,r(i.message||x(g)("kpi.error_loading_data")),1),e("div",dt,[e("button",{onClick:l[0]||(l[0]=v=>c.$emit("retry")),class:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},[l[2]||(l[2]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),$(" "+r(x(g)("kpi.retry")),1)]),i.showSupport?(a(),n("button",{key:0,onClick:l[1]||(l[1]=v=>c.$emit("contact-support")),class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},[l[3]||(l[3]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),$(" "+r(x(g)("kpi.get_help")),1)])):p("",!0)]),i.errorDetails&&o.value?(a(),n("div",ct,[e("details",ut,[e("summary",gt,r(x(g)("kpi.error_details"))+" (Developer Mode) ",1),e("pre",mt,r(i.errorDetails),1)])])):p("",!0)]))}},pt={class:"space-y-6"},yt={class:"flex items-center justify-between"},ht={class:"flex items-center gap-3 mb-2"},bt={key:0,class:"text-3xl"},xt={class:"text-sm text-gray-500"},ft={class:"font-medium"},_t={key:0,class:"text-xs text-gray-400 mt-1"},kt={class:"flex items-center gap-3"},wt={key:0,class:"text-xs text-gray-500 mr-2"},$t=["disabled"],St=["disabled"],Mt=["disabled"],Ct={key:2},Bt={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"},Pt={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},It={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},jt={class:"text-center"},qt={class:"text-3xl font-bold text-green-600 mb-1"},Dt={class:"text-center"},Kt={class:"text-3xl font-bold text-yellow-600 mb-1"},zt={class:"text-center"},At={class:"text-3xl font-bold text-red-600 mb-1"},Et={class:"mt-6"},Ht={class:"flex items-center justify-between text-sm text-gray-600 mb-2"},Lt={class:"font-semibold"},Nt={class:"w-full bg-gray-200 rounded-full h-3"},Tt={key:3,class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-sm border border-blue-200 p-6 mt-6"},Ot={class:"space-y-3"},Ut={class:"flex items-start gap-3"},Vt={class:"flex-1"},Rt={class:"font-medium text-gray-900 mb-1"},Yt={class:"text-sm text-gray-600"},Ft={key:4,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},Qt={class:"flex items-center justify-center gap-3"},ss={__name:"Dashboard",setup(i){const g=X(),o=Z(),c=b(!0),l=b(null),v=b(30),y=b([]),d=b(null),h=b(null),k=b([]),w=b(""),f=b(""),B=b(""),j=b(""),q=b(null),D=S(()=>g.currentBusiness?.id||null),P=async(u=!1)=>{if(!D.value){l.value={title:"Biznes Tanlanmagan",message:"Iltimos, avval biznesingizni tanlang.",action:"select-business"},c.value=!1;return}c.value=!0,l.value=null;try{const t=await W.get("/api/kpi-dashboard",{params:{business_id:D.value,days:v.value}}),s=t.data.data||t.data;if(!s)throw new Error("Ma'lumot topilmadi");y.value=s.summary_cards||[],d.value=s.kpi_table||{sections:[]},h.value=s.performance_overview||null,k.value=s.recommendations||[],q.value=new Date,s.business?(B.value=s.business.name||"Biznes",w.value=s.business.industry_name||"Umumiy Biznes",f.value=s.business.industry_icon||"ðŸ“Š",j.value=s.business.category||s.business.original_industry||""):w.value=s.industry_name||"Biznes",u&&o.success("Ma'lumotlar muvaffaqiyatli yangilandi")}catch(t){console.error("Failed to load KPI dashboard:",t),l.value={title:"Xatolik Yuz Berdi",message:t.response?.data?.message||t.message||"KPI ma'lumotlarini yuklashda xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.",details:null},o.error(l.value.message)}finally{c.value=!1}},H=()=>{l.value=null,P(!0)};V(D,(u,t)=>{u&&u!==t&&P()});const L=u=>u>=80?"bg-green-500":u>=60?"bg-yellow-500":"bg-red-500",N=u=>({Yuqori:"bg-red-100 text-red-800","O'rta":"bg-yellow-100 text-yellow-800",Past:"bg-blue-100 text-blue-800"})[u]||"bg-gray-100 text-gray-800",T=u=>{if(!u)return"";const s=Math.floor((new Date-u)/1e3);if(s<60)return`${s} soniya oldin`;if(s<3600)return`${Math.floor(s/60)} daqiqa oldin`;if(s<86400)return`${Math.floor(s/3600)} soat oldin`;const m=u.getHours().toString().padStart(2,"0"),K=u.getMinutes().toString().padStart(2,"0");return`${m}:${K}`},O=async()=>{try{o.info("Eksport tayyorlanmoqda...");const u={business:B.value,industry:w.value,period:`${v.value} kun`,summary_cards:y.value,kpi_table:d.value,performance_overview:h.value,recommendations:k.value,exported_at:new Date().toISOString()},t=U(u),s=new Blob([t],{type:"text/csv;charset=utf-8;"}),m=document.createElement("a"),K=URL.createObjectURL(s);m.setAttribute("href",K),m.setAttribute("download",`kpi-dashboard-${B.value}-${new Date().toISOString().split("T")[0]}.csv`),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m),o.success("Eksport muvaffaqiyatli amalga oshirildi")}catch(u){console.error("Export error:",u),o.error("Eksport qilishda xatolik yuz berdi")}},U=u=>{let t=`KPI Boshqaruv Paneli - ${u.business}
`;return t+=`Soha: ${u.industry}
`,t+=`Davr: ${u.period}
`,t+=`Eksport vaqti: ${new Date().toLocaleString()}

`,t+=`UMUMIY KO'RSATKICHLAR
`,t+=`KPI,Joriy Qiymat,Maqsad,Bajarilish %,Holat
`,u.summary_cards.forEach(s=>{t+=`"${s.name}","${s.value}","${s.target}",${s.performance_percent},"${s.performance_status}"
`}),t+=`
`,t+=`BATAFSIL KPI'LAR
`,u.kpi_table.sections?.forEach(s=>{t+=`
${s.name}
`,t+=`KPI,Joriy,Maqsad,Bajarilish %,Holat
`,s.rows?.forEach(m=>{t+=`"${m.name}","${m.current_value}","${m.target_value}",${m.performance_percent},"${m.performance_status}"
`})}),t};return R(()=>{P()}),(u,t)=>(a(),n("div",pt,[e("div",yt,[e("div",null,[e("div",ht,[f.value?(a(),n("span",bt,r(f.value),1)):p("",!0),t[4]||(t[4]=e("h1",{class:"text-2xl font-bold text-gray-900"},"KPI Boshqaruv Paneli",-1))]),e("p",xt,[e("span",ft,r(B.value),1),$(" - "+r(w.value),1)]),j.value?(a(),n("p",_t," Kategoriya: "+r(j.value),1)):p("",!0)]),e("div",kt,[q.value&&!c.value?(a(),n("div",wt," Yangilangan: "+r(T(q.value)),1)):p("",!0),Y(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),onChange:t[1]||(t[1]=()=>P(!0)),disabled:c.value,class:"rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"},[...t[5]||(t[5]=[e("option",{value:"7"},"Oxirgi 7 kun",-1),e("option",{value:"30"},"Oxirgi 30 kun",-1),e("option",{value:"90"},"Oxirgi 90 kun",-1)])],40,$t),[[F,v.value]]),e("button",{onClick:O,disabled:c.value||!y.value.length,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Excel formatida eksport qilish"},[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),$(" Eksport ",-1)])],8,St),e("button",{onClick:t[2]||(t[2]=()=>P(!0)),disabled:c.value,class:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[(a(),n("svg",{class:_([{"animate-spin":c.value},"w-4 h-4 mr-2"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),$(" "+r(c.value?"Yuklanmoqda...":"Yangilash"),1)],8,Mt)])]),c.value?(a(),I(ot,{key:0})):l.value?(a(),I(vt,{key:1,title:l.value.title,message:l.value.message,"error-details":l.value.details,onRetry:H,onContactSupport:()=>{}},null,8,["title","message","error-details"])):(a(),n("div",Ct,[y.value.length>0?(a(),n("div",Bt,[(a(!0),n(M,null,C(y.value,s=>(a(),I(ye,{key:s.kpi_code,icon:s.icon,name:s.name,value:s.value,target:s.target,"performance-percent":s.performance_percent,"performance-status":s.performance_status,"performance-color":s.performance_color,"change-percent":s.change_percent},null,8,["icon","name","value","target","performance-percent","performance-status","performance-color","change-percent"]))),128))])):p("",!0),h.value?(a(),n("div",Pt,[t[12]||(t[12]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Umumiy Holat",-1)),e("div",It,[e("div",jt,[e("div",qt,r(h.value.on_track_count),1),t[8]||(t[8]=e("div",{class:"text-sm text-gray-600"},"Rejadagi KPI",-1))]),e("div",Dt,[e("div",Kt,r(h.value.needs_attention_count),1),t[9]||(t[9]=e("div",{class:"text-sm text-gray-600"},"E'tibor Talab Qiladi",-1))]),e("div",zt,[e("div",At,r(h.value.critical_count),1),t[10]||(t[10]=e("div",{class:"text-sm text-gray-600"},"Kritik Holat",-1))])]),e("div",Et,[e("div",Ht,[t[11]||(t[11]=e("span",null,"Umumiy Foiz",-1)),e("span",Lt,r(h.value.overall_percentage)+"%",1)]),e("div",Nt,[e("div",{class:_([L(h.value.overall_percentage),"h-3 rounded-full transition-all duration-500"]),style:A({width:`${h.value.overall_percentage}%`})},null,6)])])])):p("",!0),d.value&&d.value.sections&&d.value.sections.length>0?(a(),I(We,{key:2,title:"Barcha KPI Ko'rsatkichlari",subtitle:`${d.value.sections.reduce((s,m)=>s+m.rows.length,0)} ta ko'rsatkich`,sections:d.value.sections},null,8,["subtitle","sections"])):p("",!0),k.value&&k.value.length>0?(a(),n("div",Tt,[t[13]||(t[13]=e("div",{class:"flex items-center gap-3 mb-4"},[e("div",{class:"text-3xl"},"ðŸ’¡"),e("h2",{class:"text-lg font-semibold text-gray-900"},"AI Tavsiyalari")],-1)),e("div",Ot,[(a(!0),n(M,null,C(k.value,(s,m)=>(a(),n("div",{key:m,class:"bg-white rounded-lg p-4 shadow-sm"},[e("div",Ut,[e("div",{class:_([N(s.priority),"px-2.5 py-0.5 rounded-full text-xs font-medium mt-1"])},r(s.priority),3),e("div",Vt,[e("div",Rt,r(s.kpi_name),1),e("p",Yt,r(s.message),1)])])]))),128))])])):p("",!0),!y.value.length&&!c.value&&!l.value?(a(),n("div",Ft,[t[16]||(t[16]=e("div",{class:"text-6xl mb-4"},"ðŸ“Š",-1)),t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"KPI Ma'lumotlari Topilmadi",-1)),t[18]||(t[18]=e("p",{class:"text-gray-600 mb-6 max-w-md mx-auto"}," Biznesingiz uchun KPI ma'lumotlari hali yuklanmagan. Integratsiyalarni ulang yoki KPI'larni qo'lda kiriting. ",-1)),e("div",Qt,[Q(x(G),{href:"/business/settings",class:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},{default:J(()=>[...t[14]||(t[14]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),$(" Integratsiyalarni Ulash ",-1)])]),_:1}),e("button",{onClick:t[3]||(t[3]=()=>P(!0)),class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},[...t[15]||(t[15]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),$(" Qayta Urinish ",-1)])])]),t[19]||(t[19]=z('<div class="mt-8 pt-6 border-t border-gray-200"><p class="text-sm text-gray-500 mb-3">Yordam kerakmi?</p><div class="flex items-center justify-center gap-4 text-sm"><a href="#" class="text-primary-600 hover:text-primary-700 font-medium"> ðŸ“š Qo&#39;llanma </a><a href="#" class="text-primary-600 hover:text-primary-700 font-medium"> ðŸŽ¥ Video Ko&#39;rsatma </a><a href="#" class="text-primary-600 hover:text-primary-700 font-medium"> ðŸ’¬ Qo&#39;llab-quvvatlash </a></div></div>',1))])):p("",!0)]))]))}};export{ss as default};
